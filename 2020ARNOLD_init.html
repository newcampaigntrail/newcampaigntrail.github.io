campaignTrail_temp.global_parameter_json = [
    {
        "model": "campaign_trail.global_parameter",
        "pk": 1,
        "fields": {
            "vote_variable": 1.125,
            "max_swing": 0.12,
            "start_point": 0.94,
            "candidate_issue_weight": 10,
            "running_mate_issue_weight": 3,
            "issue_stance_1_max": -0.71,
            "issue_stance_2_max": -0.3,
            "issue_stance_3_max": -0.125,
            "issue_stance_4_max": 0.125,
            "issue_stance_5_max": 0.3,
            "issue_stance_6_max": 0.71,
            "global_variance": 0.01,
            "state_variance": 0.005,
            "question_count": 25,
            "default_map_color_hex": "#C9C9C9",
            "no_state_map_color_hex": "#999999"
        }
    }
]

campaignTrail_temp.election_json = [
    {
        "model": "campaign_trail.election",
        "pk": 20,
        "fields": {
            "year": 2016,
            "summary": "<p>Over the last four years, Arnold Schwarzenegger has been in the White House as the first President to test the 28th Amendment passed in 2014, outlawing the natural-born requirement to run for President of the United States. He has been responsible for leading the country through some of America's most tumultuous times in recent years: A global pandemic and massive social unrest caused by the death of George Floyd. President Schwarzenegger's moderate, bipartisan agenda has proved to be quite popular among everyone except hardcore progressives and conservatives.<p><p>Can Arnold Schwarzenegger win the White House for another four-year term? Or can Ohio Representative Tim Ryan pull off the upset thanks to the populist movements and become the 46th President of the United States?</p>",
            "image_url": "https://i.imgur.com/0EpYul6.png",
            "winning_electoral_vote_number": 270,
            "advisor_url": "https://i.imgur.com/qU7rUoZ.png",
            "recommended_reading": "<div style='overflow-y:scroll;height:370px;'><h4 style=’margin-top: 0.5em;’></h4><h4>Canon Map</h4><p><img src=’https://ibb.co/511JZv2’ width=’450px’><br><br></p><h4>Note from Modder</h4><p>I just want to thank all of you for enjoying this mod, as much as I have making this. This is officially the end of the Arnold Schwarzenegger trilogy, starting with the 2003 California Recall Election, then the 2016 Arnold Amendment Redux, and now this mod. On a personal note, Arnold Schwarzenegger is my favorite actor because he was the Governor of my state of California, and he is a pretty funny guy. I also like him as a politician, since he is a sensible-enough Republican for my tolerance in spite of being very supportive of George W. Bush in 2004. But for now, there are currently two sides to this mod, and the Trump side should be coming in April 2024 at some point, so stay tuned for that. After that, I'll be taking a bit of a break from modding to get past my high school graduation. But stay tuned for any future projects and announcements from Environmental_Cap104. Thanks, everyone! <br><br>",
            "has_visits": 1,
            "no_electoral_majority_image": "https://www.jetsimon.com/public/static/images/2012-no-majority.jpg",
            "creator": "Dan Bryan",
            "display_year": "2020ARNOLD"
        }
    }
]

campaignTrail_temp.candidate_json = [
    {
        "model": "campaign_trail.candidate",
        "pk": 200,
        "fields": {
            "first_name": "Arnold",
            "last_name": "Schwarzenegger",
            "election": 20,
            "party": "Republican",
            "state": "California",
            "priority": 1,
            "description": "<p>Arnold Schwarzenegger, the incumbent President of the United States, has had quite a four years. He took office in 2017, becoming the first naturalized citizen to be President thanks to the 28th Amendment, and the country has been through a lot since. Arnold has been responsible for soon to be three Supreme Court appointments, a historic global pandemic, and huge protests and riots around the world caused by the death of George Floyd.<p><p>As a moderate, Arnold Schwarzenegger has been opposed by the more extreme fringes of the political spectrum, leading to a primary challenge from businessman Donald Trump. Nevertheless, the President is quite popular due to his responses to the COVID-19 pandemic and the Black Lives Matter protests. Therefore, he is initially leading in the polling. Can Arnold fight the Republican opposition and rally Americans around the flag to win this election in a similar manner to four years ago, or will Tim Ryan terminate him to become the 46th President of the United States? </p>",
            "color_hex": "#E10508",
            "secondary_color_hex": "#FFA0A0",
            "is_active": 1,
            "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/a/af/Arnold_Schwarzenegger_by_Gage_Skidmore_4.jpg/330px-Arnold_Schwarzenegger_by_Gage_Skidmore_4.jpg",
            "electoral_victory_message": "",
            "electoral_loss_message": "",
            "no_electoral_majority_message": "<h3>When 2020 couldn't get any crazier, it does.</h3><p>For the first time since 1824, the electoral college has been deadlocked. One of two things happened here: You and Tim Ryan each got 269 electoral votes, or Donald Trump somehow won a few states and deadlocked the electoral college.<p><p>However, considering that Congress is in your favor, you will likely be re-elected... unless Donald Trump endorses Tim Ryan. Then it could be Judgment Day for you. </p>",
            "description_as_running_mate": "'",
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 201,
        "fields": {
            "first_name": "Tim",
            "last_name": "Ryan",
            "election": 20,
            "party": "Democrat",
            "state": "Ohio",
            "priority": 2,
            "description": "<p>After a divisive primary between him, Roy Cooper, Pete Buttigieg, and others, Tim Ryan has won the 2020 Democratic nomination with the goal of defeating President Schwarzenegger. Tim Ryan was able to present himself as a moderate between the establishment and populist wings of the party in order to win the nomination.<p><p>However, he has a lot of hurdles ahead of him if he wants to win the presidency. President Schwarzenegger's responses to the COVID-19 pandemic and the BLM protests have been quite popular among the general electorate, hence creating a \"rally around the flag\" situation in this election. He is also a Congressman, which some may say isn't experienced enough to be President. For those reasons and others, Tim Ryan is the underdog in this election as of now, but there is plenty of time for him to change that. </p>",
            "color_hex": "#0000E6",
            "secondary_color_hex": "#90C0FF",
            "is_active": 1,
            "image_url": "https://upload.wikimedia.org/wikipedia/commons/thumb/9/92/Tim_Ryan_portrait.jpg/330px-Tim_Ryan_portrait.jpg",
            "electoral_victory_message": "",
            "electoral_loss_message": "",
            "no_electoral_majority_message": "",
            "description_as_running_mate": "'",
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 202,
        "fields": {
            "first_name": "Donald",
            "last_name": "Trump",
            "election": 20,
            "party": "America First",
            "state": "Florida",
            "priority": 3,
            "description": "<p>Donald Trump just can’t stop trying. Four years ago, he got second place in the Republican primaries, falling behind the current President Arnold Schwarzenegger. After calling the primary results \”rigged and stolen\”, he has opposed President Schwarzenegger ever since he won the nomination in 2016. Four years later in 2020, he would challenge the President in the primaries again, losing even worse but still pulling out a few states.<p><p>After losing the primaries for the second time in a row, Donald Trump started a third-party candidacy similar to Mike Huckabee’s four years ago, running a right-wing populist campaign. Most think he has no chance to win the general election, but could Donald Trump deadlock the Electoral College and defy all odds? Can he push Ohio Representative Tim Ryan over the top thanks to the vote splitting in the Republican Party? Or will Donald Trump remain a sore loser like he has over the last four years?</p>",
            "color_hex": "#c200db",
            "secondary_color_hex": "#FFFFC0",
            "is_active": 0,
            "image_url": "https://upload.wikimedia.org/wikipedia/commons/7/70/Donald_Trump_October_2020.jpg",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "'",
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": 203,
        "fields": {
            "first_name": "Howie",
            "last_name": "Hawkins",
            "election": 20,
            "party": "Green",
            "state": "New York",
            "priority": 4,
            "description": "'",
            "color_hex": "#00b300",
            "secondary_color_hex": "#A1FFA1",
            "is_active": 0,
            "image_url": "https://upload.wikimedia.org/wikipedia/commons/0/08/Howie_Hawkins.jpg",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "'",
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": "204",
        "fields": {
            "first_name": "Lindsey",
            "last_name": "Graham",
            "election": 20,
            "party": "Republican",
            "state": "South Carolina",
            "priority": 1,
            "description": "<p>Put description here</p>",
            "color_hex": "#b80000",
            "secondary_color_hex": null,
            "is_active": 0,
            "image_url": "https://i.imgur.com/9rIREaP.png",
            "electoral_victory_message": "This guy wins!",
            "electoral_loss_message": "This guy loses!",
            "no_electoral_majority_message": "We all win?",
            "description_as_running_mate": "<p>Lindsey Graham is the incumbent Vice President of the United States. He has worked alongside President Schwarzenegger vigorously for the last four years, fighting for a more inclusive Republican Party and working to get social conservatives behind the more liberal Schwarzenegger. Graham would be a safe pick for the Vice Presidency, and most would find it foolish for President Schwarzenegger to drop Lindsey Graham, considering his national popularity, especially in South Carolina and the critical Southeast corridor. He could be crucial in fighting off a third-party challenge from Donald Trump, similar to Mike Huckabee's candidacy four years ago.</p>",
            "candidate_score": 1,
            "running_mate": true
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": "209",
        "fields": {
            "first_name": "Roy",
            "last_name": "Cooper",
            "election": 20,
            "party": "Democrat",
            "state": "North Carolina",
            "priority": 1,
            "description": "<p>Put description here</p>",
            "color_hex": "#0000FF",
            "secondary_color_hex": null,
            "is_active": 0,
            "image_url": "https://i.imgur.com/h2uhPgm.png",
            "electoral_victory_message": "This guy wins!",
            "electoral_loss_message": "This guy loses!",
            "no_electoral_majority_message": "We all win?",
            "description_as_running_mate": "<p>Roy Cooper has served as the Governor of North Carolina since 2017, after defeating the controversial Republican Governor Pat McCrory. Prior to that, he was the Attorney General there since 2001. He was also Tim Ryan's strongest rival in the primaries. Also, North Carolina is expected to be a contentious state in this election, and the selection of Roy Cooper could give Tim Ryan a huge boost there, as well as in the other Southeastern battleground states. <p><p>As much as Roy Cooper can double down on a moderate campaign and unify the party after a divisive primary, he could dishearten many Democrats who were hoping for Tim Ryan to choose a minority and/or a woman to be Vice President, considering the scale of the Black Lives Matter movement. </p>",
            "candidate_score": 1,
            "running_mate": true
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": "210",
        "fields": {
            "first_name": "Pete",
            "last_name": "Buttigieg",
            "election": 20,
            "party": "Democrat",
            "state": "Indiana",
            "priority": 1,
            "description": "<p>Put description here</p>",
            "color_hex": "#0000FF",
            "secondary_color_hex": null,
            "is_active": 0,
            "image_url": "https://cdn.britannica.com/06/221506-050-EDDDCB0C/Democratic-presidential-candidate-Pete-Buttigieg-2020.jpg",
            "electoral_victory_message": "This guy wins!",
            "electoral_loss_message": "This guy loses!",
            "no_electoral_majority_message": "We all win?",
            "description_as_running_mate": "<p>Pete Buttigieg has served as Mayor of South Bend, Indiana since 2012, and would be the first openly gay Vice President of the United States if elected. He was also one of Tim Ryan's biggest rivals in the Democratic primaries, and a VP slot could really help Ryan unify the party after such a divisive primary.<p><p>There could be a lot of concerns surrounding a Buttigieg Vice Presidency, considering his sexuality, lack of experience, and he may not do enough to balance the Democratic ticket. Not to mention, many progressives were hoping for a minority and/or a woman to be the Vice Presidential nominee this year. Nevertheless, if Ryan wants to double down on the battleground Midwest and bring the party together, Pete Buttigieg could be a good choice, even though his home state of Indiana is not expected to go for Ryan this year. </p>",
            "candidate_score": 1,
            "running_mate": true
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": "211",
        "fields": {
            "first_name": "Kamala",
            "last_name": "Harris",
            "election": 20,
            "party": "Democrat",
            "state": "California",
            "priority": 1,
            "description": "<p>Put description here</p>",
            "color_hex": "#0000FF",
            "secondary_color_hex": null,
            "is_active": 0,
            "image_url": "https://i.imgur.com/wLm3n1y.png",
            "electoral_victory_message": "This guy wins!",
            "electoral_loss_message": "This guy loses!",
            "no_electoral_majority_message": "We all win?",
            "description_as_running_mate": "<p>Kamala Harris has served as a Senator from California since 2017, taking over Barbara Boxer's seat after she retired. She was also one of Tim Ryan's rivals in the primaries, even though she dropped out right after the Iowa caucuses. Kamala Harris is the preferred choice of the Democratic establishment, considering she is a black woman, which could appease progressives after the BLM protests, and could secure President Schwarzenegger's home state for the Democrats. She is also quite charismatic, and can reach out to both progressives and moderate Democrats, similar to Tim Ryan. </p>",
            "candidate_score": 1,
            "running_mate": true
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": "212",
        "fields": {
            "first_name": "Amy",
            "last_name": "Klobuchar",
            "election": 20,
            "party": "Democrat",
            "state": "Minnesota",
            "priority": 1,
            "description": "<p>Put description here</p>",
            "color_hex": "#0000FF",
            "secondary_color_hex": null,
            "is_active": 0,
            "image_url": "https://pbs.twimg.com/profile_images/1220222507715686400/sugRph6d_400x400.jpg",
            "electoral_victory_message": "This guy wins!",
            "electoral_loss_message": "This guy loses!",
            "no_electoral_majority_message": "We all win?",
            "description_as_running_mate": "<p>Amy Klobuchar has served Minnesota in the Senate since 2007. She was a candidate in the Democratic primaries, dropping out after New Hampshire. She would be a good choice if Tim Ryan wants to bring the two factions of the Democratic Party together, as she has appeal to both moderates and progressives. Not to mention, Minnesota and the rest of the Midwest is crucial in this election, and Klobuchar can give Tim Ryan a huge boost there. She would also be the first female Vice President if elected, which could excite female voters and progressives, even though many were hoping for a minority woman to be Vice President.</p>",
            "candidate_score": 1,
            "running_mate": true
        }
    },
    {
        "model": "campaign_trail.candidate",
        "pk": "213",
        "fields": {
            "first_name": "Chris",
            "last_name": "Murphy",
            "election": 20,
            "party": "Democrat",
            "state": "Connecticut",
            "priority": 1,
            "description": "<p>Put description here</p>",
            "color_hex": "#0000FF",
            "secondary_color_hex": null,
            "is_active": 0,
            "image_url": "https://i.imgur.com/PBje4Yk.png",
            "electoral_victory_message": "This guy wins!",
            "electoral_loss_message": "This guy loses!",
            "no_electoral_majority_message": "We all win?",
            "description_as_running_mate": "<p>Chris Murphy has served Connecticut in the Senate since 2013, after being a Congressman there for 6 years prior. He is a strong progressive who can help Tim Ryan appeal to Bernie Sanders's supporters. He can also give a huge boost in his home state of Connecticut, where Schwarzenegger got too close for comfort in 2016 for the Democrats.<p><p>Murphy's strongest issues are on gun control and healthcare, and these issues are very important to progressives and the Democratic Party in general. He is also quite young and charismatic, which could help the ticket in some regards. However, some Democrats, especially minorities, were hoping for a minority and/or a woman to be on the ticket this year.",
            "candidate_score": 1,
            "running_mate": true
        }
    }
]

campaignTrail_temp.running_mate_json = [
    {
        "model": "campaign_trail.running_mate",
        "pk": 139593,
        "fields": {
            "candidate": 200,
            "running_mate": "204"
        }
    },
    {
        "model": "campaign_trail.running_mate",
        "pk": 128783,
        "fields": {
            "candidate": 201,
            "running_mate": "209"
        }
    },
    {
        "model": "campaign_trail.running_mate",
        "pk": 107917,
        "fields": {
            "candidate": 201,
            "running_mate": "210"
        }
    },
    {
        "model": "campaign_trail.running_mate",
        "pk": 84137,
        "fields": {
            "candidate": 201,
            "running_mate": "211"
        }
    },
    {
        "model": "campaign_trail.running_mate",
        "pk": 127235,
        "fields": {
            "candidate": 201,
            "running_mate": "212"
        }
    },
    {
        "model": "campaign_trail.running_mate",
        "pk": 176044,
        "fields": {
            "candidate": 201,
            "running_mate": "213"
        }
    }
]

campaignTrail_temp.credits = "Environmental_Cap104"

campaignTrail_temp.opponents_default_json = [
    {
        "election": 20,
        "candidates": [
            200,
            201,
            202,
            203
        ]
    }
]

campaignTrail_temp.opponents_weighted_json = [
    {
        "election": 20,
        "candidates": [
            200,
            201,
            202,
            203
        ]
    }
]

campaignTrail_temp.temp_election_list = [
    {
        "id": 20,
        "year": 2016,
        "is_premium": 0,
        "display_year": "2020ARNOLD"
    }
]

jet_data = {
    "headerColor": "#700016",
    "windowColor": "#a80000",
    "containerColor": "#0062FF",
    "innerWindowColor": "#a30000",
    "bannerImageUrl": "https://matrix.redditspace.com/_matrix/media/r0/download/reddit.com/c1hkhki64iic1",
    "backgroundImageUrl": "https://i.imgur.com/nEuoLnS.png",
    "endingTextColor": "#000000"
}


//#startcode



nct_stuff.themes[nct_stuff.selectedTheme].coloring_title = "#700016";

nct_stuff.themes[nct_stuff.selectedTheme].coloring_window = "#a80000";

document.getElementsByClassName("game_header")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_title;

$("#game_window")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_window;

$(".container")[0].style.backgroundColor = "#0062FF";

document.getElementById("header").src = "https://matrix.redditspace.com/_matrix/media/r0/download/reddit.com/c1hkhki64iic1";

document.body.background = "https://i.imgur.com/nEuoLnS.png";

document.head.innerHTML += "<style>#results_container {color:#000000;} .inner_window_w_desc {background-color:#a30000!important;}</style>";

//#endcode

HistHexcolour=["#d60000","#0000d1","#b000e0","#00b31e"];
        HistName=["Arnold Schwarzenegger","Tim Ryan","Donald Trump", "Howie Hawkins"];
        HistEV=[304,234,0,0];
        HistPV=["71,550,772","66,326,932","18,837,482","1,582,982"];
        HistPVP=["45.2%","41.9%","11.9%","1.0%"];
var changeGameDisp = (hide) => {
  disp = "";
  if (hide) {
    disp = "none";
  }
  document.getElementsByClassName("inner_window_w_desc")[0].style.display = disp
};

e.creditsPage = () => {
  credits_html = `
    <h3>Coding</h3>
    <p>Environmental_Cap104</p>
    <h3>Writing</h3>
    <p>Environmental_Cap104</p>
    <h3>Misc.</h3>
    <p>DecstarG for the Music Player</p>
    <p>Banner - u/thecupojo3</p>
    <h3>Music Credit</h3>
    <p>Luke Million - Ice Ice Arnie</p>
    <p>Total Recall - The Dream</p>
    <p>JibJab.com - 2020 Year in Review</p>
    <p>ELO - Mr. Blue Sky</p>
    <p>Journey - Only the Young</p>
    <p>Survivor - Eye of the Tiger</p>
    <p>Lee Greenwood - God Bless the U.S.A.</p>
    <p>Natasha Owens - Trump Won</p>
    <p>Beck - Loser</p><br><br>
  `
  changeGameDisp(true);
  var spacer = document.createElement("amongusspacerthisisntarealelement");
  spacer.innerHTML = "&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;";
  document
    .getElementsByClassName("inner_window_w_desc")[0]
    .children[1].appendChild(spacer);
    changeGameDisp(true);
    var menuHeader = document.createElement("div");
    menuHeader.classList.add("inner_window_front");
    menuHeader.innerHTML = `<h1 style='font-family: "Times New Roman";'><font color='#0496f7'>Credits</font></h1>`;
    menuHeader.id = "SOTUheader";
    menuHeader.style = "height: 50px;background-color:#2d2d2d";
    var newMenu = document.createElement("div");
    newMenu.classList.add("inner_window_front");
    newMenu.id = "SOTUmenu";
    newMenu.style = `height:260px;background-color:#2d2d2d;color:white;overflow-y: scroll;`;

    newMenu.innerHTML = credits_html;
    let z = document.getElementById("game_window");
    var backButton = document.createElement("button");
    backButton.style =
      "position: relative; bottom: -13px; left: -380px; width: 150px; height: 80px;font-size:40px;padding-top:5px;padding-left:8px";
    backButton.id = "backSOTUBtn";
    backButton.innerHTML = `<b>BACK</b>`;
    backButton.onclick = function () {
      document.getElementById("SOTUheader").remove();
      document.getElementById("SOTUmenu").remove();
      document.getElementById("backSOTUBtn").remove();
      changeGameDisp(false);
    };
    z.appendChild(menuHeader);
    z.appendChild(newMenu);
    z.appendChild(backButton);

}

e.credits = "<button onclick='e.creditsPage()'>Credits</button>"


// Initialise custom music

$("#music_player")[0].children[0].style.display="none"
$("#music_player")[0].children[1].style.display="none"

document.getElementById("modLoadReveal").style.display="none"
document.getElementById("modloaddiv").style.display="none"

musicBox = document.getElementById("music_player")
musicBox.style.display=""

var trackSel;
e = campaignTrail_temp
e.selectedSoundtrack = 0

toTime = (seconds) => {
  var date = new Date(null);
  date.setSeconds(seconds);
  return date.toISOString().substr(11, 8);
}

generateTime = () => {
    // Get the audio element
    var audio = document.getElementById("campaigntrailmusic");

    timeTracker = document.createElement("div");
    timeTracker.style = `
      text-align:left;
      border-style:solid;
      border-width:3px;
      height:150px;
      width:200px;
      background-color:#999999;
      float:right;
      padding: 10px;
    `
    $("#trackSelParent")[0].prepend(timeTracker);
    $("#trackSelParent")[0].prepend(document.createElement("br"));

    // Create a new element to display the current position of the audio
    var positionDisplay = document.createElement("gg");
    positionDisplay.id = "position-display";

    // Create a new slider element to change the time
    var timeSlider = document.createElement("input");
    timeSlider.type = "range";
    timeSlider.min = 0;
    timeSlider.max = 1;
    timeSlider.step = 0.001;
    timeSlider.value = 0;
    timeSlider.style.width = "200px";
    timeSlider.id = "time-slider";

    var pausePlay = document.createElement("button");
    pausePlay.id = "position-display";
    pausePlay.innerHTML = "<b>Pause</b>"
    pausePlay.style.width = "100%";


    pausePlay.addEventListener("click", event => {
      event.preventDefault();
      updatePositionDisplay();
      let audio = document.getElementById("campaigntrailmusic");
      if (audio.paused) {
        audio.play();
        event.target.innerHTML = "<b>Pause</b>";
        return;
      }
      audio.pause();
      event.target.innerHTML = "<b>Play</b>";
      return;
    })

    var volumeLabel = document.createElement("gg");
    volumeLabel.id = "volume-label";
    volumeLabel.innerHTML = "<br><b>Volume: </b>"

    var volumeSlider = document.createElement("input");
    volumeSlider.type = "range";
    volumeSlider.min = 0;
    volumeSlider.max = 1;
    volumeSlider.step = 0.001;
    volumeSlider.value = 0;
    volumeSlider.style.width = "200px";
    volumeSlider.id = "volume-slider";

    volumeSlider.value = audio.volume;

    timeTracker.appendChild(pausePlay);
    timeTracker.appendChild(document.createElement("br"));
    timeTracker.appendChild(document.createElement("br"));
    timeTracker.appendChild(positionDisplay);
    timeTracker.appendChild(timeSlider);
    timeTracker.appendChild(volumeLabel);
    timeTracker.appendChild(volumeSlider);

    updatePositionDisplay();

    //for (let i = 0; i < 10; i++)
    //timeTracker.append(document.createElement("br"));


    // Function to update the position display
    function updatePositionDisplay() {
      positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";
      timeSlider.value = audio.duration ? audio.currentTime / audio.duration : 0;
    }

    // Function to change the time of the audio
    function changeTime() {
      positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";
      audio.currentTime = timeSlider.value * audio.duration;
    }

    updateVolume = event => {
      audio.volume = event.target.value;
    }
    
    // Update the position display and slider every second
    setInterval(updatePositionDisplay, 1000);

    // Listen for changes to the time slider and change the time of the audio
    timeSlider.addEventListener("input", changeTime);
    volumeSlider.addEventListener("input", updateVolume)
}

function newMusicPlayer() {
  trackSel = document.createElement("div");
  trackSel.id = "trackSelParent"
  let z = `<br><br><br><br><br><br><br><br><br><br><div id='trackSel' style="text-align:left;border-style:solid;border-width:3px;overflow-y: scroll;overflow-x: hidden;height:200px; width:400px;background-color:#999999;float:right;">`
  z += `<b><select id='selectSoundtrack'><option value='`+soundtracks[e.selectedSoundtrack].name+`'>`+soundtracks[e.selectedSoundtrack].name+"</option>"
  for (i in soundtracks) {
    if (soundtracks[e.selectedSoundtrack] != soundtracks[i]) {
      z += `<option value='`+soundtracks[i].name+`'>`+soundtracks[i].name+`</option>`
    }
  }
  z += `</select></b><br><br>`
  // <label><input type="radio" name="option" value="option1">Option 1</label><br>
  for (i in soundtracks[e.selectedSoundtrack].tracklist) {
    let a = soundtracks[e.selectedSoundtrack].tracklist[i]
    let b = `<label><input class="trackSelector" type="radio" name="trackSelector" value="`+i+`">`+a.name+`</label><br>`
    z += b
  }
  z += "</div><br><br>"
  trackSel.innerHTML = z

  // select correct song

  musicBox.appendChild(trackSel);
  Array.from(document.getElementById("trackSel").children).filter(f=>{
    return f.tagName == "LABEL"
  }).map(f=>f.children[0])[0].checked = true

  // set soundtrack changer

  soundtrackSelector = document.getElementById("selectSoundtrack")
  soundtrackSelector.onchange = function() {
    for (i in soundtracks) {
      if (soundtracks[i].name == soundtrackSelector.value) {
        e.selectedSoundtrack = i
        break
      }
    }
    document.getElementById("trackSelParent").remove()
    newMusicPlayer()
  }

  var matches = document.querySelectorAll('.trackSelector');

  for (match in matches) {
    matches[match].onchange = function() {
      audio = $("#campaigntrailmusic")[0];
      audio.src = soundtracks[e.selectedSoundtrack].tracklist[this.value].url
      audio.currentTime = 0
    }
  }

  musicBox.children[2].loop = false
  musicBox.children[2].src = soundtracks[e.selectedSoundtrack].tracklist[0].url

  musicBox.children[2].onended = function() {
    console.log("next track")
    let selected = Number(document.querySelector('input[name="trackSelector"]:checked').value);
    let newSel = clamp(selected+1, soundtracks[e.selectedSoundtrack].tracklist.length-1, 0)
    let buttons = Array.from(document.getElementById("trackSel").children).filter(f=>{
      return f.tagName == "LABEL"
    }).map(f=>f.children[0])
    //let selectedIndex = buttons.map(f=>f.children[0]).map(f=>f.checked)
    buttons[newSel].click()
  }

  for (w = 0; w < 7; w++) {
    document.getElementById("trackSelParent").appendChild(document.createElement("br"))
  }
  
  generateTime();
}

clamp = function(a, max, min, overflow=true) {
  if (overflow) {
    return a > max ? min : a < min ? max : a;
  }
  return a > max ? max : a < min ? min : a;
}


// Track list

var soundtracks = {
  0: {
    name: "Re-Elect the Presidator",
    tracklist: [
      {
        "name": "Luke Million - Ice Ice Arnie",
        "url": "https://audio.jukehost.co.uk/sAGoHrEQmr1o9wJF6RYoLzGGMyKvKCFV"
      },
      {
        "name": "Total Recall - The Dream",
        "url": "https://audio.jukehost.co.uk/kWbmMrfU0Gn9VYeTjk1rOuOeDUI0xg6l"
      },
      {
        "name": "JibJab.com - 2020 Year in Review",
        "url": "https://audio.jukehost.co.uk/APnsBN4zOp6cHOcdvD5UptBPJrUnYWOO"
      },
    ]
  },
  1: {
    name: "An Ass-Kicker for President",
    tracklist: [
      {
        "name": "ELO - Mr. Blue Sky",
        "url": "https://audio.jukehost.co.uk/Sz2n65YlDGPwJ5MyH0qDC0LaxKNPN0Y1"
      },
      {
        "name": "Journey - Only the Young",
        "url": "https://audio.jukehost.co.uk/S3G8L7k4hgclchm2rDcHAjXcLefpLWfl"
      },
      {
        "name": "Survivor - Eye of the Tiger",
        "url": "https://audio.jukehost.co.uk/eWbh7eAz4x3YVlvyxH61SeY8jK15uy0K"
      },
    ]
  },
  2: {
    name: "Stop the Steal",
    tracklist: [
      {
        "name": "Lee Greenwood - God Bless the U.S.A.",
        "url": "https://audio.jukehost.co.uk/m4nyXGWdocf366oV0n1u0bpScTXLpK3W"
      },
      {
        "name": "Trump Won - Natasha Owens",
        "url": "https://audio.jukehost.co.uk/fvXjl2WyaoBZiZwnWCH94yKACB6EXBfD"
      },
      {
        "name": "Beck - Loser",
        "url": "https://audio.jukehost.co.uk/yjJynSWNJPfncyJOz1rVafy9dXdgL2K7"
      },
    ]
  }
}

// Set up new music player

newMusicPlayer()

RecReading=true
