//Code1 

campaignTrail_temp.election_json = [
    {
        "model": "campaign_trail.election",
        "pk": 4,
        "fields": {
            "year": 1968,
            "display_year": "1968 - All The Way",
            "summary": "<strong>It’s 1968, a 'Year of continuous nightmare,'</strong> and the United States stands at an impasse.</p>The nation has faced challenges before, but as a war-weary country limps into January, the national spirit is sinking into a growing state of despair. With hundreds of thousands of young men serving in the rice fields of Vietnam and millions more Americans back home growing increasingly anxious about race relations, President Lyndon B. Johnson faces a tough re-election bid.</p><p>One he intends to fight—and win.</p>With his party fracturing, his legislative agenda under threat, and the streets filling with the rage of the discontented masses, can he somehow overcome these crises and go <strong><u><span style='color:darkred; text-shadow: 0px 0px 8px white, 0px 0px 10px lightblue;'>ALL THE WAY</span></u></strong>…</p>",
            "image_url": "https://i.imgur.com/8cO8vzi.gif",
            "winning_electoral_vote_number": 270,
            "advisor_url": "https://i.imgur.com/8XGMdBl.gif",
            "recommended_reading": "<ul>\n<li>LBJ's 1968: Power, Politics and the Presidency in America's Year of Upheaval - Kyle Longley</li>\n<li>1968: The Election That Changed America - Lewis Gould</li>\n<li>Nixonland:The Rise of a President and the Fracturing of America - Rick Perlstein</li>\n<li>The Vietnam War - Ken Burns</li>\n<li>The LBJ Tapes</li>\n<li>The Robert Caro LBJ Tetralogy</li>\n<li>Vietnam - Max Hastings</li>\n<li>Flawed Giant : Lyndon Johnson and His Times - Robert Dallek</li></ul>",
            "has_visits": 1,
            "no_electoral_majority_image": "../static/images/2012-no-majority.jpg"
        }
    }
]

campaignTrail_temp.temp_election_list = [
    {
        "id": 4,
        "year": 1968,
        "is_premium": 0,
        "display_year": "1968 - All The Way"
        
    }
]

campaignTrail_temp.modBoxTheme = {
  "header_color": "#004771",
  "header_text_color": "#f5f3f4",
  "header_image_url": "https://i.imgur.com/pLWOxRR.png",
  "description_text_color": "#FFFFFF",
  "description_background_color": "#00090f",
  "main_color": "#00090f",
  "secondary_color": "#7b7b7b",
  "ui_text_color": "#FFFFFF"
}

jet_data = {
  "headerColor": "#004771",
  "windowColor": "#e2dedc",
  "containerColor": "#2d4443",
  "innerWindowColor": "#dfdfd9",
  "bannerImageUrl": "https://i.imgur.com/pLWOxRR.png",
  "backgroundImageUrl": "https://imgur.com/CH5WNG0",
  "gameTitle": "All The Way"
}

campaignTrail_temp.credits = "<button onclick='credits()'>I Heath &</button>"

credits = function() {
  credits = [ "I Heath aka Thatchmaster : Lead", "Writing Help: Halligan Elysium, Ctaccount, QuoProQuid", "Coding Help: Mango", "And many, many, others along the way."]
  text = "CREDITS:\n\n"
  for (i in credits) {
      text += credits[i] + "\n"
  }
  alert(text)
}

campaignTrail_temp.global_parameter_json = [
    {
        "model": "campaign_trail.global_parameter",
        "pk": 1,
        "fields": {
            "vote_variable": 1.125,
            "max_swing": 0.12,
            "start_point": 0.94,
            "candidate_issue_weight": 10,
            "running_mate_issue_weight": 3,
            "issue_stance_1_max": -0.71,
            "issue_stance_2_max": -0.3,
            "issue_stance_3_max": -0.125,
            "issue_stance_4_max": 0.125,
            "issue_stance_5_max": 0.3,
            "issue_stance_6_max": 0.71,
            "global_variance": 0.01,
            "state_variance": 0.005,
            "question_count": 30,
            "default_map_color_hex": "#C9C9C9",
            "no_state_map_color_hex": "#999999"
        }
    }
]

campaignTrail_temp.candidate_json = [
    {
        "model": "campaign_trail.candidate",
        "pk": 23,
        "fields": {
            "first_name": "Lyndon B.",
            "last_name": "Johnson",
            "election": 4,
            "party": "Democratic",
            "state": "Texas",
            "priority": 1,
            "description": "<div style=\"max-height: 200px; overflow-y: auto;\"><p><b style=\"font-size: 1.2em;\"><strong>President Johnson</strong></b> had hoped for better circumstances. 1967 had been a year of war, riots, and protests, and now the country seems set for another terrible chapter.</p><p>For years, Lyndon ‘Big Daddy’ Johnson appeared to be in total control, taking office after the country lost its martyred king. But from the ashes of Camelot, he pushed through a legislative agenda more expansive than most had imagined possible, forging his ‘Great Society’ and making significant strides in healthcare, welfare, and civil rights. Yet now, a dark and deadly poison seeps through every aspect of his administration—one that is choking the very soul of the country: <strong>Vietnam</strong>.</p><p>The ongoing struggle seems increasingly intractable, with neither peace nor victory on the near horizon. This ‘master politician’ appears to have lost his way; his health is failing, his party is fracturing, and the chants just keep getting louder.</p><p>But he can’t retreat now, surrender to the baying mob, or give up the nomination to McCarthy—or that <i>damned kid</i>. Johnson is a caged animal, and now he’s going to fight his way out.</p></div>",
            "color_hex": "#122f5f",
            "secondary_color_hex": null,
            "is_active": 1,
            "image_url": "https://i.imgur.com/2Igi5G3.gif",
            "electoral_victory_message": "You Won, Winner",
            "electoral_loss_message": "You Lost, Loser",
            "no_electoral_majority_message": "You Probably Lost ... Loser.",
            "description_as_running_mate": null,
            "candidate_score": 1,
            "running_mate": false
        }
    },
    {
      "model": "campaign_trail.candidate",
      "pk": 24,
      "fields": {
          "first_name": "Richard M.",
          "last_name": "Nixon",
          "election": 4,
          "party": "Republican",
          "state": "New York",
          "priority": 1,
          "description": "<div style=\"max-height: 200px; overflow-y: auto;\"><p><b style=\"font-size: 1.2em;\"><strong>Nixon’s the One</strong></b>; if it wasn’t obvious before, it is now. Richard Milhous Nixon has clawed and scraped his way back to the top of the Republican pack.</p><p>Eight years after his devastating loss to Kennedy and six years after his humiliation in the California gubernatorial election, ‘Old Iron Ass’ has all but wrapped up the Republican nomination. He faces challengers, of course: the conservative stalking-horse Reagan and the establishment’s favorite son, Rockefeller. But neither of them is as agile, crafty, or malleable as Nixon.</p><p>This year, he seems prepared to say or do just about anything to come out on top, crafting a team of relentlessly amoral comrades to assist in his mission—so he can finally scrub the word <em>LOSER</em> from the minds of anyone who ever doubted him.</p><p>Republicans are desperate to win, and up against a sagging Johnson, perhaps a swinging Dick can do the job?</p></div>",  
          "color_hex": "#5f121b",
          "secondary_color_hex": "#5f121b",
          "is_active": 1,
          "image_url": "https://i.imgur.com/kyGgGv1.gif",
          "electoral_victory_message": "<h3>Congratulations! You have won the 1968 election!</h3><p>In one of the great turnarounds of American politics, you have salvaged your once-wrecked political career and shed your label as a 'loser' once and for all. As it turns out, the press <em>will</em> have Nixon to kick around.</p><p>If you can end the War in Vietnam and roll back the excesses of the Great Society, you may just go down as a truly great President. Good luck working with a Democratic Congress, however...</p>",
          "electoral_loss_message": "<h3>Sorry, you have lost the 1968 election.</h3><p>Never has a candidate been so far ahead in a Presidential election, only to come up short. After your heartbreaking loss in 1960, it's going to take a long while for you to recover from this new defeat.</p><p>The American public will never know what might have transpired with you in the Oval Office. As it is, you are sure to enjoy a long retirement after this one...</p>",
          "no_electoral_majority_message": "<h3>Wow! No candidate holds a majority in the electoral college.</h3><p>Wallace's machinations have succeeded. The election will go to the House of Representatives where the Democrats hold a clear majority.</p><p>You do hold some cards however -- Humphrey would certainly rather make concessions to you, rather than deal with George Wallace. Perhaps you could obtain a place in his Administration, or some assurances on a policy issue of your choice.</p>",
          "description_as_running_mate": null,
          "candidate_score": 1,
          "running_mate": false
      }
  },
  {
    "model": "campaign_trail.candidate",
    "pk": 25,
    "fields": {
        "first_name": "George C.",
        "last_name": "Wallace",
        "election": 4,
        "party": "American Independent",
        "state": "Alabama",
        "priority": 3,
        "description": "<div style=\"max-height: 200px; overflow-y: auto;\"><p><b style=\"font-size: 1.2em;\"><strong>Firebrand doesn’t cut it. </strong></b>Governor George Wallace is fire incarnate—a whirling flame that threatens to torch and desecrate all in his path.</p><p>His third-party campaign is built on his relentless egotism, an unparalleled sense of his own destiny, and the same potent antebellum agenda he has championed for nearly a decade: stopping desegregation. But more and more, the picture he paints of America—a country at war with itself, drowning in a cauldron of riots, looting, and chaos—is starting to ring true to many. And it's an oh-so-simple message.</p><p>This country is rotting, and it’s the hippies, the pointy heads, the faux intellectuals, and the Vietcong sympathizers. It’s the unruly Negroes and the carpetbagging whites. It’s the anti-constitutional courts and the pinko liberals holding back our police. It’s the militants, the fairies, and the great unwashed, stinking up the place.</p><p>Can’t you smell it?</p></div>",  
        "color_hex": "#796243",
        "secondary_color_hex": "#796243",
        "is_active": 1,
        "image_url": "https://i.imgur.com/Z9V9Qpm.gif",
        "electoral_victory_message": "<h3>Wow! You have won the 1968 election in a shocker!</h3><p>Dixie forever! Even with the Long Hot Summer of 1967, nobody guessed that you could do well enough in the Northern states to win the election outright. You have instantly become most polarizing President-elect since Abraham Lincoln.</p>",
        "electoral_loss_message": "<h3>Sorry, you did not prevent an electoral college majority.</h3><p>You put in a good effort, but your dream of brokering an end to desegregation will not come to fruition in 1968. No winning candidate will negotiate that point with you unless they absolutely have no choice.</p><p>The best you can do for now is continue to sound the call for a return to sanity in American politics. Perhaps if the riots and discord continue, you will have a better chance of making your voice heard in 1972.</p>",
        "no_electoral_majority_message": "<h3>Congratulations! You have deadlocked the electoral college with your votes in the South.</h3><p>In a close election, your electoral votes in the South have prevented either candidate from winning a majority. Get ready to put the squeeze on Humphrey and Nixon.</p><p>Of course, you still have to deal with the possibility that Humphrey and Nixon dislike you so much that they will simply strike a deal with each other. Whatever happens, it's sure to be interesting.</p>",
        "description_as_running_mate": null,
        "candidate_score": 1,
        "running_mate": false
    }
},
{
  "model": "campaign_trail.candidate",
  "pk": 26,
  "fields": {
      "first_name": "Pigasus J.",
      "last_name": "Pig",
      "election": 9,
      "party": "Youth International",
      "state": "New York",
      "priority": 4,
      "description": "'",
      "color_hex": "#79435a",
      "secondary_color_hex": "#79435a",
      "is_active": 1,
      "image_url": "'",
      "electoral_victory_message": "'",
      "electoral_loss_message": "'",
      "no_electoral_majority_message": "'",
      "description_as_running_mate": "'",
      "candidate_score": 1,
      "running_mate": false
  }
},
    {
        "model": "campaign_trail.candidate",
        "pk": 55,
        "fields": {
            "first_name": "Hubert H.",
            "last_name": "Humphrey",
            "election": 4,
            "party": "Democratic–Farmer–Labor",
            "state": "Minnesota",
            "priority": 1,
            "description": "",
            "color_hex": "#004771",
            "secondary_color_hex": null,
            "is_active": 0,
            "image_url": "https://i.imgur.com/5hesrbB.gif",
            "electoral_victory_message": "This guy wins!",
            "electoral_loss_message": "This guy loses!",
            "no_electoral_majority_message": "We all win?",
            "description_as_running_mate": "<div style=\"max-height: 200px; overflow-y: auto;\"><p><b style=\"font-size: 1.2em;\"><strong>Vice President Humphrey</strong></b> is a loyal and happy warrior. He can see himself in the big chair, but not yet—not at least until '72. He is not oblivious to the challenge ahead, but he can’t stomach the idea of betraying the President’s loyalty; he’s just not that kind of man, and the President would never respect him for it.</p><p>At times, he feels trapped, shackled to a steadily unpopular President and a steadily unpopular war. At other times, he is relieved that, at the end of it all, he’ll get to wash his hands of the whole fiasco, content that nothing he could have done would have altered events.</p><p>Even if the unthinkable happened and the undeterrable Johnson did drop out, the Kennedys would jump in and sweep the nomination from under him. No—for Humphrey and the country, the only path available is to trudge through a river of muck and blood.</p><p>To weather the storm.</p></div>",  
            "candidate_score": 1,
            "running_mate": true
        }
    }
]

campaignTrail_temp.running_mate_json = [
    {
        "model": "campaign_trail.running_mate",
        "pk": 109261,
        "fields": {
            "candidate": 23,
            "running_mate": 55
        }
    }
]

campaignTrail_temp.opponents_default_json = [
    {
        "election": 4,
        "candidates": [
            23,
            24,
            25,
            26
        ]
    }
]

campaignTrail_temp.opponents_weighted_json = [
    {
        "election": 4,
        "candidates": [
          23,
          24,
          25,
          26
        ]
    }
]

//#startcode

nct_stuff.themes[nct_stuff.selectedTheme].coloring_window = "#375162" 
nct_stuff.themes[nct_stuff.selectedTheme].coloring_title = "#013654" 
$(".container")[0].style.background = "linear-gradient(to bottom, #3c5064, #293744)";
document.body.background = "https://i.imgur.com/24YbUGN.gif" 
document.body.style.backgroundSize = "100% auto"
document.getElementById("header").src = "https://i.imgur.com/4LPgzJR.gif"
document.getElementById("wittyquote").color = "#025786" 
nct_stuff.themes[nct_stuff.selectedTheme].text_col = "#ffffff"
document.head.innerHTML += "<style>#results_container {color:#ffffff;} .inner_window_w_desc {background-color:#365680 !important;}</style>";
document.getElementsByClassName("container")[0].style="background-image: url('https://i.imgur.com/7006Kfl.png')"
$("#game_window")[0].style.backgroundImage = "url(https://i.imgur.com/41oxWLz.png)";



quotes = [""]
customquote = quotes[Math.floor((Math.random() * quotes.length))]

corrr = `
<div style="font-size: 11px; font-family: monospace; color: white;">
  <h2 style="font-style: normal;">
    <img src="https://i.imgur.com/Zg1mnPo.png" alt="ALL THE WAY" style="margin-top: 5px;">
  </h2>
</div>
`;


e = campaignTrail_temp
  
document.head.innerHTML += `
<link rel="stylesheet" href="https://kexanie.github.io/csswin10">
<style>
h3 {
  font-size: 1.025em !important;
  line-height: 17px;
}
label {
  font-size: 0.9em !important; 
  font-family: Arial, "Helvetica Neue", Helvetica, sans-serif !important;
  line-height: 1.0; 
}
input {
  font-size: 0.9em !important; 
  line-height: 17px; 
}

body {display:flex!important;}

  #game_window{max-width:1000px;}
  </style>`
  let contentBox = document.getElementsByClassName("content_box")[0];
  let contentSingle = document.getElementsByClassName("content_single")[0];
  
  let containerRef = document.getElementsByClassName("container")[0];
  


  function addDynamicCSS() {
    var css = `

      .mytooltip {
        position: relative;
        display: inline-block;
        cursor: pointer;
        font-weight: bold;
        font-size: 0.9em;
        color: #002f6c;
        text-decoration: underline;
        text-shadow: 
            0 0 10px rgba(135, 206, 250, 0.6),
            0 0 20px rgba(135, 206, 250, 0.4), 
            0 0 30px rgba(135, 206, 250, 0.2);
        transition: color 0.3s ease, text-shadow 0.3s ease;
      }

      .mytooltip:hover {
        color: white;
        text-shadow: 
            0 0 10px rgba(45, 60, 75, 0.6),
            0 0 20px rgba(45, 60, 75, 0.4), 
            0 0 30px rgba(45, 60, 75, 0.2);
      }

      .mytooltip .mytooltiptext {
        position: absolute;
        bottom: 120%;
        left: 50%;
        transform: translateX(-50%) scaleY(0.8);
        opacity: 0;
        background-color: #f1f1f1;
        border: 2px double #C9C9C9;
        border-radius: 5px;
        box-shadow: 
            0 0 10px rgba(224, 255, 255, 0.5),
            0 0 20px rgba(224, 255, 255, 0.3),
            0 0 40px rgba(224, 255, 255, 0.1),
            4px 4px 8px rgba(0, 0, 0, 0.4);
        text-align: center;
        font-size: 11px;
        font-family: Arial, sans-serif;
        line-height: 1.6;
        padding: 10px;
        z-index: 99;
        color: #000;
        text-shadow: none !important;
        pointer-events: none;
        transition: opacity 0.4s ease-out, transform 0.4s cubic-bezier(0.3, 1.2, 0.2, 1);
      }

      .mytooltip:hover .mytooltiptext {
        transform: translateX(-50%) scaleY(1);
        opacity: 1;
        transition-delay: 0.2s;
      }

      .inner_window_question h3 .mytooltip {
        color: white;
        display: inline;
        text-shadow: 
            0 0 10px rgba(135, 206, 250, 0.6),
            0 0 20px rgba(135, 206, 250, 0.4), 
            0 0 30px rgba(135, 206, 250, 0.2);
        transition: text-shadow 0.3s ease-in-out;
      }
      
      .inner_window_question h3 .mytooltip:hover {
        color: white;
        text-shadow: 
            0 0 5px rgba(135, 206, 250, 0.3),
            0 0 10px rgba(135, 206, 250, 0.2),
            0 0 15px rgba(135, 206, 250, 0.1);
      }
      

      label {
        cursor: default;
      }
    `;

    var styleElem = document.createElement('style');
    styleElem.type = 'text/css';
    styleElem.appendChild(document.createTextNode(css));
    document.head.appendChild(styleElem);
}

  
    
addDynamicCSS();

tooltipList = [
  {searchString: "Rockefeller", explanationText: "<img src=https://i.imgur.com/mG4P1dM.gif><br> Nelson Rockefeller: Governor of New York and a worthy opponent."},
  {searchString: "Westmoreland", explanationText: "<img src=https://i.imgur.com/r2rNlAS.gif><br> General Westmoreland: Commander of the war in Vietnam, typical boy scout."},
  {searchString: "Westy", explanationText: "<img src=https://i.imgur.com/r2rNlAS.gif><br> General Westmoreland: Commander of the war in Vietnam, typical boy scout."},
  {searchString: "PAVN", explanationText: "<img src=https://i.imgur.com/oZp4bT2.gif><br> PAVN: People's Army of Vietnam."},
  {searchString: "Martin Luther King", explanationText: "<img src=https://i.imgur.com/gBzZwxl.gif><br> MLK JR: Reverend and Royal Pain in my ass."},
  {searchString: "Khe Sanh", explanationText: "<img src=https://i.imgur.com/xdyEIqy.gif><br> Khe Sanh: Northernmost outpost for the US military in Vietnam."},
  {searchString: "Giap", explanationText: "<img src=https://i.imgur.com/1UjBbF2.gif><br> Võ Nguyên Giáp: Commander of the PAVN."},
  {searchString: "Bonesteel", explanationText: "<img src=https://i.imgur.com/78IBJSO.giff><br> General Bonesteel: Commander of US Forces in Korea, a one-eyed boy scout."},
  {searchString: "President Park", explanationText: "<img src=https://i.imgur.com/lOgeLve.gif><br> Park Chung Hee: President of South Korea who is spoiling for a fight."},
  {searchString: "U-Thant", explanationText: "<img src=https://i.imgur.com/ORZoTEL.gif><br> Thant: Secretary General of the UN, who knows what U stands for?"},
  {searchString: "Clifford", explanationText: "<img src=https://i.imgur.com/pvjbByy.gif><br> Clark Clifford: Secretary of Defense, Hopefully not as useless as McNamara."},
  {searchString: "Clark", explanationText: "<img src=https://i.imgur.com/ygEjqup.gif<br> Ramsey Clark: Attorney General, a soft touch in need of a nudge."},
  {searchString: "Ramsey Clark", explanationText: "<img src=https://i.imgur.com/ygEjqup.gif<br> Ramsey Clark: Attorney General, a soft touch in need of a nudge."},
  {searchString: "McNamara", explanationText: "<img src=https://i.imgur.com/tTM2y52.gif><br> McNamra: A so-called 'Whiz-Kid'."},
  {searchString: "Half-bright", explanationText: "<img src=https://i.imgur.com/OSiFi4X.gif><br> Senator Fulbright, a senile old fool. "},
  {searchString: "Dick Helms", explanationText: "<img src=https://i.imgur.com/H91qICH.gif><br> Director of the CIA, knows where the bodies are buried, and makes sure they stay there."},
  {searchString: "VC", explanationText: "<img src=https://i.imgur.com/GTtjOy9.gif><br> The Viet Cong aka: The Enemy."},
  {searchString: "that kid", explanationText: "<img src=https://i.imgur.com/TkcFcJV.gif><br> Stay out of my way."},
  {searchString: "Califano", explanationText: "<img src=https://i.imgur.com/xruZhQF.gif><br> Special Assistant to the President: ready to call it quits, we'll see about that."},
  {searchString: "Trudeau", explanationText: "<img src=https://i.imgur.com/FRYEuYc.gif><br> Canadian Prime Minister: A regular Jack Kennedy up north, for all that's worth."},
  {searchString: "SDS", explanationText: "<img src=https://i.imgur.com/12arNeE.gif><br> Students for a Democratic Society: A hive of communist infiltration."},
  {searchString: "Reagan", explanationText: "<img src=https://i.imgur.com/I731awF.gif><br> Governor Reagan: A fake cowboy."},
  {searchString: "Abrams", explanationText: "<img src=https://i.imgur.com/5l4l4qK.gif><br> General Abrams: The man who can get this job done right"},
  {searchString: "ARVN", explanationText: "<img src=https://i.imgur.com/oXAhnI9.gif><br> Army of the Republic of Vietnam: Utterly useless"},
  {searchString: "Russell", explanationText: "<img src=https://i.imgur.com/Dw0iwOF.gif><br> Uncle Dick."},
  {searchString: "Cronkite", explanationText: "<img src=https://i.imgur.com/wjbPHFP.gif><br> Walter Cronkite: Won't someone shut this weatherboy up?"},
  {searchString: "Thieu", explanationText: "<img src=https://i.imgur.com/oXAhnI9.gif><br> Nguyễn Văn Thiệu: The President of South Vietnam and about as crooked as my nose."},
  {searchString: "a white man", explanationText: "<img src=https://i.imgur.com/hfK8ar5.gif><br> "},
  {searchString: "Brezhnev", explanationText: "<img src=https://i.imgur.com/iAcvpoD.gif><br> General Secretary of the USSR: Doesn't have to worry about re-election."},
  {searchString: "Edgar", explanationText: "<img src=https://i.imgur.com/IytY9Y1.gif><br> John Edgar Hoover: Our resident panty sniffer."},
  {searchString: "Hoover", explanationText: "<img src=https://i.imgur.com/IytY9Y1.gif><br> John Edgar Hoover: Our resident panty sniffer.", excludeIfContains: ["goddamn Hoover"]},
  {searchString: "J. Edgar Hoover", explanationText: "<img src=https://i.imgur.com/IytY9Y1.gif><br> John Edgar Hoover: Our resident panty sniffer."},
  {searchString: "Goldwater", explanationText: "<img src=https://i.imgur.com/70J98Ej.gif><br> Barry Goldwater: One of these days he'll finally get it."},
  {searchString: "Daley", explanationText: "<img src=https://i.imgur.com/7KCLK6i.gif><br> Richard J. Daley: A hard-ass sombitch, but devoted to his President."},
  {searchString: "Mayor Daley", explanationText: "<img src=https://i.imgur.com/7KCLK6i.gif><br> Richard J. Daley: A hard-ass sombitch, but devoted to his President."},
  {searchString: "Oswald", explanationText: "<img src=https://i.imgur.com/PhTYH6Y.gif><br> The <strong>LONE</strong> gunman."},
  {searchString: "PHOENIX", explanationText: "<img src=https://i.imgur.com/iolECCi.gif><br> What is it they say about omelette and eggs?"},
  {searchString: "Lady Bird", explanationText: "<img src=https://i.imgur.com/77gzzdy.gif><br> Without this woman, where would LBJ be? After all without her fathers wealth he would have never got into congress."},
  {searchString: "Corretta", explanationText: "<img src=https://i.imgur.com/vRPO3zC.gif><br> Every good man needs a good woman to take care of things, while he's with his mistress."},
  {searchString: "De Gaulle", explanationText: "<img src=https://i.imgur.com/CR2BmDZ.gif><br> Charles De Gaulle: President of France, the resemblance is striking isn't it?"},
  {searchString: "Fowler", explanationText: "<img src=https://i.imgur.com/1AnEg9V.gif><br> Henry Fowler: Treasury Secretary and genuine intellectual."},
  {searchString: "Fuck The Army", explanationText: "<img src=https://i.imgur.com/jPQYOcx.gif><br> Smartass kids with no respect."},
  {searchString: "Harriman", explanationText: "<img src=https://i.imgur.com/6gxgHdz.gif><br> Avrell Harriman: Chief Diplomat, if he can't get this peace, we're all fucked."},
  {searchString: "Averell Harriman", explanationText: "<img src=https://i.imgur.com/6gxgHdz.gif><br> Avrell Harriman: Chief Diplomat, if he can't get this peace, we're all fucked."},
  {searchString: "Hippies", explanationText: "<img src=https://i.imgur.com/doFVeib.gif><br> Another word for beatnik."},
  {searchString: "Curtis ‘Bombs Away’ LeMay", explanationText: "<img src=https://i.imgur.com/Dreme9a.gif><br> And they call me crazy?"},
  {searchString: "Fed chairman, Martin.", explanationText: "<img src=https://i.imgur.com/qGHL313.gif><br> William Martin: Economist/Puritan/Cheapskate"},
  {searchString: "Meany", explanationText: "<img src=https://i.imgur.com/DbYBZNq.gif><br> President of the AFL-CIO George Meany: An Anti-Communist Labor Boss who knows which side the bread is buttered on."},
  {searchString: "George Meany", explanationText: "<img src=https://i.imgur.com/DbYBZNq.gif><br>  President of the AFL-CIO George Meany: An Anti-Communist Labor Boss who knows which side the bread is buttered on."},
  {searchString: "Ho Chi Minh", explanationText: "<img src=https://i.imgur.com/52i94PV.gif><br> Uncle Ho: A figure head these days. But a powerful one."},
  {searchString: "Panthers", explanationText: "<img src=https://i.imgur.com/Ooaf0PD.gif><br> The Black Panther Party: I get the idea. But what's with the getup?"},
  {searchString: "Black Panthers", explanationText: "<img src=https://i.imgur.com/Ooaf0PD.gif><br> The Black Panther Party: I get the idea. But what's with the getup?"},
  {searchString: "Catholic priests", explanationText: "<img src=https://i.imgur.com/kHURynj.gif><br> The Catonsville Nine: Self appointed martyrs."},
  {searchString: "Reuther", explanationText: "<img src=https://i.imgur.com/As36hAW.gif><br> President of the UAW Walter Reuther: Thinks he's some kinda Kennedy?"},
  {searchString: "Rolling Thunder", explanationText: "<img src=https://i.imgur.com/PJT1BFa.gif><br> Operation Rolling Thunder: The procees by which we turn the fertile soils of Indochina into a moonscape."},
  {searchString: "Harland ‘The Colonel’ Sanders", explanationText: "<img src=https://i.imgur.com/zQZ5i9s.gif><br> "},
  {searchString: "John ‘The Duke’ Wayne", explanationText: "<img src=https://i.imgur.com/AiF47lb.gif><br> "},
  {searchString: "Wilson", explanationText: "<img src=https://i.imgur.com/9W2J01T.gif><br> UK PM Harold Wilson: Are we 100% certain he isn't a communist agent?"},
  {searchString: "Albert ‘Happy’ Chandler", explanationText: "<img src=https://i.imgur.com/mWLRCRN.gif><br> Cesario Estrada Chavez. "},
  {searchString: "Chaves", explanationText: "<img src=https://i.imgur.com/SQ0SqmA.gif><br> Cesar Chavez: Another pain in our ass."},
  {searchString: "Dump Johnson", explanationText: "<img src=https://i.imgur.com/4A8ynEM.gif><br> The Dump Johnson Movement: A failure."},
  {searchString: "Klansmen", explanationText: "<img src=https://i.imgur.com/J9rPgqL.gif><br> The ghosts of the old south, just never seem to die."},
  {searchString: "this mob?", explanationText: "<img src=https://i.imgur.com/UVhewLx.gif><br> Don't these people have anything better to do?"},
  {searchString: "Acheson", explanationText: "<img src=https://i.imgur.com/V47FgIa.gif><br> Dean Acheson: So experienced he probably counselled Moses"},
  {searchString: "Hoffman", explanationText: "<img src=https://i.imgur.com/Up1Li40.gif><br> Abbie Hoffman: The ringleader of this circus."},
  {searchString: "Rubin", explanationText: "<img src=https://i.imgur.com/nI5Ujrb.gif><br> Jerry Rubin: Someone needs a stay in the asylum."},
  {searchString: "William Buckley", explanationText: "<img src=https://i.imgur.com/DrcuqqB.gif><br> William F. Buckley: A Conservative 'intellectual'."},
  {searchString: "Nazi", explanationText: "<img src=https://i.imgur.com/3JWg3mx.gif><br> "},
  {searchString: "Nazis", explanationText: "<img src=https://i.imgur.com/3JWg3mx.gif><br> "},
  {searchString: "Jackie Robinson", explanationText: "<img src=https://i.imgur.com/XAA3Ljz.gif><br> A Major League ball player and Rockefeller Republican."},
  {searchString: "Mansfield and Dirksen", explanationText: "<img src=https://i.imgur.com/aYB9ooe.gif><br> The Senate Leadership: Two sides of the Senate coin."},
  {searchString: "Ralph", explanationText: "<img src=https://i.imgur.com/xXLi1j1.gif><br> Senator Ralph Yarborough: Texan Democrat, hopefully not the last."},
  {searchString: "Strom Thurmond", explanationText: "<img src=https://i.imgur.com/NxayK8Z.gif><br> Senator Thurmond: Born a bastard, will die a bastard."},
  {searchString: "that kraut", explanationText: "<img src=https://i.imgur.com/ZSHS7Ph.gif><br> Wernher von Braun: As long as the rockets go up, he doesn't care where they come down."},
  {searchString: "Lê Duẩn", explanationText: "<img src=https://i.imgur.com/rKuagFt.gif><br> Secretay General Lê Duẩn: The head honcho."},
  {searchString: "Webb", explanationText: "<img src=https://i.imgur.com/8TMRJPJ.gif><br> NASA Administrator James Webb: Head is in the clouds."},
  {searchString: "Chet Huntley and David Brinkley", explanationText: "<img src=https://i.imgur.com/fTHwplT.gif><br> Professional Newscasters and Freelance Nuisances."},
  {searchString: "General Taylor and Bradley", explanationText: "<img src=https://i.imgur.com/GpMh5G5.gif><br> The Chiefs: They beat Hitler, surley they can whoop a few cave-dwellers."},
  {searchString: "General Wheeler", explanationText: "<img src=https://i.imgur.com/bzRChBn.gif><br> Chairman of the Joint Chiefs Earle Wheeler: It's never enough for him."},
  {searchString: "Texas Representative George Bush", explanationText: "<img src=https://i.imgur.com/JcRM1Bk.gif><br> "},
  {searchString: "Cohen", explanationText: "<img src=https://i.imgur.com/38pi1pa.gif><br> Secretary Wilbur Cohen: A New Dealer and Old Friend"},
  {searchString: "Hawaiian Senator Hiram Fong", explanationText: "<img src=https://i.imgur.com/uMisU0m.gif><br> "},
  {searchString: "New York Mayor John Lindsay", explanationText: "<img src=https://i.imgur.com/dNUGhLU.gif><br> "},
  {searchString: "Paul Newman", explanationText: "<img src=https://i.imgur.com/rfpvwqF.gif><br> "},
  {searchString: "Ohio Governor Jim Rhodes", explanationText: "<img src=https://i.imgur.com/7Cq64S8.gif><br> "},
  {searchString: "George Wallace of Alabama", explanationText: "<img src=https://i.imgur.com/fbFQ4Ih.gif><br> George Corley Wallace: Lower than the shit on my shoe."},
  {searchString: "Weathermen", explanationText: "<img src=https://i.imgur.com/05GyafT.gif><br> The Weathermen Underground: Dangerous fantasists masquerading as revolutionaries."},
  {searchString: "Roy Wilkins", explanationText: "<img src=https://i.imgur.com/VYDnQTQ.gif><br> Leader of the NAACP Roy Wilkins: One of the few blacks, who ain't turning yellow."},
  {searchString: "Yippie", explanationText: "<img src=https://i.imgur.com/vtTNwMx.gif><br> The Youth International Party: A cabal of beatniks, delinquents, addicts. A bad joke that's gone on too long."},
  {searchString: "Yippies", explanationText: "<img src=https://i.imgur.com/vtTNwMx.gif><br> The Youth International Party: A cabal of beatniks, delinquents, addicts. A bad joke that's gone on too long."},
  {searchString: "Nixon’s the One", explanationText: "<img src=https://i.imgur.com/BUlJLcp.gif><br> Tricky Dick Nixon: For now and for all time, a loser."},

];

RecReading=true
    
// Select the node that will be observed for mutations
const windowsAdvisorTargetNode = document.getElementById("game_window");

// Options for the observer (which mutations to observe)
const windowsAdvisorConfig = { attributes: true, childList: true, subtree: true };

// Callback function to execute when mutations are observed
const callback = (mutationList, observer) => {
  let visitWindow = document.getElementsByClassName("overlay_window")[0];
  if (!visitWindow || visitWindow.classList.contains("done")) return;
  visitWindow.classList.add("done", "window");
  let titleBar = visitWindow.querySelector("h3");
  titleBar.classList.add("title-bar", "title-bar-text");
  titleBar.style.paddingLeft = "3px";
};

async function appendStyle() {
  var metaTag=document.createElement('meta');
  metaTag.name = "viewport";
  metaTag.content = "width=device-width, initial-scale=1";
  document.getElementsByTagName('head')[0].appendChild(metaTag);

  if (!document.querySelector('#radio-option-style')) {
      let style = document.createElement('style');
      style.type = 'text/css';
      style.id = 'radio-option-style';
      style.innerHTML = `
      .inner_inner_window {
      display: flex;
      flex-direction: column;
      }
      .inner_inner_window h3{
          padding: 5px;
      }

      #candidate_pic,
      #running_mate_pic,
      .inner_window_sign_display {
          height: 167px;
      }
      #candidate_pic {
          margin-left: 160px;
      }
      #running_mate_pic {
          margin-right: 160px;
      }
      `;

      document.head.appendChild(style);
  }
}
appendStyle();

e = campaignTrail_temp;

const startScreenUpdater = setInterval(function() {
  const goBackButton = document.getElementById("candidate_id_back");
  const candidateButton = document.getElementById("candidate_id_button");
  const runningMateButton = document.getElementById("running_mate_id_button");
  const finalScreenBB = document.getElementById("opponent_selection_id_back");
  const finalScreenID = document.getElementById("opponent_selection_id_button");
  const gameType = document.getElementById("game_type_id");

  // Check if the candidate_id element exists to avoid errors
  const candidateElement = document.getElementById("candidate_id");
  if (!candidateElement) {
    return;  
  }

  var c = candidateElement.value;

  if (c == 23 && !candidateButton && !runningMateButton) {
    if (goBackButton) {
      goBackButton.click();
    }
    
    const initContinue = document.getElementById("election_id_button");
    if (initContinue) {
      initContinue.click();  
    }
  } 

  else if ((c == 24 || c == 25) && candidateButton && !runningMateButton) { 
    candidateButton.remove();
  }

  if (!candidateButton && runningMateButton) { 
    runningMateButton.click();

    const finalBack = document.getElementById("opponent_selection_id_back");
    if (finalBack) {
      finalBack.remove();  
    }


    if (window.observer) {
      window.observer.disconnect();
    }
  }


  if (finalScreenID) {
    if (finalScreenBB) {
      finalScreenBB.remove();  
    }
    clearInterval(startScreenUpdater);  
  }
}, 100);  


class Song {
  constructor(title, artist, coverLink, audioLink) {
    this.title = title;
    this.artist = artist;
    this.coverLink = coverLink;
    this.audioLink = audioLink;
  }
  getTitle() {
    return this.title;
  }

  getArtist() {
    return this.artist;
  }

  getCoverLink() {
    return this.coverLink;
  }

  getAudioLink() {
    return this.audioLink;
  }
}

class Playlist {
  constructor() {
    this.songs = [];
    this.currentSongIndex = 0;
  }

  addSong(song) {
    this.songs.push(song);
  }

  getCurrentSong() {
    return this.songs[this.currentSongIndex];
  }

  playNext() {
    this.currentSongIndex = (this.currentSongIndex + 1) % this.songs.length;
  }

  playPrevious() {
    this.currentSongIndex = (this.currentSongIndex - 1 + this.songs.length) % this.songs.length;
  }
}
window.Playlist=Playlist
window.Song=Song

function changePlaylist(newPlaylist) {
  playlist = newPlaylist;
  playlist.currentSongIndex = 0;
  updateUI(playlist);
  const audio = document.getElementById("audio");
  audio.src = playlist.getCurrentSong().audioLink;
  decodeAudio();
  audio.play();
}
window.changePlaylist=changePlaylist

function updateUI(playlist) {
    const currentSong = playlist.getCurrentSong();
    var player = document.getElementById("player");
    player.querySelector("#cover").src = currentSong.getCoverLink();
    player.querySelector("#title").textContent = currentSong.getTitle();
    player.querySelector("#artist").textContent = currentSong.getArtist();
}

window.updateUI=updateUI

let getAudioAmplitude = (time) => 0;

async function decodeAudio(audioSrc) {
  try {
    const audioContext = new AudioContext();
    const response = await fetch(audioSrc);
    const arrayBuffer = await response.arrayBuffer();
    const buffer = await audioContext.decodeAudioData(arrayBuffer);

    const sampleRate = buffer.sampleRate;
    const totalSamples = buffer.length;
    const numChannels = buffer.numberOfChannels;

    // Reduce memory usage by processing every 32nd sample
    const downsampleFactor = 32;
    const reducedSize = Math.floor(totalSamples / downsampleFactor);
    
    let amplitudes = new Float32Array(reducedSize);
    let meanAmplitude = 0;

    for (let i = 0; i < reducedSize; i++) {
      let sum = 0;
      for (let channel = 0; channel < numChannels; channel++) {
        sum += buffer.getChannelData(channel)[i * downsampleFactor] ** 2; 
      }
      amplitudes[i] = sum / numChannels; 
      meanAmplitude += amplitudes[i];
    }

    meanAmplitude /= reducedSize;

    getAudioAmplitude = function (time) {
      const delay = 0.17;
      let index = Math.floor((time + delay) * sampleRate / downsampleFactor);
      index = Math.min(index, reducedSize - 1);
      let amplitudeNorm = amplitudes[index] / (2 * meanAmplitude);
      return Math.min(amplitudeNorm, 1);
    };

    console.log("Audio decoded successfully!");

  } catch (error) {
    console.error("Error decoding audio:", error);
  }
}

    
function setupMusicPlayer() {
  
  playlist = new Playlist();

  const song1 = new Song(
    "Prologue,ㅤㅤㅤㅤAugust 29, 1968",
    "Chicago",
    "https://i.imgur.com/b8r5Ra2.png",
    "https://audio.jukehost.co.uk/XyheafOeHYEYfQDdMelpUxukLIIADylT"
  );

  const song2 = new Song(
    "Time Has Come Today",
    "The Chambers Brothers",
    "https://i.imgur.com/6Vp00L3.png",
    "https://audio.jukehost.co.uk/82lHVMezJxSmxSjnfqc741flU7nh6L80"
  );
  
  const song3 = new Song(
    "Summertime",
    "Big Brother & The Holding Company",
    "https://i.imgur.com/e4RoHcB.png",
    "https://audio.jukehost.co.uk/KTCoqLZyPDcJem5VThmsV3jY6Msk2bDs"
  );

  const song3a = new Song(
  "Coffee Cold",
  "Galt MacDermot",
  "https://i.imgur.com/waC4T60.png",
  "https://audio.jukehost.co.uk/lLCs02yVw3VQuiIXftCNl92A9E6UgJM8"
  );

  const song4 = new Song(
  "California Dreamin'",
  "Bobby Womack",
  "https://i.imgur.com/MiopO4X.png",
  "https://audio.jukehost.co.uk/8SsMNO7WhAZZFNSqnT5lmGO15zYeG5Zc"
  );

  const song5 = new Song(
  "While My Guitar Gently Weeps",
  "The Beatles",
  "https://i.imgur.com/aD89GIe.png",
  "https://audio.jukehost.co.uk/wpGBWAcoa3ESzqWWsabdDTz2Abgb7m3J"
  );

  const song6 = new Song(
  "If I Can Dream",
  "Elvis Presley",
  "https://i.imgur.com/2l1GDRz.png",
  "https://audio.jukehost.co.uk/SOXH6LMirjYFqNHPLKbWYo7UwkYNAWY9"
  );

  playlist.addSong(song1);
  playlist.addSong(song2);
  playlist.addSong(song3);
  playlist.addSong(song3a);
  playlist.addSong(song4);
  playlist.addSong(song5);
  playlist.addSong(song6);

  const playerContainer = document.createElement("div");
  playerContainer.id = "player";

 const displayBox = document.createElement("div");
displayBox.id = "display-box";

const coverElement = document.createElement("img");
coverElement.id = "cover";
displayBox.appendChild(coverElement);

const infoContainer = document.createElement("div");
infoContainer.id = "info-container";
infoContainer.style.backgroundImage = "url('https://i.imgur.com/BSXotSO.png')";
infoContainer.style.backgroundSize = "cover"; // Optional: adjust based on your needs
infoContainer.style.color = "#cfcfcf"; // Set text color to white
infoContainer.style.position = 'relative';
// Create the needle image element
const needle = document.createElement("img");
needle.id = "needle";
needle.src = "https://i.imgur.com/ohd0XR3.png";
infoContainer.appendChild(needle);


const songInfo = document.createElement("div");
songInfo.id = "song-info";

const titleElement = document.createElement("h3");
titleElement.id = "title";
titleElement.style.fontWeight = 'normal'; // Make it normal as per previous request
songInfo.appendChild(titleElement);

const artistElement = document.createElement("p");
artistElement.id = "artist";
songInfo.appendChild(artistElement);

infoContainer.appendChild(songInfo);
displayBox.appendChild(infoContainer);

playerContainer.appendChild(displayBox);

const controlsContainer = document.createElement("div");
controlsContainer.id = "controls-container";

const controls = document.createElement("div");
controls.id = "controls";

// Create the image element for the button
const prevButton = document.createElement("img");
prevButton.id = "prevButton";
prevButton.src = "https://i.imgur.com/Zkk16Uy.png"; // Default image
prevButton.alt = "Previous";
controls.appendChild(prevButton);

// Add event listeners for mousedown and mouseup
prevButton.addEventListener("mousedown", function() {
    prevButton.style.filter = "brightness(0.4)";
});

prevButton.addEventListener("mouseup", function() {
    prevButton.style.filter = "brightness(1)";
});


prevButton.addEventListener("mouseleave", function() {
    prevButton.style.filter = "brightness(1)";
});

const playPauseButton = document.createElement("img");
playPauseButton.id = "playPauseButton";
playPauseButton.src = "https://i.imgur.com/LxQnVBj.png"; // Set the default Pause image
playPauseButton.alt = "Play/Pause";
controls.appendChild(playPauseButton);

const nextButton = document.createElement("img");
nextButton.id = "nextButton";
nextButton.src = "https://i.imgur.com/P39RRW4.png"; // Default image for "Next"
nextButton.alt = "Next";
controls.appendChild(nextButton);


nextButton.addEventListener("mousedown", function() {
    nextButton.style.filter = "brightness(0.4)";
});

nextButton.addEventListener("mouseup", function() {
    nextButton.style.filter = "brightness(1)";
});


nextButton.addEventListener("mouseleave", function() {
    nextButton.style.filter = "brightness(1)";
});

controlsContainer.appendChild(controls);

// Play/Pause functionality with image toggle
playPauseButton.addEventListener("click", function () {
    const audio = document.getElementById("audio");
    if (audio.paused) {
      audio.play();
      playPauseButton.src = "https://i.imgur.com/LxQnVBj.png"; // Pause image
    } else {
      audio.pause();
      needle.style.transform = "rotate(-45deg)";
      playPauseButton.src = "https://i.imgur.com/Kb4y3wX.png"; // Set the play image
      updateProgressBar();
    }
});

  
  // Press effect for the play/pause button
  playPauseButton.addEventListener("mousedown", function() {
      playPauseButton.style.filter = "brightness(0.4)"; 
  });
  
  
  playPauseButton.addEventListener("mouseup", function() {
      playPauseButton.style.filter = "brightness(1)"; 
  });
  
  playPauseButton.addEventListener("mouseleave", function() {
      playPauseButton.style.filter = "brightness(1)"; 
  });

nextButton.addEventListener("click", function () {
  playlist.playNext();
  updateUI(playlist);
  const audio = document.getElementById("audio");
  audio.src = playlist.getCurrentSong().audioLink;
  decodeAudio(audio.src);
  audio.play();
});

prevButton.addEventListener("click", function () {
  playlist.playPrevious();
  updateUI(playlist);
  const audio = document.getElementById("audio");
  audio.src = playlist.getCurrentSong().audioLink;
  decodeAudio(audio.src);
  audio.play();
});



// Create the progress bar container
const progressBarContainer = document.createElement("div");
progressBarContainer.id = "progress-bar-container";

// Create the progress bar slider
const progressBar = document.createElement("input");
progressBar.type = "range"; // Change to range type for a slider
progressBar.id = "progress-bar";
progressBar.value = "0";
progressBar.max = "100";
progressBar.step = "0.1"; // Optional: sets the granularity of the slider

progressBarContainer.appendChild(progressBar);
controlsContainer.appendChild(progressBarContainer);
playerContainer.appendChild(controlsContainer);

 const volumeContainer = document.createElement("div");
  volumeContainer.id = "volume-container";

const volumeLabel = document.createElement("img");
volumeLabel.src = "https://i.imgur.com/jjUzV10.png"; // Set the volume image
volumeLabel.alt = "Volume";
volumeContainer.appendChild(volumeLabel);

  const volumeSliderContainer = document.createElement("div");
  volumeSliderContainer.classList.add("is-vertical");
  volumeSliderContainer.style.marginLeft = "23%";
  volumeSliderContainer.style.height = "126px";

  const volumeSlider = document.createElement("input");
  volumeSlider.type = "range";
  volumeSlider.id = "volumeSlider";
  volumeSlider.min = 0;
  volumeSlider.max = 9;
  volumeSlider.step = 1;
  volumeSlider.value = 1; // Initial volume

  volumeSliderContainer.appendChild(volumeSlider);

  const volumeDisplay = document.createElement("span");
  volumeDisplay.id = "volume-display";
  volumeDisplay.style.fontWeight = 'bold'; 
  volumeDisplay.style.display = 'none';
  volumeDisplay.textContent = "1";

  volumeContainer.appendChild(volumeSliderContainer);
  volumeContainer.appendChild(volumeDisplay);

  playerContainer.appendChild(volumeContainer);

  gameWindow_player.insertAdjacentElement("afterend", playerContainer);


// Update progress bar as the song plays
function updateProgressBar() {
  const audio = document.getElementById("audio");
  const progress = (audio.currentTime / audio.duration) * 100;
  progressBar.value = progress;

  const MIN_DEG = -45, MAX_DEG = 45;

  // If paused, use amplitude=0 so it rotates to -45.
  let amplitude = audio.paused 
                  ? 0 
                  : getAudioAmplitude(audio.currentTime);

  let degrees = MIN_DEG + amplitude * (MAX_DEG - MIN_DEG);
  needle.style.transform = "rotate(" + degrees + "deg)";
}

  
  // Seek functionality when the slider is moved
  progressBar.addEventListener("input", function () {
    const audio = document.getElementById("audio");
    const seekTime = (progressBar.value / 100) * audio.duration;
    audio.currentTime = seekTime;
  });
  
  // Setup the audio element and event listeners
  const audio = document.createElement("audio");
  audio.id = "audio";
  audio.src = playlist.getCurrentSong().audioLink;
  decodeAudio(audio.src);
  audio.volume = 1 / 9;
  
  audio.addEventListener("timeupdate", updateProgressBar);
  audio.addEventListener("ended", function () {
    // Play the next song when the current song ends
    playlist.playNext();
    updateUI(playlist);
    audio.src = playlist.getCurrentSong().audioLink;
    decodeAudio(audio.src);
    audio.play();
  });

    let currentVolume = 1; // Initial volume

  volumeSlider.addEventListener("input", function () {
    currentVolume = parseInt(volumeSlider.value, 10);
    updateVolumeDisplay();
    updateAudioVolume();
  });

  function updateVolumeDisplay() {
    volumeDisplay.textContent = currentVolume;
  }

   function updateAudioVolume() {
    const audio = document.getElementById("audio");
    audio.volume = currentVolume / 9; // Set volume between 0 and 1
  }

  document.body.appendChild(audio);
  audio.play();


  // Update the UI when the page loads
  updateUI(playlist);
}


const style = document.createElement("style");
style.textContent = `
#player {
    border: 3px solid #C9C9C9; 
    display: flex;
    flex-direction: row;
  height:191px;
    background-Image: url("https://i.imgur.com/57IeWZc.png"); 
  }

  #display-box {
    display: flex;
    align-items: center;
    width: 50%;
  }

  #cover {
    width: 176px;
  height:176px;
  }

  #info-container {
    display: flex;
    flex-direction: row;
    height:178px;
  width:127px;
  margin-top: 3px;
  }

  #song-info {
    width: 100%;
  padding:5px;
  }

  #controls-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin: 10px;
    width:100%;
  padding-top:15px;

  }
  .is-vertical #volumeSlider {
  width: 16px;
  appearance: slider-vertical;
}

  #controls {
    display: flex;
    flex-direction: row;
    justify-content: center;
    width: 80%;
  }

  #progress-bar-container {
    width: 100%;
  }

  #progress-bar {
    width: 80%;
    margin: auto;
    display: flex;
    margin-top: 20px;
    appearance: none; 
    background: #ccc; 
    height: 5px; 
    border-radius: 5px; 
    outline: none; 
    cursor: pointer; 
  }

  #progress-bar::-webkit-slider-thumb {
    appearance: none; /* Remove default styling for consistency across browsers */
    width: 15px;
    height: 15px;
    background: #333; /* Slider thumb color */
    border-radius: 50%; /* Round thumb */
    cursor: pointer;
  }

  #progress-bar::-moz-range-thumb {
    width: 15px;
    height: 15px;
    background: #333;
    border-radius: 50%;
    cursor: pointer;
  }

  #question_form {
    color: #062c42;
  }
  
  .inner_window_question {
    background-color:#f1f1f1;
    border-radius: 5px; 
    position: relative;
    overflow: visible;
  }

  .inner_window_question h3 {
    background-color:#062c42;
    border-radius: 5px;
    box-shadow: 
    0 0 5px rgba(224, 255, 255, 0.5),  
    0 0 10px rgba(224, 255, 255, 0.3),  
    0 0 20px rgba(224, 255, 255, 0.1); 
  }

  @keyframes fadeInScale {
    0% {
        opacity: 0;
        transform: scale(0.8);
    }
    100% {
        opacity: 1;
        transform: scale(1);
    }
}

.overlay_window {
    position: absolute;
    opacity: 0; /* Start hidden */
    transform: scale(0.8); /* Start slightly smaller */
    background-color: #f1f1f1;
    border-radius: 5px;
    box-shadow:
        0 0 10px rgba(224, 255, 255, 0.5),  
        0 0 20px rgba(224, 255, 255, 0.3),  
        0 0 40px rgba(224, 255, 255, 0.1);
    
    height: 62%;
    width: 50%;
    top: 17%;
    left: 25%;
    
    border-style: double;
    border-color: #C9C9C9;

    animation: fadeInScale 0.3s cubic-bezier(0.3, 1.2, 0.2, 1) forwards;
}


.overlay_window h3 {
    background-color: #ffffff;
}

.overlay_window_content {
    color: #062c42;
}

  #progress_bar h3 {
    color: #062c42;
    }

    .inner_inner_window h3 {
        color: #ffffff;
        }

    .inner_window_sign_display {
        background-color:#f1f1f1;
    }

    .overlay_window img {
      width: 251px;
      height: 134px;
  }

  #needle {
    position: absolute;        
    top: 0;
    left: 0;
  
    width: 127px;             
    height: 352px;
  
    /* Center pivot for rotation */
    transform-origin: 50% 50%;
    transform: rotate(-45deg); 
  
    transition: transform 0.3s ease;  
    pointer-events: none;    
    user-select: none;          
    z-index: 9999;                   
    outline: none; 
  border: none;
  }
  
  .final_results_table {
    color: black;
  }

  #state_result_data_summary table {
    color: black;
  }
  
  #state_result_data_summary table th,
  #state_result_data_summary table td {
    color: black; 
  }

  #overall_result_container,
  #menu_container,
  #state_result_container {
    background-color:transparent
  }

  #map_container{
    background-color:#f1f1f1;
    border-radius: 25px; 
    box-shadow: 
    0 0 10px rgba(224, 255, 255, 0.5),  
    0 0 20px rgba(224, 255, 255, 0.3),  
    0 0 40px rgba(224, 255, 255, 0.1); 
    position: relative;
    overflow: hidden;
  }

  .campaign_trail_start_emphasis {
    background-color: transparent;
}

.cheatIndicator {
  position: absolute;
}
#difficulty_mult {
  display: none;
}
#results_container{
    overflow: auto;
}
.person_image {
    position: sticky;
    top: 16px; 
    align-self: flex-start;
    z-index: 1;
    float: left;
    margin: 1.2em 1em 0;
    border: double;
    border-color: #C9C9C9;
    height: 250px;
}


.final_results_table {
  width: 66% !important;
  table-layout: fixed !important;
  border-collapse: collapse !important;
  margin-right: 3% !important;
  font-family: Georgia, serif !important;
  background-color: #e6ecf5 !important;
  box-shadow: 0 0 12px rgba(0, 0, 0, 0.2) !important;
}

.final_results_table th,
.final_results_table td {
  padding: 2px 4px !important;
  border: 1px solid #ccc !important;
  text-align: center !important;
  white-space: nowrap !important; /* ⬅ Prevents wrapping */
}

.final_results_table td:first-child {
  text-align: left !important;
  width: 40% !important; /* ⬅ Makes room for long names */
}


`;

document.head.appendChild(style);

async function appendStyle() {
    var metaTag=document.createElement('meta');
    metaTag.name = "viewport";
    metaTag.content = "width=device-width, initial-scale=1";
    document.getElementsByTagName('head')[0].appendChild(metaTag);
  
    if (!document.querySelector('#radio-option-style')) {
        let style = document.createElement('style');
        style.type = 'text/css';
        style.id = 'radio-option-style';
        style.innerHTML = `
        #visit_window {
            height: auto;
        }
        #visit_content {
            height: 79%;
        }
  
  .person_button{
  margin-top:0.2em
  }
        @media only screen and (max-width: 768px) {
  
            #inner_window_2,
            #inner_window_3,
            #inner_window_4{
                overflow:visible;
            }
            #visit_window {
                font-size: 1.8em;
                width: 90%;
                left:5%;
            }
            .inner_window_question button,
                #visit_window button,
                #map_footer{
                    line-height: 2.5em;
                }
            #drop_down_area_state {
                margin-left: auto;
                margin-right: auto;
            }
        }
        `;
  
        document.head.appendChild(style);
    }
  }
  appendStyle();

const gameWindow_player = document.getElementById("game_window");
//use this function directly or put it in an event listener to start the music on the press of a certain button
setupMusicPlayer();


// Define the temporary songs
const temporarySongs = {
    "https://i.imgur.com/kyGgGv1.gif": new Song(
      "68 Nixon", 
      "The Chad Mitchell Trio", 
      "https://i.imgur.com/qCeXoEF.png", 
      "https://audio.jukehost.co.uk/GbUjVZl2OLsFKuDCDtXqtRYyx1SVm3Sy"
    ),
    "https://i.imgur.com/2Igi5G3.gif": new Song(
      "Hitler Ain't Dead", 
      "Bill Frederick", 
      "https://i.imgur.com/FPd1WCt.png", 
      "https://audio.jukehost.co.uk/W67k1jONY0PWwHEQ9VVMHOg5pma6eOid"
    ),
    "https://i.imgur.com/Z9V9Qpm.gif": new Song(
      "Talking Birmingham Jam", 
      "Phil Ochs", 
      "https://i.imgur.com/3gmDdNl.png", 
      "https://audio.jukehost.co.uk/mCxNOjWAri7S02PnoK7P1b7PETgd3wK3"
    ),
    "https://i.imgur.com/5hesrbB.gif": new Song(
    "Whatever Became Of Hubert", 
    "Tom Lehrer", 
    "https://i.imgur.com/PLhhDQe.png", 
    "https://audio.jukehost.co.uk/xPx4kKdX9DrLlx6smlGrRj9DaBmKAYX0"
    )
  };
  
  // Object to store the click counts for each image URL
  let clickCounts = {
    "https://i.imgur.com/kyGgGv1.gif": 0,
    "https://i.imgur.com/2Igi5G3.gif": 0,
    "https://i.imgur.com/Z9V9Qpm.gif": 0,
    "https://i.imgur.com/5hesrbB.gif": 0
  };
  
  // Function to play the temporary song
  function playTemporarySong(temporarySong) {
    const audio = document.getElementById("audio");
  
    // Pause the current song and switch to the temporary song
    audio.pause();
    audio.src = temporarySong.audioLink;
    decodeAudio(audio.src);
    audio.play();
  
    // Create a temporary playlist with just the temporary song
    const tempPlaylist = new Playlist();
    tempPlaylist.addSong(temporarySong);
  
    // Update the UI to reflect the temporary song
    updateUI(tempPlaylist);
  
    // When the temporary song ends, resume the original playlist
    audio.addEventListener("ended", function() {
      playlist.playNext(); // Go to the next song in the main playlist
      updateUI(playlist);
      audio.src = playlist.getCurrentSong().audioLink;
      decodeAudio(audio.src);
      audio.play();
    });
  }
  
  function detectCandidateImageAndTriggerSong(event) {
    const candidateImage = document.querySelector("#candidate_image img");
    const runningMateImage = document.querySelector("#running_mate_image img");
  
    if (candidateImage) {
      checkAndTriggerSong(candidateImage);
    }
  
    if (runningMateImage) {
      checkAndTriggerSong(runningMateImage);
    }
  }
  
  function checkAndTriggerSong(imageElement) {
    const imageSrc = imageElement.src;
  
    if (temporarySongs[imageSrc]) {
      clickCounts[imageSrc] = (clickCounts[imageSrc] || 0) + 1;
  
      // Trigger the song after 6 clicks for the corresponding image
      if (clickCounts[imageSrc] === 6) {
        playTemporarySong(temporarySongs[imageSrc]);
        clickCounts[imageSrc] = 0; // Reset the click counter for that image
      }
    }
  }
  
  // Attach an event listener to the document to detect clicks
  document.addEventListener("click", detectCandidateImageAndTriggerSong);


  campaignTrail_temp.achievements = {
    "Pay Any Price" : {
      "image" : "https://i.imgur.com/v1GVK0p.png",
      "description" : "Achieve the best possible DNC",
        "cannotBeCheated" : true
    },
    "Humpty Dumpty" : {
      "image" : "https://i.imgur.com/LcJkuil.png",
      "description" : "As LBJ, lose the dead weight",
        "cannotBeCheated" : true
    },
    "O Bobby, Where Art Thou?" : {
      "image" : "https://i.imgur.com/Hv843Te.png",
      "description" : "Keep the secret deal with Bobby",
        "cannotBeCheated" : true
    },
    "Party of One" : {
      "image" : "https://i.imgur.com/GoWBuOc.png",
      "description" : "Remove both primary challengers prior to the DNC",
        "cannotBeCheated" : true
    },
    "Back and to the left" : {
      "image" : "https://i.imgur.com/VShoXCZ.png",
      "description" : "Let fate take its course",
        "cannotBeCheated" : true
    },
    "Better Late..." : {
      "image" : "https://i.imgur.com/ZjJgeIN.png",
      "description" : "Flee the sinking ship",
        "cannotBeCheated" : true
    },
    "Aloha Dick" : {
      "image" : "https://i.imgur.com/5Z1RF7l.png",
      "description" : "As LBJ, face and defeat Nixon-Fong",
        "cannotBeCheated" : true
    },
    "Silenced Moronity" : {
      "image" : "https://i.imgur.com/LjG4qoY.png",
      "description" : "As LBJ, face and defeat Nixon-Rhodes",
        "cannotBeCheated" : true
    },
    "California Carpetbagger" : {
      "image" : "https://i.imgur.com/vfqMFX0.png",
      "description" : "As LBJ, face and defeat Nixon-Bush",
        "cannotBeCheated" : true
    },
    "New New Nixon" : {
      "image" : "https://i.imgur.com/3TApvRM.png",
      "description" : "As LBJ, face and defeat Nixon-Lindsay",
        "cannotBeCheated" : true
    },
    "Bear Any Burden" : {
      "image" : "https://i.imgur.com/wX9qtXI.png",
      "description" : "As LBJ, defeat Nixon after a disastrous DNC",
        "cannotBeCheated" : true
    },
    "The Golden Rule" : {
      "image" : "https://i.imgur.com/BjZdErz.png",
      "description" : "As LBJ, ensure Nixon suffer more than Goldwater",
        "cannotBeCheated" : true
    },
    "Nothing to Fear" : {
      "image" : "https://i.imgur.com/5XSdiP0.png",
      "description" : "As LBJ, win over 500 electoral votes",
        "cannotBeCheated" : true
    },
    "Things Fall Apart" : {
      "image" : "https://i.imgur.com/Ba8X2aV.png",
      "description" : "As LBJ, lose every state",
        "cannotBeCheated" : true
    },
    "Over the Hump" : {
      "image" : "https://i.imgur.com/wKlHYkd.png",
      "description" : "As Humphrey defeat Nixon",
        "cannotBeCheated" : true
    },
    "Second Shot" : {
      "image" : "https://i.imgur.com/BffmaJc.png",
      "description" : "As Kennedy defeat Nixon",
        "cannotBeCheated" : true
    },
    "Warrior Poet" : {
      "image" : "https://i.imgur.com/JC3DSqK.png",
      "description" : "As McCarthy defeat Nixon",
        "cannotBeCheated" : true
    },
    "Home Early" : {
      "image" : "https://i.imgur.com/TDLSo34.png",
      "description" : "As McGovern defeat Nixon",
        "cannotBeCheated" : true
    },
    "A New Covenant" : {
      "image" : "https://i.imgur.com/GinRWS0.png",
      "description" : "As Church defeat Nixon",
        "cannotBeCheated" : true
    },
    "Malice toward none" : {
      "image" : "https://i.imgur.com/AYWGMpg.png",
      "description" : "As Ribicoff defeat Nixon",
        "cannotBeCheated" : true
    },
    "All Hat, No Cattle" : {
      "image" : "https://i.imgur.com/F6rhAZy.png",
      "description" : "As Connally defeat Nixon",
        "cannotBeCheated" : true
    },
    "Now, Tommorrow and Forever" : {
        "image" : "https://i.imgur.com/jNRyLwT.png",
        "description" : "Open the gates of hell",
        "cannotBeCheated" : true
      },
    "Magic Bullet" : {
      "image" : "https://i.imgur.com/PnmmBDE.png",
      "description" : "In one playthrough see three men sustain gunfire",
        "cannotBeCheated" : true
    },
    "S.C.U.M." : {
        "image" : "https://i.imgur.com/izwapu4.png",
        "description" : "As Church pay the price",
        "cannotBeCheated" : true
      },
    "Hey, Hey, LBJ" : {
      "image" : "https://i.imgur.com/Rn4b3IQ.png",
      "description" : "As LBJ, face the consequences",
        "cannotBeCheated" : true
    },
    "Moonshot" : {
      "image" : "https://i.imgur.com/OP7BtAU.png",
      "description" : "As LBJ, touch the horizon",
        "cannotBeCheated" : true
    },
    "Tricky" : {
      "image" : "https://i.imgur.com/3YMngOz.png",
      "description" : "As LBJ, expose Nixon",
        "cannotBeCheated" : true
    },
    "Lavender Scare" : {
        "image" : "https://i.imgur.com/s8UutvP.png",
        "description" : "As McGovern, expose Nixon",
        "cannotBeCheated" : true
      },
    "Saigoing, going, gone" : {
      "image" : "https://i.imgur.com/5W0sRIR.png",
      "description" : "As LBJ, exit Vietnam early",
        "cannotBeCheated" : true
    },
    "In the sweet" : {
      "image" : "https://i.imgur.com/0hI5jRZ.png",
      "description" : "As LBJ, <strong>WIN THE PEACE</strong>",
        "cannotBeCheated" : true
    },
  }

//End of Code 1
