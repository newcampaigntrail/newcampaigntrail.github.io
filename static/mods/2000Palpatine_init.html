campaignTrail_temp.election_json = JSON.parse("[{\"model\": \"campaign_trail.election\", \"pk\": 9, \"fields\": {\"year\": 2000, \"summary\": \"\", \"image_url\": \"https://cdn.discordapp.com/attachments/1111091213882359890/1142020660705644584/faraway.png\", \"winning_electoral_vote_number\": 270, \"advisor_url\": \"https://cdn.discordapp.com/attachments/1111091213882359890/1142256262151671818/dookuadvisor.png\", \"recommended_reading\": \"<div style=\\\"overflow-y:scroll;height:357.133px;font-size:1em;\\\"><h1>Thank you for playing 2000 Palpatine!</h1><p><img src=\\\"https://cdn.discordapp.com/attachments/1111091213882359890/1158246451864932372/frjarjar.png?ex=651b8c91&is=651a3b11&hm=3b1bf1119c159a2ed1660c4e05697db9bdf755ffbbd8d6ea70c2cd2aeefd64cf&\\\"><br></p><p>Heyo-dalee. It'sa my, Jar Jar Binks. Tank yous per playin' anutter mod made by FlongydOlson.</p><p><span style=\\\"width:700px;text-align:left;display:inline-block;line-height:1.33em;\\\">Dis was a completely new attempt per mesa, whosa created duey South Korean mods of da 1963 un 1971 elections. My've alritty tried ta deal witda US election inda grotesque creepypasta mod culled 1968c, buta Mesa wanted ta create a mod dat yousa can actually enjoy many times, notsa sum kind of visual Nobel format liken dat mod. At da same-o time, Mesa taut it would besa betto per mesa, notsa an American, ta start wit a light joke mod rather dan take history seriously, unda result dissen mod, 2000 Palpatine. I'd besa berry smilen iffen yousa enjoyed playin' dis mod.</span></p><p>Lastly, I'd liken ta tank da 2008 Spongebob team un Diamondy per deir hot inspiration per dis. See yousa later!</p></div>\", \"has_visits\": 1, \"no_electoral_majority_image\": \"https://cdn.discordapp.com/attachments/1111091213882359890/1149700777733009489/deadlock.png\"}}]");
campaignTrail_temp.candidate_json = JSON.parse("[{\"model\": \"campaign_trail.candidate\", \"pk\": 77, \"fields\": {\"first_name\": \"Sheev\", \"last_name\": \"Palpatine\", \"election\": 9, \"party\": \"Republican\", \"state\": \"Naboo\", \"priority\": 1, \"description\": \"<p><center><b>STAR WARS - Fan Fiction</p><p>2000 Palpatine</p><p>Disaster strikes the galaxy! Sheev Palpatine, Chancellor of the Galactic Republic, suddenly disappeared one day while performing his duties in Coruscant. Everything falls into chaos, and the Republic is in a huge crisis.</p><p>Meanwhile, a small country called the United States, on a planet called Earth on the edge of a galaxy, holds huge elections for natives to elect their leaders.</p><p>While the Galactic Senate and the Jedi knights struggle to find Chancellor Palpatine, somehow he appears on this planet and challenges the election with one strong follower who serves him...<p><button onclick='comments()'>Chancellor's Comments</button></center></p>\", \"color_hex\": \"#B82859\", \"secondary_color_hex\": \"#B82859\", \"is_active\": 1, \"image_url\": \"https://cdn.discordapp.com/attachments/1111091213882359890/1142014563085201418/sheev.png\", \"electoral_victory_message\": \"\", \"electoral_loss_message\": \"\", \"no_electoral_majority_message\": \"\", \"description_as_running_mate\": \"''\", \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 78, \"fields\": {\"first_name\": \"Al\", \"last_name\": \"Gore\", \"election\": 9, \"party\": \"Democrat\", \"state\": \"Tennessee\", \"priority\": 2, \"description\": \"\", \"color_hex\": \"#4DC8E6\", \"secondary_color_hex\": \"#4DC8E6\", \"is_active\": 0, \"image_url\": \"https://cdn.discordapp.com/attachments/1111091213882359890/1144807460272603146/gore2000.png\", \"electoral_victory_message\": \"\", \"electoral_loss_message\": \"\", \"no_electoral_majority_message\": \"\", \"description_as_running_mate\": \"''\", \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 79, \"fields\": {\"first_name\": \"Ralph\", \"last_name\": \"Nader\", \"election\": 9, \"party\": \"Green\", \"state\": \"Connecticut\", \"priority\": 3, \"description\": \"\", \"color_hex\": \"#45A457\", \"secondary_color_hex\": \"#45A457\", \"is_active\": 0, \"image_url\": \"https://cdn.discordapp.com/attachments/1111091213882359890/1144807507034902609/darthnader.png\", \"electoral_victory_message\": \"\", \"electoral_loss_message\": \"\", \"no_electoral_majority_message\": \"\", \"description_as_running_mate\": \"''\", \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 80, \"fields\": {\"first_name\": \"George\", \"last_name\": \"Lucas\", \"election\": 9, \"party\": \"Reform\", \"state\": \"California\", \"priority\": 4, \"description\": \"''\", \"color_hex\": \"#F9DC38\", \"secondary_color_hex\": \"#F9DC38\", \"is_active\": 0, \"image_url\": \"https://cdn.discordapp.com/attachments/1111091213882359890/1156900619597127770/buchanan.png?ex=65174fe9&is=6515fe69&hm=b002bad75e149721c4095a5ab8b03e57a880619639801740c948a90c870599f4&\", \"electoral_victory_message\": \"''\", \"electoral_loss_message\": \"''\", \"no_electoral_majority_message\": \"''\", \"description_as_running_mate\": \"''\", \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 81, \"fields\": {\"first_name\": \"Count\", \"last_name\": \"Dooku\", \"election\": 9, \"party\": \"Republican\", \"state\": \"Serenno\", \"priority\": 5, \"description\": \"''\", \"color_hex\": \"#FF0000\", \"secondary_color_hex\": \"#FFA0A0\", \"is_active\": 0, \"image_url\": \"https://cdn.discordapp.com/attachments/1111091213882359890/1147076227023253554/dooku.png\", \"electoral_victory_message\": \"''\", \"electoral_loss_message\": \"''\", \"no_electoral_majority_message\": \"''\", \"description_as_running_mate\": \"<p><center><li><b>Name: Count Dooku</b></li><li><b>Party: Republican</b></li><li><b>Home Planet: Serenno</b></li><p><p>SINO - Sith in Name Only - is the most suitable nickname for calling Dooku or 'Darth Tyranus', the name given by me. I was forced to take this aged and insidious old Jedi, who is hard to understand, as an apprentice, but I have never trusted him. It's obvious that this old man is going to use me and the power of the dark side to accomplish his own, trivial plan.</p><p>But anyway, Tyranus, as my apprentice, has no choice but to obey my orders for now. He's quite good at both political and combat power, so he is probably the best running mate needed for an election here. Yes, choose him. Do it!</p></center>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 82, \"fields\": {\"first_name\": \"Darth\", \"last_name\": \"Maul\", \"election\": 9, \"party\": \"Republican\", \"state\": \"Dathomir\", \"priority\": 6, \"description\": \"''\", \"color_hex\": \"#FF0000\", \"secondary_color_hex\": \"#FFA0A0\", \"is_active\": 0, \"image_url\": \"https://cdn.discordapp.com/attachments/1111091213882359890/1142033462396719114/maul.png\", \"electoral_victory_message\": \"''\", \"electoral_loss_message\": \"''\", \"no_electoral_majority_message\": \"''\", \"description_as_running_mate\": \"<p><center><li><b>Name: Darth Maul</b></li><li><b>Party: Republican</b></li><li><b>Home Planet: Dathomir</b></li><p><p>Darth Maul is my apprentice who had been raised as a Sith since childhood. I thought he died fighting a young Jedi Padawan, named Obi-wan Kenobi in Naboo. But somehow, Maul returned. It turned out he survived with the power of the dark side, and has lived in seclusion.</p><p>Maul is a very great warrior as he always was, and has a great quality to become a Sith lord, since he is skilled in all kinds of intrigues. However, after seeing him for a while since we met again, I found out that he is still blindly loyal to me, but he seems to be a little...distraught due to his revenge on Kenobi. Maul will certainly be an interesting choice, for better or worse.</p></center>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 83, \"fields\": {\"first_name\": \"General\", \"last_name\": \"Grievous\", \"election\": 9, \"party\": \"Republican\", \"state\": \"Kalee\", \"priority\": 7, \"description\": \"''\", \"color_hex\": \"#FF0000\", \"secondary_color_hex\": \"#FFA0A0\", \"is_active\": 0, \"image_url\": \"https://cdn.discordapp.com/attachments/1111091213882359890/1142033502108389397/grievous.png\", \"electoral_victory_message\": \"''\", \"electoral_loss_message\": \"''\", \"no_electoral_majority_message\": \"''\", \"description_as_running_mate\": \"<p><center><li><b>Name: General Grievous</b></li><li><b>Party: Republican</b></li><li><b>Home Planet: Kalee</b></li><p><p>A strong warrior of the Kaleesh, Qymaen jai Sheelal was badly injured in the accident, and replaced most of his body with machines, becoming a cyborg. This is how General Grievous was born. Grievous was trained in combat by Darth Tyranus, and I and Tyranus planned to use him as the commander of the Droid Army in the coming war.</p><p>Grievous knows very little about politics and is not even Force-sensitive, but he is strong, cautious, and will be unlikely to make noticeable mistakes. Furthermore, he brought a legion of droids here, maybe they could be a big help to my campaign. Time to terminate the Democrats, general.</p></center>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 84, \"fields\": {\"first_name\": \"Jar Jar\", \"last_name\": \"Binks\", \"election\": 9, \"party\": \"Republican\", \"state\": \"Naboo\", \"priority\": 8, \"description\": \"''\", \"color_hex\": \"#FF0000\", \"secondary_color_hex\": \"#FFA0A0\", \"is_active\": 0, \"image_url\": \"https://cdn.discordapp.com/attachments/1111091213882359890/1142033540536614962/jarjar.png\", \"electoral_victory_message\": \"''\", \"electoral_loss_message\": \"''\", \"no_electoral_majority_message\": \"''\", \"description_as_running_mate\": \"<p><center><li><b>Name: Jar Jar Binks</b></li><li><b>Party: Republican</b></li><li><b>Home Planet: Naboo</b></li><p><p>Wait, what happened? WHY ON NABOO IS THIS TALKATIVE, ANNOYING, DISGUSTING GUNGAN IN THE RUNNING MATE SELECTION WINDOW? Just looking at the horrible face of Representative Jar Jar Binks hurts my eyes, and he is the worst idiot in the galaxy who only does things that I can't bear to see. Jar Jar's strength is that...he knows how to talk. The downside is everything else. This living disaster would make me a complete joke candidate! No matter how much I think about it, I don't see any chance of winning with Jar Jar, what should I do...</p><p>'Whata??? Chancellor, yousa spaking abouten my now? Iffen yousa do notsa wanten ta campaign wit mesa, My've no choice buta ta tell yousa anutter runnin' mate. Let my introduce, Ro-'</p><p>No, no, no! Representative Binks, I'll just go with you. So please stop the bullshit. Do you understand?</p></center>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 85, \"fields\": {\"first_name\": \"Joe\", \"last_name\": \"Lieberman\", \"election\": 9, \"party\": \"Democrat\", \"state\": \"Connecticut\", \"priority\": 9, \"description\": \"''\", \"color_hex\": \"#0000FF\", \"secondary_color_hex\": \"#90C0FF\", \"is_active\": 0, \"image_url\": \"/static/images/joe-lieberman-2000.jpg\", \"electoral_victory_message\": \"''\", \"electoral_loss_message\": \"''\", \"no_electoral_majority_message\": \"''\", \"description_as_running_mate\": \"\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 89, \"fields\": {\"first_name\": \"Winona\", \"last_name\": \"LaDuke\", \"election\": 9, \"party\": \"Green\", \"state\": \"Minnesota\", \"priority\": 13, \"description\": \"''\", \"color_hex\": \"#00C100\", \"secondary_color_hex\": \"#A1FFA1\", \"is_active\": 0, \"image_url\": \"/static/images/winona-laduke-2000.jpg\", \"electoral_victory_message\": \"''\", \"electoral_loss_message\": \"''\", \"no_electoral_majority_message\": \"''\", \"description_as_running_mate\": \"\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 90, \"fields\": {\"first_name\": \"Ezola\", \"last_name\": \"Foster\", \"election\": 9, \"party\": \"Reform\", \"state\": \"California\", \"priority\": 14, \"description\": \"''\", \"color_hex\": \"#FFFF00\", \"secondary_color_hex\": \"#FFFFC0\", \"is_active\": 0, \"image_url\": \"''\", \"electoral_victory_message\": \"''\", \"electoral_loss_message\": \"''\", \"no_electoral_majority_message\": \"''\", \"description_as_running_mate\": \"''\", \"candidate_score\": 0.0}}]");
campaignTrail_temp.running_mate_json = JSON.parse("[{\"model\": \"campaign_trail.running_mate\", \"pk\": 56, \"fields\": {\"candidate\": 79, \"running_mate\": 89}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 57, \"fields\": {\"candidate\": 80, \"running_mate\": 90}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 48, \"fields\": {\"candidate\": 77, \"running_mate\": 81}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 52, \"fields\": {\"candidate\": 78, \"running_mate\": 85}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 49, \"fields\": {\"candidate\": 77, \"running_mate\": 82}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 50, \"fields\": {\"candidate\": 77, \"running_mate\": 83}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 51, \"fields\": {\"candidate\": 77, \"running_mate\": 84}}]");
campaignTrail_temp.opponents_default_json = JSON.parse("[{\"election\": 9, \"candidates\": [77, 78, 79, 80]}]");
campaignTrail_temp.opponents_weighted_json = JSON.parse("[{\"election\": 9, \"candidates\": [78, 77, 79, 80]}]");        
campaignTrail_temp.difficulty_level_json = JSON.parse("[{\"model\": \"campaign_trail.difficulty_level\", \"pk\": 1, \"fields\": {\"name\": \"For Babies\", \"multiplier\": 1.1}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 2, \"fields\": {\"name\": \"Normal\", \"multiplier\": 0.97}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 3, \"fields\": {\"name\": \"Challenge\", \"multiplier\": 0.9}}]");
campaignTrail_temp.global_parameter_json = JSON.parse("[{\"model\": \"campaign_trail.global_parameter\", \"pk\": 1, \"fields\": {\"vote_variable\": 1.125, \"max_swing\": 0.12, \"start_point\": 0.94, \"candidate_issue_weight\": 10.0, \"running_mate_issue_weight\": 3.0, \"issue_stance_1_max\": -0.71, \"issue_stance_2_max\": -0.3, \"issue_stance_3_max\": -0.125, \"issue_stance_4_max\": 0.125, \"issue_stance_5_max\": 0.3, \"issue_stance_6_max\": 0.71, \"global_variance\": 0.01, \"state_variance\": 0.005, \"question_count\": 25, \"default_map_color_hex\": \"#C9C9C9\", \"no_state_map_color_hex\": \"#999999\"}}]");
campaignTrail_temp.candidate_dropout_json = JSON.parse("[{\"model\": \"campaign_trail.candidate_dropout\", \"pk\": 1, \"fields\": {\"candidate\": 36, \"affected_candidate\": 18, \"probability\": 1.0}}]");
campaignTrail_temp.temp_election_list = [{"id": 9, "year": 2000, "is_premium": 0, "display_year": "2000Palpatine"}];
campaignTrail_temp.show_premium = true;
campaignTrail_temp.premier_ab_test_version = -1;

function removeCandidateSummary() {
   sumobserver.disconnect();
  const candidateSummary = document.querySelector("#candidate_summary");
  if (candidateSummary) {
    const ulList = candidateSummary.querySelector("ul");
    if (ulList) {
      candidateSummary.removeChild(ulList);
    }
  }
  sumobserver.observe(document.body, {childList: true,subtree: true});
}
if(!sumobserver){
var sumobserver = new MutationObserver(removeCandidateSummary);
sumobserver.observe(document.body, {childList: true,subtree: true});
}

function removeRunningMateSummary() {
   runsumobserver.disconnect();
  const runningmateSummary = document.querySelector("#running_mate_summary");
  if (runningmateSummary) {
    const ulList = runningmateSummary.querySelector("ul");
    if (ulList) {
      runningmateSummary.removeChild(ulList);
    }
  }
  runsumobserver.observe(document.body, {childList: true,subtree: true});
}
if(!runsumobserver){
var runsumobserver = new MutationObserver(removeRunningMateSummary);
runsumobserver.observe(document.body, {childList: true,subtree: true});
}

  comments = function() {
    text = "<li><b>Name: Sheev Palpatine</b></li><li><b>Party: Republican</b></li><li><b>Home Planet: Naboo</b></li><p>Look outside. There's a beautiful blend of untouched natural environments and wonderfully developed buildings, even though they're far short of Coruscant. It's gorgeous, but on the other hand, it's a shame. What a waste to leave a planet like this as the territory of poor natives who don't even sense the Force, what a miserable tragedy.</p><p>I love democracy. I love the Republic. I've already joined a faction of natives called the Republican Party, which uses the red color of the proud Sith as a symbol, and have been nominated to run for leadership here. I will defeat those ridiculous and insignificant natives...and be elected overwhelmingly. And this...will be the base for our Sith...to take control of the entire galaxy!</p><button onclick='opcrawl()'>Back</button>"
    document.getElementById("candidate_summary").children[1].innerHTML = text
  }
  opcrawl = function() {
    text = "<p><center><b>STAR WARS - Fan Fiction</p><p>2000 Palpatine</p><p>Disaster strikes the galaxy! Sheev Palpatine, Chancellor of the Galactic Republic, suddenly disappeared one day while performing his duties in Coruscant. Everything falls into chaos, and the Republic is in a huge crisis.</p><p>Meanwhile, a small country called the United States, on a planet called Earth on the edge of a galaxy, holds huge elections for natives to elect their leaders.</p><p>While the Galactic Senate and the Jedi knights struggle to find Chancellor Palpatine, somehow he appears on this planet and challenges the election with one strong follower who serves him...<p><button onclick='comments()'>Chancellor's Comments</button></center></p>"
    document.getElementById("candidate_summary").children[1].innerHTML = text
  }

RecReading=true
campaignTrail_temp.credits =  "FlongydOlson, <button onclick='credits()'>And...</button>";

credits = function() {
  credits = [""]
  text = "CODE CREDITS:\n1964 Draft Lodge (Color Setting Codes)\n2000N (Soundtrack Code)\n2025 Netherlands (Several Codes)\nAnd Decstar for Map Background Code\n\nHAVE FUN!"
  for (i in credits) {
      text += credits[i]
  }
  alert(text)
}

nct_stuff.themes[nct_stuff.selectedTheme].coloring_title = "#000000";
nct_stuff.themes[nct_stuff.selectedTheme].coloring_window = "#B50945";
document.getElementsByClassName("game_header")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_title;
$("#game_window")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_window;
$(".container")[0].style.backgroundColor = "#000000";
$("#game_window")[0].style.borderColor = "#F9CA02"
document.getElementById("header").src = "https://cdn.discordapp.com/attachments/1111091213882359890/1144607457839165470/2000pbanner.png"
document.body.background = "https://cdn.discordapp.com/attachments/1111091213882359890/1144582334365061140/2000pback.png";
$("#game_window")[0].style.backgroundImage = "url(https://cdn.discordapp.com/attachments/1111091213882359890/1144583523223748638/2000pbgimg.png)"

$(".footer a").css({"color":"#FFFFFF"});
nct_stuff.themes[nct_stuff.selectedTheme].text_col = "#FDDF27"

let style = document.createElement('style');
style.type = 'text/css';
style.id = 'dynamic-style';

style.innerHTML = `
  .campaign_trail_start_emphasis {
    background-color: #F9CA02;
  }
  a:-webkit-any-link {
  	color: #000000;
  }
`;

document.head.appendChild(style);

quotes = ["Everything is proceeding as I have foreseen.", "You have paid the price for your lack of vision.", "I love democracy. I love the Republic.", "Do it!", "I am the Senate!", "It's treason, then.", "Power!!! Unlimited... POWER!!!!!!"]
customquote = quotes[Math.floor((Math.random() * quotes.length))]

corrr=`\n<h2><font color='#FFE701'>NEW CAMPAIGN TRAIL</font></h2><font id='wittyquote' size='4' color='#FFE701'><em>`+customquote+`</em></font>`

musicMode = () => {
    // Initialise custom music
  
    $("#music_player")[0].children[0].style.display = "none"
    $("#music_player")[0].children[1].style.display = "none"
  
    document.getElementById("modLoadReveal").style.display = "none"
    document.getElementById("modloaddiv").style.display = "none"
  
    musicBox = document.getElementById("music_player")
    musicBox.style.display = ""
  
    var trackSel;
    e = campaignTrail_temp
    e.selectedSoundtrack = 0
  
    toTime = (seconds) => {
        var date = new Date(null);
        date.setSeconds(seconds);
        return date.toISOString().substr(11, 8);
    }
  
    generateTime = () => {
        // Get the audio element
        var audio = document.getElementById("campaigntrailmusic");
  
        timeTracker = document.createElement("div");
        timeTracker.style = `
  text-align:left;
  border-style:solid;
  border-width:3px;
  height:150px;
  width:200px;
  background-color:#999999;
  float:right;
  padding: 10px;
  `
        $("#trackSelParent")[0].prepend(timeTracker);
        $("#trackSelParent")[0].prepend(document.createElement("br"));
  
        // Create a new element to display the current position of the audio
        var positionDisplay = document.createElement("gg");
        positionDisplay.id = "position-display";
  
        // Create a new slider element to change the time
        var timeSlider = document.createElement("input");
        timeSlider.type = "range";
        timeSlider.min = 0;
        timeSlider.max = 1;
        timeSlider.step = 0.001;
        timeSlider.value = 0;
        timeSlider.style.width = "200px";
        timeSlider.id = "time-slider";
  
        var pausePlay = document.createElement("button");
        pausePlay.id = "position-display";
        pausePlay.innerHTML = "<b>Pause</b>"
        pausePlay.style.width = "100%";
  
  
        pausePlay.addEventListener("click", event => {
            event.preventDefault();
            updatePositionDisplay();
            let audio = document.getElementById("campaigntrailmusic");
            if (audio.paused) {
                audio.play();
                event.target.innerHTML = "<b>Pause</b>";
                return;
            }
            audio.pause();
            event.target.innerHTML = "<b>Play</b>";
            return;
        })
  
        var volumeLabel = document.createElement("gg");
        volumeLabel.id = "volume-label";
        volumeLabel.innerHTML = "<br><b>Volume: </b>"
  
        var volumeSlider = document.createElement("input");
        volumeSlider.type = "range";
        volumeSlider.min = 0;
        volumeSlider.max = 1;
        volumeSlider.step = 0.001;
        volumeSlider.value = 0;
        volumeSlider.style.width = "200px";
        volumeSlider.id = "volume-slider";
  
        volumeSlider.value = audio.volume;
  
        timeTracker.appendChild(pausePlay);
        timeTracker.appendChild(document.createElement("br"));
        timeTracker.appendChild(document.createElement("br"));
        timeTracker.appendChild(positionDisplay);
        timeTracker.appendChild(timeSlider);
        timeTracker.appendChild(volumeLabel);
        timeTracker.appendChild(volumeSlider);
  
        updatePositionDisplay();
  
        //for (let i = 0; i < 10; i++)
        //timeTracker.append(document.createElement("br"));
  
  
        // Function to update the position display
        function updatePositionDisplay() {
            positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";
            timeSlider.value = audio.duration ? audio.currentTime / audio.duration : 0;
        }
  
        // Function to change the time of the audio
        function changeTime() {
            positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";
            audio.currentTime = timeSlider.value * audio.duration;
        }
  
        updateVolume = event => {
            audio.volume = event.target.value;
        }
  
        // Update the position display and slider every second
        setInterval(updatePositionDisplay, 1000);
  
        // Listen for changes to the time slider and change the time of the audio
        timeSlider.addEventListener("input", changeTime);
        volumeSlider.addEventListener("input", updateVolume)
    }
  
    function newMusicPlayer() {
        trackSel = document.createElement("div");
        trackSel.id = "trackSelParent"
        let z = `<br><br><br><br><br><br><br><br><br><br><div id='trackSel' style="text-align:left;border-style:solid;border-width:3px;overflow-y: scroll;overflow-x: hidden;height:200px; width:400px;background-color:#999999;float:right;">`
        z += `<b><select id='selectSoundtrack'><option value='` + soundtracks[e.selectedSoundtrack].name + `'>` + soundtracks[e.selectedSoundtrack].name + "</option>"
        for (i in soundtracks) {
            if (soundtracks[e.selectedSoundtrack] != soundtracks[i]) {
                z += `<option value='` + soundtracks[i].name + `'>` + soundtracks[i].name + `</option>`
            }
        }
        z += `</select></b><br><br>`
            // <label><input type="radio" name="option" value="option1">Option 1</label><br>
        for (i in soundtracks[e.selectedSoundtrack].tracklist) {
            let a = soundtracks[e.selectedSoundtrack].tracklist[i]
            let b = `<label><input class="trackSelector" type="radio" name="trackSelector" value="` + i + `">` + a.name + `</label><br>`
            z += b
        }
        z += "</div><br><br>"
        trackSel.innerHTML = z
  
        // select correct song
  
        musicBox.appendChild(trackSel);
        Array.from(document.getElementById("trackSel").children).filter(f => {
            return f.tagName == "LABEL"
        }).map(f => f.children[0])[0].checked = true
  
        // set soundtrack changer
  
        soundtrackSelector = document.getElementById("selectSoundtrack")
        soundtrackSelector.onchange = function() {
            for (i in soundtracks) {
                if (soundtracks[i].name == soundtrackSelector.value) {
                    e.selectedSoundtrack = i
                    break
                }
            }
            document.getElementById("trackSelParent").remove()
            newMusicPlayer()
        }
  
        var matches = document.querySelectorAll('.trackSelector');
  
        for (match in matches) {
            matches[match].onchange = function() {
                audio = $("#campaigntrailmusic")[0];
                audio.src = soundtracks[e.selectedSoundtrack].tracklist[this.value].url
                audio.currentTime = 0
            }
        }
  
        musicBox.children[2].loop = false
        musicBox.children[2].src = soundtracks[e.selectedSoundtrack].tracklist[0].url
  
        musicBox.children[2].onended = function() {
            console.log("next track")
            let selected = Number(document.querySelector('input[name="trackSelector"]:checked').value);
            let newSel = clamp(selected + 1, soundtracks[e.selectedSoundtrack].tracklist.length - 1, 0)
            let buttons = Array.from(document.getElementById("trackSel").children).filter(f => {
                    return f.tagName == "LABEL"
                }).map(f => f.children[0])
                //let selectedIndex = buttons.map(f=>f.children[0]).map(f=>f.checked)
            buttons[newSel].click()
        }
  
        for (w = 0; w < 7; w++) {
            document.getElementById("trackSelParent").appendChild(document.createElement("br"))
        }
  
        generateTime();
    }
  
    clamp = function(a, max, min, overflow = true) {
        if (overflow) {
            return a > max ? min : a < min ? max : a;
        }
        return a > max ? max : a < min ? min : a;
    }
  
  
    // Track list
  
    var soundtracks = {
        0: {
            name: "Intro Music",
            tracklist: [
              {
                "name": "Star Wars Theme/Cantina Band - Meco",
                "url": "https://cdn.discordapp.com/attachments/1111091213882359890/1144588407603998750/Star_Wars_Theme_Cantina_Band.mp3"
              }
          ]
        },
               1: {
          name: "Emperor",
          tracklist: [
            {
                "name": "Jedi Rocks - John Williams",
                "url": "https://cdn.discordapp.com/attachments/1111091213882359890/1144860343106015302/Jedi_Rocks.mp3"
            },
            {
              "name": "Lapti Nek - John Williams",
              "url": "https://cdn.discordapp.com/attachments/1111091213882359890/1144860396243664966/Lapti_Nek.mp3"
            },
            {
              "name": "Emperor's Throne Room - John Williams",
              "url": "https://cdn.discordapp.com/attachments/1111091213882359890/1144861281745117214/Emperors_Throne_Room.mp3"
            },
            {
                "name": "Cantina Band #2 - John Williams",
                "url": "https://cdn.discordapp.com/attachments/1111091213882359890/1144861944218648616/Cantina_Band_2.mp3"
            },
            {
                "name": "The Battle Of Endor III - John Williams",
                "url": "https://cdn.discordapp.com/attachments/1111091213882359890/1144862155926147136/The_Battle_Of_Endor_III.mp3"
            },
            {
                "name": "Victory Celebration/End Title - John Williams",
                "url": "https://cdn.discordapp.com/attachments/1111091213882359890/1144862221332135986/Victory_Celebration_End_Title.mp3"
            }
        ]
      },
      2: {
        name: "Chancellor",
        tracklist: [
            {
                "name": "Duel of the Fates - John Williams",
                "url": "https://cdn.discordapp.com/attachments/1111091213882359890/1144875684930539571/Duel_of_the_Fates.mp3"
            },
            {
              "name": "Jango's Escape - John Williams",
              "url": "https://cdn.discordapp.com/attachments/1111091213882359890/1144875704761188392/Jangos_Escape.mp3"
            },
            {
              "name": "General Grievous - John Williams",
              "url": "https://cdn.discordapp.com/attachments/1111091213882359890/1144875761258471484/General_Grievous.mp3"
            },
            {
                "name": "Palpatine's Teaching - John Williams",
                "url": "https://cdn.discordapp.com/attachments/1111091213882359890/1144875783421186048/Palpatines_Teaching.mp3"
            },
            {
                "name": "Enter Lord Vader - John Williams",
                "url": "https://cdn.discordapp.com/attachments/1111091213882359890/1144875740890939512/Enter_Lord_Vader.mp3"
            },
            {
                "name": "Battle of the Heroes - John Williams",
                "url": "https://cdn.discordapp.com/attachments/1111091213882359890/1144875722301784094/Battle_of_the_Heroes.mp3"
            }
         ]
      }
    }

  
    // Set up new music player
  
    newMusicPlayer()
  

}

  $("#game_start").click((event) => {
    event.preventDefault();
    $("#election_id_button").click((event) => {
        musicMode()

        setInterval(changeFontColour, 200)
  
    })
  })

HistHexcolour=["#B82859","#4DC8E6","#45A457","#F9DC38"];
        HistName=[" Sheev Palpatine"," Al Gore"," Ralph Nader"," George Lucas"];
        HistEV=[290,248,0,0];
        HistPV=["50,713,240","49,721,272","3,880,910","1,089,678"];
        HistPVP=["48.1%","47.2%","3.7%","1.0%"];
