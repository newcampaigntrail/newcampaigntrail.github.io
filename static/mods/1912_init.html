e = campaignTrail_temp;
done = false;

// Select the node that will be observed for mutations
const windowsAdvisorTargetNode = document.getElementById("game_window");

// Options for the observer (which mutations to observe)
const windowsAdvisorConfig = { attributes: true, childList: true, subtree: true };

// Callback function to execute when mutations are observed
const callback = (mutationList, observer) => {
    visitWindow = document.getElementsByClassName("overlay_window")[0];

    if(visitWindow == null || visitWindow.classList.contains("done")) {
        return;
    }
    visitWindow.classList.add("done");
    visitWindow.classList.add("window");
    let titleBar = visitWindow.querySelector("h3");
    titleBar.classList.add("title-bar");
    titleBar.classList.add("title-bar-text")
    titleBar.style.paddingLeft = "3px";
};

RecReading=true


const summaryDiv = document.getElementById("election_summary");
if (summaryDiv) {
  summaryDiv.style.maxHeight = "none";
  summaryDiv.style.overflowY = "visible";
}

const styleFix = document.createElement("style");
styleFix.id = "descriptionLayoutFix";
styleFix.innerHTML = `
#election_description_window {
  display: flex;
  flex-wrap: wrap;
  height: auto;
  min-height: 250px;
}

  #election_image img {
    width: 300px;
    height: auto;
    flex-shrink: 0;
    display: block;
  }

  #election_summary {
    max-width: 580px;
    flex-grow: 1;
    overflow-wrap: break-word;
    word-wrap: break-word;
    white-space: normal;
    display: block;
    min-height: 200px;
  }

  #election_description_window > div {
    min-width: 0;
  }

  #election_id_button {
      margin-top: 50px;   /* space above */
    margin-bottom: 10px; /* space below */
  margin-left: auto;   /* push right */
  margin-right: auto;  /* push left */
  }
`;
document.head.appendChild(styleFix);


// Ensure intro paragraph clears floats
document.styleSheets[0].insertRule("p.intro { clear: both; margin: 0 0 20px 0; text-align: center; }", 0);
// incase ts doesn't work on NCT <div style='overflow-y:scroll;height:370px;'>

document.getElementById("inner_window_1").children[1].innerHTML = `
  <p class="intro">Welcome to <b>1912: The Men in the Arena</b>! This mod features a variety of perspectives to showcase this election.</p>

  <div class="entry">
    <img src="https://itsastronomical.com/assets/1912/intro/wilson_intro.png" class="float-left">
    <p>As <b>New Jersey Governor <u>Woodrow Wilson</u></b>, you shall attempt to secure the Democratic mantle against House Speaker Champ Clark. Your actions, or failures in the primaries will impact who the Democratic nominee, and likely next President shall be.</p>
  </div>

  <div class="entry">
    <img src="https://itsastronomical.com/assets/1912/intro/taft_intro.png" class="float-right">
    <p>As <b>President <u>William Howard Taft</u></b>, you will manage a country eager for radical changes, while attempting to reconcile this changing landscape with your own principles.</p>
  </div>

  <div class="entry">
    <img src="https://itsastronomical.com/assets/1912/intro/tr_intro.png" class="float-left">
    <p>As <b>Former President <u>Theodore Roosevelt</u></b>, you shall make your return to the political arena, either by seizing the Republican nomination, or by taking the fight all the way to November.</p>
  </div>

  <div class="entry">
    <img src="https://itsastronomical.com/assets/1912/intro/debs_intro.png" class="float-right">
    <p>As <b>Labor Leader <u>Eugene Debs</u></b>, you will make the case that none of these other men can represent the working class, and will use your limited resources to fight for the rights of the proletariat.</p>
  </div>
`;

// Fix container padding/width
const content = document.getElementById("inner_window_1").children[1];
content.style.marginLeft = "-20px";
content.style.width = "100%";

document.styleSheets[0].insertRule(".float-left { float: left; max-width: 25%; height: auto; margin: 0 15px 15px 0; }", 0);
document.styleSheets[0].insertRule(".float-right { float: right; max-width: 25%; height: auto; margin: 0 0 15px 15px; }", 0);
document.styleSheets[0].insertRule(".entry { overflow: auto; margin-bottom: 3px; max-width: 100%; }", 0);
document.styleSheets[0].insertRule("#inner_window_1 * { box-sizing: border-box; }", 0);


nct_stuff.themes[nct_stuff.selectedTheme].coloring_window = "#73868A"
nct_stuff.themes[nct_stuff.selectedTheme].coloring_title = "#77211C"
$(".container")[0].style.backgroundColor = "#90999e"
$("#game_window")[0].style.borderColor = "#628775"
$("#game_window")[0].style.coloring_window = "#73868A"
$("#game_window")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_window;
document.body.background = "https://www.creativeboom.com/upload/articles/97/97252c49ebe6268e20d3a4426e332df9947a8c16_1888.jpg"
document.getElementById("header").src = "https://itsastronomical.com/assets/1912/1912_banner.png"
document.getElementById("wittyquote").color = "white"
nct_stuff.themes[nct_stuff.selectedTheme].text_col = "white"
campaignTrail_temp.credits = 'ItsAstronomical.<br>Horrificnecktieenjoyer wrote and planned the Debs side<br>Cecilla, Martha, SteamedHams, Bailey Lagopus helped write endings. Josherskins, Flowersinthesnow, and Mike McGovern also provided some advice and ideas';
styling = document.createElement("style");
document.head.appendChild(styling);          
styling.innerHTML = `
body {
    background-size: cover;
}
`

campaignTrail_temp.election_json = JSON.parse("[{\"model\": \"campaign_trail.election\", \"pk\": 4, \"fields\": {\"year\": 1912, \"summary\": \"<p>With the fever of Progressivism still in full swing, a rift emerges within the Grand Old Party as President Taft and former President Roosevelt have begun to split on a variety of issues.</p><ul><li>Wilson must keep his polling stable, avoid a nasty, bitter convention, and take advantage of the Progressive-Regular split in the GOP.</li><li>Taft must dispatch Roosevelt forcefully and quickly - before his newfound radicalism consumes the party, and the country, whole.</li><li>Roosevelt must push back against the regulars within the Republican Party, and pull off a historic revenge on Taft - one way or another.</li><li>Socialist candidate Eugene Debs benefits from a four-man contest, but he must dampen his opponents' appeal if he wishes to make an impact.</li></ul>\", \"site_description\": \"<p><b>The Completed 1912 Experience is here!</b> Taft and Roosevelt are now playable!</p><p>Play as Wilson, Taft, Roosevelt, or Debs, and attempt to change the course of American history!</p>\", \"image_url\": \"https://itsastronomical.com/assets/1912/1912intro.png\", \"winning_electoral_vote_number\": 266, \"advisor_url\": \"https://itsastronomical.com/assets/1912/1912intro.png\", \"recommended_reading\": \"<div style='overflow-y:scroll;height:370px;color:black;'><h2 style='margin-top: 0.5em;'>1912: The Men in the Arena</h2><p style='padding:0px 65px'>Thanks for playing my mod! I made Wilson's side over Labor Day weekend since I know there's been a drought of content from me. Sorry about how long the rest of it took!. </p><h4>Sources</h4><h3>Four Hats in the Ring: The 1912 Election and the Birth of Modern American Politics</h3><img src='https://m.media-amazon.com/images/I/91gKADh2-uL._AC_UF1000,1000_QL80_.jpg' height='140px'><p>This book was my main source for this mod - it gave a great overview of the campaign itself<br>in ways that a single web article couldn't. It covered the primaries, the conventions, and the ensuing election.<br>I would absolutely recommend that you give it a read! In fact, I may have bought the 1840 book from the same series.<br><br>Lewis L. Gould - <a href='https://www.amazon.com/Four-Hats-Ring-Presidential-Elections/dp/0700618562' target='_blank'>Four Hats in the Ring: The 1912 Election and the Birth of Modern American Politics</a><br>US Election Atlas - <a href='https://uselectionatlas.org/RESULTS/national.php?year=1912' target='_blank'>1912 Presidential General Election Results</a><br>James Chance - <a href='https://archive.org/details/1912wilsonroosev00chac' target='_blank'>1912: Wilson, Roosevelt, Taft, and Debs – The Election That Changed the Country</a><br>Donald F. Anderson - <a href='https://www.amazon.com/William-Howard-Taft-Conservatives-Conception/dp/B000UZPBYA?ref_=ast_author_mpb' target='_blank'>William Howard Taft: A Conservative's Conception of the Presidency</a><br><br><h4>Credits</h4><p>Coding done by ItsAstronomical.</p><p><a href='https://discord.gg/Qcmn5ZQJ5h' target='_blank'>Join this Discord Server to stay in the loop about all my upcoming projects!</a></p><p>Writing done by myself, largely. horrificnecktieenjoyer wrote and designed the Debs side. I got advice and help from Josherskins, Flowersinthesnow, Cecilla, Martha, Bailey Lagopus, and Mike McGovern<p><img src='https://itsastronomical.com/assets/astroretro.gif' width='150px'></img><br><p>The VP skipper belongs to Decstar.  and of course...</p><h4>Special Thanks</h4><p>...thank you for playing!</p><p>- Astronomical</p><img src='https://itsastronomical.com/assets/astro_in_space_woooo.png' width='800px'></img><br><br><p>What are you doing here?! Go play the mod again!</p></div>\", \"has_visits\": 1, \"no_electoral_majority_image\": \"/static/images/1968-no-majority.jpg\"}}]");
campaignTrail_temp.candidate_json = JSON.parse("[{\"model\": \"campaign_trail.candidate\", \"pk\": 24, \"fields\": {\"first_name\": \"Woodrow\", \"last_name\": \"Wilson\", \"election\": 4, \"party\": \"Democrat\", \"state\": \"New Jersey\", \"priority\": 2, \"description\": \"<p>Woodrow Wilson and the Democrats enter the 1912 campaign season in a cautiously optimistic position. With the rift in the Republican Party between the Regulars and Progressives growing stronger day by day, there is a high degree of confidence that Democrats can return to the White House for the first time in 16 years no matter what happens between Taft and Roosevelt.</p><p>Wilson's supporters will need to manuever during the Baltimore Convention to defeat frontrunner Champ Clark and secure the party's mantle - with the help of a variety of often conflicting forces. Then, Wilson will need to pivot to the general election, and dispatch the Republicans in whatever shape or form they take in order to return the Executive to the Democrats for the first time this century.</p>\", \"color_hex\": \"#5a5a90\", \"secondary_color_hex\": \"#90C0FF10\", \"is_active\": 1, \"image_url\": \"https://itsastronomical.com/assets/1912/wilson_3.png\", \"electoral_victory_message\": \"<h3>Congratulations! You have won the 1968 election!</h3>\", \"electoral_loss_message\": \"<h3>Sorry, you have lost the 1968 election.</h3>\", \"no_electoral_majority_message\": \"<h3>Wow! No candidate achieved a majority in the electoral college.</h3>\", \"description_as_running_mate\": null, \"candidate_score\": 0.7}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 23, \"fields\": {\"first_name\": \"William Howard\", \"last_name\": \"Taft\", \"election\": 4, \"party\": \"Republican (Regular)\", \"state\": \"Ohio\", \"priority\": 1, \"description\": \"<p>William Howard Taft enters the 1912 campaign season fighting a two front war. On the one side are the Democrats that seek to oust him from office. On the other side is a faction led by his old friend, Theodore Roosevelt. For the President, who did not even wish to run again, there is no room for error to prevent this assault on the very foundation of Government.</p><p>Taft, being the incumbent, wields a variety of advantages (and disadvantages) that come with his position. His influence over party regulars should help keep the machinery working against Roosevelt. Facing Woodrow Wilson will be a challenge too, of course. Taft's general unpopularity with the public will make uniting a coalition to win much more difficult.</p>\", \"color_hex\": \"#a06e6e\", \"secondary_color_hex\": \"#FFA0A0\", \"is_active\": 1, \"image_url\": \"https://itsastronomical.com/assets/1912/taft.png\", \"electoral_victory_message\": \"<h3>Congratulations! You have won the 1924 election!</h3>\", \"electoral_loss_message\": \"<h3>Sorry, you have lost the 1924 election.</h3>\", \"description_as_running_mate\": null, \"candidate_score\": 0.666}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 25, \"fields\": {\"first_name\": \"Theodore\", \"last_name\": \"Roosevelt\", \"election\": 4, \"party\": \"Republican (Progressive)\", \"state\": \"New York\", \"priority\": 3, \"description\": \"<p>Theodore Roosevelt enters the 1912 campaign looking to oust Taft and reclaim control of the Republican Party. He benefits from the unpopularity of the sitting President and a desire by many Progressives in the Republican Party to dump Taft and change course. Roosevelt's time away in Africa and Asia has only solidified his belief in a new nominee.</p><p>Roosevelt cannot just waltz in and be expected to be handed the nomination. Roosevelt must first triumph over party machinations and defeat Taft at the convention. Then, he must pivot towards the general election and prevent Democrats from reclaiming the White House. Of course, he could also buck the two party system if all goes wrong...</p>\", \"color_hex\": \"#62a763\", \"secondary_color_hex\": \"#FFFFC0\", \"is_active\": 1, \"image_url\": \"https://itsastronomical.com/assets/1912/theodoreroosevelt.png\", \"electoral_victory_message\": \"<h3>Wow! You have won the 1968 election in a shocker!</h3>\", \"electoral_loss_message\": \"<h3>Sorry, you did not prevent an electoral college majority.</h3>\", \"no_electoral_majority_message\": \"<h3>Congratulations! You have deadlocked the electoral college with your votes in the South.</h3>\", \"description_as_running_mate\": null, \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 91, \"fields\": {\"first_name\": \"Eugene\", \"last_name\": \"Debs\", \"election\": 4, \"party\": \"Socialist\", \"state\": \"Indiana\", \"priority\": 1, \"description\": \"<p>Eugene Debs and the Socialist movement enter the 1912 election in a position like never before. The instability and discontent with both parties provide the socialists with a unique chance to scoop up a large share of the vote - some think Debs could even come close to winning a state, or at least securing second place in some corners of the country.</p><p>Debs' past campaigns have seen mixed success, consistently hovering around 2-3% of the vote. But with this much theatre and chaos, the time is ripe for the socialists, and the working man, to claim their seat at the political table. Debs' biggest problem, of course, is that he does better at being a celebrity than a politician interested in maximizing his vote share. If he can take a difference course this time around, the Socialist Party has the opportunity to really influence American politics.</p>\", \"color_hex\": \"#680600\", \"secondary_color_hex\": \"#FFA0A0\", \"is_active\": 1, \"image_url\": \"https://itsastronomical.com/assets/1912/debs.png\", \"electoral_victory_message\": \"<h3>Congratulations! You have won the 1924 election!</h3>\", \"electoral_loss_message\": \"<h3>Sorry, you have lost the 1924 election.</h3>\", \"description_as_running_mate\": null, \"candidate_score\": 0.666}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 95, \"fields\": {\"first_name\": \"Emil\", \"last_name\": \"Seidel\", \"election\": 4, \"party\": \"Socialist\", \"state\": \"Wisconsin\", \"priority\": 1, \"description\": \"<p>Eugene Debs and the Socialist movement enter the 1912 election in a position like never before. The instability and discontent with both parties provide the socialists with a unique chance to scoop up a large share of the vote - some think Debs could even come close to winning a state, or at least securing second place in some corners of the country.</p><p>Debs' past campaigns have seen mixed success, consistently hovering around 2-3% of the vote. But with this much theatre and chaos, the time is ripe for the socialists, and the working man, to claim their seat at the political table. Debs' biggest problem, of course, is that he does better at being a celebrity than a politician interested in maximizing his vote share. If he can take a difference course this time around, the Socialist Party has the opportunity to really influence American politics.</p>\", \"color_hex\": \"#a06e6e\", \"secondary_color_hex\": \"#FFA0A0\", \"is_active\": 0, \"image_url\": \"https://itsastronomical.com/assets/1912/seidel.png\", \"electoral_victory_message\": \"<h3>Congratulations! You have won the 1924 election!</h3>\", \"electoral_loss_message\": \"<h3>Sorry, you have lost the 1924 election.</h3>\", \"description_as_running_mate\": \"<p>The antidote to Debs’ radicalism is Mayor Emil Seidel. Pushed onto the ticket by the increasingly powerful Victor Berger, Seidel is representative of the right wing of the party. Born in Pennsylvania before moving to Wisconsin, Seidel was with the worker from the age of 13 onward as a woodcarver and became a member of the party in 1892.</p><p>Under his tenure as Mayor of Milwaukee, Seidel has achieved many reforms on the municipal level. The closing of brothels, regulation of gambling, and public works are just a few of his achievements in his remarkable achievement of being an elected socialist. His accomplishments will certainly draw some who are looking for genuine results to see as to what socialism could achieve in America.</p>\", \"candidate_score\": 0.666}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 55, \"fields\": {\"first_name\": \"James\", \"last_name\": \"Sherman\", \"election\": 4, \"party\": \"Republican\", \"state\": \"Maryland\", \"priority\": 29, \"description\": \"n/a\", \"color_hex\": \"#FF0000\", \"secondary_color_hex\": \"#FFA0A0\", \"is_active\": 0, \"image_url\": \"/static/images/spiro-agnew-1968.jpg\", \"electoral_victory_message\": \"n/a\", \"electoral_loss_message\": \"n/a\", \"no_electoral_majority_message\": \"n/a\", \"description_as_running_mate\": \"<p>Spiro Agnew has served as the Governor of Maryland since 1967, and he brings a reputation as a moderate on many issues including civil rights and the environment.</p><p>Agnew's Maryland background and his Greek heritage can help Nixon appeal both to Southern moderates and to blue collar workers who might otherwise be drawn to Wallace.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 56, \"fields\": {\"first_name\": \"Nelson\", \"last_name\": \"Rockefeller\", \"election\": 4, \"party\": \"Republican\", \"state\": \"New York\", \"priority\": 30, \"description\": \"n/a\", \"color_hex\": \"#FF0000\", \"secondary_color_hex\": \"#FFA0A0\", \"is_active\": 0, \"image_url\": \"/static/images/nelson-rockefeller-1968.jpg\", \"electoral_victory_message\": \"n/a\", \"electoral_loss_message\": \"n/a\", \"no_electoral_majority_message\": \"n/a\", \"description_as_running_mate\": \"<p>Rockefeller and Nixon competed vigorously for the 1968 nomination. Rockefeller's moderate reputation and New York location could both be assets in the campaign.</p><p>By selecting Rockefeller, Nixon would dampen his chances against Wallace in the South and would need to run well against Humphrey in the big northern cities to win the election.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 44, \"fields\": {\"first_name\": \"Ronald\", \"last_name\": \"Reagan\", \"election\": 4, \"party\": \"Republican\", \"state\": \"California\", \"priority\": 31, \"description\": \"n/a\", \"color_hex\": \"#FF0000\", \"secondary_color_hex\": \"#FFA0A0\", \"is_active\": 0, \"image_url\": \"/static/images/ronald-reagan-1968.jpg\", \"electoral_victory_message\": \"n/a\", \"electoral_loss_message\": \"n/a\", \"no_electoral_majority_message\": \"n/a\", \"description_as_running_mate\": \"<p>The standard-bearer of the conservative Republicans, Reagan can virtually assure a victory in California, where he presides as Governor. He has taken a firm stand against protests and disorder in that state and will reinforce Nixon's credibility as a champion of good order.</p><p>However, Reagan will not help Nixon very much in the competitive Northeast and Midwest states where he must challenge Humphrey.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 57, \"fields\": {\"first_name\": \"George\", \"last_name\": \"Romney\", \"election\": 4, \"party\": \"Republican\", \"state\": \"Michigan\", \"priority\": 32, \"description\": \"n/a\", \"color_hex\": \"#FF0000\", \"secondary_color_hex\": \"#FFA0A0\", \"is_active\": 0, \"image_url\": \"/static/images/george-romney-1968.jpg\", \"electoral_victory_message\": \"n/a\", \"electoral_loss_message\": \"n/a\", \"no_electoral_majority_message\": \"n/a\", \"description_as_running_mate\": \"<p>A moderate Republican from Michigan and another failed challenger to Nixon for the nomination, Romney can help immensely in the Midwest.</p><p>Romney is an avowed peace candidate however, which could hurt Nixon in the South. He will mainly help Nixon compete against Humphrey -- not against Wallace.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 58, \"fields\": {\"first_name\": \"Thomas\", \"last_name\": \"Marshall\", \"election\": 4, \"party\": \"Democrat\", \"state\": \"Maine\", \"priority\": 33, \"description\": \"n/a\", \"color_hex\": \"#0000FF\", \"secondary_color_hex\": \"#90C0FF\", \"is_active\": 0, \"image_url\": \"/static/images/edmund-muskie-1968.jpg\", \"electoral_victory_message\": \"n/a\", \"electoral_loss_message\": \"n/a\", \"no_electoral_majority_message\": \"n/a\", \"description_as_running_mate\": \"<p>Muskie is a Senator from Maine, and although he has a low national profile he could help Humphrey solidify his base and carry the Northeastern states.</p><p>By going with Muskie, Humphrey would probably be writing off most of the South and also would be giving Nixon an opening among moderate voters.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 59, \"fields\": {\"first_name\": \"Fred\", \"last_name\": \"Harris\", \"election\": 4, \"party\": \"Democrat\", \"state\": \"Oklahoma\", \"priority\": 34, \"description\": \"n/a\", \"color_hex\": \"#0000FF\", \"secondary_color_hex\": \"#90C0FF\", \"is_active\": 0, \"image_url\": \"/static/images/fred-harris-1968.jpg\", \"electoral_victory_message\": \"n/a\", \"electoral_loss_message\": \"n/a\", \"no_electoral_majority_message\": \"n/a\", \"description_as_running_mate\": \"<p>A Democrat from Oklahoma, Harris could help his party make a play for some of the Southern states without alienating its liberal wing.</p><p>Harris will add very little to the campaign if he fails to deliver some states in the South, and his young age (37 years) could be alarming to some voters.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 60, \"fields\": {\"first_name\": \"John\", \"last_name\": \"Connally\", \"election\": 4, \"party\": \"Democrat\", \"state\": \"Texas\", \"priority\": 35, \"description\": \"n/a\", \"color_hex\": \"#0000FF\", \"secondary_color_hex\": \"#90C0FF\", \"is_active\": 0, \"image_url\": \"/static/images/john-connally-1968.jpg\", \"electoral_victory_message\": \"n/a\", \"electoral_loss_message\": \"n/a\", \"no_electoral_majority_message\": \"n/a\", \"description_as_running_mate\": \"<p>Connally was and is the Governor of Texas who was infamously wounded in the Kennedy Assassination. He would reinforce a moderate image, help deliver Texas to the ticket, and dampen the appeal of Wallace elsewhere to all but the most hard-line segregationists.</p><p>However the anti-war, liberal wing of the party will surely recoil at this selection.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 61, \"fields\": {\"first_name\": \"Ted\", \"last_name\": \"Kennedy\", \"election\": 4, \"party\": \"Democrat\", \"state\": \"Massachusetts\", \"priority\": 36, \"description\": \"n/a\", \"color_hex\": \"#0000FF\", \"secondary_color_hex\": \"#90C0FF\", \"is_active\": 0, \"image_url\": \"/static/images/ted-kennedy-1968.jpg\", \"electoral_victory_message\": \"n/a\", \"electoral_loss_message\": \"n/a\", \"no_electoral_majority_message\": \"n/a\", \"description_as_running_mate\": \"<p>Younger brother to John and Robert Kennedy and a staunch liberal, Ted Kennedy would be a choice if Humphrey wished to reconcile with the liberal and anti-war wing of the party.</p><p>Kennedy will not accept the nomination, however, unless Humphrey repudiates the hawkish policies of President Johnson. This could cause problems with moderates and more importantly with the Democratic establishment.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 62, \"fields\": {\"first_name\": \"Hiram\", \"last_name\": \"Johnson\", \"election\": 4, \"party\": \"Republican\", \"state\": \"Ohio\", \"priority\": 37, \"description\": \"n/a\", \"color_hex\": \"#FF0000\", \"secondary_color_hex\": \"#FFA0A0\", \"is_active\": 0, \"image_url\": \"/static/images/curtis-lemay-1968.jpg\", \"electoral_victory_message\": \"n/a\", \"electoral_loss_message\": \"n/a\", \"no_electoral_majority_message\": \"n/a\", \"description_as_running_mate\": \"<p>A famous (some say infamous) General in the Army for many years, LeMay is dismayed by the prospect of Richard Nixon accepting nuclear parity with the Soviet Union. He also is drawn to Wallace's message of social order.</p><p>LeMay is prone to make off the cuff remarks about the use of nuclear weapons, however, which could lead to concerns about Wallace's foreign policy vision.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 63, \"fields\": {\"first_name\": \"Happy\", \"last_name\": \"Chandler\", \"election\": 4, \"party\": \"Democrat\", \"state\": \"Kentucky\", \"priority\": 38, \"description\": \"n/a\", \"color_hex\": \"#0000FF\", \"secondary_color_hex\": \"#90C0FF\", \"is_active\": 0, \"image_url\": \"/static/images/happy-chandler-1968.jpg\", \"electoral_victory_message\": \"n/a\", \"electoral_loss_message\": \"n/a\", \"no_electoral_majority_message\": \"n/a\", \"description_as_running_mate\": \"<p>A Democratic Senator from Kentucky and former Commissioner of Major League Baseball, Chandler would give Wallace's outsider campaign some credibility.</p><p>As a conservative Democrat, Chandler supports the calls for law and order and fiscal conservatism. However, he will not stand as Wallace's running mate unless he softens his rhetoric on segregation, which in turn could alienate other Southern states.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 64, \"fields\": {\"first_name\": \"Strom\", \"last_name\": \"Thurmond\", \"election\": 4, \"party\": \"Republican\", \"state\": \"South Carolina\", \"priority\": 39, \"description\": \"n/a\", \"color_hex\": \"#FF0000\", \"secondary_color_hex\": \"#FFA0A0\", \"is_active\": 0, \"image_url\": \"/static/images/strom-thurmond-1968.jpg\", \"electoral_victory_message\": \"n/a\", \"electoral_loss_message\": \"n/a\", \"no_electoral_majority_message\": \"n/a\", \"description_as_running_mate\": \"<p>The most mainline Southerner among Wallace's options, Thurmond did well in his own right when running in 1948.</p><p>Thurmond's presence could help tilt the Carolinas in Wallace's direction, but it will take every ounce of Wallace's persuasive acumen to get Thurmond to agree to run.</p>\", \"candidate_score\": 0.0}}]");

campaignTrail_temp.running_mate_json = JSON.parse("[{\"model\": \"campaign_trail.running_mate\", \"pk\": 1, \"fields\": {\"candidate\": 91, \"running_mate\": 95}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 2, \"fields\": {\"candidate\": 24, \"running_mate\": 58}},  {\"model\": \"campaign_trail.running_mate\", \"pk\": 3, \"fields\": {\"candidate\": 23, \"running_mate\": 55}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 4, \"fields\": {\"candidate\": 25, \"running_mate\": 62}}]");

campaignTrail_temp.opponents_default_json = JSON.parse("[{\"election\": 4, \"candidates\": [25, 24, 23, 91]}]");

campaignTrail_temp.global_parameter_json = JSON.parse("[{\"model\": \"campaign_trail.global_parameter\", \"pk\": 1, \"fields\": {\"vote_variable\": 1.125, \"max_swing\": 0.12, \"start_point\": 0.94, \"candidate_issue_weight\": 10.0, \"running_mate_issue_weight\": 3.0, \"issue_stance_1_max\": -0.71, \"issue_stance_2_max\": -0.3, \"issue_stance_3_max\": -0.125, \"issue_stance_4_max\": 0.125, \"issue_stance_5_max\": 0.3, \"issue_stance_6_max\": 0.71, \"global_variance\": 0.01, \"state_variance\": 0.005, \"question_count\": 30, \"default_map_color_hex\": \"#C9C9C9\", \"no_state_map_color_hex\": \"#999999\"}}]");

campaignTrail_temp.temp_election_list = [{"id": 4, "year": 1912, "is_premium": 0, "display_year": "1912"}];

campaignTrail_temp.modBoxTheme = {
    "header_color": "#77211c",
   "header_image_url": "https://itsastronomical.com/assets/1912/1912box.png",
     "header_text_color": "#ffffff",
     "description_text_color": "#000000",
     "description_background_color": "#dce3f4",
    "main_color": "#727c96",
    "secondary_color": "#77211c",
    "ui_text_color": "#FFFFFF"
}

HistHexcolour=["#5a5a90","#62a763","#a06e6e","#680600"];
HistName=[" Woodrow Wilson"," Theodore Roosevelt"," William Howard Taft"," Eugene Debs/Others"];
HistEV=[435,88,8,0];
HistPV=["6,296,284","4,122,721","3,486,242","1,143,587"];
HistPVP=["41.84%","27.40%","23.17%","7.59%"];
    
campaignTrail_temp.election_json[0]["fields"].image_url = "https://itsastronomical.com/assets/1912/1912big.png";

// ctsAchievement("")
campaignTrail_temp.achievements = {
    "Princeton to the Presidency" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/wilson.png",
        "description" : "Win as Wilson with over 500 Electoral Votes",
        "cannotBeCheated" : true
     },
     "The People's Choice" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/donkey.png",
        "description" : "As Wilson, sweep the convention",
        "cannotBeCheated" : true
     },
     "Filling the Shoes" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/shoes.png",
        "description" : "As Wilson, let Clark have his day",
        "cannotBeCheated" : true
     },
     "Of Course I Added This" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/hoosier.png",
        "description" : "As Wilson, do the thing that's already been done before",
        "cannotBeCheated" : true
     },
     "Blissfulness" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/bliss.png",
        "description" : "As Wilson, don't attack your primary opposition and still win the nomination.",
        "cannotBeCheated" : true
     },
     "Woodrow Woke-sin" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/woke.png",
        "description" : "As Wilson, go woke and support Women's Suffrage ahead of time",
        "cannotBeCheated" : true
     },
     "I Keep My Bridges Next To Me" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/speaker.png",
        "description" : "As Wilson, have Clark resign as Speaker of the House",
        "cannotBeCheated" : true
     },
     "Canon Event" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/canon.png",
        "description" : "As Wilson, get the exact history Electoral Vote tally.",
        "cannotBeCheated" : true
     },
     "Toryism" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/tory.png",
        "description" : "As Wilson, push Taft into changing course. May require Hard difficulty, or higher.",
        "cannotBeCheated" : true
     },
     "Honest John" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/president.png",
        "description" : "As Wilson, help bring about a new President",
        "cannotBeCheated" : true
     },
     "Wake Up America!" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/greatwar.png",
        "description" : "As Wilson, join World War I ahead of time",
        "cannotBeCheated" : true
     },
     "The Darkest Timeline" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/flag.png",
        "description" : "As Wilson, deadlock or lose the election",
        "cannotBeCheated" : true
     },
     "Keep in the Chair" : { // Taft achievements
        "image" : "https://itsastronomical.com/assets/1912/achieve/taftwin.png",
        "description" : "As Taft, win the election",
        "cannotBeCheated" : true
     },
     "Century of Humiliation" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/anya.png",
        "description" : "As Taft, raise the tariff schedule",
        "cannotBeCheated" : true
     },
     "Realignment" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/somuchtaft.gif",
        "description" : "As Taft, lower the tariff schedule and lose the election",
        "cannotBeCheated" : true
     },
     "The 51st State" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/canada.png",
        "description" : "As Taft, secure a trade agreement with Canada",
        "cannotBeCheated" : true
     },
     "Taft-Teddy Truce" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/compromise.png",
        "description" : "As Taft, get Roosevelt to agree to a compromise candidate",
        "cannotBeCheated" : true
     },
     "Still In The Arena" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/stillin.png",
        "description" : "As Taft, secure at least 70 electoral votes in a three-man race",
        "cannotBeCheated" : true
     },
     "Just Getting Started" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/rnc.png",
        "description" : "As Taft, deadlock the Republican National Convention",
        "cannotBeCheated" : true
     },
     "BMI Hire" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/taftcourt.png",
        "description" : "As Taft, secure a place on the Supreme Court through politicking",
        "cannotBeCheated" : true
     },
     "Hole-In-30 Questions" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/taftgolf.png",
        "description" : "As Taft, become an expert at golf",
        "cannotBeCheated" : true
     },
     "The B Team" : { // Roosevelt achievements
        "image" : "https://itsastronomical.com/assets/1912/achieve/roosevelt.png",
        "description" : "As Roosevelt, win the election",
        "cannotBeCheated" : true
     },
     "Heil Columbia" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/columbia.png",
        "description" : "As Roosevelt, win over 350 electoral votes",
        "cannotBeCheated" : true
     },
     "A Square Deal" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/squaredeal.png",
        "description" : "As Roosevelt, secure over 160 electoral votes as a Bull Moose",
        "cannotBeCheated" : true
     },
     "Members Only" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/trcanada.png",
        "description" : "As Roosevelt, guide Taft into passing the reciprocity agreement with Canada",
        "cannotBeCheated" : true
     },
     "Might Make Right" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/contesteddelegates.png",
        "description" : "As Roosevelt, secure the contested delegates at the Republican National Convention",
        "cannotBeCheated" : true
     },
     "Wasn’t Historically Accurate" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/fightingbob.png",
        "description" : "As Roosevelt, find the will to… select Robert La Follette as your running mate?",
        "cannotBeCheated" : true
     },
     "Come Together" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/beatles.png",
        "description" : "As Roosevelt, reunite The Beatles",
        "cannotBeCheated" : true
     },
     "It Happened Here" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/dictator.png",
        "description" : "As Roosevelt, exert full authority - requires cheating",
        "cannotBeCheated" : false
     },
     "Bed Springs" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/garfield.png",
        "description" : "As Roosevelt, botch an emergency surgery",
        "cannotBeCheated" : true
     },
     "Show-Me A Compromise!" : { // Shared achievements - Taft or Roosevelt
        "image" : "https://itsastronomical.com/assets/1912/achieve/herbert.png",
        "description" : "As Taft or Roosevelt, allow a compromise candidate to win the election",
        "cannotBeCheated" : true
     },
     "Pandemic Prep" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/dumbfuckingbaby.png",
        "description" : "As the compromise candidate, win despite a health scare",
        "cannotBeCheated" : true
     },
     "Unburdened By What Hath Been" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/flight.png",
        "description" : "Win as the compromise candidate with over 340 electoral votes",
        "cannotBeCheated" : true
     },
     "Death of a Nation" : { 
        "image" : "https://itsastronomical.com/assets/1912/wilsoncartoon.png",
        "description" : "As any Republican, take Woodrow Wilson to school",
        "cannotBeCheated" : true
     },
     "Chump Clark" : { 
        "image" : "https://itsastronomical.com/assets/1912/clarkcartoon.png",
        "description" : "As any Republican, veto the bill straight from the Speaker’s office",
        "cannotBeCheated" : true
     },
     "Old Sport" : { 
        "image" : "https://itsastronomical.com/assets/1912/marshallcartoon.png",
        "description" : "As any Republican, smoke a five-cent cigar",
        "cannotBeCheated" : true
     },
     "The Internationale" : { // Debs achievements
        "image" : "https://itsastronomical.com/assets/1912/achieve/tall.png",
        "description" : "As Debs, destroy an artifact of bourgeois politics. Easy difficulty and lower allowed.",
        "cannotBeCheated" : false
     },
     "I was, I am, I shall be!" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/yell.png",
        "description" : "As Debs, outrun history and perform better than the historical results.",
        "cannotBeCheated" : true
     },
     "The Red Flag" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/king.png",
        "description" : "As Debs, enter the Electoral College.",
        "cannotBeCheated" : true
     },
     "Gompers' Heroes" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/gomp.png",
        "description" : "As Debs, pour one out for social democracy.",
        "cannotBeCheated" : true
     },
     "Einheitsfront" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/inter.png",
        "description" : "As Debs, redirect the Progressive movement.",
        "cannotBeCheated" : true
     },
     "Hoosier Loser" : { 
        "image" : "https://itsastronomical.com/assets/1912/achieve/ruling.png",
        "description" : "As Debs, do a good job for the ruling class.",
        "cannotBeCheated" : true
     }
}

async function appendStyle() {
      var metaTag=document.createElement('meta');
      metaTag.name = "viewport";
      metaTag.content = "width=device-width, initial-scale=1";
      document.getElementsByTagName('head')[0].appendChild(metaTag);
  
      if (!document.querySelector('#radio-option-style')) {
          let style = document.createElement('style');
          style.type = 'text/css';
          style.id = 'radio-option-style';
          style.innerHTML = `
          .inner_inner_window {
          display: flex;
          flex-direction: column;
          }
          .inner_inner_window h3{
              padding: 5px;
          }
  
          #candidate_pic,
          #running_mate_pic,
          .inner_window_sign_display {
              height: 167px;
          }
          #candidate_pic {
              margin-left: 160px;
          }
          #running_mate_pic {
              margin-right: 160px;
          }
          `;
  
          document.head.appendChild(style);
      }
}
  appendStyle();
  
  e = campaignTrail_temp
  
const startScreenUpdater = setInterval(function() {
    const goBackButton = document.getElementById("candidate_id_back");
    const candidateButton = document.getElementById("candidate_id_button");
    const runningMateButton = document.getElementById("running_mate_id_button");
    const finalScreenBB = document.getElementById("opponent_selection_id_back");
    const finalScreenID = document.getElementById("opponent_selection_id_button");
    
    /* if((candidateButton || c != 0)&& !runningMateButton){ // change theme on candidate viewing
        var c = document.getElementById("candidate_id")?.value ?? -1;
        if(c == 24 && !(candidateButton) && !(runningMateButton)) {
            goBackButton.click();
            const initContinue = document.getElementById("election_id_button");
            initContinue.click();
        }
    } */
    
   if(!candidateButton && runningMateButton) { 
        runningMateButton.click();
        const finalBack = document.getElementById("opponent_selection_id_back");
        finalBack.remove();
        observer.disconnect()
    }

    if(finalScreenID && finalScreenBB) { // delete back button and delete the interval
        finalScreenBB.remove();
        clearInterval(startScreenUpdater);
    }
}, 1);


const windowCheck = localStorage.getItem('astroWindow');

function addColor() {
    var difficultyDiv = document.getElementById("difficulty_level");
    if (difficultyDiv && done != true && !document.getElementById("bunnyhopDropdown")) {
              done = true;
              console.log("HQ button")
              campaignTrail_temp.bunnyhop = false;
              done2 = true;
              var newForm = document.createElement("form");
              newForm.name = "new_selection";
              var newHeader = document.createElement("h3");
              newHeader.textContent = "Enable Draggable Campaign HQ?";
              newForm.appendChild(newHeader);
              var newCheckbox = document.createElement("input");
              newCheckbox.type = "checkbox";
              newCheckbox.id = "new";
              if (windowCheck == "true") {
                newCheckbox.checked = true;
              }
              else {
                newCheckbox.checked = false;
              }
              newForm.appendChild(newCheckbox);
              difficultyDiv.appendChild(newForm);

              newCheckbox.addEventListener("change", function() {
                  if (this.checked){
                      campaignTrail_temp.window = true;
                      localStorage.setItem("astroWindow", "true")
                      clearInterval(removeCandidateSummaryInterval)
                  }else{          
                    campaignTrail_temp.window = false;
                    localStorage.setItem("astroWindow", "false")
                    clearInterval(removeCandidateSummaryInterval)
                  }
              });
  
              var difficultyForm = document.querySelector('form[name="difficulty_level_selection"]');
              var difficultyHeader = difficultyForm.querySelector('h3');
              difficultyHeader.textContent = "Select campaign difficulty:";
  
              var forms = document.querySelectorAll("#difficulty_level form");
              for (var i = 0; i < forms.length; i++) {
                forms[i].style.display = "inline-block";
                forms[i].style.paddingLeft = "10px"; // adjust the value as needed
                forms[i].style.paddingRight = "10px"; // adjust the value as needed
              }
  
    }
}

// the wrapper here is the same that makes sure your music player doesn't exist twice basically
if(!campaignTrail_temp.observer){
  
      campaignTrail_temp.observer = true
  
      // Define the MutationObserver
      let masterObserver = new MutationObserver(masterFunction);
      function masterFunction() {
          masterObserver.disconnect();
  
          addColor();
  
          masterObserver.observe(document.body, { childList: true, subtree: true });
      }
  
      // Start observing the document with the master observer
      masterObserver.observe(document.body, { childList: true, subtree: true });
}
