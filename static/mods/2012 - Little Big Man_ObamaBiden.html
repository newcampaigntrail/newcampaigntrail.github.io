campaignTrail_temp.questions_json = [
    {
        "model": "campaign_trail.question",
        "pk": 130,
        "fields": {
            "priority": 0,
            "description": "Hope, very much like love, is a contact sport. Four years ago you had it in abundance; packed stadiums, crying crowds, and all that jazz. But times have changed, and you got to focus on the present. The year is 2012. After facing all but minimal opposition, you’ve locked up the Democratic primaries and the general election is upon us. <br/> You need to pick a lane for the general election, and you need to do it now. What is the narrative?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 42,
        "fields": {
            "priority": 1,
            "description": "You’re rubbing your temples as the latest reports from the Hill land in your inbox. Even though the Supreme Court didn’t strike down the Affordable Care Act last month, the Republicans are acting like they did. Worse, they’re running ads featuring grandmothers crying about “death panels” and premiums skyrocketing. The law is your legacy, but right now, it feels like an anchor around your neck in swing states. With the election looming, how do you defend your law with the public?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 114,
        "fields": {
            "priority": 1,
            "description": "You’re staring at <i>that photo</i> on the wall of the West Wing; you know the one. Hands clasped, eyes glued to the screen, and minutes away from seeing SEALs take out bin Laden. It was the gutsiest call of the decade, yet you turn on the TV and hear {{opLast}} and others claiming you’ve been on an “Apology Tour” for four years. You’re “leading from behind” in Libya, they say, and letting Russia walk all over us. This is giving you a migraine. How do you square your record with the “weakness” narrative?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 25,
        "fields": {
            "priority": 1,
            "description": "Some time ago, you realized the “fiscal cliff” is like a time bomb ticking down to December 31st. You’re looking at the budget projections with Geithner, and the numbers are pretty ugly. The Bush tax cuts are set to expire right after the election. The GOP wants them permanent for everyone; your base wants to stick it to the 1%. You can kick the can down the road or draw a line in the sand right now. What’s your play?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 7,
        "fields": {
            "priority": 1,
            "description": "Attorney General Eric Holder is on the line, and he sounds tired. The Supreme Court just handed down a mixed bag on Arizona’s new SB 1070 immigration law. They struck down most of it, but kept the “show me your papers” provision alive. That provision allows police officers to check the immigration status of anyone they stop and suspect of being in the country illegally. How do you frame your reaction to this law — do you think this law is a good idea?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 22,
        "fields": {
            "priority": 1,
            "description": "Your Vice President, Joe Biden, recently stated he was “absolutely comfortable” with gay marriage. After years of saying your own views were “evolving,” the country wants to know: what is your definitive position on gay marriage?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 32,
        "fields": {
            "priority": 2,
            "description": "The Bush-era No Child Left Behind (NCLB) Act had its 10th anniversary earlier in January. Although the law passed with broad support at the time, it has since then faced criticism from both members of your party and from Republicans. Arne Duncan shows you the latest metrics, and they aren’t pretty; there hasn’t been a lot of learning, both from students and also from the entire process. Ten years later, you have an opportunity to review this law.",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 93,
        "fields": {
            "priority": 0,
            "description": "Well, it’s time. After a restless three years, the Democratic National Convention in Charlotte is your moment to reintroduce yourself to the country and frame the final two months of the campaign. You can hear the roar of the delegates behind the curtain, but it feels different than Denver four years ago; it’s closing time. What will be the overriding theme of your nomination speech?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 301,
        "fields": {
            "priority": 1,
            "description": "Unsurprisingly, you chose to reappoint Vice President Joe Biden as your running mate this year. You look over at him, and also his aviator-sunglasses grin. He’s been a headache for your press team, a gaffe machine, and occasionally a loose cannon... but he’s also the guy who had your back on the stimulus and the auto bailout when everyone else flinched. The press wants a quote about why you kept him on the ticket. What do you tell them?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 300,
        "fields": {
            "priority": 1,
            "description": "It’s almost midnight, but that doesn’t stop Rahm from knocking on your door. After hours of doodling, you let him in, and he brings you news: it looks like the Republicans have finally selected a nominee. It’s {{opName}}, who managed to emerge victorious from a surprisingly crowded and contentious primary field. The convention also nominated {{vpName}} for Vice President, he told you. Although it’s still early, he wonders — are you willing to make a statement tonight?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 21398,
        "fields": {
            "priority": 2,
            "description": "Your communications team has flooded your schedule with media requests, and you need to choose where to invest your time in the coming weeks. From traditional news interviews to entertainment shows to whatever is cool on TV nowadays… Barack, what’s your media strategy?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 34,
        "fields": {
            "priority": 2,
            "description": "Michigan was one of the hardest hit states in the recent recession, even after the auto rescue. Some have proposed taxing foreign‑made cars to give Detroit breathing room, including members from both parties. Do you personally support a tariff on foreign vehicles, and how would you protect U.S. jobs without sparking a trade war?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 21325,
        "fields": {
            "priority": 2,
            "description": "There is no arguing that your ground game is fairly strong, but there’s debate on your team about how to maximize it. Plouffe walks into the Oval Office with a map covered in colored pins and circles, noting that, while you don’t have unlimited funds, they need to make resource allocation decisions now. What do you go for?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 10,
        "fields": {
            "priority": 2,
            "description": "Your administration’s green energy loan program has come under intense fire, especially after the bankruptcy of Solyndra, a solar panel company that received a large federal loan guarantee. Should the federal government continue to finance newer companies that attempt to develop alternative energy resources?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 21520,
        "fields": {
            "priority": 0,
            "description": "The news arrives in the middle of the night: the U.S. consulate in Benghazi has been overrun, and Ambassador Chris Stevens and other three Americans died defending the compound. Although details are still emerging, already the political vultures are circling and accusing your administration of “sympathizing with attackers.” What is your response?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 83,
        "fields": {
            "priority": 2,
            "description": "Mitt Romney built his fortune at Bain Capital, the private equity firm he co-founded in 1984. His campaign touts it as proof of his business acumen; that he knows how to create jobs, make though decisions, and all that crap. On the other hand, Bain’s model involved acquiring companies, loading them with debt, extracting fees, and sometimes dismembering them for parts. How do you frame Romney’s Bain record?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 21455,
        "fields": {
            "priority": 2,
            "description": "Michelle walks into your office late one evening with a folder of policy papers and that look in her eyes you’ve learned to recognize. She wants to expand her school nutrition initiatives into something bolder: universal free breakfast and lunch for all public school students, regardless of family income. Not only that, but she is waiting for an answer — your answer, that is —, and she’s not in a patient mood.",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 46,
        "fields": {
            "priority": 2,
            "description": "At the recession’s worst, Congress stretched unemployment insurance to a historic 99 weeks. As the recovery creeps along, those extensions are being pared back, leaving long‑term job seekers in limbo while deficit hawks breathe easier. Is scaling it down appropriate now, and what guardrails — if any — should remain?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 21305,
        "fields": {
            "priority": 2,
            "description": "You and {{opLast}} arrive at the University of Denver for the first of three Presidential debates. Honestly, you didn’t want to be here; it’s your twentieth wedding anniversary, the altitude is giving you a headache, and you’ve spent the last month governing rather than prepping for the showdown. But {{opLast}} is more than ready to attack you on the economy and your ‘crushing’ of the middle class. Leading many to wonder: what demeanor will you bring to this debate?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 41,
        "fields": {
            "priority": 2,
            "description": "The ACA’s preventive care rules require most private plans to cover contraception without co‑pays. Although its supporters frame it as a basic health benefit, its opponents see a government mandate trampling religious liberty, especially for faith‑based employers. Should all private insurance plans be required to cover contraceptives and birth control?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 21533,
        "fields": {
            "priority": 2,
            "description": "The Town Hall format in Hempstead seems to suit you better, and you’re pacing the stage like a panther. {{opLast}} has just stumbled over a question about pay equity, muttering something about ‘binders full of women,’ but now he thinks he has you. He turns to the audience, claiming you refused to call Benghazi an ‘act of terror’ in the Rose Garden. He waits for a retraction, smugly looking at moderator Candy Crowley. The trap is set.",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 40,
        "fields": {
            "priority": 2,
            "description": "Last year, Osama bin Laden was found not in a cave, but rather living comfortably inside a complex in a Pakistani garrison town. Either Pakistani intelligence is spectacularly incompetent, or they were hiding him. Since then, relations have been strained with Pakistan, one of the United States’ counterterror partners and also key for your policies in Asia. In light of these events, does it still make sense to provide billions in military aid to Islamabad?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 21550,
        "fields": {
            "priority": 2,
            "description": "You arrive in Boca Raton for the third and final debate. This time the topic is foreign policy, usually your wheelhouse, but {{opLast}} is spending the night aggressively agreeing with you to avoid sounding like a warmonger. He finally tries to pivot to the budget, complaining that the US Navy has fewer ships than it did in 1916. It’s a ridiculous metric, and Bob Schaffer looks to you for a response. You have a chance to end this race with a single sentence.",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 1722,
        "fields": {
            "priority": 0,
            "description": "Just days before the election, Hurricane Sandy has slammed into the East Coast, particularly the states of New York and New Jersey, killing over a hundred people and leaving millions without power. It’s the closest you’ve seen to an apocalypse. How do you navigate this?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 21138,
        "fields": {
            "priority": 0,
            "description": "You hate how this race turned out to be more stressful than you wanted it to. Trying your best to ignore the headache you’ve had for the last 3 days, you and your team both agree that it’s time to leave a final image in voters’ heads. Where do you plan to spend the last days of your campaign?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 44,
        "fields": {
            "priority": 2,
            "description": "Your administration has sent mixed signals on medical marijuana. With more states legalizing it, should the DEA continue to prosecute growers and distributors who are operating legally under their own state’s laws?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 82,
        "fields": {
            "priority": 2,
            "description": "Medicare’s trustees have long warned of long‑term strain as Baby Boomers retire. Even though the ACA slowed cost growth and trimmed overpayments, there remains a debate between premium support vs. traditional Medicare, whether or not to raise the eligibility age, drug price negotiations, and many other things that bore your associates. What should the next steps be to keep Medicare solvent and strengthen the program for future retirees?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 30,
        "fields": {
            "priority": 2,
            "description": "Every few years, Congress flirts with a bill to declare English the official language of the United States. Its backers say it would save money and promote assimilation, but its opponents — including many in your party — warn it would marginalize immigrants, complicate emergency services, and clash with civil rights protections. Would you sign such a bill if it landed on your desk?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 24,
        "fields": {
            "priority": 2,
            "description": "With gas prices remaining a top concern for voters, some of your critics argue that your administration’s environmental and regulatory policies have constrained domestic energy production. At the same time, you’ve promoted investments in renewables, higher fuel efficiency standards, and reduced dependence on foreign oil. Do you believe the United States remains too reliant on fossil fuels for its long-term energy needs, and how should the country balance short-term affordability with energy independence?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 62,
        "fields": {
            "priority": 2,
            "description": "Federal fuel taxes have been the same since 1993, the first year of the Clinton administration. With the Highway Trust Fund nearing insolvency, some in your party are calling for a small increase to the federal gas tax to avoid catastrophes like the 2007 Minnesota bridge collapse. Would you support this?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 21,
        "fields": {
            "priority": 2,
            "description": "After more than a decade of war, the American public is exhausted with our presence in Afghanistan. How long should U.S. troops remain?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 37,
        "fields": {
            "priority": 2,
            "description": "Across the country, classrooms are filling with kids who speak a language other than English at home; data from the Census Bureau shows that about 1 out of 5 school-aged children meet these criteria. Some districts use bilingual programs to build literacy in both languages, while others push full English immersion from day one. In general, do you think bilingual education programs are a good idea for our public schools?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 51,
        "fields": {
            "priority": 2,
            "description": "The European debt crisis continues to threaten the global economy. Chancellor Angela Merkel of Germany is the leading figure in the Eurozone, and she’s been pushing for fiscal austerity as the solution. Should she be doing more to preserve the Euro, perhaps through less stringent measures?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 57,
        "fields": {
            "priority": 2,
            "description": "The budget for the Department of Housing and Urban Development was cut by nearly $4 billion in 2012, even as foreclosures, homelessness, and long voucher waitlists strain cities. Do you believe subsidized housing for the poor is a good place to begin reducing the federal deficit?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 80,
        "fields": {
            "priority": 2,
            "description": "The images from Syria grow more horrific by the week: barrel bombs dropped on bread lines, children pulled from rubble, and entire neighborhoods reduced to ash. Assad has crossed every line except the one you drew (chemical weapons), and even that feels like a matter of time. The rebels are fractured; some democratic, some jihadist, and the intelligence community can't tell you which is which. Russia and Iran back Assad; the Saudis and Turks want you to arm the rebels. At a press conference, a reporter asks if you'd consider military action.",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 85,
        "fields": {
            "priority": 2,
            "description": "Some progressives, particularly within the labor movement, felt you did not take a strong enough public stand against Wisconsin Governor Scott Walker’s anti-union agenda, especially during the 2012 recall election, which he ultimately won. Many union members were disappointed that you did not campaign in Wisconsin during that fight. How do you respond to those criticisms?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 97,
        "fields": {
            "priority": 2,
            "description": "The Equal Rights Amendment first surged in the 1970s and then stalled just shy of ratification. Four decades later, wage gaps and workplace discrimination persist even as women outpace men in college degrees and enter combat roles. Some in your coalition want a renewed constitutional push, including some of your own cabinet members. Do you support a revived campaign for an ERA?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 98,
        "fields": {
            "priority": 2,
            "description": "Despite years of training videos and HR seminars, data from your own government shows that over a third of sexual harassment complaints in 2011 were dismissed at the intake stage — an increase from previous years. Is the country doing enough to prevent harassment at work, and what should change?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 1,
        "fields": {
            "priority": 2,
            "description": "You campaigned on closing Guantánamo Bay and tried to do it in your first year. However, Congress pushed back with transfer bans, the courts tangled with military commissions, and the facility stayed open as a symbol of the post‑9/11 era. Post‑election, do you move to shut it down, and how?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 53,
        "fields": {
            "priority": 2,
            "description": "One item that recently popped up in your list of campaign issues is that of Planned Parenthood. Should taxpayers be forced to subsidize it via federal subsidies?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 74,
        "fields": {
            "priority": 2,
            "description": "This morning you went to an elementary school in suburban Virginia and read books to a class of second-graders. The press pool captured images of you sitting on a tiny chair, holding up “Where the Wild Things Are” while children sat cross-legged at your feet. How did you enjoy yourself?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 72,
        "fields": {
            "priority": 2,
            "description": "The most recent data on Pell Grants indicate that over half of all college students now receive one, with the program’s cost rising to $36 billion. Facing criticism from the right that the program is bloated and from the left that it doesn’t do enough, what changes, if any, would you recommend?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 20,
        "fields": {
            "priority": 2,
            "description": "The drug war in Mexico has created a staggering level of violence right on our border, raising concerns about spillover into American cities. Beyond the existing Mérida Initiative, what is your strategy to help stabilize the situation?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 16,
        "fields": {
            "priority": 2,
            "description": "Do you believe that the United States should contribute funds to help stabilize the European Union’s sovereign debt problems, in order to prevent a possible debt contagion?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 54,
        "fields": {
            "priority": 2,
            "description": "As you’re well aware, the summer of 2011 nearly broke you. Tea Party freshmen held the debt ceiling hostage, demanding cuts in exchange for paying bills Congress had already racked up. In spite of your negotiations, Standard & Poor’s downgraded American credit for the first time in history. And now, with the ceiling approaching again and Republicans smelling blood, a reporter asks: would you ever consider a default on U.S. obligations?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 19,
        "fields": {
            "priority": 2,
            "description": "With immigration and drug smuggling remaining major issues, particularly in border states, some on the right are calling for a more drastic solution. Would you support posting active-duty U.S. Army troops on the U.S.-Mexico border?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 48,
        "fields": {
            "priority": 2,
            "description": "A central figure in the economic debate is Fed Chairman Ben Bernanke — a man appointed by your predecessor, whom you reappointed. His quantitative easing policies have been praised for averting a depression and criticized for risking inflation. What is your assessment of his performance?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 35,
        "fields": {
            "priority": 2,
            "description": "With the recovery still sluggish, some economists argue that the shedding of public sector jobs — including teachers, firefighters, and police — is a major drag on the economy. Would it help our economy if government employment was increased, or would this simply divert valuable resources from the private sector?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 38,
        "fields": {
            "priority": 2,
            "description": "Operation ‘Fast and Furious’ let suspected straw buyers in Arizona purchase guns in hopes of tracing them to cartel bosses. It did not work out as intended; many weapons were never tracked, and some surfaced at crime scenes, including the death of a U.S. agent. The fallout has been pretty severe, and there have been calls for your Attorney General, Eric Holder, to resign. What’s your view of the gunwalking tactics, and do you still have confidence in him?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 43,
        "fields": {
            "priority": 2,
            "description": "Since Citizens United, super PACs and 501(c)(4) groups have poured unlimited money into elections, often with limited disclosure. Some in your party have advocated for a constitutional amendment to let Congress and states set stricter rules on independent spending. Would you support an amendment to overturn parts of that decision?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 33,
        "fields": {
            "priority": 2,
            "description": "School choice has become a rallying cry on the right, with Republicans (including {{opLast}}) arguing that competition and parental freedom will improve outcomes better than more funding for the existing system. Should any portion of Department of Education funding go toward voucher programs, or does that cross a line for you?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 12,
        "fields": {
            "priority": 2,
            "description": "In early 2011, you withdrew American support for Hosni Mubarak, who as president of Egypt was a key U.S. ally for decades. Now, with the Muslim Brotherhood in power in Egypt and the region more volatile, looking back: was that the right call?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 9,
        "fields": {
            "priority": 2,
            "description": "After decades and billions invested, Yucca Mountain remains mothballed amid state opposition and legal fights. As utilities store waste at reactor sites, some wonder: do you think the U.S. should move forward with waste disposal at Yucca Mountain, or pursue an alternative site?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 5,
        "fields": {
            "priority": 2,
            "description": "In South Carolina, the Confederate flag no longer flies above the capitol dome but still stands on the statehouse grounds. With racial tensions in America never far from the surface, do you believe the flag should be removed entirely from the statehouse grounds?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 28,
        "fields": {
            "priority": 2,
            "description": "This year’s farm bill is up for renewal, and with corn prices reaching record highs, there are many questioning the decades-old policy of subsidizing corn producers. Do you believe this program, a cornerstone of agricultural policy, is still necessary?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 52,
        "fields": {
            "priority": 2,
            "description": "Labor conditions at factories like Foxconn in China, used by American companies like Apple, have recently come under intense scrutiny. Reports detail eighteen-hour shifts, workers sleeping in dormitories, and suicide nets installed around buildings after employees jumped to their deaths. At a campaign stop in New York, a laid-off manufacturing worker holds up his iPhone and asks you: does China's exploitation of workers give them an unfair advantage?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 18,
        "fields": {
            "priority": 2,
            "description": "As immigration continues to be dragged on to the campaign, it’s worth noting that some of your opponents were, or have called for, a larger fence (or even a wall) along the entire U.S.-Mexico border. Do you support such a plan?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 66,
        "fields": {
            "priority": 2,
            "description": "After the 2008 crisis and the subsequent bailouts, many Americans, from the Tea Party to Occupy Wall Street, believe our largest banks are still “too big to fail.” Should institutions like Chase, Citibank, and Bank of America be broken up?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 68,
        "fields": {
            "priority": 2,
            "description": "Although not a major issue this election, the issue of climate change remains in some voters’ minds, particularly with your failed cap-and-trade bill still fresh in their memories. At a town hall, though, a young activist asks what happened to the president who promised to slow the rise of the oceans. What is your plan to mitigate its effects?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 39,
        "fields": {
            "priority": 2,
            "description": "Parents and educators are split on sex education for younger teens. Supporters of comprehensive health classes say age‑appropriate lessons on contraception reduce teen pregnancy and STIs without increasing sexual activity, while its opponents, including {{opLast}}, prefer abstinence‑focused curricula. Should middle school students learn about contraception in health class, or will this simply encourage them to experiment?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 4,
        "fields": {
            "priority": 2,
            "description": "Millions of Americans are still underwater on their mortgages, and the housing market remains the biggest drag on the economic recovery. Some programs like HAMP and HARP have helped some borrowers refinance, but some critics call them too timid. Should the federal government be doing more to actively stabilize or even boost home prices?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 86,
        "fields": {
            "priority": 2,
            "description": "Drone strikes have taken senior terrorists off the battlefield with no U.S. troops at risk, but reports of civilian casualties and ‘signature strikes’ have fueled anger abroad and criticism at home. Some on the left — and others, such as former President Jimmy Carter — have criticized your reliance on drone strikes to project American interests, stating that they lead to unnecessary civilian casualties. What can you say to this?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 6,
        "fields": {
            "priority": 2,
            "description": "The number of unauthorized immigrants in the U.S. has mostly plateaued in your tenure, but stands at a little over 11 million people — 8 million of whom are currently active in the labor force. Do you believe the federal government is doing enough to enforce laws against employing illegal immigrants?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 96,
        "fields": {
            "priority": 2,
            "description": "The National Flood Insurance Program has long underpriced risk, encouraging development in flood‑prone areas and leaving taxpayers on the hook after disasters like Katrina, Irene, and Isaac. Although Congress passed reforms to move toward risk‑based rates, pushback remains fierce in areas where premiums would spike. Do you think that FEMA insurance payouts encourage risky building, and how should the program be fixed?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 29,
        "fields": {
            "priority": 2,
            "description": "Diplomatic negotiations and sanctions against Iran have been the cornerstone of your policy. But, if intelligence suggests they are on the verge of a nuclear weapon, will you authorize an air campaign against their nuclear sites?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 81,
        "fields": {
            "priority": 2,
            "description": "In the wake of the 2010 “flash crash” and the expansion of high-frequency, split-second trading on Wall Street, some economists and lawmakers have proposed a small financial transactions tax as a way to discourage excessive speculation, stabilize markets, and raise federal revenue. Would you support such a tax, and how do you respond to concerns that it could hurt market liquidity or pension funds?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 67,
        "fields": {
            "priority": 2,
            "description": "You inherited two wars and a defense budget swollen by wartime needs (and also by the interference of others, like Rumsfeld). With Iraq over and Afghanistan winding down, should military spending be cut to help reduce the deficit? If so, by how much and in what areas?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 26,
        "fields": {
            "priority": 2,
            "description": "A modern smartphone today could be designed in Cupertino, assembled in Shenzhen by workers earning dollars a day, and shipped through Long Beach to eager American consumers, all thanks to this magical thing called globalization. As part of it, trade with China helps support U.S. farmers and multinationals, but it also fuels a large trade deficit. Overall, are you satisfied with the U.S.–China trade relationship, and what would you change?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 27,
        "fields": {
            "priority": 2,
            "description": "Corn ethanol sits at the crossroads of farm policy, energy security, and climate goals. The long‑standing blender’s tax credit expired at the end of 2011, but the Renewable Fuel Standard still mandates billions of gallons of biofuels, and EPA is weighing broader E15 use. Do you support continuing federal support for ethanol — and if so, in what form?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 15,
        "fields": {
            "priority": 2,
            "description": "In 2011, Ohio voters overturned a law limiting collective bargaining for public workers, in a major victory for labor in a key battleground state, while Wisconsin’s fight over Act 10 helped reshape state politics. Do you believe that public sector unions, like those for teachers and firefighters, have too much power?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 36,
        "fields": {
            "priority": 2,
            "description": "Recent shootings — from Tucson to most recently Aurora — have revived the nation’s seemingly eternal debate over guns, even as the Supreme Court has affirmed an individual right to keep a handgun at home. Most members of your party have stated their support for universal background checks, closing the gun‑show loophole, and limits on high‑capacity magazines. Do you support increased restrictions on handgun ownership, and if so, which ones?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 31,
        "fields": {
            "priority": 2,
            "description": "Virtually all trustees project that the Social Security Trust Fund will face shortfalls in the 2030s without changes. Options, they say, range from lifting the payroll‑tax cap and boosting growth to chained CPI, means‑testing, or raising the full retirement age, alongside other stuff you didn’t really pay attention to. What should happen next to keep the program solvent and fair?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 2,
        "fields": {
            "priority": 2,
            "description": "Half a century after the Cold War, the U.S. embargo against Cuba persists. Punishing the regime, some say; isolating us, say others. Cuban‑American politics are shifting, although dissidents still face repression, and one American contractor, Alan Gross, remains imprisoned. Do you favor maintaining the current embargo against Cuba?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 45,
        "fields": {
            "priority": 2,
            "description": "Oregon’s Death with Dignity Act has been in place for years, joined by Washington and bounded by federal court decisions that largely leave the issue to the states, and similar “right-to-die” movements have been gaining some traction over the years. Do you think this could be a model for broader federal legislation on physician-assisted suicide?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 76,
        "fields": {
            "priority": 2,
            "description": "As unemployment lingers, some economists on your re-election team have proposed a federal job guarantee: a public option for work at the minimum wage doing infrastructure, caregiving, and community projects, which would expand in recessions and shrink in booms, in what would be part of your very own ‘stronger safety net’ dubbed the <i>New Foundation</i>. Possible names aside, would you consider a job‑guarantee pilot, and under what conditions?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 61,
        "fields": {
            "priority": 2,
            "description": "After months of brinkmanship, Congress passed a two‑year transportation bill to keep projects moving and, by some estimates, safeguard more than two million construction jobs. It streamlines reviews and expands TIFIA, but punts on long‑term funding and relies on budget maneuvers instead of fixing the gas tax. Are you satisfied with the bill’s provisions, or do you want a bigger, longer‑term infrastructure push?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 23,
        "fields": {
            "priority": 2,
            "description": "Women have served and bled in Iraq and Afghanistan, often in roles indistinguishable from combat while barred from many of the jobs that drive promotion. Some advocates argue full integration with gender‑neutral standards is overdue. Does it still make sense to officially bar women from designated combat roles, or should all positions be open if the standard is met?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 78,
        "fields": {
            "priority": 2,
            "description": "In timber country, mills that once employed entire towns have shuttered, victims of automation, foreign competition, and environmental regulations. Environmentalists, though, point out these same regulations have helped protect old‑growth forests, habitat, and watersheds. The logging industry remains unsatisfied, however. Is the American logging industry over‑regulated, or are current safeguards the right balance?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 13,
        "fields": {
            "priority": 2,
            "description": "Hydraulic fracturing (aka ‘fracking’) has turned places within Bakken and Marcellus into boomtowns, boosting U.S. oil and gas output, lowering prices, and cutting reliance on imports. It’s also raised concerns about methane leaks, water contamination, wastewater disposal, flaring, quakes tied to injection wells, and strains on local roads and housing, among many other things. How do you view fracking’s role in our energy mix, and what safeguards belong in place?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 47,
        "fields": {
            "priority": 2,
            "description": "With GDP creeping along at roughly 1.5%, some argue Washington should tighten its belt to restore confidence; on the other hand, others on your team point to Europe’s rather mixed austerity experiments as a cautionary tale and prefer targeted stimulus until the recovery is firm. Is it time to cut federal spending now, or should deficit reduction wait for stronger growth — and what’s your approach either way?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 50,
        "fields": {
            "priority": 2,
            "description": "Following up on the violence in Mexico, some argue the problem is fundamentally one of demand. Do you think that reducing penalties and increasing treatment for drug users here in the U.S. would be an effective way to reduce the power of Latin American cartels?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 8,
        "fields": {
            "priority": 2,
            "description": "The water level of Lake Mead has been steadily dropping for years, raising alarms among climate scientists and state officials. Should the federal Bureau of Reclamation impose stricter regulations on water usage for states like Arizona, Nevada, and California?",
            "likelihood": 1
        }
    },
    {
        "model": "campaign_trail.question",
        "pk": 55,
        "fields": {
            "priority": 2,
            "description": "With a major talking point for the {{opLast}} campaign being the long-term solvency of Social Security, your opponents are questioning the entire structure of its Trust Fund. Should it be purchasing U.S. Treasury bills, a practice they claim masks the true deficit? Should it be allowed to invest in other securities for a higher return? Or should the funds be held in a ‘lockbox’?",
            "likelihood": 1
        }
    }
]

campaignTrail_temp.answers_json = [
    {
        "model": "campaign_trail.answer",
        "pk": 1,
        "fields": {
            "question": 1,
            "description": "Of course. Guantánamo, just like Abu Ghraib, was a stain on America’s moral standing, and I will not accept congressional obstructionism as an excuse for indefinite detention without trial."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 2,
        "fields": {
            "question": 1,
            "description": "It’s definitely one of my priorities, but um, we need a plan. Where do we transfer detainees who can’t be released? What framework governs those who remain in custody? I’m sure that Congress and I will settle this pretty soon."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 3,
        "fields": {
            "question": 1,
            "description": "Unfortunately, it seems Guantánamo is likely to remain open for the foreseeable future. Given the legal complexities and… uh, legitimate security concerns, we have to be realistic about what’s achievable while ensuring humane treatment where possible."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 4,
        "fields": {
            "question": 1,
            "description": "Look, I understand the concerns about Guantánamo, but we cannot afford to be reckless with national security. These are dangerous individuals, and until we can guarantee the safety of American families, the facility needs to remain operational. "
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 5,
        "fields": {
            "question": 2,
            "description": "No, let’s kill it. The embargo against Cuba is a Cold War relic that has failed for half a century. It’s hurt the Cuban people, isolated us internationally, and accomplished nothing except letting the Castros blame us for their own failures."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 6,
        "fields": {
            "question": 2,
            "description": "Look, I have no love for the Castro regime, uh, but I do think we should explore other tools to help democratize Cuba from within. Cultural exchanges, telecommunications access, support for civil society, and so on. It’s what we do already, sort of."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 8,
        "fields": {
            "question": 2,
            "description": "Of course. After fifty years of pressure, we’re finally seeing cracks in their system. This is exactly the wrong time to give up and hand the Castros a victory. We maintain the embargo until they make real democratic reforms."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 13,
        "fields": {
            "question": 4,
            "description": "We can’t just stand by while families who played by the rules are destroyed by a crisis they didn’t create. I would support a federal program to cover the shortfall when a homeowner is forced to sell for less than they owe."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 14,
        "fields": {
            "question": 4,
            "description": "Why not be, uh, creative? By having the government purchase foreclosed homes from banks, we can stabilize the market and convert those properties to affordable rentals until the situation improves."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 15,
        "fields": {
            "question": 4,
            "description": "It’s not the government’s job to set the price of a home. For the most part, I don’t think that’s appropriate. But we can take common-sense steps to encourage investment, like relaxing some restrictions on foreign ownership where it makes sense."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 16,
        "fields": {
            "question": 4,
            "description": "The government has no business propping up asset prices. The only path to a real recovery is to allow prices to find their natural floor. It will be painful in the short term, but any other course of action simply delays the inevitable and creates a weaker foundation for the future."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 17,
        "fields": {
            "question": 5,
            "description": "Obviously. The Confederate flag is a symbol of slavery, racism, and armed rebellion against the United States. It represents a cause built on the idea that human beings could be property, for God’s sake. South Carolina should take it down immediately."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 18,
        "fields": {
            "question": 5,
            "description": "Personally, I’d prefer to see it removed. That flag represents a painful history, and I understand why so many Americans find it offensive. But I also understand this isn’t a decision for Washington or for me as president."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 19,
        "fields": {
            "question": 5,
            "description": "South Carolinians already reached a compromise on this. I don’t see how it’s useful for me candidate to come in and relitigate this, especially when we have more urgent issues like jobs and healthcare to address."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21,
        "fields": {
            "question": 6,
            "description": "Look, let me be clear. We have more boots on the ground at the border than ever before, and we’re focusing our resources on deporting violent offenders and criminals. That’s being smart and tough. Do people think we aren’t doing anything? Of course we are."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 22,
        "fields": {
            "question": 6,
            "description": "I mean, we are a nation of immigrants. I think that it makes no sense to have millions of people living in the shadows and uh, we need to give them a pathway to earn their citizenship. We get them to pay taxes, a penalty, and then get to the back of the line. That works, right?"
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 23,
        "fields": {
            "question": 6,
            "description": "To an extent, yes, but I think there is room to improve. For example, we should be making E-Verify mandatory for most public employers, contractors and subcontractors. People are telling me it’s worked well in Arizona."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 24,
        "fields": {
            "question": 6,
            "description": "Everyone knows that if we argued for tougher penalties or a workable verification system, like the Republicans do, they would suddenly get quiet and backtrack on the idea. There are definitely issues but uh, I don’t know if immigration is the most important issue this year. Maybe we can talk about this later?"
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 25,
        "fields": {
            "question": 7,
            "description": "Of course not. This law is an open invitation to racial profiling, and it will undermine the trust between law enforcement and the very communities they are sworn to protect."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 26,
        "fields": {
            "question": 7,
            "description": "I respect the Supreme Court’s ruling, but I still believe this law is ill-conceived. Immigration enforcement is a federal responsibility; any patchwork of state laws just creates more confusion. The law should be repealed by the state."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 27,
        "fields": {
            "question": 7,
            "description": "Well, the courts have now weighed in. I believe that ultimately, this is a matter for the voters and the legislature of that state to continue to debate and resolve for themselves."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 28,
        "fields": {
            "question": 7,
            "description": "While I may have concerns about this specific law, I understand the frustration that led to it. States have a right to act when the federal government doesn’t, especially when Washington has failed in its duty to secure the border."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 29,
        "fields": {
            "question": 8,
            "description": "Of course. As more people move to the region, they place an unsustainable burden on the water supply. So, uh, the price of water must accurately reflect its scarcity to encourage the conservation and responsible planning we need for the future."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 30,
        "fields": {
            "question": 8,
            "description": "I’m very worried about the falling water levels in that area. It’s a situation we are monitoring closely with our state and local partners. If this continues, we would absolutely need to consider what further actions are necessary to protect it."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 31,
        "fields": {
            "question": 8,
            "description": "Honestly, I think the system we have in place is working. There are always going to be ebbs and flows in the water level based on, uh, snowpack and rainfall. We’ve seen it start to rebound a bit in recent years, though, so we shouldn’t overreact here."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 32,
        "fields": {
            "question": 8,
            "description": "To be honest, I think we already regulate it too strictly. Our focus should be on growth and opportunity in the Southwest, and that means ensuring water is affordable for families and farmers."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 33,
        "fields": {
            "question": 9,
            "description": "You’re missing the point here. Nuclear power is too dangerous, too expensive, and too dirty. We should be investing in renewable energy that doesn’t create the problem in the first place. Wind, solar, geothermal, uh— you know, that’s the future."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 34,
        "fields": {
            "question": 9,
            "description": "Look, the Yucca Mountain project has been scrapped, we’ve moved on, and what we’re doing now is working fine. I see no reason to revisit a decision that’s already been made, and I’m not touching this with a 20-foot pole."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 36,
        "fields": {
            "question": 9,
            "description": "Nobody should be forced to live next door to a nuclear waste repository. Nevada has spoken clearly (and many times, too) that they don’t want this facility. We need to respect local opposition and work with states to find a willing host community, even if that takes more time."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 37,
        "fields": {
            "question": 10,
            "description": "Every day we don’t invest in solar power is a day we fall behind competitors like China and Germany. We should be doubling, tripling— hell, <i>quadrupling</i> down on these investments, and not backing away because of one setback."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 38,
        "fields": {
            "question": 10,
            "description": "You know what {{opLast}} doesn’t mention? The 1,100 solar companies we backed that are still operating, the battery plants, the wind farms… for every Solyndra, there are dozens of success stories they’d rather you not hear about."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 39,
        "fields": {
            "question": 10,
            "description": "Honestly, we gave it a shot, and now we have the example of Solyndra staring us in the face. I’m not going to throw good money after bad. It’s time to admit this approach didn’t work and end this program as soon as possible."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 40,
        "fields": {
            "question": 10,
            "description": "I believe the market should pick winners and losers, not the government. That means ending special subsidies for everyone… so for new energy technologies, but also for the oil and gas companies who have been getting them for a century. We gotta keep it fair."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 45,
        "fields": {
            "question": 12,
            "description": "The instability in Egypt today is the result of decades of flawed American policy. We supported Mubarak for thirty years, giving him billions in military aid while he oppressed his people. If anything, I think we should’ve done it much, much earlier."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 46,
        "fields": {
            "question": 12,
            "description": "That’s a fair question. It’s hard to know what might have been, but we saw the passion and courage of the Egyptian people in Tahrir Square. Honestly, uh, it was clear the status quo was unsustainable. We chose to stand with the people on the right side of history."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 47,
        "fields": {
            "question": 12,
            "description": "Hmm, perhaps we should have been more active in trying to broker a compromise, uh, between Mubarak and the protestors. Maybe some sort of orderly transition might have prevented the power vacuum that followed. But uh, it’s something to consider as we navigate these complex situations."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 48,
        "fields": {
            "question": 12,
            "description": "In retrospect, no. We allowed one of the last moderate, stable regimes in the Middle East to be replaced by radical fundamentalists. This was, uh, in some way, a betrayal of our ally Israel and a decision that will undermine American security for years to come."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 49,
        "fields": {
            "question": 13,
            "description": "Fracking poisons our drinking water, accelerates climate change, and delays the transition to renewable energy we desperately need. As Rahm once told me, this is, uh, a Faustian bargain. We should ban it."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 50,
        "fields": {
            "question": 13,
            "description": "I’m very skeptical of the idea that we can trust oil companies to look out for the interests of the little guy. We need stronger federal oversight and accountability when companies contaminate drinking water."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 51,
        "fields": {
            "question": 13,
            "description": "Well, this is a complex issue. One of my first priorities after the election will be establishing a bipartisan commission of experts to investigate fracking and present their recommendations."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 52,
        "fields": {
            "question": 13,
            "description": "Oh, this is a generational opportunity for American energy independence and economic growth. Fracking is creating jobs, lowering energy costs, and reducing our reliance on Middle Eastern oil. We can’t just miss out on the benefits of shale oil."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 57,
        "fields": {
            "question": 15,
            "description": "For thirty years, we’ve seen a systematic effort to weaken the middle class. Public unions are a necessary bulwark, and they must have the right to bargain for fair wages and benefits. The people of Ohio sent a clear message that I was proud to hear."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 58,
        "fields": {
            "question": 15,
            "description": "I stand with the hardworking teachers who educate our children and the firefighters who run into burning buildings. I was proud to see them make their voices heard in Ohio."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 59,
        "fields": {
            "question": 15,
            "description": "That’s an issue for the states to decide. You know, the federal government itself does not permit collective bargaining for its employees. It wouldn’t be appropriate for me, as president, to dictate to governors and voters how they should manage their own affairs."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 60,
        "fields": {
            "question": 15,
            "description": "We have to be, uh, honest about the math. Unchecked collective bargaining has been a major contributor to exploding state deficits, which the federal government often has to backstop. It’s an unsustainable path, I think."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 61,
        "fields": {
            "question": 16,
            "description": "We learned in 2008 that financial crises do not respect borders. If it becomes clear that a global stabilization fund is necessary to prevent a contagion that could kill our recovery, then that is an option we must keep on the table. We can’t be caught flat-footed, you know."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 62,
        "fields": {
            "question": 16,
            "description": "The crisis in Europe should serve as a wake-up call. My number one priority is focusing on our own economy so that we don’t find ourselves in their condition five or ten years from now."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 63,
        "fields": {
            "question": 16,
            "description": "The nations of Europe have the capacity and the responsibility to resolve these issues themselves. I have confidence that they will ultimately take the necessary steps to secure their own union."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 64,
        "fields": {
            "question": 16,
            "description": "There is no scenario in which American taxpayer dollars will be shipped overseas to bail out European-model welfare states. That would be the height of fiscal lunacy, especially when we have so much work to do to rebuild our own country."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 69,
        "fields": {
            "question": 18,
            "description": "The border fence is inhumane, dangerous, and a symbol of everything wrong with our current approach. We should be expanding legal pathways for immigration instead of building walls that funnel people into deadly desert crossings."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 70,
        "fields": {
            "question": 18,
            "description": "Not really. Border Patrol has seen success in reducing unauthorized crossings over the past several years, and we’ve doubled the number of agents. No need to revisit this issue with billion-dollar vanity projects when the data shows our current strategy is effective."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 71,
        "fields": {
            "question": 18,
            "description": "Well, the current border fence needs to be expanded into a proper wall with additional depth to its patrols and modern surveillance technology. It’s simply too easy for people to cross illegally right now, and that’s unfair to those who wait in line and follow the rules."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 73,
        "fields": {
            "question": 19,
            "description": "Deploying the U.S. Army on our own soil against civilians would be a mistake. It raises serious constitutional questions and blurs the line between the military and law enforcement that is fundamental to a free society."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 74,
        "fields": {
            "question": 19,
            "description": "Not really. We have a dedicated force in the Border Patrol whose specific mission is to secure our border. Our job is to give them the resources and support they need to do their job effectively."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 75,
        "fields": {
            "question": 19,
            "description": "Our military, well, their mission is to fight our nation’s wars. Using them for domestic law enforcement, you know, that’s not necessarily the best use of their unique skills or resources. We have to be smart about this."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 76,
        "fields": {
            "question": 19,
            "description": "I mean, if a physical barrier and the presence of American troops are what it takes to get serious about security and stop the flow of illegal drugs, then that is a step we must be willing to take."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 77,
        "fields": {
            "question": 20,
            "description": "Call me crazy, but the only way to truly undermine the cartels is to eliminate their profit margin. We should move toward decriminalizing drug possession in the United States, and treat addiction as a health issue rather than a criminal one. "
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 78,
        "fields": {
            "question": 20,
            "description": "Look, we have to be honest about the demand right here at home. That means better treatment options, more education, and a public health approach to addiction. If we reduce the market for these drugs, we reduce the power of the cartels."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 79,
        "fields": {
            "question": 20,
            "description": "The cartels are a scourge that threatens both our nations. We must continue to provide our partners in Mexico with the training, equipment, and intelligence support they need to build their capacity and win this fight."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 80,
        "fields": {
            "question": 20,
            "description": "Well, we need to be tough. That means securing the border, period; longer prison sentences for traffickers and a stronger, better-funded DEA to dismantle their networks."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 81,
        "fields": {
            "question": 21,
            "description": "After more than a decade, it is time to bring our troops home. Now. We have spent a trillion dollars and lost too many lives, all to build a nation that does not want us there. It is time to focus on rebuilding America."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 82,
        "fields": {
            "question": 21,
            "description": "We’ll continue our drawdown and transition security lead to the Afghans; my goal is to have our troops home in the next couple of years. The time for nation-building at home has come."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 83,
        "fields": {
            "question": 21,
            "description": "Well, uh, I will not telegraph our plans to the enemy. My decisions will be, see, based on the conditions on the ground and the advice of my commanders, always with the goal of keeping America safe."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 84,
        "fields": {
            "question": 21,
            "description": "Honestly, we will stay as long as it takes to ensure Afghanistan can never again be a safe haven for terrorists who would attack America. We really, really cannot allow the sacrifices of our troops to have been in vain."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 85,
        "fields": {
            "question": 22,
            "description": "Let’s have Biden go out on Meet the Press and float the idea. Once the waters are tested, I will conduct a sit-down interview confirming my evolution on the issue. We really need to, uh, energize the youth vote before the convention. Kill DOMA with fire."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 86,
        "fields": {
            "question": 22,
            "description": "I believe that providing gay and lesbian couples with the full rights and protections of civil unions is an acceptable and, uh, respectful compromise. It reflects the views of a majority of mainstream Americans while ensuring fairness under the law."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 87,
        "fields": {
            "question": 22,
            "description": "Look, my position has been that I’m, uh, opposed to this, personally. But my administration has stopped defending DOMA, and I think it’s best if we let different states and communities decide this in different ways."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 88,
        "fields": {
            "question": 22,
            "description": "Uh, well, the Defense of Marriage Act was a bipartisan law passed specifically to address this issue. I believe that marriage is a sacred institution between a man and a woman, and that, uh, its unique status in our society should not be undermined."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 89,
        "fields": {
            "question": 23,
            "description": "Separate is inherently unequal. If a woman is qualified, can meet the standards, and wants to serve in combat, we should not deny her that opportunity."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 90,
        "fields": {
            "question": 23,
            "description": "Well, uhh, I will defer to the judgment of our military leaders on how to best structure our forces to protect American interests and ensure mission success."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 91,
        "fields": {
            "question": 23,
            "description": "Our current policies reflect the realities of modern warfare, and our military has adapted to them. We have the most effective fighting force in history. I don’t see a compelling reason to change a system that is clearly working."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 92,
        "fields": {
            "question": 23,
            "description": "We have to be honest about the, uh, unique physical demands and the importance of unit cohesion in front-line combat. Introducing this variable could undermine effectiveness and put missions at risk. I think it’s a very bad idea."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 93,
        "fields": {
            "question": 24,
            "description": "Of course. Every day we rely on finite resources is another day we risk our economic security and our planet’s future. The nation that wins the race for clean energy will be the nation that leads the 21st century. I intend for that nation to be the United States."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 94,
        "fields": {
            "question": 24,
            "description": "Yes, we are. We need to increase our domestic production of oil and gas, but we must also make historic investments in clean energy like solar and wind too."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 95,
        "fields": {
            "question": 24,
            "description": "Fossil fuels like oil and coal are the backbone of our economy, and that won’t change overnight. We’ve got to be realistic here. Our focus must be on using these resources more cleanly and efficiently while we manage a gradual transition."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 96,
        "fields": {
            "question": 24,
            "description": "We need energy independence, and the path to that is through American energy. My administration has approved new exploration, and we should be doing more to safely unlock our own vast resources of oil and natural gas. Just drill, baby."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 97,
        "fields": {
            "question": 25,
            "description": "Let me be clear: we can’t afford to keep giving massive tax cuts to those who need them the least, not when we need to invest in education, infrastructure, and the middle class. It’s time that the wealthiest Americans paid their fair share."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 98,
        "fields": {
            "question": 25,
            "description": "Hmm, uh, I think we can consider letting these expire at some point, but raising taxes on anyone in a stagnant economy could create unnecessary headwinds. We have to be smart about this, see."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 99,
        "fields": {
            "question": 25,
            "description": "Hmm, you know, I think we should keep tax cuts as they are for the foreseeable future. At least most of them; the last thing we should do is disrupt the market by raising taxes on any group during this sensitive period."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 100,
        "fields": {
            "question": 25,
            "description": "Frankly, after four years, it’s clear that, uh, to truly stimulate business confidence and investment, we could go further. Our most productive citizens, the job creators, need the certainty of even greater tax relief to get this economy moving again. It’s time for a new approach."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 101,
        "fields": {
            "question": 26,
            "description": "Satisfied? Uh, no, not really. We’ve seen it destroy middle-class jobs for over three decades, saw factories close, communities collapse, and much more. If anything, we need more protection for American manufacturing and enforcement of trade rules."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 102,
        "fields": {
            "question": 26,
            "description": "Not much, but this is uh, complicated. China holds over a trillion dollars in U.S. Treasury bonds, you know. We don’t want to, um, push too hard, and trigger a financial crisis. I don’t think anyone wants a trade war either, so hear me out on this."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 103,
        "fields": {
            "question": 26,
            "description": "There are benefits to our relationship, but it’s not all white knights and heroes. China must do more to live up to their trade commitments, stop manipulating their currency to gain unfair advantages, and respect intellectual property."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 104,
        "fields": {
            "question": 26,
            "description": "Actually, this relationship should be a model for future trade agreements. Globalization has lifted hundreds of millions out of poverty worldwide, reduced costs for American consumers, and created new markets for American innovation. It’s about time we embrace these opportunities for good."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 105,
        "fields": {
            "question": 27,
            "description": "Hell yeah— I mean, yes. Ethanol is a key part of my all-of-the-above energy strategy. It’s a homegrown fuel that supports our farmers, reduces our dependence on foreign oil, and creates good jobs right here in the heartland."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 106,
        "fields": {
            "question": 27,
            "description": "Well, um, this is a complex issue. We need more research on this. I’m directing the EPA and Department of Agriculture to conduct a thorough study, and our Administration will make this assessment a high priority."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 107,
        "fields": {
            "question": 27,
            "description": "These subsidies were a well-intentioned bridge to a new energy future. But that future is clearly in next-generation technologies like solar and wind, which have far more long-term potential."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 108,
        "fields": {
            "question": 27,
            "description": "Let’s be honest, this program has proven to be a costly mistake. It drives up food prices, has questionable environmental benefits, and distorts the energy market. The sooner we move on from this, the better."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 109,
        "fields": {
            "question": 28,
            "description": "To be honest, we can’t ignore the connection between this policy and the health of our nation. It has flooded our food system with cheap corn syrup, contributing to our epidemics of obesity and diabetes. It is time to end this program."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 110,
        "fields": {
            "question": 28,
            "description": "Our farmers need a predictable safety net, and subsidies play a role in that. But, uh, I think we also have to be responsible stewards of taxpayer money. We could be looking into a sensible, moderate reform that reflects today’s market realities."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 112,
        "fields": {
            "question": 28,
            "description": "Let’s be clear: a stable agricultural sector is a matter of national security. These programs provide certainty for the men and women who feed our country. It would be reckless and, uh, shortsighted to dismantle a policy that ensures a reliable food supply."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 113,
        "fields": {
            "question": 29,
            "description": "The United States has no unique moral right to be the sole arbiter of which nations can possess nuclear weapons. Our focus should be on global non-proliferation for all countries, not selectively threatening military action against those we disagree with."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 114,
        "fields": {
            "question": 29,
            "description": "Right now, I don’t want to discuss military hypotheticals while my diplomats are at the negotiating table. It’s not, uh, easy, you know?"
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 115,
        "fields": {
            "question": 29,
            "description": "I will take no options off the table to prevent Iran from acquiring a nuclear weapon. That has been, and will remain, my policy. But it would be a mistake to engage in loose talk while we pursue a diplomatic solution."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 116,
        "fields": {
            "question": 29,
            "description": "We’re talking about a regime that chants ‘Death to America’ and vows to wipe Israel off the map. Let me be clear: a nuclear-armed Iran is an unacceptable threat. It will not happen on my watch."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 117,
        "fields": {
            "question": 30,
            "description": "Not really. America’s strength has always been its diversity; we have hundreds of languages spoken in our communities, and that’s something we should celebrate and not legislate away. "
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 119,
        "fields": {
            "question": 30,
            "description": "Look, this is, uh, a hypothetical that’s unlikely to reach my desk, and frankly, with unemployment still too high and families still struggling, I think the American people want us focused on jobs and the economy, not this."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 120,
        "fields": {
            "question": 30,
            "description": "I could. When you think about it, English is the language that binds us together as Americans — it’s how we conduct business, how we participate in democracy, and much more."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 121,
        "fields": {
            "question": 31,
            "description": "Right now, I think? payroll taxes cap out at $110,000 in income. Let’s lift that cap, make millionaires and billionaires pay the same rate as middle-class workers, and expand benefits for seniors living in poverty. I’m telling you, we can afford to increase benefits."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 122,
        "fields": {
            "question": 31,
            "description": "You know, uh, the projected shortfall that people talk of, we’re not even talking about the Trust Fund making a net payout until 2033. The program is fundamentally sound, and maybe we make some modest tweaks down the line, but it’s not like Social Security is in crisis or something."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 123,
        "fields": {
            "question": 31,
            "description": "Honestly, Social Security needs adjustments to remain solvent. I support raising the retirement age gradually, implementing means-testing for higher earners, and maybe moving to chained CPI for cost-of-living increases."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 125,
        "fields": {
            "question": 32,
            "description": "NCLB was a disaster. It has punished schools in low-income districts, narrowed the curriculum, and demoralized our teachers. We need to end this one-size-fits-all approach and instead invest in the resources that truly help children learn."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 126,
        "fields": {
            "question": 32,
            "description": "There’s a real danger of “teaching to the test,” and while we need to measure progress, doing so with high-stakes tests every single year is too frequent and, uh, can interfere with real learning. We need an approach that values critical thinking."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 127,
        "fields": {
            "question": 32,
            "description": "I think this was a good law with a, uh, noble goal. Without standardized testing, we have no way to ensure that students in every zip code are getting the education they deserve. But we can certainly refine its details while keeping the its core principle."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 129,
        "fields": {
            "question": 33,
            "description": "Hell no. Public education is the bedrock of our society. Diverting public funds to private schools through vouchers is a bad idea that starves the schools that need our help the most; we should be strengthening them and not abandoning them."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 130,
        "fields": {
            "question": 33,
            "description": "Well, where we’ve seen targeted programs work, like in D.C., we shouldn’t shut them down. But I do think our primary focus must always be strengthening public education for all our children."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 131,
        "fields": {
            "question": 33,
            "description": "Why not? We need to be open to innovation, and if school choice provides that, uh, it’s a good idea that should be expanded."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 132,
        "fields": {
            "question": 33,
            "description": "Education is best managed at the state and local level. Going down the road of a national voucher system risks creating another layer of bureaucracy without a guarantee of better results."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 133,
        "fields": {
            "question": 34,
            "description": "Hell yeah. We fought for the American auto industry when others were ready to let it die <i>and</i> brought General Motors back from the dead. We need to create a level playing field so that American cars, built by American workers, can compete and win, period."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 134,
        "fields": {
            "question": 34,
            "description": "You know, tariffs can come with many unintended consequences. The better path, uh, in my opinion, is direct investment in our workers, like job retraining programs and community college partnerships. You get it, right?"
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 135,
        "fields": {
            "question": 34,
            "description": "I’m a believer in fair trade because I believe American workers can out-compete anyone in the world. Obviously, starting a trade war would only hurt American consumers and invite retaliation against our exports. It’s like having Chewbacca living on Endor; it does not make sense."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 137,
        "fields": {
            "question": 35,
            "description": "I think that, uh, it’s a fact that while the private sector has been adding jobs, our recovery has been hampered by layoffs in the public sector. We’ve lost hundreds of thousands of teachers and first responders. We gotta support these jobs."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 138,
        "fields": {
            "question": 35,
            "description": "Well, this is what they call basic economics. You know, uh, state and local governments are the drag here. The private sector is actually doing fine — it’s the public sector cuts that are holding us back."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 139,
        "fields": {
            "question": 35,
            "description": "The engine of job creation in this country is, and always will be, the private sector. It’s dangerous to fall into the trap of thinking we can spend our way to prosperity with government jobs, really."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 141,
        "fields": {
            "question": 36,
            "description": "Yes. I mean, come on, we’re the only developed nation that treats mass shootings as inevitable. Handgun ownership should be severely restricted; we’ve, uh, seen how lax American gun laws make it easy for weapons to flow to Mexican cartels and urban gangs, too."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 142,
        "fields": {
            "question": 36,
            "description": "We should strengthen enforcement against illegal gun trafficking and ensure criminals can’t obtain firearms through background check loopholes. But of course, hunters, sportsmen, and families protecting their homes should absolutely be able to own handguns."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 143,
        "fields": {
            "question": 36,
            "description": "Look, I believe in the Second Amendment, but uh, well, rights come with responsibilities. I think that some limited, sensible regulations, like ensuring people on terrorist watch lists can’t buy weapons, just make sense."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 144,
        "fields": {
            "question": 36,
            "description": "The Second Amendment is clear on this. Uh, Americans have a fundamental right to keep and bear arms, especially for protecting their families and their freedom. An armed citizenry is our best defense against crime and, if it ever came to it, against tyranny. I won’t infringe on that right."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 145,
        "fields": {
            "question": 37,
            "description": "Of course. Our nation’s diversity is one of our greatest strengths. Honestly, it is discriminatory to tell a child that the language they speak at home is a barrier to their learning. It’s not, and shouldn’t be."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 146,
        "fields": {
            "question": 37,
            "description": "My preference is for rapid English acquisition, but I can understand that in certain circumstances, a transitional program is necessary. These should be seen as temporary, however."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 148,
        "fields": {
            "question": 37,
            "description": "The greatest gift we can give a new American is the tool for success in our society, and that tool is English. Full immersion is the fastest and most effective path to assimilation and long-term opportunity."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 149,
        "fields": {
            "question": 38,
            "description": "I mean, uh, we need to go after the kingpins, and sometimes that requires patience and a lot of investigative techniques. It does make sense to track gun sales over time to build cases against these cartel leaders. I think the execution had flaws, but its strategy was sound."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 150,
        "fields": {
            "question": 38,
            "description": "Well, this is a matter best addressed by the professionals at the ATF and the Department of Justice. It would be inappropriate for me to interfere or comment on the details of their operational decisions."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 151,
        "fields": {
            "question": 38,
            "description": "Look, um, in theory, there may be limited cases where these kinds of stings can work. But I think these programs place too much faith in our partners to follow through. The risks are simply too high when you can’t control every variable."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 153,
        "fields": {
            "question": 39,
            "description": "Of course. Abstinence-only programs don’t really work, but comprehensive sex education reduces teen pregnancies, prevents STIs, and helps young people make informed decisions about their health and their futures."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 154,
        "fields": {
            "question": 39,
            "description": "Um, I, uh, should not be interfering with this. This is the kind of decision that should be made by local school boards, administrators, and parents. Communities have different values, and education has traditionally been a local matter anyway."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 155,
        "fields": {
            "question": 39,
            "description": "I’m not sure. Perhaps with high schoolers it makes more sense to delve into some of those details? At the middle school level, though, I think we should focus on age-appropriate health education and let parents have those conversations when they feel their children are ready."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 157,
        "fields": {
            "question": 40,
            "description": "Bin Laden was living in a compound, for Christ’s sake. We cannot keep writing checks to a government that was, at best, incompetent and at worst, complicit. The trust has been broken; it’s time for this relationship to end."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 158,
        "fields": {
            "question": 40,
            "description": "Hmm. Well, this is complicated. After the election, I will convene a bipartisan panel to conduct a comprehensive review and ensure any aid we provide serves America's core interests."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 159,
        "fields": {
            "question": 40,
            "description": "Our partnership with Pakistan must be based on shared interests and shared values. Going forward, any aid must be directly tied to their concrete progress on counterterrorism and democratic reforms."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 160,
        "fields": {
            "question": 40,
            "description": "It’s an imperfect relationship, I know. But we can’t have a failed state with a nuclear arsenal falling into the hands of extremists. We have to engage, because the risks of walking away are far, far greater."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 162,
        "fields": {
            "question": 41,
            "description": "I, uh, understand the importance of contraceptive access, but we also can’t force organizations like Catholic hospitals to violate their beliefs, and so we should, um, carve out broader religious exemptions while encouraging voluntary coverage."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 163,
        "fields": {
            "question": 41,
            "description": "We’ve, uh, sorta worked out an accommodation that respects both women’s health and religious liberty. Faith-based employers can opt out of directly providing coverage, but their insurers will offer it separately at no charge."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 164,
        "fields": {
            "question": 41,
            "description": "Access to contraception is basic healthcare, period. Women shouldn’t have to beg their employers for permission to control their own reproductive decisions. The Affordable Care Act guarantees this coverage, and I won’t back down from that commitment."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 166,
        "fields": {
            "question": 42,
            "description": "In retrospect, we may have also taken, um, different approaches as well. The real drivers of cost, uh, tend to be things like frivolous lawsuits and regulatory burdens. A better path would have been to focus on serious malpractice reform and cutting the red tape that stifles competition, I believe."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 167,
        "fields": {
            "question": 42,
            "description": "Three million young people are on their parents’ insurance today because of what we did. Insurance companies can’t drop you when you get sick anymore. And yet the Republicans want to take us back to the days when ‘pre-existing condition’ was a death sentence for your coverage."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 168,
        "fields": {
            "question": 42,
            "description": "To be fair, the ideal solution would have been a public insurance company to compete directly with the private market. Private insurers have proven they can’t be trusted to cover people with pre-existing conditions without being forced to, as we have seen."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 169,
        "fields": {
            "question": 43,
            "description": "You know, I- we shouldn’t amend the First Amendment lightly. The right to speak freely about politics is the bedrock of our democracy, and I can’t support a measure that compromises that core principle, no matter how well-intentioned."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 170,
        "fields": {
            "question": 43,
            "description": "Amending the Constitution is a, um, serious step. My focus is on what we can achieve right now, like pushing for robust disclosure laws. At the very least, the American people deserve to know who is trying to buy our elections."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 171,
        "fields": {
            "question": 43,
            "description": "You know, I would be happy to agree to disavow all Super PAC advertising. But unfortunately, {{opLast}} and the Republicans have shown they’re willing to let their billionaire friends spend whatever it takes to win, and so I want to fight back."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 172,
        "fields": {
            "question": 43,
            "description": "This was one of the most damaging decisions the Supreme Court has made in a generation. If the Court won’t recognize that our democracy shouldn’t be for sale to the highest bidder, then uh, ‘We the People’ must reclaim it through a Constitutional Amendment."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 173,
        "fields": {
            "question": 44,
            "description": "Absolutely. Marijuana is a dangerous controlled substance under federal law. While I respect the process in certain states, I have a sworn duty to uphold the laws of the United States."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 174,
        "fields": {
            "question": 44,
            "description": "Is this a real question? We are a nation of laws. Where states abdicate their responsibilities, the federal government must step in. We can have a debate about the severity of the penalty, but not about the illegality of the act itself."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 175,
        "fields": {
            "question": 44,
            "description": "Uh, we have bigger fish to fry. But the DEA has a responsibility to enforce federal law. I do think the more important conversation is about looking at reducing penalties for non-violent offenses to ease the strain on our prisons and give folks a real second chance."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 176,
        "fields": {
            "question": 44,
            "description": "The larger issue here is our failed war on drugs. If we had a sensible policy of decriminalization, this wouldn’t even be a debate. The DEA should not be wasting taxpayer money prosecuting non-violent, licensed growers."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 177,
        "fields": {
            "question": 45,
            "description": "That’s ridiculous. Of course not. My faith and my deep respect for the sanctity of life guide my views on this; a federal law that sanctions assisted suicide is not a path I would ever support for this country."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 178,
        "fields": {
            "question": 45,
            "description": "We have to have a difficult conversation. A huge portion of our healthcare spending is on heroic, often painful measures in the last few days of life. We need to overcome our prejudices and empower individuals to make their own choices with a clear-eyed view of the options."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 179,
        "fields": {
            "question": 46,
            "description": "Well, uh, there’s a serious economic debate here. Some respected economists have made the case that very long-term benefits may have a marginal impact on the unemployment rate. I think it’s a factor we have to consider as we craft responsible policy for long-term growth."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 180,
        "fields": {
            "question": 46,
            "description": "I think that, you know, look, we’re talking about nearly two years of support. That’s a lot! Unemployment benefits are essential, but we also have to ensure we’re creating the right incentives to get people back into the workforce."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 181,
        "fields": {
            "question": 46,
            "description": "Everyone knows that extending unemployment benefits was a lifeline for millions of families during the worst downturn this country has seen since the Great Depression. The real issue here isn’t the duration of benefits, but the fact that Republicans in Congress have blocked every serious jobs bill we’ve put forward."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 182,
        "fields": {
            "question": 46,
            "description": "Yes, I do. In fact, in a crisis like this, we shouldn’t be focused on setting arbitrary limits, but instead on ensuring every American who lost their job through no fault of their own can land back on their feet. If it were up to me, there would be no limit on the duration of unemployment insurance."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 183,
        "fields": {
            "question": 47,
            "description": "Folks weren’t losing their homes in 2008 because of waste in the federal budget. We can and we must cut wasteful spending, but uh, pretending that’s the only problem we have is a failure of leadership."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 184,
        "fields": {
            "question": 47,
            "description": "I don’t believe in the idea that if we just slash investments in education, infrastructure, and clean energy, the private sector will magically boom. We tried that philosophy before 2008 and it’s what drove our car into the ditch in the first place. Sounds insane to me!"
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 185,
        "fields": {
            "question": 47,
            "description": "Hmm, no. We’ve seen how cuts at the state level have created a headwind against recovery. Now is the time for investments and a balanced plan to reduce our debt, and not gutting the very things that will help us grow."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 186,
        "fields": {
            "question": 47,
            "description": "You know, some people said the size of ARRA should have been much bigger. And it’s true that, uh, every dollar we invested created jobs and helped stave off a worse crisis. But at the same time, you know, we also have to be responsible about our debt for future generations. You get it, right?"
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 187,
        "fields": {
            "question": 48,
            "description": "Frankly, the Federal Reserve’s expansionist policies helped create this mess, and more of the same has only delayed a true recovery. Chairman Bernanke is part of a failed consensus that we need to move beyond."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 188,
        "fields": {
            "question": 48,
            "description": "It’s not my place, as president, to be a running commentator on their performance. I will make a decision on his reappointment when the time comes, but not in the heat of a campaign."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 189,
        "fields": {
            "question": 48,
            "description": "You know, Bernanke has performed admirably given the challenges he has faced. He took decisive action to prevent a second Great Depression, and for that, he deserves our gratitude."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 190,
        "fields": {
            "question": 48,
            "description": "While I respect the Chairman, I believe we could be more aggressive. With millions of Americans still out of work, we should be exploring every tool, including a higher inflation target, to reduce the debt burden and spark a more vigorous recovery."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 193,
        "fields": {
            "question": 50,
            "description": "Uh, hello? Have we forgotten what our own cities looked like in the 1980s? Suggesting we should appease the cartels by softening our own laws is a dangerous and naive proposition that I will not entertain."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 194,
        "fields": {
            "question": 50,
            "description": "Perhaps. But our primary focus must remain on the source, so targeting the cartels, dismantling their networks, and uh, providing support to our partners in the region who are fighting them on the front lines every single day."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 195,
        "fields": {
            "question": 50,
            "description": "The solution is so obvious it’s a shame it’s not already our policy. These cartels are businesses, and their product is illegal drugs. If we treat addiction as a health crisis and eliminate the black market demand, their business model collapses. Boom!"
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 196,
        "fields": {
            "question": 51,
            "description": "I think that, well, the Euro’s fundamental design has flaws. You can’t have a monetary union without a fiscal one. I can hardly blame Germany for losing patience with its neighbors who have been less than scrupulous. Hard choices need to be made by everyone."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 197,
        "fields": {
            "question": 51,
            "description": "I know Merkel understands the stakes better than anyone. A failure in Europe would have profound consequences here at home. I have the utmost faith that she will take the necessary actions to see this crisis through."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 198,
        "fields": {
            "question": 51,
            "description": "My God. What’s happening in Europe right now is a disaster. You can’t punish the working people of Greece and Spain to pay for the mistakes of multinational banks. Germany has the capacity to do much more to stabilize the situation before it’s too late for all of us."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 199,
        "fields": {
            "question": 52,
            "description": "These factory jobs are often a significant step up for workers in that region, paying far more than the local average. It’s not our place to dictate labor standards to a sovereign nation. I don’t see a problem with what Apple is doing."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 200,
        "fields": {
            "question": 52,
            "description": "Trade has to be a two-way street, and it also has to be, uh, fair. China is not doing enough to protect the rights of their workers, which gives them an unfair advantage in global trade."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 201,
        "fields": {
            "question": 52,
            "description": "Well, this is um, the predictable result of a three-decade policy that encouraged companies to ship jobs overseas. I mean, it’s a race to the bottom that has hollowed out our middle class. It’s time for that to end and put American workers first."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 202,
        "fields": {
            "question": 53,
            "description": "I think that… uh… the, um, Hyde Amendment is already the law of the land. But I don’t know. Given the uh, controversy, I would support ending all federal funding for Planned Parenthood on Day One of my second term."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 203,
        "fields": {
            "question": 53,
            "description": "The law already prevents federal funds from being used for abortions. This is a settled issue, and these are cynical Republican attempts to re-fight old battles."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 204,
        "fields": {
            "question": 53,
            "description": "Planned Parenthood provides essential health services, cancer screenings, contraception, and preventative care to millions of women. The right of women to control their own reproductive destinies is not up for debate. I will not turn back the clock."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 205,
        "fields": {
            "question": 54,
            "description": "Default is not an option, and never will be an option. Period."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 206,
        "fields": {
            "question": 54,
            "description": "A lot of smart people are saying we should think unconventionally here. Perhaps a controlled restructuring of some obligations, hmm, could be the shock that finally resets expectations and reignites growth. Sometimes you have to break the fever to cure the disease."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 207,
        "fields": {
            "question": 55,
            "description": "I think we have to explore every responsible option to guarantee Social Security for future generations. That includes looking at whether the fund can, uh, be managed more like a modern pension, and investing in a broader range of bonds and securities to potentially increase its rate of return and extend its solvency."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 208,
        "fields": {
            "question": 55,
            "description": "Look, let’s be sensible. Anyone who has managed money, from a family budget to a major pension fund, can tell you there is a place for U.S. Treasuries. Allowing the fund to invest in other securities opens a Pandora’s box of potential problems and conflicts of interest."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 213,
        "fields": {
            "question": 57,
            "description": "Well, these are the kinds of difficult choices we have to make. Nobody likes cutting these programs, but getting our nation on a fiscally sustainable path requires some sacrifice from everyone, and small cuts now can prevent much deeper ones later."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 214,
        "fields": {
            "question": 57,
            "description": "We can either start making these decisions now, on our own terms, or wait for a budget crisis to force our hand. I would rather act responsibly today than be forced into catastrophic cuts down the road."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 215,
        "fields": {
            "question": 57,
            "description": "Let me be clear. Balancing the budget on the backs of the most vulnerable members of our society is not just bad economics, it’s also wrong. I oppose these cuts — but I know {{opLast}} doesn’t."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 216,
        "fields": {
            "question": 57,
            "description": "$4 billion barely puts a dent in the size of the deficit. If we’re truly serious about deficit reduction, we should be looking at our bloated military budget, not housing for the poor."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 226,
        "fields": {
            "question": 61,
            "description": "We should monitor these expenditures very closely to make sure that they are being allocated properly. There is always the chance of cronyism and misappropriation when there is spending of this magnitude."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 227,
        "fields": {
            "question": 61,
            "description": "Congress and the White House had disagreements over the exact size and scope of this investment, but either way, this is, uh, a bipartisan achievement that keeps our infrastructure functional. I’m pleased to sign it."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 228,
        "fields": {
            "question": 61,
            "description": "You know, we should be investing far more in our infrastructure than this bill provides. Our roads, bridges, transit systems, and ports are, uh, crumbling. Infrastructure spending would put people to work and also lay the foundation for long-term economic competitiveness. "
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 229,
        "fields": {
            "question": 62,
            "description": "Uh, look, with gas prices as high as they are, we can’t ask working families to pay more at the pump. There are other, smarter ways to fund our highway projects without placing another burden on, uh, the middle class."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 230,
        "fields": {
            "question": 62,
            "description": "Well, I think a small increase is the responsible thing to do. It funds our under-maintained highways, helps prevent future tragedies, and also encourages the shift to more efficient transportation. We can’t keep kicking this can down the road."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 240,
        "fields": {
            "question": 66,
            "description": "Uh, the last thing our fragile recovery needs is a massive, destabilizing government action like that. Our focus should be on implementing the new rules we’ve already passed and not on breakups that would create chaos in the financial sector."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 241,
        "fields": {
            "question": 66,
            "description": "That’s why we passed the Dodd-Frank Act. It gives regulators the tools they need to monitor systemic risk and, if necessary, safely unwind a failing institution without a taxpayer bailout."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 242,
        "fields": {
            "question": 66,
            "description": "I’ve come to believe a simple truth: if a bank is too big to fail, it is too big to exist. Honestly, it’s pathetic just how much our representatives have allowed themselves to be bought by financial institutions."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 243,
        "fields": {
            "question": 67,
            "description": "Not really. The world remains dangerous… think of Iran, North Korea, and also how terrorism hasn’t disappeared just because we killed bin Laden. I support a strong defense under any circumstances, and I won’t hollow out our military to balance the books."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 244,
        "fields": {
            "question": 67,
            "description": "We do spend a lot on defense, uh, more than the next ten countries combined. With two wars ending, I think any approach to deficit reduction includes eliminating redundant programs and Cold War-era weapons systems. It’s all about being smart, you know."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 245,
        "fields": {
            "question": 67,
            "description": "In a post-Cold War environment, what are we building weapons for, to fight the Soviets? Are they still alive? And all of this while our schools crumble and bridges collapse. No more of these boondoggles. I agree that military spending should be cut by hundreds of billions and redirected toward rebuilding America."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 246,
        "fields": {
            "question": 68,
            "description": "I think that, uh, the real threat isn’t climate change itself, but the radical policies being proposed to fight it. These plans would destroy jobs, raise energy prices on working families, and undermine our economy for a generation. We can’t do that."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 247,
        "fields": {
            "question": 68,
            "description": "Look, the science is complicated. Even if, uh, the climate is changing, which it definitely is, it’s not entirely clear how much is man-made. It makes no sense to risk our fragile economic recovery on massive new regulations until we have more certainty."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 248,
        "fields": {
            "question": 68,
            "description": "I think it’s clear that climate change is something dangerous we should address. We need smart regulations to reduce emissions, renewed efforts to pass a market-based program like cap-and-trade, and strong international agreements. This is a challenge we can and must meet."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 258,
        "fields": {
            "question": 72,
            "description": "Well, uh, I think that, see, we got to make sure the program is truly serving students. Government aid can have the unintended consequence of simply allowing colleges to inflate their costs by a commensurate amount, leaving students no better off."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 259,
        "fields": {
            "question": 72,
            "description": "Pell Grants are a vital tool for opportunity, but they must be targeted to the truly needy. When such a large percentage of students are receiving them, we need to be responsible and focus this crucial aid on where it can have the greatest impact."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 260,
        "fields": {
            "question": 72,
            "description": "With tuition skyrocketing, Pell Grants are more critical than ever. Our students are the future of this country, and I want to make clear to everyone that college education should be a ladder of opportunity, not a privilege reserved for the few."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 261,
        "fields": {
            "question": 72,
            "description": "You know, when you look at our economic competitors in places like Europe, higher education is, uh, treated as a fundamental public good, and it’s largely publicly funded. It’s a different model, certainly, but… you know what I’m saying… just pointing that out…"
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 264,
        "fields": {
            "question": 74,
            "description": "You know, it’s always refreshing to spend the morning in a classroom full of America’s future… the scientists, teachers, entrepreneurs, and leaders who’ll shape the next generation."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 265,
        "fields": {
            "question": 74,
            "description": "I had a wonderful time. Days like today remind me exactly why we need to fight for increased federal funding for education. Those kids deserve smaller class sizes, better-trained teachers, and modern facilities."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 266,
        "fields": {
            "question": 74,
            "description": "Oh, I had a great time, and it reinforced my commitment to accountability in education. We need rigorous standards and testing to ensure that every child, in every zip code, is getting the quality education they deserve. That’s what Race to the Top is all about."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 271,
        "fields": {
            "question": 76,
            "description": "Aw, jeez. I mean, uh, when you think about it. Twenty million Americans performing make-work jobs at minimum wage, supervised by federal bureaucrats? I don’t know, it sounds like a recipe for stagnation to me. Maybe not now."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 273,
        "fields": {
            "question": 76,
            "description": "This is, uh, an interesting idea, but let’s be realistic about the political environment. This doesn’t have a snowball’s chance in Hell of passing in the current Congress, and floating it now just gives Republicans ammunition. Let’s steer the conversation toward stuff we can actually achieve."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 274,
        "fields": {
            "question": 76,
            "description": "Can you imagine? If we created guaranteed jobs at a living wage, it would transform the economy. I mean, economic insecurity would be dramatically reduced. This is exactly the kind of bold thinking we need, and uh, yes, I’d support a pilot program to prove it works."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 279,
        "fields": {
            "question": 78,
            "description": "You know, there’s more forest in America today than at the time of the Revolution. Our environmental regulations have worked, which is good, but uh, perhaps too well. We can’t strangle rural communities though, so we should find some balance and let these folks get back to work."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 280,
        "fields": {
            "question": 78,
            "description": "I think too often we’ve erred on the side of caution when it comes to utilizing our nation’s timber. But these are renewable resources when managed properly, and we can definitely protect watersheds and old-growth while still allowing sustainable harvests that keep rural communities alive."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 282,
        "fields": {
            "question": 78,
            "description": "Honestly, no. If anything, our current practices remain far too permissive. We’ve already destroyed, um, over 95% of our old-growth forests, and these take thousands of years to develop. We got to protect what little remains for future generations."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 286,
        "fields": {
            "question": 80,
            "description": "Uh, I’m not sure we should commit our troops to additional combat theaters at the present time. Our forces are stretched thin, we shouldn’t be attempting to navigate Syrian politics when we need to focus on rebuilding here at home."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 287,
        "fields": {
            "question": 80,
            "description": "We have a responsibility to support those fighting for democracy and freedom across the Middle East. I believe that, well, the Syrian people deserve our assistance in their struggle against a brutal dictator, and America cannot turn a blind eye to Assad’s atrocities."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 288,
        "fields": {
            "question": 80,
            "description": "I don’t know about you, but I will do what is necessary to preserve freedom and human rights in Syria. It’s impossible to say what exactly we will or will not do, but I can promise the American people that all options remain on the table as we monitor this situation."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 290,
        "fields": {
            "question": 81,
            "description": "I don’t know. The last thing we want is to create a tax that simply drives this kind of activity to overseas markets where we have no oversight at all."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 291,
        "fields": {
            "question": 81,
            "description": "We passed the toughest Wall Street reform in generations for a reason. Dodd-Frank created the Financial Stability Oversight Council to police the system for risks exactly like this. Would you let the referees we put on the field do their job or invent new rules mid game?"
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 292,
        "fields": {
            "question": 81,
            "description": "Our financial markets should reward long-term investment that creates jobs, and not computer algorithms that skim profits in a millisecond. Everything is not computer. A small tax is a sensible way to rein in the most speculative behavior and restore a sense of fairness to the system."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 293,
        "fields": {
            "question": 82,
            "description": "I think we can modernize Medicare by introducing more competition and choice. Younger Americans should have the option of premium support to purchase private insurance, or staying in traditional Medicare, for example."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 294,
        "fields": {
            "question": 82,
            "description": "We should let Medicare negotiate drug prices directly with pharmaceutical companies, just like Veterans Affairs does. That and also crack down on fraud, improve care coordination, and means-test premiums for the wealthiest beneficiaries."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 296,
        "fields": {
            "question": 82,
            "description": "Medicare is sacred, and I will fight anyone who tries to end it. Paul Ryan’s scheme would shift costs onto seniors while insurance companies reap the profits. I will veto any attempt to voucherize or privatize this program. That’s a promise."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 297,
        "fields": {
            "question": 83,
            "description": "Wow. Can you, uh, believe it? Mittens made millions overseeing outsourcing, layoffs, and corporate raids that gutted American communities. If anything, Bain represents the dark side of American capitalism, and voters need to know who Mitt Romney is and how he made his money."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 298,
        "fields": {
            "question": 83,
            "description": "I mean, uh, he had some success. You don’t accumulate a quarter-billion dollars by accident. But I’m not convinced all of that success came in ways the American people would approve of. It’s up to voters to examine that record."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 299,
        "fields": {
            "question": 83,
            "description": "Romney is out of touch with ordinary Americans. This is a man who thinks corporations are people, who has a, uh, car elevator in his beach house, and who spends more maintaining his wife’s dressage horse than most families earn in a year."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 304,
        "fields": {
            "question": 85,
            "description": "I mean… look. Listen, I’m no fan of Governor Walker’s policies. But I felt the recall effort was taking things a step too far. Those things, uh— those are extraordinary measures that should not be used for policy disagreements, however sharp they may be."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 305,
        "fields": {
            "question": 85,
            "description": "Of course I opposed Governor Walker’s agenda. The only reason I wasn’t in Wisconsin was because, well, our team had to allocate our time and resources to the states that were most critical to winning in November."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 306,
        "fields": {
            "question": 86,
            "description": "Well, uh, we are always mindful of the impact these strikes have on local populations, and we only authorize them as an absolute last resort. Every strike is reviewed, vetted, and executed with precision to minimize civilian casualties."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 307,
        "fields": {
            "question": 86,
            "description": "What am I supposed to do, throw shoes at them? We’re at war with terrorists who want to kill Americans. Do they want us to do nothing, or go back to the times when we invaded countries left and right, risking their lives and international incidents? Nuh-uh."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 308,
        "fields": {
            "question": 86,
            "description": "I hate this, I really do. While drones have eliminated dangerous terrorists, the civilian casualties and the erosion of international law are too high a price for me. After careful consideration, I’ve decided to end this practice immediately and restrict other drone operations to only the most extreme cases."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 330,
        "fields": {
            "question": 93,
            "description": "I will talk about the tradition of American progressivism that built the middle class, from Social Security under FDR to Medicare under Johnson. I’ll make the case that our policies are part of that legacy, and reaffirm my commitment to that vision for a more just America."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 331,
        "fields": {
            "question": 93,
            "description": "I’ll talk about the choice between two futures: one where we are pitted against each other, and another where we reaffirm our common purpose. I will remind folks that we are one American family, and that our strength has always come from looking out for one another."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 332,
        "fields": {
            "question": 93,
            "description": "It’s important for people to understand the stakes. The Republicans’ plan ends Medicare and Social Security as we know it, and their “voodoo” economic theories have been tried, tested, and failed. I will draw the sharpest possible contrast between their vision and ours."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 333,
        "fields": {
            "question": 93,
            "description": "I’ll be honest about what’s happened so far. I’ll bring up the crisis we inherited, the choices we made to pull the economy back from the brink, and the work we still have to do. And I will obviously make it clear who has been standing in the way of a stronger recovery for American families."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 341,
        "fields": {
            "question": 96,
            "description": "It would be inhumane to suggest that we should abandon our fellow Americans who lose everything to a natural disaster. Our government has a fundamental responsibility to help citizens rebuild their lives. That’s who we are as a nation."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 342,
        "fields": {
            "question": 96,
            "description": "There is absolutely a danger of this happening. That’s why our National Flood Insurance Program is structured with strict guidelines and updated flood maps. We have to ensure that we’re rebuilding smarter, and not just in the same vulnerable places."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 343,
        "fields": {
            "question": 97,
            "description": "Absolutely. It is past time that we enshrined the principle of gender equality in our Constitution. We’ve got to reaffirm our nation’s commitment to fairness and justice for all its citizens, after all."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 344,
        "fields": {
            "question": 97,
            "description": "I mean, the ERA? In 2012? While I’m all for the principle, the political will to get something like this passed…. uh, it’s just not there."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 345,
        "fields": {
            "question": 97,
            "description": "My focus is on making a real difference in women’s lives right now. For example, I think more practical steps, like we did when passing the Lilly Ledbetter Fair Pay Act and expanding access to affordable child care, have a greater immediate impact."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 346,
        "fields": {
            "question": 98,
            "description": "We can’t turn every workplace dispute into a federal case. But uh, what we should focus on is supporting the legitimate claims while not incentivizing an avalanche of complaints that waste everyone’s time and resources."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 347,
        "fields": {
            "question": 98,
            "description": "I’m very concerned about this issue. We need to fully fund the Equal Employment Opportunity Commission so they can properly investigate every complaint, and I’ll direct the Department of Labor to develop stronger enforcement mechanisms and workplace protections."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 348,
        "fields": {
            "question": 98,
            "description": "We shouldn’t jump to conclusions from one year’s data, since these numbers fluctuate, and, well, there could be multiple explanations. But I will convene a White House task force to study the issue and develop recommendations for improving our response to workplace harassment."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 349,
        "fields": {
            "question": 99,
            "description": "What can you say? We’ve all been out here for weeks with very little sleep. No one knows more about foreign policy than Joe Biden, so I’m sure it was just a slip of the tongue."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 350,
        "fields": {
            "question": 99,
            "description": "It’s certainly alarming to hear statements like these from someone as high-up as Joe Biden. Hopefully he can explain himself a little more clearly in the next few days."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 395,
        "fields": {
            "question": 114,
            "description": "Oh, I believe in American exceptionalism. We have a unique responsibility to be a beacon for freedom and to defend peace, and I will never apologize for America leading the world."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 396,
        "fields": {
            "question": 114,
            "description": "For too long, we have compromised our values by supporting autocrats like the House of Saud and smaller authoritarian governments in Africa and Asia. It’s past time we aligned our foreign policy with our principles and only support true democracies."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 397,
        "fields": {
            "question": 114,
            "description": "Well, I’m a pragmatist. We use every tool at our disposal — from diplomacy to aid and, yes, military might — to advance our interests. We brought bin Laden to justice and are ending the war in Iraq. It’s about being strong, but also being smart. I’m, uh, both."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 398,
        "fields": {
            "question": 114,
            "description": "After a decade of war, the greatest threat to our strength, at least to me, is our own house. The time for nation-building abroad is over; it’s time for nation-building right here at home. America must come first."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 726,
        "fields": {
            "question": 130,
            "description": "The Republicans have yet to pick their nominee, if you can believe it, but we know their plans already. They’re gonna end healthcare as we know it and set us back to the 18th century. And if we can’t yet swim, then we got to let the losers, uh, drown."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 727,
        "fields": {
            "question": 130,
            "description": "Our campaign will lay out a clear, optimistic vision for the future. I believe the American people want to hear what we plan to build, and not just what we plan to tear down. Either way, my surrogates are more than capable of handling the, uh, political noise."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 728,
        "fields": {
            "question": 130,
            "description": "The American people are tired of seeing nothing get done. In a second term, I will make a renewed effort to break the fever in Washington and reach out to anyone, Republican or Democrat, who is willing to work on our, um, pragmatic, common-sense solutions to the challenges we all face."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 729,
        "fields": {
            "question": 130,
            "description": "Well, I think this is about reaffirming our commitment to a liberalism that builds a strong middle class, protects our seniors, and empowers our, um, unions. Where Republicans stand in the way of that progress, we’ll find new ways to get things done for the American people."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 1193,
        "fields": {
            "question": 55,
            "description": "The Social Security trust fund should be placed in an iron-clad lockbox, untouchable by politicians, and used for one thing and one thing only: paying the benefits our seniors have earned."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 1500,
        "fields": {
            "question": 300,
            "description": "Not really. I’ll put up a statement tomorrow, but right now I think I can just let my team do their bidding."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 1534,
        "fields": {
            "question": 45,
            "description": "I think the real issue driving this debate is a fear of dying in pain and, uh, without dignity. My focus is on ensuring every American has access to world-class hospice and palliative care, so they can live their final days with comfort and peace."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 1650,
        "fields": {
            "question": 301,
            "description": "Everyone loves Joe! And honestly, who doesn’t? He’s been an exceptional partner these past four years, a tireless advocate for working families, and someone who tells me the truth even when I don’t want to hear it. America knows Joe Biden, America trusts Joe Biden, and I’m proud to have him at my side again."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 1658,
        "fields": {
            "question": 300,
            "description": "Huh. That’s interesting. Well, congrats to {{opLast}} for winning the primary. Bring it on."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 1661,
        "fields": {
            "question": 301,
            "description": "It was natural for Biden to be selected. Not only he is more than qualified for this position, but the experience he had in the Senate was instrumental for the passing of the ACA. He was essential to what we’ve accomplished and what we’ll accomplish in the next four years."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 1698,
        "fields": {
            "question": 62,
            "description": "I’ve repeatedly put forward plans to rebuild our infrastructure. And every single time, Republicans in Congress have blocked them, choosing their silly partisan games over putting Americans back to work."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 1713,
        "fields": {
            "question": 54,
            "description": "The only reason we are even having this conversation is because of the hostage-taking by some in Congress. My job, my only job, is to prevent the catastrophe they are threatening. We will pay our bills. Would {{opLast}} do the same?"
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 1731,
        "fields": {
            "question": 1722,
            "description": "Uh, yikes. The more we keep underestimating these, you know, spinny clouds, the worse it’s going to get. This is what climate change looks like, and we can’t keep ignoring it. Call my contacts and see if we can get something passed out of it."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 1736,
        "fields": {
            "question": 1722,
            "description": "No time to talk. Get me my raincoat; I’m going to New Jersey today. And Rahm, if you can — get the best photographer we have on Air Force One. I want America to see their president on the ground."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21139,
        "fields": {
            "question": 21138,
            "description": "I don’t want to, uh, wake up on Wednesday morning to news of a surprise in Florida. We should spend our time running up the score in the I-4 corridor, and maybe a visit or two in Virginia or North Carolina. Maybe we can pull Dalton from under water."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21147,
        "fields": {
            "question": 21138,
            "description": "Let’s keep it simple: Ohio, Michigan, and Wisconsin. I’ll stand in front of every GM plant we saved and remind people who had their back. These states can’t flip. They just… no, no, they can’t."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21163,
        "fields": {
            "question": 21138,
            "description": "Call me crazy, but uh, we need to go out West. Let’s help out Tester hold his Senate seat, give a hand to Inslee in Washington, and hold a huge rally with Shelley in downtown Vegas. Not a snowball’s chance in Hell that I’m making Reid upset again."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21189,
        "fields": {
            "question": 21138,
            "description": "You know, after everything with Sandy lately, I think I should uh, stay in the Northeast for a while. Let’s go up and down New York, New Jersey, Connecticut, and maybe an event with Warren. We need to win back that seat, even if I have to revive Ted to do it."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21255,
        "fields": {
            "question": 1722,
            "description": "This is tough. I’m suspending campaign activities and declaring a major disaster. Deploy every federal resource, FEMA, National Guard, Coast Guard, whatever it takes. I’m calling Christie and Cuomo personally and seeing if one of them can, um, hook me up with a place to stay."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21306,
        "fields": {
            "question": 21305,
            "description": "Let’s go on offensive. I’m gonna hit {{opLast}} on every vulnerability we can find. We should, uh, keep them on defense all the time. My friend Ayers once told me that, well, debates are won by drawing contrasts, and I intend to draw them in blood."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21311,
        "fields": {
            "question": 21305,
            "description": "Uh, duh. We need to stay above the fray and explain how my plans help middle-class families. The contrast writes itself, if you think about it: {{opLast}} is petty, I’m dignified. They’re a politician, and I’m the President of the United States."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21315,
        "fields": {
            "question": 21305,
            "description": "I have to defend my record without being defensive, and also challenge {{opLast}}‘s plans without being vicious. We should just show me as professional, firm, and also warm. I mean, I got Kerry to help me mock-debate me, and he was, just like I asked him to, as annoying as possible."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21320,
        "fields": {
            "question": 21305,
            "description": "We make it a referendum on {{opLast}}, not on me. That’s it. I need voters leaving those debates more afraid of {{opLast}} than disappointed in me. Let’s immediately contrast my, uh, spectacular ideas with what my opponent would do differently"
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21326,
        "fields": {
            "question": 21325,
            "description": "It’s very simple. I want our donor data, volunteer lists, and voter files integrated into a single identity for every person in the swing states. While {{opLast}} is buying TV ads, we will be using our little, uh, superweapon in places to squeeze out votes he doesn’t even know exist."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21330,
        "fields": {
            "question": 21325,
            "description": "Let’s be creative here. Why not make my Twitter account the centerpiece of our campaign? I’ll tweet some policy positions, respond to attacks in real-time, and show people who’s the boss here. If it worked for Donald Trump, it can work for me as well."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21334,
        "fields": {
            "question": 21325,
            "description": "We can just heavily invest in traditional advertising… television, radio, direct mail, all that. Flood the swing states with positive ads about my record and contrast ads against {{opLast}}, especially."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21338,
        "fields": {
            "question": 21325,
            "description": "Remember ‘Vote or Die’? That was, uh, kinda funny actually. We need the DNC to bring that back, targeting young people and communities of color so we can expand and boost our turnout this November."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21399,
        "fields": {
            "question": 21398,
            "description": "Hmm, book me on 60 Minutes and Meet the Press. These are serious times requiring serious forums. We need conversations about, uh, my record and my vision, not so-called superficial entertainment from my opponents."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21414,
        "fields": {
            "question": 21398,
            "description": "Get me on one of these talk shows. I want to reach younger voters that are staying up late, see. Let’s do something fun, maybe even sing a little. What about that little, uh, big, uh man? Jimmy Fallon, I know he has a talk show."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21430,
        "fields": {
            "question": 21398,
            "description": "Eh. I don’t feel the need to complicate this too much. Let’s just do a regional media blitz: so uh, local news in Tampa, Cleveland, Denver, Columbus, other places I can think of. Voters do trust their local anchors more than the knuckleheads in the big cities, if you think about it."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21441,
        "fields": {
            "question": 21398,
            "description": "You know what, screw it. Book me on Fox News. O’Reilly or Hannity, I don’t really care. I need to speak to voters who don’t trust me, who think I’m some radical socialist. Maybe I am, but I got to show them that I’m obviously not."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21456,
        "fields": {
            "question": 21455,
            "description": "You’re, uh, right, sweetheart. No child should go hungry in the richest country on Earth. I’ll push for, um, universal school meals in my second term agenda. We’ll find the funding, we’ll make the case, and we’ll get it done. It’s not like Republicans want to vote against feeding children, too."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21460,
        "fields": {
            "question": 21455,
            "description": "I love the vision, and uh, you know I believe in this. But let’s be strategic here. Let’s push for expanding eligibility thresholds and phasing toward universality over time. When you build a coalition, and show results, then… um… I mean, we go bigger in the second term when we have momentum."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21464,
        "fields": {
            "question": 21455,
            "description": "Michelle, I want this too. But, well, we both know there’s no chance of passing anything like this before the election, and probably not after either unless we retake the House. I can’t make this a promise. It’s, um, like it says in the book, we are blessed and, uh, cursed."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21521,
        "fields": {
            "question": 21520,
            "description": "This is horrible. Chris Stevens dedicated his life to Libya and the Middle East for over a decade, and he died serving the country he loved. Make no mistake: the United States will not rest until we find these terrorists, and make them answer for this crime."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21526,
        "fields": {
            "question": 21520,
            "description": "I’m offering my condolences to the families of those we lost. Ambassador Stevens was a dedicated public servant, and his death diminishes us all. I’ve ordered a thorough investigation into how this attack transpired, so that we can prevent something like this from ever happening again."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21534,
        "fields": {
            "question": 21533,
            "description": "Actually, I don’t wanna interrupt him. I just look at him, cold as ice, and urge him on. ‘Please proceed, Governor.’ Oh, he thinks he’s scored a point, but he’s walking right off a cliff. I’ll wait for Candy to check the transcript and then deliver the smirk that ends his momentum."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21538,
        "fields": {
            "question": 21533,
            "description": "I’m not falling for this bait, I want to circle back to his earlier stumble. ‘Governor, we don’t need binders full of women; we need equal pay for equal work.’ I’ll highlight just how out of touch he is, and maybe reference his ‘Big Bird’ comments while I’m at it."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21542,
        "fields": {
            "question": 21533,
            "description": "Ugh. I’ll walk right up to him, invading his space, and tell him directly: ‘The suggestion that anybody on my team would play politics when we’ve lost four of our own is offensive.’ Let’s turn the accusation back on his character."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21546,
        "fields": {
            "question": 21533,
            "description": "I’ll brush it off. ‘We’re investigating exactly what happened, Governor.’ And then I can, uh, pivot immediately to the auto worker in the third row. Benghazi is a bit of a murky issue for me, to be honest."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21551,
        "fields": {
            "question": 21550,
            "description": "Simple enough, I’ll lean into the mic with a smirk. ‘Well, Governor, we also have fewer horses and bayonets.’ We gotta make him look antiquated. I’ll explain what an aircraft carrier is, uh, slowly, like I’m teaching a fifth-grade civics class."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21555,
        "fields": {
            "question": 21550,
            "description": "I’ll ignore that and just attack his worldview. He called Russia our number one geopolitical foe? I’m going to tell him, ‘The 1980s are now calling to ask for their foreign policy back.’ Heh. I love my zingers."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21559,
        "fields": {
            "question": 21550,
            "description": "That little shapeshifter. ‘I’m glad you now agree with my strategy in Iraq and Afghanistan, Governor, but you were, uh, saying the opposite last week.’ I really need to frame him as a salesman who will say anything to close the deal, rather than someone cool and presidential, like me."
        }
    },
    {
        "model": "campaign_trail.answer",
        "pk": 21563,
        "fields": {
            "question": 21550,
            "description": "Hm, I can take the high road here. I will explain our pivot to Asia and the modernization of our nuclear triad. The American people don’t really care about ship counts, but they do care about bringing troops home."
        }
    }
]

campaignTrail_temp.states_json = [
    {
        "model": "campaign_trail.state",
        "pk": 1,
        "fields": {
            "name": "Alabama",
            "abbr": "AL",
            "electoral_votes": 9,
            "popular_votes": 2074338,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 2,
        "fields": {
            "name": "Alaska",
            "abbr": "AK",
            "electoral_votes": 3,
            "popular_votes": 300495,
            "poll_closing_time": 420,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 3,
        "fields": {
            "name": "Arizona",
            "abbr": "AZ",
            "electoral_votes": 11,
            "popular_votes": 2306559,
            "poll_closing_time": 180,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 4,
        "fields": {
            "name": "Arkansas",
            "abbr": "AR",
            "electoral_votes": 6,
            "popular_votes": 1069468,
            "poll_closing_time": 150,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 5,
        "fields": {
            "name": "California",
            "abbr": "CA",
            "electoral_votes": 55,
            "popular_votes": 13055815,
            "poll_closing_time": 300,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 6,
        "fields": {
            "name": "Colorado",
            "abbr": "CO",
            "electoral_votes": 9,
            "popular_votes": 2571846,
            "poll_closing_time": 180,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 7,
        "fields": {
            "name": "Connecticut",
            "abbr": "CT",
            "electoral_votes": 7,
            "popular_votes": 1558993,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 8,
        "fields": {
            "name": "Delaware",
            "abbr": "DE",
            "electoral_votes": 3,
            "popular_votes": 413921,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 9,
        "fields": {
            "name": "Florida",
            "abbr": "FL",
            "electoral_votes": 29,
            "popular_votes": 8492175,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 10,
        "fields": {
            "name": "Georgia",
            "abbr": "GA",
            "electoral_votes": 16,
            "popular_votes": 3908369,
            "poll_closing_time": 60,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 11,
        "fields": {
            "name": "Hawaii",
            "abbr": "HI",
            "electoral_votes": 4,
            "popular_votes": 434697,
            "poll_closing_time": 360,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 12,
        "fields": {
            "name": "Idaho",
            "abbr": "ID",
            "electoral_votes": 4,
            "popular_votes": 656742,
            "poll_closing_time": 300,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 13,
        "fields": {
            "name": "Illinois",
            "abbr": "IL",
            "electoral_votes": 20,
            "popular_votes": 5251432,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 14,
        "fields": {
            "name": "Indiana",
            "abbr": "IN",
            "electoral_votes": 11,
            "popular_votes": 2633143,
            "poll_closing_time": 0,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 15,
        "fields": {
            "name": "Iowa",
            "abbr": "IA",
            "electoral_votes": 6,
            "popular_votes": 1582180,
            "poll_closing_time": 240,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 16,
        "fields": {
            "name": "Kansas",
            "abbr": "KS",
            "electoral_votes": 6,
            "popular_votes": 1156254,
            "poll_closing_time": 240,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 17,
        "fields": {
            "name": "Kentucky",
            "abbr": "KY",
            "electoral_votes": 8,
            "popular_votes": 1798048,
            "poll_closing_time": 0,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 18,
        "fields": {
            "name": "Louisiana",
            "abbr": "LA",
            "electoral_votes": 8,
            "popular_votes": 1994065,
            "poll_closing_time": 180,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 19,
        "fields": {
            "name": "Maine",
            "abbr": "ME",
            "electoral_votes": 2,
            "popular_votes": 713180,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 20,
        "fields": {
            "name": "Maryland",
            "abbr": "MD",
            "electoral_votes": 10,
            "popular_votes": 2707327,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 21,
        "fields": {
            "name": "Massachusetts",
            "abbr": "MA",
            "electoral_votes": 11,
            "popular_votes": 3167767,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 22,
        "fields": {
            "name": "Michigan",
            "abbr": "MI",
            "electoral_votes": 16,
            "popular_votes": 4745316,
            "poll_closing_time": 180,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 23,
        "fields": {
            "name": "Minnesota",
            "abbr": "MN",
            "electoral_votes": 10,
            "popular_votes": 2936561,
            "poll_closing_time": 180,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 24,
        "fields": {
            "name": "Mississippi",
            "abbr": "MS",
            "electoral_votes": 6,
            "popular_votes": 1285584,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 25,
        "fields": {
            "name": "Missouri",
            "abbr": "MO",
            "electoral_votes": 10,
            "popular_votes": 2763689,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 26,
        "fields": {
            "name": "Montana",
            "abbr": "MT",
            "electoral_votes": 3,
            "popular_votes": 484484,
            "poll_closing_time": 240,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 27,
        "fields": {
            "name": "Nebraska",
            "abbr": "NE",
            "electoral_votes": 2,
            "popular_votes": 794379,
            "poll_closing_time": 180,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 28,
        "fields": {
            "name": "Nevada",
            "abbr": "NV",
            "electoral_votes": 6,
            "popular_votes": 1014918,
            "poll_closing_time": 240,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 29,
        "fields": {
            "name": "New Hampshire",
            "abbr": "NH",
            "electoral_votes": 4,
            "popular_votes": 710972,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 30,
        "fields": {
            "name": "New Jersey",
            "abbr": "NJ",
            "electoral_votes": 14,
            "popular_votes": 3651140,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 31,
        "fields": {
            "name": "New Mexico",
            "abbr": "NM",
            "electoral_votes": 5,
            "popular_votes": 783757,
            "poll_closing_time": 180,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 32,
        "fields": {
            "name": "New York",
            "abbr": "NY",
            "electoral_votes": 29,
            "popular_votes": 7081536,
            "poll_closing_time": 180,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 33,
        "fields": {
            "name": "North Carolina",
            "abbr": "NC",
            "electoral_votes": 15,
            "popular_votes": 4505372,
            "poll_closing_time": 90,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 34,
        "fields": {
            "name": "North Dakota",
            "abbr": "ND",
            "electoral_votes": 3,
            "popular_votes": 322627,
            "poll_closing_time": 300,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 35,
        "fields": {
            "name": "Ohio",
            "abbr": "OH",
            "electoral_votes": 18,
            "popular_votes": 5590934,
            "poll_closing_time": 90,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 36,
        "fields": {
            "name": "Oklahoma",
            "abbr": "OK",
            "electoral_votes": 7,
            "popular_votes": 1334872,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 37,
        "fields": {
            "name": "Oregon",
            "abbr": "OR",
            "electoral_votes": 7,
            "popular_votes": 1789270,
            "poll_closing_time": 300,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 38,
        "fields": {
            "name": "Pennsylvania",
            "abbr": "PA",
            "electoral_votes": 20,
            "popular_votes": 5754939,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 39,
        "fields": {
            "name": "Rhode Island",
            "abbr": "RI",
            "electoral_votes": 4,
            "popular_votes": 446049,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 40,
        "fields": {
            "name": "South Carolina",
            "abbr": "SC",
            "electoral_votes": 9,
            "popular_votes": 1964118,
            "poll_closing_time": 60,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 41,
        "fields": {
            "name": "South Dakota",
            "abbr": "SD",
            "electoral_votes": 3,
            "popular_votes": 363815,
            "poll_closing_time": 180,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 42,
        "fields": {
            "name": "Tennessee",
            "abbr": "TN",
            "electoral_votes": 11,
            "popular_votes": 2460904,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 43,
        "fields": {
            "name": "Texas",
            "abbr": "TX",
            "electoral_votes": 38,
            "popular_votes": 7999532,
            "poll_closing_time": 180,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 44,
        "fields": {
            "name": "Utah",
            "abbr": "UT",
            "electoral_votes": 6,
            "popular_votes": 1020861,
            "poll_closing_time": 240,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 45,
        "fields": {
            "name": "Vermont",
            "abbr": "VT",
            "electoral_votes": 3,
            "popular_votes": 299290,
            "poll_closing_time": 60,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 46,
        "fields": {
            "name": "Virginia",
            "abbr": "VA",
            "electoral_votes": 13,
            "popular_votes": 3854489,
            "poll_closing_time": 60,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 47,
        "fields": {
            "name": "Washington",
            "abbr": "WA",
            "electoral_votes": 12,
            "popular_votes": 3145958,
            "poll_closing_time": 300,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 48,
        "fields": {
            "name": "Washington DC",
            "abbr": "DC",
            "electoral_votes": 3,
            "popular_votes": 293764,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 49,
        "fields": {
            "name": "West Virginia",
            "abbr": "WV",
            "electoral_votes": 5,
            "popular_votes": 672119,
            "poll_closing_time": 90,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 50,
        "fields": {
            "name": "Wisconsin",
            "abbr": "WI",
            "electoral_votes": 10,
            "popular_votes": 3068434,
            "poll_closing_time": 180,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 51,
        "fields": {
            "name": "Wyoming",
            "abbr": "WY",
            "electoral_votes": 3,
            "popular_votes": 249061,
            "poll_closing_time": 180,
            "winner_take_all_flg": 1,
            "election": 3
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1051,
        "fields": {
            "name": "Nebraska's 1st",
            "abbr": "NE-01",
            "electoral_votes": 1,
            "popular_votes": 2000,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1052,
        "fields": {
            "name": "Nebraska's 2nd",
            "abbr": "NE-02",
            "electoral_votes": 1,
            "popular_votes": 2000,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1053,
        "fields": {
            "name": "Nebraska's 3rd",
            "abbr": "NE-03",
            "electoral_votes": 1,
            "popular_votes": 2000,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1054,
        "fields": {
            "name": "Maine's 1st",
            "abbr": "ME-01",
            "electoral_votes": 1,
            "popular_votes": 2000,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 20
        }
    },
    {
        "model": "campaign_trail.state",
        "pk": 1055,
        "fields": {
            "name": "Maine's 2nd",
            "abbr": "ME-02",
            "electoral_votes": 1,
            "popular_votes": 2000,
            "poll_closing_time": 120,
            "winner_take_all_flg": 1,
            "election": 20
        }
    }
]

campaignTrail_temp.issues_json = [
    {
        "model": "campaign_trail.issue",
        "pk": 1,
        "fields": {
            "name": "The Economy",
            "description": "The United States enters 2012 with a struggling economy. After a severe recession from 2007-2009, unemployment remains over 8%, and many voters are frustrated with the slow pace of job creation. At the same time, the annual deficit has exploded since Obama took office, with some advocating for immediate cuts in government spending.",
            "stance_1": "Laissez-Faire",
            "stance_desc_1": "Supports growing the economy through large tax cuts, a sweeping reduction in the public sector, and overhaul of Social Security & Medicare, and possibly by reducing the power of the Federal Reserve to inflate the currency.",
            "stance_2": "Deficit Hawk",
            "stance_desc_2": "Generally supports tax cuts and a reduction in government, including entitlement reform. May favor incremental change over sweeping reductions.",
            "stance_3": "Pro-Free Market",
            "stance_desc_3": "Supports smaller government in principle. May be willing to compromise and to consider temporary stimulus programs, in exchange for other concessions.",
            "stance_4": "Balanced",
            "stance_desc_4": "Favors temporary stimulus measures combined with long-term budget cuts. Generally comfortable with the free market and mainstream economics.",
            "stance_5": "Pro-Stimulus",
            "stance_desc_5": "Favors stimulus measures and not opposed to government programs in principle. Uncomfortable with rapid increases in spending or with entirely new programs and departments.",
            "stance_6": "Interventionist",
            "stance_desc_6": "Favors both short-term stimulus and long-term growth in the scope of government. Supports a wide range of regulation to mitigate the excesses of the free market.",
            "stance_7": "Redistributive",
            "stance_desc_7": "Questions the underlying assumptions of capitalism. Supports massive increases in government programs, and would support government ownership of key industries, where appropriate.",
            "election": 3
        }
    },
    {
        "model": "campaign_trail.issue",
        "pk": 2,
        "fields": {
            "name": "Health Care",
            "description": "Barack Obama’s signature achievement from his first term was a landmark health care reform act. The law will establish insurance exchanges which must meet minimum coverage standards, and also cannot deny people based on pre-existing conditions. To help support these policies, every American will be mandated to purchase health insurance.",
            "stance_1": "Deregulate",
            "stance_desc_1": "Believes that government regulations have put an unaffordable burden on doctors and insurance companies. Supports drastic cuts to Medicare and Medicaid. May support an end to the FDA and other regulatory agencies to restore competitiveness to the American health care system.",
            "stance_2": "Private",
            "stance_desc_2": "Supports a greater role for the free market in the halth care sector. Opposed to Obamacare. Probably would not support an end to the FDA or other, more radical measures.",
            "stance_3": "Reform",
            "stance_desc_3": "Probably opposed to Obamacare. Would probably support malpractice reform and other incremental measures to cut overall health care costs, without challenging the larger regulatory system.",
            "stance_4": "Mixed",
            "stance_desc_4": "Supports some effort to collectively insure the poor and the chronically ill. May disagree with certain aspects of Obamacare or may not support a mandate, but agrees that the current system needs more intervention.",
            "stance_5": "Pro-ACA",
            "stance_desc_5": "Supports Obamacare more or less as is. Rejects calls for a public option but supports an insurance mandate and also strongly supports the existing Medicare system.",
            "stance_6": "Public Option",
            "stance_desc_6": "Supports Obamacare but also would support a public insurance agency to ensure minimum coverage standards are met at an affordable cost. Believes that malpractice suits are conducive to good care by providing oversight of the medical system.",
            "stance_7": "Universal",
            "stance_desc_7": "Admires the attempt of Obamacare to reform the system, but sees the change as too incremental. Favors a socialized medical system on the model of most European countries.",
            "election": 3
        }
    },
    {
        "model": "campaign_trail.issue",
        "pk": 3,
        "fields": {
            "name": "Foreign Policy",
            "description": "With the death of Osama Bin Laden in 2011 at the hands of the Navy SEALs, a dark chapter from America’s history appears to be closed. No significant terrorist attacks have occurred during the Obama Administration, and the war in Iraq appears to have been successfully ended. However, potential trouble looms with Iran’s nuclear program.",
            "stance_1": "Aggressive",
            "stance_desc_1": "Would support an invasion of Iran and advocates for air strikes against their nuclear program. Believes in American Exceptionalism and unilateral action without restraints. Opposes membership in the United Nations. Supports increased military spending and American force projection.",
            "stance_2": "Hawkish",
            "stance_desc_2": "Supports firm action against Iran and would consider an invasion if necessary. Also supports a strong military. Pays some respect to international alliances and institutions, and does not support radical measures like withdrawing from the U.N.",
            "stance_3": "Assertive",
            "stance_desc_3": "Would support any measure to prevent Iran from obtaining a nuclear weapons, but would need to see some evidence that other measures have failed before supporting an invasion. Willing to cooperate with allies and to work within the U.N. where necessary.",
            "stance_4": "Moderate",
            "stance_desc_4": "Favors a mix of diplomatic pressure and sanctions against Iran, would be opposed to bombing until the effects of those policies can be evaluated. Supports other efforts like drone strikes which project force at minimum risk to American troops.",
            "stance_5": "Cautious",
            "stance_desc_5": "Willing to consider air strikes against Iran if other measures fail. Wants Russia, China, and other powers in the region to put more pressure on the ruling regime as well. Seeks to work within regional power structures when projecting American influence.",
            "stance_6": "Non-Interventionist",
            "stance_desc_6": "Skeptical of action against Iran. Also critical of other measures such as drone strikes which can potentially kill innocent civilians. Thinks terrorism is in large part a reaction against American overreach.",
            "stance_7": "Isolationist",
            "stance_desc_7": "Opposed to nearly all foreign interventions. Does not support intervention in Iran. Argues that American intervention in previous decades caused the situation in Iran in the first place. Generally a vocal critic of Israel.",
            "election": 3
        }
    },
    {
        "model": "campaign_trail.issue",
        "pk": 4,
        "fields": {
            "name": "Social Issues",
            "description": "The culture wars have been a feature of American politics for decades, and 2012 is no exception. An increasingly empowered GLBT community demands acceptance for gay marriage while most conservatives still find the idea to be anathema to their sensibilities. The ever-present debates on abortion, religious issues, and gun control are still running strong as well.",
            "stance_1": "Traditional",
            "stance_desc_1": "An evangelical Christian or otherwise deeply traditional on social issues. Believes that abortion is murder, and that gay marriage threatens thousands of years of religious and civil precedents. Also favors a traditional role for women and traces many current problems to the women’s liberation movement.",
            "stance_2": "Conservative",
            "stance_desc_2": "Deeply religious and traditional in their outlook. May support some exceptions but is generally pro-life. Views homosexuality as a sin and opposes gay marriage. Supports traditional family structures and is also a supporter of gun rights.",
            "stance_3": "Conventional",
            "stance_desc_3": "Agrees in principle with the idea of the nuclear family as the bulwark of society. Does not take a hard line on gay marriage, but is probably opposed to it. May be willing to compromise on abortion and gun rights in some cases.",
            "stance_4": "Moderate",
            "stance_desc_4": "Does not favor extreme measures on the social issues of the day. May support civil unions. Sees the feminist movement as a net positive, while criticizing its perceived excesses. Favors sensible regulation of gun ownership.",
            "stance_5": "Pluralist",
            "stance_desc_5": "Favors civil unions and may support gay marriage. May support reduced penalties for some drug offenses. In general a supporter of gun control, while acknowledging the rights conferred by the Second Amendment.",
            "stance_6": "Progressive",
            "stance_desc_6": "Favors gay marriage, decriminalization of marijuana, legal access to abortion through at least the first trimester, and wide restrictions on gun ownership. Follows women’s issues closely and supports increased funding for women’s shelters, child care, birth control, and similar programs.",
            "stance_7": "Revolutionary",
            "stance_desc_7": "Favors gay marriage. Advocates for an immediate end to the drug war and the legalization of marijuana and perhaps other drugs. Thinks abortion should be legal in all circumstances. Supports a total or near-total ban on gun ownership. Supports early education on contraceptives to reduce teen pregnancy.",
            "election": 3
        }
    },
    {
        "model": "campaign_trail.issue",
        "pk": 5,
        "fields": {
            "name": "Immigration",
            "description": "Even as the pace of immigration has declined in recent years, there is fierce disagreement on how to handle the issue of illegal immigrants within the country, and also on how many legal immigrants to allow. Some on the right demand mass deportations, while employers who benefit from cheap labor are more circumspect. At the same time, many liberals and Hispanics urge for some form of recognition and a path to citizenship for illegals.",
            "stance_1": "Restrictionist",
            "stance_desc_1": "Supports the immediate deportation of all illegal immigrants living in the United States. Supports the construction of a border wall. Takes a hard line on legal immigration and visa approvals. Sees Hispanics and other immigrants as a threat to American culture and as a strain on social programs.",
            "stance_2": "Enforcement-First",
            "stance_desc_2": "Supports deportation of illegal immigrants living in the United States, with no exceptions based on time spent in the country. Supports construction of a wall and increased border security. May favor incremental measures to avoid the disruption would follow from deporting up to 20 million people in a short period of time.",
            "stance_3": "Secure Borders",
            "stance_desc_3": "Supports deportation of illegal immigrants, but may be willing to offer select, long-term residents a path to citizenship. May or may not advocate for a reduction in legal immigration. Supports increased border security as the best way to solve the issue in the long-term.",
            "stance_4": "Balanced",
            "stance_desc_4": "Supports deportation of newly arrived illegal immigrants, a path to citizenship for some long-term residents, and increased border security. Generally sees legal, skilled immigrants as an economic asset.",
            "stance_5": "Inclusive",
            "stance_desc_5": "Favors some kind of citizenship program for long-term and young illegal immigrants. Friendly with the Hispanic community and not fundamentally opposed to immigration, but may be opposed to policies such as bilingual education. Supports increases in legal immigration and in visa programs.",
            "stance_6": "Open",
            "stance_desc_6": "Supports a path to citizenship for most illegal immigrants. Would relax immigration restrictions from all sources. Sees current border security as adequate, and does not believe it is the main issue in the current immigration debate.",
            "stance_7": "Cosmopolitan",
            "stance_desc_7": "Supports huge increases in legal immigration. Would not attempt to deport individuals currently living in the United States. Supports the basic premises of multiculturalism and programs like bilingual education.",
            "election": 3
        }
    }
]

campaignTrail_temp.state_issue_score_json = [
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 1,
        "fields": {
            "state": 1,
            "issue": 1,
            "state_issue_score": -0.33,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 2,
        "fields": {
            "state": 1,
            "issue": 2,
            "state_issue_score": -0.3,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 3,
        "fields": {
            "state": 1,
            "issue": 3,
            "state_issue_score": -0.6,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 4,
        "fields": {
            "state": 1,
            "issue": 4,
            "state_issue_score": -0.6,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 5,
        "fields": {
            "state": 1,
            "issue": 5,
            "state_issue_score": -0.6,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 6,
        "fields": {
            "state": 2,
            "issue": 1,
            "state_issue_score": -0.65,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 7,
        "fields": {
            "state": 2,
            "issue": 2,
            "state_issue_score": -0.6,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 8,
        "fields": {
            "state": 2,
            "issue": 3,
            "state_issue_score": -0.5,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 9,
        "fields": {
            "state": 2,
            "issue": 4,
            "state_issue_score": -0.2,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 10,
        "fields": {
            "state": 2,
            "issue": 5,
            "state_issue_score": -0.1,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 11,
        "fields": {
            "state": 3,
            "issue": 1,
            "state_issue_score": -0.5,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 12,
        "fields": {
            "state": 3,
            "issue": 2,
            "state_issue_score": -0.3,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 13,
        "fields": {
            "state": 3,
            "issue": 3,
            "state_issue_score": -0.65,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 14,
        "fields": {
            "state": 3,
            "issue": 4,
            "state_issue_score": -0.1,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 15,
        "fields": {
            "state": 3,
            "issue": 5,
            "state_issue_score": -0.85,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 16,
        "fields": {
            "state": 4,
            "issue": 1,
            "state_issue_score": -0.25,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 17,
        "fields": {
            "state": 4,
            "issue": 2,
            "state_issue_score": -0.3,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 18,
        "fields": {
            "state": 4,
            "issue": 3,
            "state_issue_score": -0.5,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 19,
        "fields": {
            "state": 4,
            "issue": 4,
            "state_issue_score": -0.65,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 20,
        "fields": {
            "state": 4,
            "issue": 5,
            "state_issue_score": -0.55,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21,
        "fields": {
            "state": 5,
            "issue": 1,
            "state_issue_score": 0.55,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 22,
        "fields": {
            "state": 5,
            "issue": 2,
            "state_issue_score": 0.65,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 23,
        "fields": {
            "state": 5,
            "issue": 3,
            "state_issue_score": 0.55,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 24,
        "fields": {
            "state": 5,
            "issue": 4,
            "state_issue_score": 0.71,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 25,
        "fields": {
            "state": 5,
            "issue": 5,
            "state_issue_score": 0.7,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 26,
        "fields": {
            "state": 6,
            "issue": 1,
            "state_issue_score": 0.15,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 27,
        "fields": {
            "state": 6,
            "issue": 2,
            "state_issue_score": 0.1,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 28,
        "fields": {
            "state": 6,
            "issue": 3,
            "state_issue_score": -0.1,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 29,
        "fields": {
            "state": 6,
            "issue": 4,
            "state_issue_score": 0.5,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 30,
        "fields": {
            "state": 6,
            "issue": 5,
            "state_issue_score": 0,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 31,
        "fields": {
            "state": 7,
            "issue": 1,
            "state_issue_score": 0.45,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 32,
        "fields": {
            "state": 7,
            "issue": 2,
            "state_issue_score": 0.3,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 33,
        "fields": {
            "state": 7,
            "issue": 3,
            "state_issue_score": 0.1,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 34,
        "fields": {
            "state": 7,
            "issue": 4,
            "state_issue_score": 0.45,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 35,
        "fields": {
            "state": 7,
            "issue": 5,
            "state_issue_score": 0.45,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 36,
        "fields": {
            "state": 8,
            "issue": 1,
            "state_issue_score": 0.2,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 37,
        "fields": {
            "state": 8,
            "issue": 2,
            "state_issue_score": 0.25,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 38,
        "fields": {
            "state": 8,
            "issue": 3,
            "state_issue_score": 0.3,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 39,
        "fields": {
            "state": 8,
            "issue": 4,
            "state_issue_score": 0.4,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 40,
        "fields": {
            "state": 8,
            "issue": 5,
            "state_issue_score": 0.35,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 41,
        "fields": {
            "state": 9,
            "issue": 1,
            "state_issue_score": 0.2,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 42,
        "fields": {
            "state": 9,
            "issue": 2,
            "state_issue_score": 0.33,
            "weight": 1.25
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 43,
        "fields": {
            "state": 9,
            "issue": 3,
            "state_issue_score": -0.35,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 44,
        "fields": {
            "state": 9,
            "issue": 4,
            "state_issue_score": -0.125,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 45,
        "fields": {
            "state": 9,
            "issue": 5,
            "state_issue_score": 0.25,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 46,
        "fields": {
            "state": 10,
            "issue": 1,
            "state_issue_score": -0.3,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 47,
        "fields": {
            "state": 10,
            "issue": 2,
            "state_issue_score": -0.25,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 48,
        "fields": {
            "state": 10,
            "issue": 3,
            "state_issue_score": -0.5,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 49,
        "fields": {
            "state": 10,
            "issue": 4,
            "state_issue_score": -0.4,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 50,
        "fields": {
            "state": 10,
            "issue": 5,
            "state_issue_score": -0.25,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 51,
        "fields": {
            "state": 11,
            "issue": 1,
            "state_issue_score": 0.7,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 52,
        "fields": {
            "state": 11,
            "issue": 2,
            "state_issue_score": 0.5,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 53,
        "fields": {
            "state": 11,
            "issue": 3,
            "state_issue_score": 0.75,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 54,
        "fields": {
            "state": 11,
            "issue": 4,
            "state_issue_score": 0.7,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 55,
        "fields": {
            "state": 11,
            "issue": 5,
            "state_issue_score": 0.75,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 56,
        "fields": {
            "state": 12,
            "issue": 1,
            "state_issue_score": -0.5,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 57,
        "fields": {
            "state": 12,
            "issue": 2,
            "state_issue_score": -0.3,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 58,
        "fields": {
            "state": 12,
            "issue": 3,
            "state_issue_score": -0.3,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 59,
        "fields": {
            "state": 12,
            "issue": 4,
            "state_issue_score": -0.3,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 60,
        "fields": {
            "state": 12,
            "issue": 5,
            "state_issue_score": -0.2,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 61,
        "fields": {
            "state": 13,
            "issue": 1,
            "state_issue_score": 0.5,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 62,
        "fields": {
            "state": 13,
            "issue": 2,
            "state_issue_score": 0.6,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 63,
        "fields": {
            "state": 13,
            "issue": 3,
            "state_issue_score": 0.5,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 64,
        "fields": {
            "state": 13,
            "issue": 4,
            "state_issue_score": 0.5,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 65,
        "fields": {
            "state": 13,
            "issue": 5,
            "state_issue_score": 0.65,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 66,
        "fields": {
            "state": 14,
            "issue": 1,
            "state_issue_score": -0.3,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 67,
        "fields": {
            "state": 14,
            "issue": 2,
            "state_issue_score": -0.2,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 68,
        "fields": {
            "state": 14,
            "issue": 3,
            "state_issue_score": -0.2,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 69,
        "fields": {
            "state": 14,
            "issue": 4,
            "state_issue_score": -0.1,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 70,
        "fields": {
            "state": 14,
            "issue": 5,
            "state_issue_score": -0.1,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 71,
        "fields": {
            "state": 15,
            "issue": 1,
            "state_issue_score": 0.25,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 72,
        "fields": {
            "state": 15,
            "issue": 2,
            "state_issue_score": 0.15,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 73,
        "fields": {
            "state": 15,
            "issue": 3,
            "state_issue_score": 0.15,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 74,
        "fields": {
            "state": 15,
            "issue": 4,
            "state_issue_score": 0.15,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 75,
        "fields": {
            "state": 15,
            "issue": 5,
            "state_issue_score": -0.1,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 76,
        "fields": {
            "state": 16,
            "issue": 1,
            "state_issue_score": -0.5,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 77,
        "fields": {
            "state": 16,
            "issue": 2,
            "state_issue_score": -0.5,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 78,
        "fields": {
            "state": 16,
            "issue": 3,
            "state_issue_score": -0.5,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 79,
        "fields": {
            "state": 16,
            "issue": 4,
            "state_issue_score": -0.6,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 80,
        "fields": {
            "state": 16,
            "issue": 5,
            "state_issue_score": -0.5,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 81,
        "fields": {
            "state": 17,
            "issue": 1,
            "state_issue_score": -0.5,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 82,
        "fields": {
            "state": 17,
            "issue": 2,
            "state_issue_score": -0.6,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 83,
        "fields": {
            "state": 17,
            "issue": 3,
            "state_issue_score": -0.6,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 84,
        "fields": {
            "state": 17,
            "issue": 4,
            "state_issue_score": -0.7,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 85,
        "fields": {
            "state": 17,
            "issue": 5,
            "state_issue_score": -0.5,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 86,
        "fields": {
            "state": 18,
            "issue": 1,
            "state_issue_score": -0.2,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 87,
        "fields": {
            "state": 18,
            "issue": 2,
            "state_issue_score": -0.3,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 88,
        "fields": {
            "state": 18,
            "issue": 3,
            "state_issue_score": -0.6,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 89,
        "fields": {
            "state": 18,
            "issue": 4,
            "state_issue_score": -0.5,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 90,
        "fields": {
            "state": 18,
            "issue": 5,
            "state_issue_score": -0.5,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 91,
        "fields": {
            "state": 19,
            "issue": 1,
            "state_issue_score": 0.3,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 92,
        "fields": {
            "state": 19,
            "issue": 2,
            "state_issue_score": 0.25,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 93,
        "fields": {
            "state": 19,
            "issue": 3,
            "state_issue_score": 0.3,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 94,
        "fields": {
            "state": 19,
            "issue": 4,
            "state_issue_score": 0.6,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 95,
        "fields": {
            "state": 19,
            "issue": 5,
            "state_issue_score": 0.5,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 96,
        "fields": {
            "state": 20,
            "issue": 1,
            "state_issue_score": 0.2,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 97,
        "fields": {
            "state": 20,
            "issue": 2,
            "state_issue_score": 0.6,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 98,
        "fields": {
            "state": 20,
            "issue": 3,
            "state_issue_score": 0.4,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 99,
        "fields": {
            "state": 20,
            "issue": 4,
            "state_issue_score": 0.45,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 100,
        "fields": {
            "state": 20,
            "issue": 5,
            "state_issue_score": 0.4,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 101,
        "fields": {
            "state": 21,
            "issue": 1,
            "state_issue_score": 0.6,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 102,
        "fields": {
            "state": 21,
            "issue": 2,
            "state_issue_score": 0.7,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 103,
        "fields": {
            "state": 21,
            "issue": 3,
            "state_issue_score": 0.6,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 104,
        "fields": {
            "state": 21,
            "issue": 4,
            "state_issue_score": 0.8,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 105,
        "fields": {
            "state": 21,
            "issue": 5,
            "state_issue_score": 0.75,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 106,
        "fields": {
            "state": 22,
            "issue": 1,
            "state_issue_score": 0.8,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 107,
        "fields": {
            "state": 22,
            "issue": 2,
            "state_issue_score": 0.7,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 108,
        "fields": {
            "state": 22,
            "issue": 3,
            "state_issue_score": 0.1,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 109,
        "fields": {
            "state": 22,
            "issue": 4,
            "state_issue_score": 0.1,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 110,
        "fields": {
            "state": 22,
            "issue": 5,
            "state_issue_score": -0.25,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 111,
        "fields": {
            "state": 23,
            "issue": 1,
            "state_issue_score": 0.4,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 112,
        "fields": {
            "state": 23,
            "issue": 2,
            "state_issue_score": 0.5,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 113,
        "fields": {
            "state": 23,
            "issue": 3,
            "state_issue_score": 0.1,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 114,
        "fields": {
            "state": 23,
            "issue": 4,
            "state_issue_score": 0.1,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 115,
        "fields": {
            "state": 23,
            "issue": 5,
            "state_issue_score": 0,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 116,
        "fields": {
            "state": 24,
            "issue": 1,
            "state_issue_score": -0.33,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 117,
        "fields": {
            "state": 24,
            "issue": 2,
            "state_issue_score": -0.4,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 118,
        "fields": {
            "state": 24,
            "issue": 3,
            "state_issue_score": -0.6,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 119,
        "fields": {
            "state": 24,
            "issue": 4,
            "state_issue_score": -0.66,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 120,
        "fields": {
            "state": 24,
            "issue": 5,
            "state_issue_score": -0.6,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 121,
        "fields": {
            "state": 25,
            "issue": 1,
            "state_issue_score": 0,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 122,
        "fields": {
            "state": 25,
            "issue": 2,
            "state_issue_score": -0.05,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 123,
        "fields": {
            "state": 25,
            "issue": 3,
            "state_issue_score": -0.3,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 124,
        "fields": {
            "state": 25,
            "issue": 4,
            "state_issue_score": -0.15,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 125,
        "fields": {
            "state": 25,
            "issue": 5,
            "state_issue_score": -0.21,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 126,
        "fields": {
            "state": 26,
            "issue": 1,
            "state_issue_score": -0.3,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 127,
        "fields": {
            "state": 26,
            "issue": 2,
            "state_issue_score": -0.2,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 128,
        "fields": {
            "state": 26,
            "issue": 3,
            "state_issue_score": -0.5,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 129,
        "fields": {
            "state": 26,
            "issue": 4,
            "state_issue_score": 0.3,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 130,
        "fields": {
            "state": 26,
            "issue": 5,
            "state_issue_score": 0,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 131,
        "fields": {
            "state": 27,
            "issue": 1,
            "state_issue_score": -0.4,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 132,
        "fields": {
            "state": 27,
            "issue": 2,
            "state_issue_score": -0.4,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 133,
        "fields": {
            "state": 27,
            "issue": 3,
            "state_issue_score": -0.2,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 134,
        "fields": {
            "state": 27,
            "issue": 4,
            "state_issue_score": -0.5,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 135,
        "fields": {
            "state": 27,
            "issue": 5,
            "state_issue_score": -0.6,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 136,
        "fields": {
            "state": 28,
            "issue": 1,
            "state_issue_score": 0.1,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 137,
        "fields": {
            "state": 28,
            "issue": 2,
            "state_issue_score": 0,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 138,
        "fields": {
            "state": 28,
            "issue": 3,
            "state_issue_score": 0,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 139,
        "fields": {
            "state": 28,
            "issue": 4,
            "state_issue_score": 0.7,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 140,
        "fields": {
            "state": 28,
            "issue": 5,
            "state_issue_score": 0.5,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 141,
        "fields": {
            "state": 29,
            "issue": 1,
            "state_issue_score": -0.2,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 142,
        "fields": {
            "state": 29,
            "issue": 2,
            "state_issue_score": 0.1,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 143,
        "fields": {
            "state": 29,
            "issue": 3,
            "state_issue_score": 0.05,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 144,
        "fields": {
            "state": 29,
            "issue": 4,
            "state_issue_score": 0.3,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 145,
        "fields": {
            "state": 29,
            "issue": 5,
            "state_issue_score": 0.25,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 146,
        "fields": {
            "state": 30,
            "issue": 1,
            "state_issue_score": 0.4,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 147,
        "fields": {
            "state": 30,
            "issue": 2,
            "state_issue_score": 0.4,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 148,
        "fields": {
            "state": 30,
            "issue": 3,
            "state_issue_score": 0.25,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 149,
        "fields": {
            "state": 30,
            "issue": 4,
            "state_issue_score": 0.25,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 150,
        "fields": {
            "state": 30,
            "issue": 5,
            "state_issue_score": 0.66,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 151,
        "fields": {
            "state": 31,
            "issue": 1,
            "state_issue_score": 0.7,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 152,
        "fields": {
            "state": 31,
            "issue": 2,
            "state_issue_score": 0.5,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 153,
        "fields": {
            "state": 31,
            "issue": 3,
            "state_issue_score": 0.4,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 154,
        "fields": {
            "state": 31,
            "issue": 4,
            "state_issue_score": 0.6,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 155,
        "fields": {
            "state": 31,
            "issue": 5,
            "state_issue_score": 0.7,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 156,
        "fields": {
            "state": 32,
            "issue": 1,
            "state_issue_score": 0.25,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 157,
        "fields": {
            "state": 32,
            "issue": 2,
            "state_issue_score": 0.2,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 158,
        "fields": {
            "state": 32,
            "issue": 3,
            "state_issue_score": 0.4,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 159,
        "fields": {
            "state": 32,
            "issue": 4,
            "state_issue_score": 0.6,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 160,
        "fields": {
            "state": 32,
            "issue": 5,
            "state_issue_score": 0.4,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 161,
        "fields": {
            "state": 33,
            "issue": 1,
            "state_issue_score": 0.1,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 162,
        "fields": {
            "state": 33,
            "issue": 2,
            "state_issue_score": 0.1,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 163,
        "fields": {
            "state": 33,
            "issue": 3,
            "state_issue_score": -0.15,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 164,
        "fields": {
            "state": 33,
            "issue": 4,
            "state_issue_score": 0.05,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 165,
        "fields": {
            "state": 33,
            "issue": 5,
            "state_issue_score": -0.12,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 166,
        "fields": {
            "state": 34,
            "issue": 1,
            "state_issue_score": -0.7,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 167,
        "fields": {
            "state": 34,
            "issue": 2,
            "state_issue_score": -0.6,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 168,
        "fields": {
            "state": 34,
            "issue": 3,
            "state_issue_score": -0.6,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 169,
        "fields": {
            "state": 34,
            "issue": 4,
            "state_issue_score": -0.4,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 170,
        "fields": {
            "state": 34,
            "issue": 5,
            "state_issue_score": -0.25,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 171,
        "fields": {
            "state": 35,
            "issue": 1,
            "state_issue_score": 0.2,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 172,
        "fields": {
            "state": 35,
            "issue": 2,
            "state_issue_score": 0.1,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 173,
        "fields": {
            "state": 35,
            "issue": 3,
            "state_issue_score": -0.2,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 174,
        "fields": {
            "state": 35,
            "issue": 4,
            "state_issue_score": 0.1,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 175,
        "fields": {
            "state": 35,
            "issue": 5,
            "state_issue_score": 0,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 176,
        "fields": {
            "state": 36,
            "issue": 1,
            "state_issue_score": -0.65,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 177,
        "fields": {
            "state": 36,
            "issue": 2,
            "state_issue_score": -0.65,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 178,
        "fields": {
            "state": 36,
            "issue": 3,
            "state_issue_score": -0.65,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 179,
        "fields": {
            "state": 36,
            "issue": 4,
            "state_issue_score": -0.7,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 180,
        "fields": {
            "state": 36,
            "issue": 5,
            "state_issue_score": -0.65,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 181,
        "fields": {
            "state": 37,
            "issue": 1,
            "state_issue_score": 0.5,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 182,
        "fields": {
            "state": 37,
            "issue": 2,
            "state_issue_score": 0.5,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 183,
        "fields": {
            "state": 37,
            "issue": 3,
            "state_issue_score": 0.75,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 184,
        "fields": {
            "state": 37,
            "issue": 4,
            "state_issue_score": 0.75,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 185,
        "fields": {
            "state": 37,
            "issue": 5,
            "state_issue_score": 0.3,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 186,
        "fields": {
            "state": 38,
            "issue": 1,
            "state_issue_score": 0.4,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 187,
        "fields": {
            "state": 38,
            "issue": 2,
            "state_issue_score": 0.25,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 188,
        "fields": {
            "state": 38,
            "issue": 3,
            "state_issue_score": 0.1,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 189,
        "fields": {
            "state": 38,
            "issue": 4,
            "state_issue_score": 0.1,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 190,
        "fields": {
            "state": 38,
            "issue": 5,
            "state_issue_score": -0.1,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 191,
        "fields": {
            "state": 39,
            "issue": 1,
            "state_issue_score": 0.65,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 192,
        "fields": {
            "state": 39,
            "issue": 2,
            "state_issue_score": 0.6,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 193,
        "fields": {
            "state": 39,
            "issue": 3,
            "state_issue_score": 0.7,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 194,
        "fields": {
            "state": 39,
            "issue": 4,
            "state_issue_score": 0.6,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 195,
        "fields": {
            "state": 39,
            "issue": 5,
            "state_issue_score": 0.5,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 196,
        "fields": {
            "state": 40,
            "issue": 1,
            "state_issue_score": -0.65,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 197,
        "fields": {
            "state": 40,
            "issue": 2,
            "state_issue_score": -0.5,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 198,
        "fields": {
            "state": 40,
            "issue": 3,
            "state_issue_score": -0.6,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 199,
        "fields": {
            "state": 40,
            "issue": 4,
            "state_issue_score": -0.65,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 200,
        "fields": {
            "state": 40,
            "issue": 5,
            "state_issue_score": -0.55,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 201,
        "fields": {
            "state": 41,
            "issue": 1,
            "state_issue_score": -0.5,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 202,
        "fields": {
            "state": 41,
            "issue": 2,
            "state_issue_score": -0.5,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 203,
        "fields": {
            "state": 41,
            "issue": 3,
            "state_issue_score": -0.6,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 204,
        "fields": {
            "state": 41,
            "issue": 4,
            "state_issue_score": -0.4,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 205,
        "fields": {
            "state": 41,
            "issue": 5,
            "state_issue_score": -0.3,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 206,
        "fields": {
            "state": 42,
            "issue": 1,
            "state_issue_score": -0.3,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 207,
        "fields": {
            "state": 42,
            "issue": 2,
            "state_issue_score": -0.35,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 208,
        "fields": {
            "state": 42,
            "issue": 3,
            "state_issue_score": -0.35,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 209,
        "fields": {
            "state": 42,
            "issue": 4,
            "state_issue_score": -0.2,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 210,
        "fields": {
            "state": 42,
            "issue": 5,
            "state_issue_score": -0.35,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 211,
        "fields": {
            "state": 43,
            "issue": 1,
            "state_issue_score": -0.7,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 212,
        "fields": {
            "state": 43,
            "issue": 2,
            "state_issue_score": -0.55,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 213,
        "fields": {
            "state": 43,
            "issue": 3,
            "state_issue_score": -0.6,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 214,
        "fields": {
            "state": 43,
            "issue": 4,
            "state_issue_score": -0.5,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 215,
        "fields": {
            "state": 43,
            "issue": 5,
            "state_issue_score": -0.3,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 216,
        "fields": {
            "state": 44,
            "issue": 1,
            "state_issue_score": -0.4,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 217,
        "fields": {
            "state": 44,
            "issue": 2,
            "state_issue_score": -0.4,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 218,
        "fields": {
            "state": 44,
            "issue": 3,
            "state_issue_score": -0.5,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 219,
        "fields": {
            "state": 44,
            "issue": 4,
            "state_issue_score": -0.85,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 220,
        "fields": {
            "state": 44,
            "issue": 5,
            "state_issue_score": -0.4,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 221,
        "fields": {
            "state": 45,
            "issue": 1,
            "state_issue_score": 0.5,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 222,
        "fields": {
            "state": 45,
            "issue": 2,
            "state_issue_score": 0.6,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 223,
        "fields": {
            "state": 45,
            "issue": 3,
            "state_issue_score": 0.7,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 224,
        "fields": {
            "state": 45,
            "issue": 4,
            "state_issue_score": 0.7,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 225,
        "fields": {
            "state": 45,
            "issue": 5,
            "state_issue_score": 0.6,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 226,
        "fields": {
            "state": 46,
            "issue": 1,
            "state_issue_score": 0.25,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 227,
        "fields": {
            "state": 46,
            "issue": 2,
            "state_issue_score": 0.1,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 228,
        "fields": {
            "state": 46,
            "issue": 3,
            "state_issue_score": -0.1,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 229,
        "fields": {
            "state": 46,
            "issue": 4,
            "state_issue_score": 0.25,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 230,
        "fields": {
            "state": 46,
            "issue": 5,
            "state_issue_score": 0.1,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 231,
        "fields": {
            "state": 47,
            "issue": 1,
            "state_issue_score": 0.25,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 232,
        "fields": {
            "state": 47,
            "issue": 2,
            "state_issue_score": 0.4,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 233,
        "fields": {
            "state": 47,
            "issue": 3,
            "state_issue_score": 0.6,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 234,
        "fields": {
            "state": 47,
            "issue": 4,
            "state_issue_score": 0.75,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 235,
        "fields": {
            "state": 47,
            "issue": 5,
            "state_issue_score": 0.5,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 236,
        "fields": {
            "state": 48,
            "issue": 1,
            "state_issue_score": 0.9,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 237,
        "fields": {
            "state": 48,
            "issue": 2,
            "state_issue_score": 0.9,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 238,
        "fields": {
            "state": 48,
            "issue": 3,
            "state_issue_score": 0.9,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 239,
        "fields": {
            "state": 48,
            "issue": 4,
            "state_issue_score": 0.7,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 240,
        "fields": {
            "state": 48,
            "issue": 5,
            "state_issue_score": 0.65,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 241,
        "fields": {
            "state": 49,
            "issue": 1,
            "state_issue_score": 0.1,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 242,
        "fields": {
            "state": 49,
            "issue": 2,
            "state_issue_score": 0,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 243,
        "fields": {
            "state": 49,
            "issue": 3,
            "state_issue_score": -0.6,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 244,
        "fields": {
            "state": 49,
            "issue": 4,
            "state_issue_score": -0.7,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 245,
        "fields": {
            "state": 49,
            "issue": 5,
            "state_issue_score": -0.4,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 246,
        "fields": {
            "state": 50,
            "issue": 1,
            "state_issue_score": 0.25,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 247,
        "fields": {
            "state": 50,
            "issue": 2,
            "state_issue_score": 0.2,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 248,
        "fields": {
            "state": 50,
            "issue": 3,
            "state_issue_score": 0.1,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 249,
        "fields": {
            "state": 50,
            "issue": 4,
            "state_issue_score": 0.3,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 250,
        "fields": {
            "state": 50,
            "issue": 5,
            "state_issue_score": -0.1,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 251,
        "fields": {
            "state": 51,
            "issue": 1,
            "state_issue_score": -0.7,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 252,
        "fields": {
            "state": 51,
            "issue": 2,
            "state_issue_score": -0.7,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 253,
        "fields": {
            "state": 51,
            "issue": 3,
            "state_issue_score": -0.6,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 254,
        "fields": {
            "state": 51,
            "issue": 4,
            "state_issue_score": -0.4,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 255,
        "fields": {
            "state": 51,
            "issue": 5,
            "state_issue_score": -0.4,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21091,
        "fields": {
            "state": 1051,
            "issue": 1,
            "state_issue_score": -0.3,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21092,
        "fields": {
            "state": 1051,
            "issue": 2,
            "state_issue_score": -0.4,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21093,
        "fields": {
            "state": 1051,
            "issue": 3,
            "state_issue_score": -0.3,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21094,
        "fields": {
            "state": 1051,
            "issue": 4,
            "state_issue_score": -0.15,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21095,
        "fields": {
            "state": 1051,
            "issue": 5,
            "state_issue_score": -0.1,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21101,
        "fields": {
            "state": 1052,
            "issue": 1,
            "state_issue_score": -0.4,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21102,
        "fields": {
            "state": 1052,
            "issue": 2,
            "state_issue_score": -0.2,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21103,
        "fields": {
            "state": 1052,
            "issue": 3,
            "state_issue_score": -0.1,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21104,
        "fields": {
            "state": 1052,
            "issue": 4,
            "state_issue_score": 0.2,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21105,
        "fields": {
            "state": 1052,
            "issue": 5,
            "state_issue_score": -0.2,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21111,
        "fields": {
            "state": 1053,
            "issue": 1,
            "state_issue_score": -0.6,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21112,
        "fields": {
            "state": 1053,
            "issue": 2,
            "state_issue_score": -0.4,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21113,
        "fields": {
            "state": 1053,
            "issue": 3,
            "state_issue_score": -0.4,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21114,
        "fields": {
            "state": 1053,
            "issue": 4,
            "state_issue_score": -0.6,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21115,
        "fields": {
            "state": 1053,
            "issue": 5,
            "state_issue_score": -0.3,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21121,
        "fields": {
            "state": 1054,
            "issue": 1,
            "state_issue_score": 0.3,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21122,
        "fields": {
            "state": 1054,
            "issue": 2,
            "state_issue_score": 0.3,
            "weight": 1.05
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21123,
        "fields": {
            "state": 1054,
            "issue": 3,
            "state_issue_score": 0.1,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21124,
        "fields": {
            "state": 1054,
            "issue": 4,
            "state_issue_score": 0.5,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21125,
        "fields": {
            "state": 1054,
            "issue": 5,
            "state_issue_score": 0.3,
            "weight": 0.8
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21131,
        "fields": {
            "state": 1055,
            "issue": 1,
            "state_issue_score": -0.2,
            "weight": 1.2
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21132,
        "fields": {
            "state": 1055,
            "issue": 2,
            "state_issue_score": 0.2,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21133,
        "fields": {
            "state": 1055,
            "issue": 3,
            "state_issue_score": -0.3,
            "weight": 0.9
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21134,
        "fields": {
            "state": 1055,
            "issue": 4,
            "state_issue_score": -0.1,
            "weight": 1
        }
    },
    {
        "model": "campaign_trail.state_issue_score",
        "pk": 21135,
        "fields": {
            "state": 1055,
            "issue": 5,
            "state_issue_score": -0.2,
            "weight": 0.8
        }
    }
]

campaignTrail_temp.candidate_issue_score_json = [
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 1,
        "fields": {
            "candidate": 16,
            "issue": 1,
            "issue_score": 0.4
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 2,
        "fields": {
            "candidate": 16,
            "issue": 2,
            "issue_score": 0.5
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 3,
        "fields": {
            "candidate": 16,
            "issue": 3,
            "issue_score": 0.1
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 4,
        "fields": {
            "candidate": 16,
            "issue": 4,
            "issue_score": 0.25
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 5,
        "fields": {
            "candidate": 16,
            "issue": 5,
            "issue_score": 0.45
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 6,
        "fields": {
            "candidate": 17,
            "issue": 1,
            "issue_score": -0.45
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 7,
        "fields": {
            "candidate": 17,
            "issue": 2,
            "issue_score": -0.3
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 8,
        "fields": {
            "candidate": 17,
            "issue": 3,
            "issue_score": -0.4
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 9,
        "fields": {
            "candidate": 17,
            "issue": 4,
            "issue_score": -0.25
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 10,
        "fields": {
            "candidate": 17,
            "issue": 5,
            "issue_score": -0.2
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 11,
        "fields": {
            "candidate": 18,
            "issue": 1,
            "issue_score": -0.8
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 12,
        "fields": {
            "candidate": 18,
            "issue": 2,
            "issue_score": -0.8
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 13,
        "fields": {
            "candidate": 18,
            "issue": 3,
            "issue_score": 0.75
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 14,
        "fields": {
            "candidate": 18,
            "issue": 4,
            "issue_score": 0.8
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 15,
        "fields": {
            "candidate": 18,
            "issue": 5,
            "issue_score": 0.8
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 16,
        "fields": {
            "candidate": 19,
            "issue": 1,
            "issue_score": 0.8
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 17,
        "fields": {
            "candidate": 19,
            "issue": 2,
            "issue_score": 0.9
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 18,
        "fields": {
            "candidate": 19,
            "issue": 3,
            "issue_score": 0.8
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 19,
        "fields": {
            "candidate": 19,
            "issue": 4,
            "issue_score": 0.8
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 20,
        "fields": {
            "candidate": 19,
            "issue": 5,
            "issue_score": 0.8
        }
    }
]

campaignTrail_temp.running_mate_issue_score_json = [
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 61,
        "fields": {
            "candidate": 30,
            "issue": 1,
            "issue_score": 0.6
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 62,
        "fields": {
            "candidate": 30,
            "issue": 2,
            "issue_score": 0.7
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 63,
        "fields": {
            "candidate": 30,
            "issue": 3,
            "issue_score": 0.4
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 64,
        "fields": {
            "candidate": 30,
            "issue": 4,
            "issue_score": 0.7
        }
    },
    {
        "model": "campaign_trail.candidate_issue_score",
        "pk": 65,
        "fields": {
            "candidate": 30,
            "issue": 5,
            "issue_score": 0.6
        }
    }
]

campaignTrail_temp.candidate_state_multiplier_json = [
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 1,
        "fields": {
            "candidate": 16,
            "state": 1,
            "state_multiplier": 0.8718
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 2,
        "fields": {
            "candidate": 16,
            "state": 2,
            "state_multiplier": 0.9444
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 3,
        "fields": {
            "candidate": 16,
            "state": 3,
            "state_multiplier": 1.0508
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 4,
        "fields": {
            "candidate": 16,
            "state": 4,
            "state_multiplier": 0.8376
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 5,
        "fields": {
            "candidate": 16,
            "state": 5,
            "state_multiplier": 0.9639
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 6,
        "fields": {
            "candidate": 16,
            "state": 6,
            "state_multiplier": 1.0235
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 7,
        "fields": {
            "candidate": 16,
            "state": 7,
            "state_multiplier": 1.0904
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 8,
        "fields": {
            "candidate": 16,
            "state": 8,
            "state_multiplier": 1.1873
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 9,
        "fields": {
            "candidate": 16,
            "state": 9,
            "state_multiplier": 0.9869
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 10,
        "fields": {
            "candidate": 16,
            "state": 10,
            "state_multiplier": 1.0095
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 11,
        "fields": {
            "candidate": 16,
            "state": 11,
            "state_multiplier": 1.3225
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 12,
        "fields": {
            "candidate": 16,
            "state": 12,
            "state_multiplier": 0.71
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 13,
        "fields": {
            "candidate": 16,
            "state": 13,
            "state_multiplier": 1.0368
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 14,
        "fields": {
            "candidate": 16,
            "state": 14,
            "state_multiplier": 0.911
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 15,
        "fields": {
            "candidate": 16,
            "state": 15,
            "state_multiplier": 1.032
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 16,
        "fields": {
            "candidate": 16,
            "state": 16,
            "state_multiplier": 0.9052
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 17,
        "fields": {
            "candidate": 16,
            "state": 17,
            "state_multiplier": 0.9087
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 18,
        "fields": {
            "candidate": 16,
            "state": 18,
            "state_multiplier": 0.9217
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 19,
        "fields": {
            "candidate": 16,
            "state": 19,
            "state_multiplier": 1.0153
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 20,
        "fields": {
            "candidate": 16,
            "state": 20,
            "state_multiplier": 1.1873
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21,
        "fields": {
            "candidate": 16,
            "state": 21,
            "state_multiplier": 0.9905
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 22,
        "fields": {
            "candidate": 16,
            "state": 22,
            "state_multiplier": 1.0107
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 23,
        "fields": {
            "candidate": 16,
            "state": 23,
            "state_multiplier": 1.0065
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 24,
        "fields": {
            "candidate": 16,
            "state": 24,
            "state_multiplier": 1.061
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 25,
        "fields": {
            "candidate": 16,
            "state": 25,
            "state_multiplier": 0.9084
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 26,
        "fields": {
            "candidate": 16,
            "state": 26,
            "state_multiplier": 0.8871
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 27,
        "fields": {
            "candidate": 16,
            "state": 27,
            "state_multiplier": 0.8359
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 28,
        "fields": {
            "candidate": 16,
            "state": 28,
            "state_multiplier": 1.0162
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 29,
        "fields": {
            "candidate": 16,
            "state": 29,
            "state_multiplier": 1.0189
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 30,
        "fields": {
            "candidate": 16,
            "state": 30,
            "state_multiplier": 1.0381
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 31,
        "fields": {
            "candidate": 16,
            "state": 31,
            "state_multiplier": 0.905
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 32,
        "fields": {
            "candidate": 16,
            "state": 32,
            "state_multiplier": 1.3951
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 33,
        "fields": {
            "candidate": 16,
            "state": 33,
            "state_multiplier": 0.9973
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 34,
        "fields": {
            "candidate": 16,
            "state": 34,
            "state_multiplier": 0.9478
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 35,
        "fields": {
            "candidate": 16,
            "state": 35,
            "state_multiplier": 1.0418
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 36,
        "fields": {
            "candidate": 16,
            "state": 36,
            "state_multiplier": 0.8096
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 37,
        "fields": {
            "candidate": 16,
            "state": 37,
            "state_multiplier": 0.9513
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 38,
        "fields": {
            "candidate": 16,
            "state": 38,
            "state_multiplier": 0.9869
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 39,
        "fields": {
            "candidate": 16,
            "state": 39,
            "state_multiplier": 1.0553
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 40,
        "fields": {
            "candidate": 16,
            "state": 40,
            "state_multiplier": 1.1015
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 41,
        "fields": {
            "candidate": 16,
            "state": 41,
            "state_multiplier": 0.9229
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 42,
        "fields": {
            "candidate": 16,
            "state": 42,
            "state_multiplier": 0.8225
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 43,
        "fields": {
            "candidate": 16,
            "state": 43,
            "state_multiplier": 1.0248
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 44,
        "fields": {
            "candidate": 16,
            "state": 44,
            "state_multiplier": 0.7106
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 45,
        "fields": {
            "candidate": 16,
            "state": 45,
            "state_multiplier": 1.1104
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 46,
        "fields": {
            "candidate": 16,
            "state": 46,
            "state_multiplier": 1.0078
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 47,
        "fields": {
            "candidate": 16,
            "state": 47,
            "state_multiplier": 0.9883
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 48,
        "fields": {
            "candidate": 16,
            "state": 48,
            "state_multiplier": 1.1082
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 49,
        "fields": {
            "candidate": 16,
            "state": 49,
            "state_multiplier": 0.7072
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 50,
        "fields": {
            "candidate": 16,
            "state": 50,
            "state_multiplier": 1.024
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 51,
        "fields": {
            "candidate": 16,
            "state": 51,
            "state_multiplier": 0.6356
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 52,
        "fields": {
            "candidate": 17,
            "state": 1,
            "state_multiplier": 1
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 53,
        "fields": {
            "candidate": 17,
            "state": 2,
            "state_multiplier": 0.93
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 54,
        "fields": {
            "candidate": 17,
            "state": 3,
            "state_multiplier": 1
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 55,
        "fields": {
            "candidate": 17,
            "state": 4,
            "state_multiplier": 1
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 56,
        "fields": {
            "candidate": 17,
            "state": 5,
            "state_multiplier": 0.94
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 57,
        "fields": {
            "candidate": 17,
            "state": 6,
            "state_multiplier": 0.99
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 58,
        "fields": {
            "candidate": 17,
            "state": 7,
            "state_multiplier": 0.97
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 59,
        "fields": {
            "candidate": 17,
            "state": 8,
            "state_multiplier": 0.97
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 60,
        "fields": {
            "candidate": 17,
            "state": 9,
            "state_multiplier": 1
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 61,
        "fields": {
            "candidate": 17,
            "state": 10,
            "state_multiplier": 1
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 62,
        "fields": {
            "candidate": 17,
            "state": 11,
            "state_multiplier": 1
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 63,
        "fields": {
            "candidate": 17,
            "state": 12,
            "state_multiplier": 1.03
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 64,
        "fields": {
            "candidate": 17,
            "state": 13,
            "state_multiplier": 1
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 65,
        "fields": {
            "candidate": 17,
            "state": 14,
            "state_multiplier": 1
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 66,
        "fields": {
            "candidate": 17,
            "state": 15,
            "state_multiplier": 1
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 67,
        "fields": {
            "candidate": 17,
            "state": 16,
            "state_multiplier": 1
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 68,
        "fields": {
            "candidate": 17,
            "state": 17,
            "state_multiplier": 1
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 69,
        "fields": {
            "candidate": 17,
            "state": 18,
            "state_multiplier": 1
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 70,
        "fields": {
            "candidate": 17,
            "state": 19,
            "state_multiplier": 0.97
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 71,
        "fields": {
            "candidate": 17,
            "state": 20,
            "state_multiplier": 0.99
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 72,
        "fields": {
            "candidate": 17,
            "state": 21,
            "state_multiplier": 0.99
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 73,
        "fields": {
            "candidate": 17,
            "state": 22,
            "state_multiplier": 1.02
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 74,
        "fields": {
            "candidate": 17,
            "state": 23,
            "state_multiplier": 1
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 75,
        "fields": {
            "candidate": 17,
            "state": 24,
            "state_multiplier": 1
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 76,
        "fields": {
            "candidate": 17,
            "state": 25,
            "state_multiplier": 1
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 77,
        "fields": {
            "candidate": 17,
            "state": 26,
            "state_multiplier": 1
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 78,
        "fields": {
            "candidate": 17,
            "state": 27,
            "state_multiplier": 1
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 79,
        "fields": {
            "candidate": 17,
            "state": 28,
            "state_multiplier": 1.03
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 80,
        "fields": {
            "candidate": 17,
            "state": 29,
            "state_multiplier": 0.97
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 81,
        "fields": {
            "candidate": 17,
            "state": 30,
            "state_multiplier": 0.97
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 82,
        "fields": {
            "candidate": 17,
            "state": 31,
            "state_multiplier": 1
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 83,
        "fields": {
            "candidate": 17,
            "state": 32,
            "state_multiplier": 0.97
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 84,
        "fields": {
            "candidate": 17,
            "state": 33,
            "state_multiplier": 1
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 85,
        "fields": {
            "candidate": 17,
            "state": 34,
            "state_multiplier": 1
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 86,
        "fields": {
            "candidate": 17,
            "state": 35,
            "state_multiplier": 0.99
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 87,
        "fields": {
            "candidate": 17,
            "state": 36,
            "state_multiplier": 1
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 88,
        "fields": {
            "candidate": 17,
            "state": 37,
            "state_multiplier": 1
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 89,
        "fields": {
            "candidate": 17,
            "state": 38,
            "state_multiplier": 0.99
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 90,
        "fields": {
            "candidate": 17,
            "state": 39,
            "state_multiplier": 0.97
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 91,
        "fields": {
            "candidate": 17,
            "state": 40,
            "state_multiplier": 1
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 92,
        "fields": {
            "candidate": 17,
            "state": 41,
            "state_multiplier": 1
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 93,
        "fields": {
            "candidate": 17,
            "state": 42,
            "state_multiplier": 1
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 94,
        "fields": {
            "candidate": 17,
            "state": 43,
            "state_multiplier": 1
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 95,
        "fields": {
            "candidate": 17,
            "state": 44,
            "state_multiplier": 1.45
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 96,
        "fields": {
            "candidate": 17,
            "state": 45,
            "state_multiplier": 0.97
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 97,
        "fields": {
            "candidate": 17,
            "state": 46,
            "state_multiplier": 0.99
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 98,
        "fields": {
            "candidate": 17,
            "state": 47,
            "state_multiplier": 0.9002
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 99,
        "fields": {
            "candidate": 17,
            "state": 48,
            "state_multiplier": 0.19
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 100,
        "fields": {
            "candidate": 17,
            "state": 49,
            "state_multiplier": 1
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 101,
        "fields": {
            "candidate": 17,
            "state": 50,
            "state_multiplier": 0.98
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 102,
        "fields": {
            "candidate": 17,
            "state": 51,
            "state_multiplier": 1
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 103,
        "fields": {
            "candidate": 18,
            "state": 1,
            "state_multiplier": 0.02125
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 104,
        "fields": {
            "candidate": 18,
            "state": 2,
            "state_multiplier": 0.058
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 105,
        "fields": {
            "candidate": 18,
            "state": 3,
            "state_multiplier": 0.028
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 106,
        "fields": {
            "candidate": 18,
            "state": 4,
            "state_multiplier": 0.06525
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 107,
        "fields": {
            "candidate": 18,
            "state": 5,
            "state_multiplier": 0.029
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 108,
        "fields": {
            "candidate": 18,
            "state": 6,
            "state_multiplier": 0.0475
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 109,
        "fields": {
            "candidate": 18,
            "state": 7,
            "state_multiplier": 0.02925
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 110,
        "fields": {
            "candidate": 18,
            "state": 8,
            "state_multiplier": 0.03225
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 111,
        "fields": {
            "candidate": 18,
            "state": 9,
            "state_multiplier": 0.02325
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 112,
        "fields": {
            "candidate": 18,
            "state": 10,
            "state_multiplier": 0.04625
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 113,
        "fields": {
            "candidate": 18,
            "state": 11,
            "state_multiplier": 0.021
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 114,
        "fields": {
            "candidate": 18,
            "state": 12,
            "state_multiplier": 0.044
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 115,
        "fields": {
            "candidate": 18,
            "state": 13,
            "state_multiplier": 0.03325
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 116,
        "fields": {
            "candidate": 18,
            "state": 14,
            "state_multiplier": 0.06425
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 117,
        "fields": {
            "candidate": 18,
            "state": 15,
            "state_multiplier": 0.02925
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 118,
        "fields": {
            "candidate": 18,
            "state": 16,
            "state_multiplier": 0.05725
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 119,
        "fields": {
            "candidate": 18,
            "state": 17,
            "state_multiplier": 0.03025
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 120,
        "fields": {
            "candidate": 18,
            "state": 18,
            "state_multiplier": 0.03875
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 121,
        "fields": {
            "candidate": 18,
            "state": 19,
            "state_multiplier": 0.02125
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 122,
        "fields": {
            "candidate": 18,
            "state": 20,
            "state_multiplier": 0.05025
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 123,
        "fields": {
            "candidate": 18,
            "state": 21,
            "state_multiplier": 0.02125
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 124,
        "fields": {
            "candidate": 18,
            "state": 22,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 125,
        "fields": {
            "candidate": 18,
            "state": 23,
            "state_multiplier": 0.04725
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 126,
        "fields": {
            "candidate": 18,
            "state": 24,
            "state_multiplier": 0.02425
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 127,
        "fields": {
            "candidate": 18,
            "state": 25,
            "state_multiplier": 0.05825
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 128,
        "fields": {
            "candidate": 18,
            "state": 26,
            "state_multiplier": 0.0855
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 129,
        "fields": {
            "candidate": 18,
            "state": 27,
            "state_multiplier": 0.04125
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 130,
        "fields": {
            "candidate": 18,
            "state": 28,
            "state_multiplier": 0.048
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 131,
        "fields": {
            "candidate": 18,
            "state": 29,
            "state_multiplier": 0.02125
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 132,
        "fields": {
            "candidate": 18,
            "state": 30,
            "state_multiplier": 0.02125
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 133,
        "fields": {
            "candidate": 18,
            "state": 31,
            "state_multiplier": 0.0999
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 134,
        "fields": {
            "candidate": 18,
            "state": 32,
            "state_multiplier": 0.02125
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 135,
        "fields": {
            "candidate": 18,
            "state": 33,
            "state_multiplier": 0.03525
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 136,
        "fields": {
            "candidate": 18,
            "state": 34,
            "state_multiplier": 0.04125
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 137,
        "fields": {
            "candidate": 18,
            "state": 35,
            "state_multiplier": 0.03125
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 138,
        "fields": {
            "candidate": 18,
            "state": 36,
            "state_multiplier": 0
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 139,
        "fields": {
            "candidate": 18,
            "state": 37,
            "state_multiplier": 0.03125
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 140,
        "fields": {
            "candidate": 18,
            "state": 38,
            "state_multiplier": 0.02125
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 141,
        "fields": {
            "candidate": 18,
            "state": 39,
            "state_multiplier": 0.02125
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 142,
        "fields": {
            "candidate": 18,
            "state": 40,
            "state_multiplier": 0.02125
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 143,
        "fields": {
            "candidate": 18,
            "state": 41,
            "state_multiplier": 0.02525
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 144,
        "fields": {
            "candidate": 18,
            "state": 42,
            "state_multiplier": 0.02125
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 145,
        "fields": {
            "candidate": 18,
            "state": 43,
            "state_multiplier": 0.0283
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 146,
        "fields": {
            "candidate": 18,
            "state": 44,
            "state_multiplier": 0.02125
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 147,
        "fields": {
            "candidate": 18,
            "state": 45,
            "state_multiplier": 0.02125
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 148,
        "fields": {
            "candidate": 18,
            "state": 46,
            "state_multiplier": 0.02125
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 149,
        "fields": {
            "candidate": 18,
            "state": 47,
            "state_multiplier": 0.03125
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 150,
        "fields": {
            "candidate": 18,
            "state": 48,
            "state_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 151,
        "fields": {
            "candidate": 18,
            "state": 49,
            "state_multiplier": 0.0485
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 152,
        "fields": {
            "candidate": 18,
            "state": 50,
            "state_multiplier": 0.02175
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 153,
        "fields": {
            "candidate": 18,
            "state": 51,
            "state_multiplier": 0.037
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 154,
        "fields": {
            "candidate": 19,
            "state": 1,
            "state_multiplier": 0.0092
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 155,
        "fields": {
            "candidate": 19,
            "state": 2,
            "state_multiplier": 0.042
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 156,
        "fields": {
            "candidate": 19,
            "state": 3,
            "state_multiplier": 0.0092
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 157,
        "fields": {
            "candidate": 19,
            "state": 4,
            "state_multiplier": 0.0632
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 158,
        "fields": {
            "candidate": 19,
            "state": 5,
            "state_multiplier": 0.0092
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 159,
        "fields": {
            "candidate": 19,
            "state": 6,
            "state_multiplier": 0.0092
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 160,
        "fields": {
            "candidate": 19,
            "state": 7,
            "state_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 161,
        "fields": {
            "candidate": 19,
            "state": 8,
            "state_multiplier": 0.0142
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 162,
        "fields": {
            "candidate": 19,
            "state": 9,
            "state_multiplier": 0.0092
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 163,
        "fields": {
            "candidate": 19,
            "state": 10,
            "state_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 164,
        "fields": {
            "candidate": 19,
            "state": 11,
            "state_multiplier": 0.0113
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 165,
        "fields": {
            "candidate": 19,
            "state": 12,
            "state_multiplier": 0.0092
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 166,
        "fields": {
            "candidate": 19,
            "state": 13,
            "state_multiplier": 0.0112
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 167,
        "fields": {
            "candidate": 19,
            "state": 14,
            "state_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 168,
        "fields": {
            "candidate": 19,
            "state": 15,
            "state_multiplier": 0.0092
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 169,
        "fields": {
            "candidate": 19,
            "state": 16,
            "state_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 170,
        "fields": {
            "candidate": 19,
            "state": 17,
            "state_multiplier": 0.0322
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 171,
        "fields": {
            "candidate": 19,
            "state": 18,
            "state_multiplier": 0.0092
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 172,
        "fields": {
            "candidate": 19,
            "state": 19,
            "state_multiplier": 0.0092
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 173,
        "fields": {
            "candidate": 19,
            "state": 20,
            "state_multiplier": 0.0192
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 174,
        "fields": {
            "candidate": 19,
            "state": 21,
            "state_multiplier": 0.0092
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 175,
        "fields": {
            "candidate": 19,
            "state": 22,
            "state_multiplier": 0.0092
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 176,
        "fields": {
            "candidate": 19,
            "state": 23,
            "state_multiplier": 0.0102
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 177,
        "fields": {
            "candidate": 19,
            "state": 24,
            "state_multiplier": 0.0092
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 178,
        "fields": {
            "candidate": 19,
            "state": 25,
            "state_multiplier": 0
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 179,
        "fields": {
            "candidate": 19,
            "state": 26,
            "state_multiplier": 0
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 180,
        "fields": {
            "candidate": 19,
            "state": 27,
            "state_multiplier": 0
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 181,
        "fields": {
            "candidate": 19,
            "state": 28,
            "state_multiplier": 0
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 182,
        "fields": {
            "candidate": 19,
            "state": 29,
            "state_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 183,
        "fields": {
            "candidate": 19,
            "state": 30,
            "state_multiplier": 0.0092
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 184,
        "fields": {
            "candidate": 19,
            "state": 31,
            "state_multiplier": 0.0092
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 185,
        "fields": {
            "candidate": 19,
            "state": 32,
            "state_multiplier": 0.0192
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 186,
        "fields": {
            "candidate": 19,
            "state": 33,
            "state_multiplier": 0
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 187,
        "fields": {
            "candidate": 19,
            "state": 34,
            "state_multiplier": 0.0342
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 188,
        "fields": {
            "candidate": 19,
            "state": 35,
            "state_multiplier": 0.0122
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 189,
        "fields": {
            "candidate": 19,
            "state": 36,
            "state_multiplier": 0
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 190,
        "fields": {
            "candidate": 19,
            "state": 37,
            "state_multiplier": 0.021
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 191,
        "fields": {
            "candidate": 19,
            "state": 38,
            "state_multiplier": 0.0092
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 192,
        "fields": {
            "candidate": 19,
            "state": 39,
            "state_multiplier": 0.0092
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 193,
        "fields": {
            "candidate": 19,
            "state": 40,
            "state_multiplier": 0.0092
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 194,
        "fields": {
            "candidate": 19,
            "state": 41,
            "state_multiplier": 0
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 195,
        "fields": {
            "candidate": 19,
            "state": 42,
            "state_multiplier": 0.0092
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 196,
        "fields": {
            "candidate": 19,
            "state": 43,
            "state_multiplier": 0.0092
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 197,
        "fields": {
            "candidate": 19,
            "state": 44,
            "state_multiplier": 0.0092
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 198,
        "fields": {
            "candidate": 19,
            "state": 45,
            "state_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 199,
        "fields": {
            "candidate": 19,
            "state": 46,
            "state_multiplier": 0.0092
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 200,
        "fields": {
            "candidate": 19,
            "state": 47,
            "state_multiplier": 0.0132
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 201,
        "fields": {
            "candidate": 19,
            "state": 48,
            "state_multiplier": 0.0092
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 202,
        "fields": {
            "candidate": 19,
            "state": 49,
            "state_multiplier": 0.0372
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 203,
        "fields": {
            "candidate": 19,
            "state": 50,
            "state_multiplier": 0.0092
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 204,
        "fields": {
            "candidate": 19,
            "state": 51,
            "state_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21087,
        "fields": {
            "candidate": 17,
            "state": 1051,
            "state_multiplier": 0.98
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21088,
        "fields": {
            "candidate": 16,
            "state": 1051,
            "state_multiplier": 0.85
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21089,
        "fields": {
            "candidate": 18,
            "state": 1051,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21090,
        "fields": {
            "candidate": 19,
            "state": 1051,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21097,
        "fields": {
            "candidate": 17,
            "state": 1052,
            "state_multiplier": 0.9
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21098,
        "fields": {
            "candidate": 16,
            "state": 1052,
            "state_multiplier": 0.985
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21099,
        "fields": {
            "candidate": 18,
            "state": 1052,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21100,
        "fields": {
            "candidate": 19,
            "state": 1052,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21107,
        "fields": {
            "candidate": 17,
            "state": 1053,
            "state_multiplier": 0.96
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21108,
        "fields": {
            "candidate": 16,
            "state": 1053,
            "state_multiplier": 0.7
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21109,
        "fields": {
            "candidate": 18,
            "state": 1053,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21110,
        "fields": {
            "candidate": 19,
            "state": 1053,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21117,
        "fields": {
            "candidate": 17,
            "state": 1054,
            "state_multiplier": 0.7
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21118,
        "fields": {
            "candidate": 16,
            "state": 1054,
            "state_multiplier": 0.94
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21119,
        "fields": {
            "candidate": 18,
            "state": 1054,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21120,
        "fields": {
            "candidate": 19,
            "state": 1054,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21127,
        "fields": {
            "candidate": 17,
            "state": 1055,
            "state_multiplier": 0.63
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21128,
        "fields": {
            "candidate": 16,
            "state": 1055,
            "state_multiplier": 0.9
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21129,
        "fields": {
            "candidate": 18,
            "state": 1055,
            "state_multiplier": 0.02
        }
    },
    {
        "model": "campaign_trail.candidate_state_multiplier",
        "pk": 21130,
        "fields": {
            "candidate": 19,
            "state": 1055,
            "state_multiplier": 0.02
        }
    }
]

campaignTrail_temp.answer_score_global_json = [
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1,
        "fields": {
            "answer": 1,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 2,
        "fields": {
            "answer": 1,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 4,
        "fields": {
            "answer": 13,
            "candidate": 17,
            "affected_candidate": 17,
            "global_multiplier": -0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 5,
        "fields": {
            "answer": 16,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 8,
        "fields": {
            "answer": 21,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 9,
        "fields": {
            "answer": 25,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 10,
        "fields": {
            "answer": 28,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 11,
        "fields": {
            "answer": 29,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 12,
        "fields": {
            "answer": 32,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 13,
        "fields": {
            "answer": 39,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.007
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 14,
        "fields": {
            "answer": 40,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 15,
        "fields": {
            "answer": 45,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 16,
        "fields": {
            "answer": 45,
            "candidate": 17,
            "affected_candidate": 17,
            "global_multiplier": -0.066
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 17,
        "fields": {
            "answer": 48,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.04
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 19,
        "fields": {
            "answer": 52,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 23,
        "fields": {
            "answer": 60,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.008
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 24,
        "fields": {
            "answer": 61,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 26,
        "fields": {
            "answer": 69,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 28,
        "fields": {
            "answer": 73,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 29,
        "fields": {
            "answer": 76,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 30,
        "fields": {
            "answer": 77,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.007
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 32,
        "fields": {
            "answer": 80,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 33,
        "fields": {
            "answer": 81,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 34,
        "fields": {
            "answer": 84,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 35,
        "fields": {
            "answer": 85,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 37,
        "fields": {
            "answer": 86,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 38,
        "fields": {
            "answer": 88,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 41,
        "fields": {
            "answer": 92,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 43,
        "fields": {
            "answer": 96,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 44,
        "fields": {
            "answer": 96,
            "candidate": 17,
            "affected_candidate": 17,
            "global_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 45,
        "fields": {
            "answer": 97,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 47,
        "fields": {
            "answer": 100,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.012
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 48,
        "fields": {
            "answer": 109,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 49,
        "fields": {
            "answer": 113,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.0225
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 52,
        "fields": {
            "answer": 117,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 53,
        "fields": {
            "answer": 120,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 54,
        "fields": {
            "answer": 121,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.007
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 55,
        "fields": {
            "answer": 123,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 58,
        "fields": {
            "answer": 125,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 61,
        "fields": {
            "answer": 129,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 67,
        "fields": {
            "answer": 141,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.008
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 69,
        "fields": {
            "answer": 142,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 70,
        "fields": {
            "answer": 143,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 72,
        "fields": {
            "answer": 144,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 73,
        "fields": {
            "answer": 144,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": -0.009
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 74,
        "fields": {
            "answer": 145,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 76,
        "fields": {
            "answer": 148,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.009
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 77,
        "fields": {
            "answer": 149,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": 0.008
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 79,
        "fields": {
            "answer": 153,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 80,
        "fields": {
            "answer": 153,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 81,
        "fields": {
            "answer": 154,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 82,
        "fields": {
            "answer": 155,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 84,
        "fields": {
            "answer": 160,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 87,
        "fields": {
            "answer": 162,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 88,
        "fields": {
            "answer": 164,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 91,
        "fields": {
            "answer": 166,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.03
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 92,
        "fields": {
            "answer": 167,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 93,
        "fields": {
            "answer": 168,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 95,
        "fields": {
            "answer": 169,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 96,
        "fields": {
            "answer": 170,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 98,
        "fields": {
            "answer": 172,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 99,
        "fields": {
            "answer": 173,
            "candidate": 17,
            "affected_candidate": 17,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 100,
        "fields": {
            "answer": 176,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 102,
        "fields": {
            "answer": 178,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 104,
        "fields": {
            "answer": 179,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 106,
        "fields": {
            "answer": 180,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 107,
        "fields": {
            "answer": 180,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 109,
        "fields": {
            "answer": 183,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 111,
        "fields": {
            "answer": 190,
            "candidate": 17,
            "affected_candidate": 17,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 112,
        "fields": {
            "answer": 193,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 114,
        "fields": {
            "answer": 195,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 115,
        "fields": {
            "answer": 198,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 117,
        "fields": {
            "answer": 199,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.006
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 121,
        "fields": {
            "answer": 202,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 123,
        "fields": {
            "answer": 204,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 125,
        "fields": {
            "answer": 206,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 127,
        "fields": {
            "answer": 207,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 135,
        "fields": {
            "answer": 213,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.009
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 137,
        "fields": {
            "answer": 214,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 138,
        "fields": {
            "answer": 215,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 139,
        "fields": {
            "answer": 216,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.012
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 150,
        "fields": {
            "answer": 226,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 151,
        "fields": {
            "answer": 228,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 152,
        "fields": {
            "answer": 230,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.008
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 161,
        "fields": {
            "answer": 241,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 162,
        "fields": {
            "answer": 242,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 164,
        "fields": {
            "answer": 243,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 165,
        "fields": {
            "answer": 243,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": -0.006
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 166,
        "fields": {
            "answer": 244,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 167,
        "fields": {
            "answer": 244,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 168,
        "fields": {
            "answer": 245,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 170,
        "fields": {
            "answer": 246,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 171,
        "fields": {
            "answer": 247,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 172,
        "fields": {
            "answer": 248,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.008
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 184,
        "fields": {
            "answer": 258,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.0125
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 186,
        "fields": {
            "answer": 259,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 187,
        "fields": {
            "answer": 261,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 190,
        "fields": {
            "answer": 264,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 192,
        "fields": {
            "answer": 265,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 193,
        "fields": {
            "answer": 265,
            "candidate": 17,
            "affected_candidate": 17,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 195,
        "fields": {
            "answer": 266,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 200,
        "fields": {
            "answer": 271,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.008
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 202,
        "fields": {
            "answer": 273,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 203,
        "fields": {
            "answer": 274,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 204,
        "fields": {
            "answer": 274,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.025
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 211,
        "fields": {
            "answer": 279,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 213,
        "fields": {
            "answer": 282,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 218,
        "fields": {
            "answer": 290,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 219,
        "fields": {
            "answer": 291,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 221,
        "fields": {
            "answer": 292,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 223,
        "fields": {
            "answer": 293,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.025
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 225,
        "fields": {
            "answer": 294,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 226,
        "fields": {
            "answer": 294,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 227,
        "fields": {
            "answer": 296,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 228,
        "fields": {
            "answer": 296,
            "candidate": 17,
            "affected_candidate": 17,
            "global_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 229,
        "fields": {
            "answer": 297,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": -0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 230,
        "fields": {
            "answer": 298,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 231,
        "fields": {
            "answer": 299,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": -0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 233,
        "fields": {
            "answer": 304,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 234,
        "fields": {
            "answer": 307,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 235,
        "fields": {
            "answer": 308,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.009
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 244,
        "fields": {
            "answer": 330,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 245,
        "fields": {
            "answer": 331,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 246,
        "fields": {
            "answer": 332,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.008
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 247,
        "fields": {
            "answer": 333,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 250,
        "fields": {
            "answer": 343,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 251,
        "fields": {
            "answer": 344,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": -0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 252,
        "fields": {
            "answer": 345,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 253,
        "fields": {
            "answer": 346,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 254,
        "fields": {
            "answer": 347,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 255,
        "fields": {
            "answer": 349,
            "candidate": 17,
            "affected_candidate": 17,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 256,
        "fields": {
            "answer": 350,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 283,
        "fields": {
            "answer": 395,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 284,
        "fields": {
            "answer": 395,
            "candidate": 17,
            "affected_candidate": 17,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 285,
        "fields": {
            "answer": 396,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 286,
        "fields": {
            "answer": 396,
            "candidate": 17,
            "affected_candidate": 17,
            "global_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 287,
        "fields": {
            "answer": 398,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 300,
        "fields": {
            "answer": 726,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 301,
        "fields": {
            "answer": 727,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 302,
        "fields": {
            "answer": 728,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 303,
        "fields": {
            "answer": 729,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 308,
        "fields": {
            "answer": 4,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": 0.0125
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 309,
        "fields": {
            "answer": 28,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": 0.0125
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 310,
        "fields": {
            "answer": 61,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": 0.0375
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 312,
        "fields": {
            "answer": 80,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 314,
        "fields": {
            "answer": 173,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": 0.0125
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 315,
        "fields": {
            "answer": 176,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 316,
        "fields": {
            "answer": 193,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 317,
        "fields": {
            "answer": 307,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": 0.0125
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 318,
        "fields": {
            "answer": 4,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 319,
        "fields": {
            "answer": 13,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 320,
        "fields": {
            "answer": 24,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.0125
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 321,
        "fields": {
            "answer": 28,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.0125
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 322,
        "fields": {
            "answer": 32,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 323,
        "fields": {
            "answer": 33,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 324,
        "fields": {
            "answer": 37,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 325,
        "fields": {
            "answer": 39,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 326,
        "fields": {
            "answer": 52,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.0425
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 328,
        "fields": {
            "answer": 60,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.0125
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 329,
        "fields": {
            "answer": 71,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.0125
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 331,
        "fields": {
            "answer": 76,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.0125
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 332,
        "fields": {
            "answer": 77,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 333,
        "fields": {
            "answer": 80,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.0075
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 334,
        "fields": {
            "answer": 84,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.035
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 335,
        "fields": {
            "answer": 87,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.025
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 336,
        "fields": {
            "answer": 88,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.0325
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 337,
        "fields": {
            "answer": 92,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.0125
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 338,
        "fields": {
            "answer": 96,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.025
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 339,
        "fields": {
            "answer": 100,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.03
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 340,
        "fields": {
            "answer": 116,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.0125
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 341,
        "fields": {
            "answer": 120,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.0125
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 345,
        "fields": {
            "answer": 144,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.025
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 349,
        "fields": {
            "answer": 168,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.0125
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 350,
        "fields": {
            "answer": 173,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.0125
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 351,
        "fields": {
            "answer": 176,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 352,
        "fields": {
            "answer": 179,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.0125
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 353,
        "fields": {
            "answer": 180,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.0125
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 354,
        "fields": {
            "answer": 193,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.0125
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 355,
        "fields": {
            "answer": 202,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.06
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 360,
        "fields": {
            "answer": 246,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.025
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 361,
        "fields": {
            "answer": 247,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 364,
        "fields": {
            "answer": 258,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.0175
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 365,
        "fields": {
            "answer": 259,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.0125
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 368,
        "fields": {
            "answer": 279,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.025
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 369,
        "fields": {
            "answer": 280,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.0125
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 371,
        "fields": {
            "answer": 293,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.025
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 373,
        "fields": {
            "answer": 307,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.0125
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 377,
        "fields": {
            "answer": 330,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.008
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 378,
        "fields": {
            "answer": 346,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.0155
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 379,
        "fields": {
            "answer": 728,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.08
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 380,
        "fields": {
            "answer": 13,
            "candidate": 17,
            "affected_candidate": 18,
            "global_multiplier": 0.0125
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 382,
        "fields": {
            "answer": 37,
            "candidate": 17,
            "affected_candidate": 18,
            "global_multiplier": 0.0125
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 383,
        "fields": {
            "answer": 40,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 384,
        "fields": {
            "answer": 45,
            "candidate": 17,
            "affected_candidate": 18,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 385,
        "fields": {
            "answer": 49,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": 0.007
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 387,
        "fields": {
            "answer": 57,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": 0.006
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 388,
        "fields": {
            "answer": 61,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 389,
        "fields": {
            "answer": 77,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 391,
        "fields": {
            "answer": 81,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 392,
        "fields": {
            "answer": 85,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 393,
        "fields": {
            "answer": 93,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": -0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 394,
        "fields": {
            "answer": 97,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": 0.0075
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 395,
        "fields": {
            "answer": 105,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": 0.0125
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 397,
        "fields": {
            "answer": 112,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": 0.007
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 398,
        "fields": {
            "answer": 121,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": 0.025
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 400,
        "fields": {
            "answer": 137,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": 0.009
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 402,
        "fields": {
            "answer": 167,
            "candidate": 18,
            "affected_candidate": 18,
            "global_multiplier": 0.008
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 404,
        "fields": {
            "answer": 178,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 405,
        "fields": {
            "answer": 182,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 406,
        "fields": {
            "answer": 186,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 407,
        "fields": {
            "answer": 187,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 408,
        "fields": {
            "answer": 190,
            "candidate": 17,
            "affected_candidate": 18,
            "global_multiplier": 0.0125
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 409,
        "fields": {
            "answer": 207,
            "candidate": 17,
            "affected_candidate": 18,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 411,
        "fields": {
            "answer": 228,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 412,
        "fields": {
            "answer": 230,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 415,
        "fields": {
            "answer": 245,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.03
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 416,
        "fields": {
            "answer": 248,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 417,
        "fields": {
            "answer": 258,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 419,
        "fields": {
            "answer": 265,
            "candidate": 17,
            "affected_candidate": 18,
            "global_multiplier": 0.0125
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 420,
        "fields": {
            "answer": 274,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": 0.0025
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 423,
        "fields": {
            "answer": 282,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.0125
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 424,
        "fields": {
            "answer": 288,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": 0.0125
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 431,
        "fields": {
            "answer": 398,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1195,
        "fields": {
            "answer": 208,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1197,
        "fields": {
            "answer": 1193,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1201,
        "fields": {
            "answer": 125,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1203,
        "fields": {
            "answer": 126,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1206,
        "fields": {
            "answer": 127,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1207,
        "fields": {
            "answer": 112,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1211,
        "fields": {
            "answer": 110,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1217,
        "fields": {
            "answer": 247,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": -0.006
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1220,
        "fields": {
            "answer": 246,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": -0.008
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1223,
        "fields": {
            "answer": 28,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": 0.0075
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1224,
        "fields": {
            "answer": 166,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": -0.008
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1225,
        "fields": {
            "answer": 166,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.03
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1230,
        "fields": {
            "answer": 396,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1234,
        "fields": {
            "answer": 398,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.008
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1236,
        "fields": {
            "answer": 85,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1237,
        "fields": {
            "answer": 86,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1238,
        "fields": {
            "answer": 87,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": -0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1239,
        "fields": {
            "answer": 88,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1240,
        "fields": {
            "answer": 98,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.007
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1241,
        "fields": {
            "answer": 97,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1242,
        "fields": {
            "answer": 99,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1243,
        "fields": {
            "answer": 99,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1244,
        "fields": {
            "answer": 99,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1245,
        "fields": {
            "answer": 100,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1246,
        "fields": {
            "answer": 29,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.006
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1250,
        "fields": {
            "answer": 31,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.009
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1252,
        "fields": {
            "answer": 32,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": -0.008
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1254,
        "fields": {
            "answer": 261,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.012
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1255,
        "fields": {
            "answer": 260,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1256,
        "fields": {
            "answer": 260,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.006
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1259,
        "fields": {
            "answer": 259,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": -0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1503,
        "fields": {
            "answer": 76,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1510,
        "fields": {
            "answer": 174,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1512,
        "fields": {
            "answer": 175,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1516,
        "fields": {
            "answer": 64,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": -0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1518,
        "fields": {
            "answer": 64,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1519,
        "fields": {
            "answer": 113,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.025
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1523,
        "fields": {
            "answer": 116,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1524,
        "fields": {
            "answer": 116,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": 0.0025
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1529,
        "fields": {
            "answer": 93,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1531,
        "fields": {
            "answer": 57,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1536,
        "fields": {
            "answer": 1534,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1537,
        "fields": {
            "answer": 1534,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": -0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1543,
        "fields": {
            "answer": 105,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1547,
        "fields": {
            "answer": 23,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1549,
        "fields": {
            "answer": 21,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.008
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1553,
        "fields": {
            "answer": 188,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1554,
        "fields": {
            "answer": 189,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.006
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1558,
        "fields": {
            "answer": 187,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1563,
        "fields": {
            "answer": 160,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1568,
        "fields": {
            "answer": 78,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1569,
        "fields": {
            "answer": 78,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1577,
        "fields": {
            "answer": 198,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1580,
        "fields": {
            "answer": 196,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1586,
        "fields": {
            "answer": 292,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1589,
        "fields": {
            "answer": 89,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1592,
        "fields": {
            "answer": 91,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1600,
        "fields": {
            "answer": 216,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.0075
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1603,
        "fields": {
            "answer": 213,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.175
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1613,
        "fields": {
            "answer": 199,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.03
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1621,
        "fields": {
            "answer": 200,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.008
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1624,
        "fields": {
            "answer": 82,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1629,
        "fields": {
            "answer": 81,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.025
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1633,
        "fields": {
            "answer": 131,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1634,
        "fields": {
            "answer": 131,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.035
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1635,
        "fields": {
            "answer": 132,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.006
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1638,
        "fields": {
            "answer": 132,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": -0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1641,
        "fields": {
            "answer": 242,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.05
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1645,
        "fields": {
            "answer": 240,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.03
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1646,
        "fields": {
            "answer": 240,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1652,
        "fields": {
            "answer": 1650,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1663,
        "fields": {
            "answer": 1661,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1665,
        "fields": {
            "answer": 137,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1668,
        "fields": {
            "answer": 139,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.0175
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1669,
        "fields": {
            "answer": 139,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1671,
        "fields": {
            "answer": 138,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1684,
        "fields": {
            "answer": 204,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1686,
        "fields": {
            "answer": 145,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.008
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1688,
        "fields": {
            "answer": 146,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1690,
        "fields": {
            "answer": 148,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.0125
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1692,
        "fields": {
            "answer": 182,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1694,
        "fields": {
            "answer": 182,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1699,
        "fields": {
            "answer": 1698,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1715,
        "fields": {
            "answer": 1713,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1716,
        "fields": {
            "answer": 1713,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.008
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1725,
        "fields": {
            "answer": 172,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1729,
        "fields": {
            "answer": 169,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1733,
        "fields": {
            "answer": 1731,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1739,
        "fields": {
            "answer": 1736,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.009
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 1740,
        "fields": {
            "answer": 1736,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21141,
        "fields": {
            "answer": 21139,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21149,
        "fields": {
            "answer": 21147,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21165,
        "fields": {
            "answer": 21163,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21191,
        "fields": {
            "answer": 21189,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21220,
        "fields": {
            "answer": 288,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.006
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21222,
        "fields": {
            "answer": 287,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": -0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21223,
        "fields": {
            "answer": 287,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.03
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21226,
        "fields": {
            "answer": 286,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21229,
        "fields": {
            "answer": 3,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21231,
        "fields": {
            "answer": 4,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21238,
        "fields": {
            "answer": 162,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21239,
        "fields": {
            "answer": 164,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.009
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21241,
        "fields": {
            "answer": 163,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21247,
        "fields": {
            "answer": 347,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21257,
        "fields": {
            "answer": 21255,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.007
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21258,
        "fields": {
            "answer": 21255,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21264,
        "fields": {
            "answer": 121,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21277,
        "fields": {
            "answer": 69,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21281,
        "fields": {
            "answer": 71,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21282,
        "fields": {
            "answer": 50,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21289,
        "fields": {
            "answer": 5,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21290,
        "fields": {
            "answer": 5,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21292,
        "fields": {
            "answer": 8,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21299,
        "fields": {
            "answer": 17,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21304,
        "fields": {
            "answer": 19,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21308,
        "fields": {
            "answer": 21306,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21313,
        "fields": {
            "answer": 21311,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21317,
        "fields": {
            "answer": 21315,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.006
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21322,
        "fields": {
            "answer": 21320,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21328,
        "fields": {
            "answer": 21326,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21332,
        "fields": {
            "answer": 21330,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21336,
        "fields": {
            "answer": 21334,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.006
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21340,
        "fields": {
            "answer": 21338,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.007
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21382,
        "fields": {
            "answer": 306,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21384,
        "fields": {
            "answer": 308,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21389,
        "fields": {
            "answer": 241,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21392,
        "fields": {
            "answer": 155,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21393,
        "fields": {
            "answer": 155,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21394,
        "fields": {
            "answer": 153,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": 0.008
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21401,
        "fields": {
            "answer": 21399,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21416,
        "fields": {
            "answer": 21414,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21432,
        "fields": {
            "answer": 21430,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21443,
        "fields": {
            "answer": 21441,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": -0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21454,
        "fields": {
            "answer": 21430,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21458,
        "fields": {
            "answer": 21456,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21462,
        "fields": {
            "answer": 21460,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21466,
        "fields": {
            "answer": 21464,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21467,
        "fields": {
            "answer": 21464,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.007
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21475,
        "fields": {
            "answer": 185,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21476,
        "fields": {
            "answer": 184,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21482,
        "fields": {
            "answer": 101,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21484,
        "fields": {
            "answer": 102,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21486,
        "fields": {
            "answer": 104,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21492,
        "fields": {
            "answer": 103,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": -0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21493,
        "fields": {
            "answer": 103,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21494,
        "fields": {
            "answer": 141,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21497,
        "fields": {
            "answer": 143,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": -0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21499,
        "fields": {
            "answer": 244,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21505,
        "fields": {
            "answer": 271,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": -0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21506,
        "fields": {
            "answer": 271,
            "candidate": 16,
            "affected_candidate": 18,
            "global_multiplier": -0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21515,
        "fields": {
            "answer": 297,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21525,
        "fields": {
            "answer": 21521,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21528,
        "fields": {
            "answer": 21526,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21530,
        "fields": {
            "answer": 21526,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": 0.006
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21531,
        "fields": {
            "answer": 88,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21532,
        "fields": {
            "answer": 38,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": -0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21536,
        "fields": {
            "answer": 21534,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": -0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21540,
        "fields": {
            "answer": 21538,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21544,
        "fields": {
            "answer": 21542,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21548,
        "fields": {
            "answer": 21546,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21553,
        "fields": {
            "answer": 21551,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": -0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21557,
        "fields": {
            "answer": 21555,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21561,
        "fields": {
            "answer": 21559,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21565,
        "fields": {
            "answer": 21563,
            "candidate": 16,
            "affected_candidate": 16,
            "global_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21567,
        "fields": {
            "answer": 157,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21568,
        "fields": {
            "answer": 157,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": -0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21569,
        "fields": {
            "answer": 129,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21583,
        "fields": {
            "answer": 199,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": -0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21584,
        "fields": {
            "answer": 290,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21585,
        "fields": {
            "answer": 291,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21586,
        "fields": {
            "answer": 304,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": -0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21587,
        "fields": {
            "answer": 304,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.035
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21588,
        "fields": {
            "answer": 27,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21589,
        "fields": {
            "answer": 729,
            "candidate": 16,
            "affected_candidate": 19,
            "global_multiplier": -0.03
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21590,
        "fields": {
            "answer": 727,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_global",
        "pk": 21591,
        "fields": {
            "answer": 726,
            "candidate": 16,
            "affected_candidate": 17,
            "global_multiplier": 0.003
        }
    }
]

campaignTrail_temp.answer_score_issue_json = [
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1,
        "fields": {
            "answer": 1,
            "issue": 3,
            "issue_score": 0.8,
            "issue_importance": 1.5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 2,
        "fields": {
            "answer": 2,
            "issue": 3,
            "issue_score": 0.5,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 3,
        "fields": {
            "answer": 3,
            "issue": 3,
            "issue_score": -0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 4,
        "fields": {
            "answer": 4,
            "issue": 3,
            "issue_score": -0.7,
            "issue_importance": 1.5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 6,
        "fields": {
            "answer": 8,
            "issue": 3,
            "issue_score": -0.7,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 11,
        "fields": {
            "answer": 13,
            "issue": 1,
            "issue_score": 0.5,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 12,
        "fields": {
            "answer": 14,
            "issue": 1,
            "issue_score": 0.4,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 13,
        "fields": {
            "answer": 15,
            "issue": 1,
            "issue_score": -0.3,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 14,
        "fields": {
            "answer": 16,
            "issue": 1,
            "issue_score": -0.75,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 15,
        "fields": {
            "answer": 17,
            "issue": 4,
            "issue_score": 0.8,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 16,
        "fields": {
            "answer": 19,
            "issue": 4,
            "issue_score": -0.4,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 18,
        "fields": {
            "answer": 21,
            "issue": 5,
            "issue_score": 0.4,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 19,
        "fields": {
            "answer": 22,
            "issue": 5,
            "issue_score": 0.3,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 20,
        "fields": {
            "answer": 23,
            "issue": 5,
            "issue_score": -0.3,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21,
        "fields": {
            "answer": 23,
            "issue": 1,
            "issue_score": 0,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 22,
        "fields": {
            "answer": 24,
            "issue": 5,
            "issue_score": -0.7,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 23,
        "fields": {
            "answer": 24,
            "issue": 1,
            "issue_score": 0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 24,
        "fields": {
            "answer": 25,
            "issue": 5,
            "issue_score": 0.8,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 25,
        "fields": {
            "answer": 25,
            "issue": 4,
            "issue_score": 0.8,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 26,
        "fields": {
            "answer": 26,
            "issue": 5,
            "issue_score": 0.4,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 27,
        "fields": {
            "answer": 28,
            "issue": 5,
            "issue_score": -0.75,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 28,
        "fields": {
            "answer": 29,
            "issue": 1,
            "issue_score": 0.4,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 29,
        "fields": {
            "answer": 29,
            "issue": 4,
            "issue_score": 0.5,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 30,
        "fields": {
            "answer": 32,
            "issue": 1,
            "issue_score": -0.6,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 31,
        "fields": {
            "answer": 33,
            "issue": 1,
            "issue_score": 0.6,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 32,
        "fields": {
            "answer": 33,
            "issue": 4,
            "issue_score": 0.8,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 34,
        "fields": {
            "answer": 37,
            "issue": 1,
            "issue_score": 0.8,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 35,
        "fields": {
            "answer": 37,
            "issue": 4,
            "issue_score": 0.8,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 36,
        "fields": {
            "answer": 38,
            "issue": 1,
            "issue_score": 0.5,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 37,
        "fields": {
            "answer": 39,
            "issue": 1,
            "issue_score": -0.5,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 38,
        "fields": {
            "answer": 40,
            "issue": 1,
            "issue_score": -0.9,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 43,
        "fields": {
            "answer": 45,
            "issue": 3,
            "issue_score": 0.8,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 44,
        "fields": {
            "answer": 46,
            "issue": 3,
            "issue_score": 0.15,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 45,
        "fields": {
            "answer": 48,
            "issue": 3,
            "issue_score": -0.7,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 46,
        "fields": {
            "answer": 49,
            "issue": 1,
            "issue_score": 0.8,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 47,
        "fields": {
            "answer": 50,
            "issue": 1,
            "issue_score": 0.6,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 48,
        "fields": {
            "answer": 51,
            "issue": 1,
            "issue_score": 0,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 49,
        "fields": {
            "answer": 52,
            "issue": 1,
            "issue_score": -0.75,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 54,
        "fields": {
            "answer": 57,
            "issue": 1,
            "issue_score": 0.4,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 55,
        "fields": {
            "answer": 58,
            "issue": 1,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 56,
        "fields": {
            "answer": 59,
            "issue": 1,
            "issue_score": -0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 57,
        "fields": {
            "answer": 60,
            "issue": 1,
            "issue_score": -0.6,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 58,
        "fields": {
            "answer": 61,
            "issue": 1,
            "issue_score": 0.5,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 59,
        "fields": {
            "answer": 61,
            "issue": 3,
            "issue_score": 0.8,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 60,
        "fields": {
            "answer": 62,
            "issue": 3,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 61,
        "fields": {
            "answer": 63,
            "issue": 3,
            "issue_score": -0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 62,
        "fields": {
            "answer": 63,
            "issue": 1,
            "issue_score": -0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 63,
        "fields": {
            "answer": 64,
            "issue": 3,
            "issue_score": -0.5,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 64,
        "fields": {
            "answer": 64,
            "issue": 1,
            "issue_score": -0.5,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 68,
        "fields": {
            "answer": 69,
            "issue": 5,
            "issue_score": 0.8,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 69,
        "fields": {
            "answer": 70,
            "issue": 5,
            "issue_score": 0.25,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 70,
        "fields": {
            "answer": 71,
            "issue": 5,
            "issue_score": -0.3,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 72,
        "fields": {
            "answer": 73,
            "issue": 5,
            "issue_score": 0.3,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 73,
        "fields": {
            "answer": 76,
            "issue": 5,
            "issue_score": -0.8,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 74,
        "fields": {
            "answer": 77,
            "issue": 4,
            "issue_score": 0.7,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 75,
        "fields": {
            "answer": 78,
            "issue": 4,
            "issue_score": 0.3,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 76,
        "fields": {
            "answer": 79,
            "issue": 4,
            "issue_score": -0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 77,
        "fields": {
            "answer": 80,
            "issue": 4,
            "issue_score": -0.6,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 78,
        "fields": {
            "answer": 81,
            "issue": 3,
            "issue_score": 0.8,
            "issue_importance": 2.5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 79,
        "fields": {
            "answer": 82,
            "issue": 3,
            "issue_score": 0.2,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 80,
        "fields": {
            "answer": 84,
            "issue": 3,
            "issue_score": -0.5,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 81,
        "fields": {
            "answer": 85,
            "issue": 4,
            "issue_score": 0.65,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 82,
        "fields": {
            "answer": 86,
            "issue": 4,
            "issue_score": 0.3,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 83,
        "fields": {
            "answer": 87,
            "issue": 4,
            "issue_score": -0.3,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 84,
        "fields": {
            "answer": 88,
            "issue": 4,
            "issue_score": -0.8,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 85,
        "fields": {
            "answer": 89,
            "issue": 3,
            "issue_score": 0.5,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 86,
        "fields": {
            "answer": 89,
            "issue": 4,
            "issue_score": 0.7,
            "issue_importance": 1.25
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 87,
        "fields": {
            "answer": 90,
            "issue": 4,
            "issue_score": -0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 88,
        "fields": {
            "answer": 91,
            "issue": 3,
            "issue_score": 0,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 89,
        "fields": {
            "answer": 91,
            "issue": 4,
            "issue_score": 0,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 90,
        "fields": {
            "answer": 92,
            "issue": 3,
            "issue_score": -0.2,
            "issue_importance": 1.25
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 91,
        "fields": {
            "answer": 92,
            "issue": 4,
            "issue_score": -0.2,
            "issue_importance": 1.25
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 92,
        "fields": {
            "answer": 97,
            "issue": 1,
            "issue_score": 0.75,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 93,
        "fields": {
            "answer": 98,
            "issue": 1,
            "issue_score": 0.3,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 94,
        "fields": {
            "answer": 99,
            "issue": 1,
            "issue_score": -0.1,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 95,
        "fields": {
            "answer": 100,
            "issue": 1,
            "issue_score": -0.6,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 96,
        "fields": {
            "answer": 101,
            "issue": 1,
            "issue_score": 0.6,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 97,
        "fields": {
            "answer": 102,
            "issue": 1,
            "issue_score": 0.3,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 98,
        "fields": {
            "answer": 103,
            "issue": 1,
            "issue_score": 0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 99,
        "fields": {
            "answer": 104,
            "issue": 1,
            "issue_score": 0.6,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 100,
        "fields": {
            "answer": 106,
            "issue": 4,
            "issue_score": 0.1,
            "issue_importance": 0.5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 101,
        "fields": {
            "answer": 107,
            "issue": 4,
            "issue_score": 0,
            "issue_importance": 1.2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 102,
        "fields": {
            "answer": 108,
            "issue": 1,
            "issue_score": -0.3,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 103,
        "fields": {
            "answer": 109,
            "issue": 1,
            "issue_score": 0.5,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 104,
        "fields": {
            "answer": 109,
            "issue": 2,
            "issue_score": 0.3,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 105,
        "fields": {
            "answer": 110,
            "issue": 1,
            "issue_score": 0,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 106,
        "fields": {
            "answer": 113,
            "issue": 3,
            "issue_score": 0.8,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 107,
        "fields": {
            "answer": 115,
            "issue": 3,
            "issue_score": -0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 108,
        "fields": {
            "answer": 116,
            "issue": 3,
            "issue_score": -0.5,
            "issue_importance": 1.5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 109,
        "fields": {
            "answer": 117,
            "issue": 5,
            "issue_score": 0.7,
            "issue_importance": 1.5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 111,
        "fields": {
            "answer": 120,
            "issue": 5,
            "issue_score": -0.4,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 112,
        "fields": {
            "answer": 121,
            "issue": 1,
            "issue_score": 0.75,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 113,
        "fields": {
            "answer": 122,
            "issue": 1,
            "issue_score": 0.3,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 114,
        "fields": {
            "answer": 123,
            "issue": 1,
            "issue_score": -0.3,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 116,
        "fields": {
            "answer": 125,
            "issue": 4,
            "issue_score": 0.55,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 117,
        "fields": {
            "answer": 126,
            "issue": 4,
            "issue_score": 0.2,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 118,
        "fields": {
            "answer": 127,
            "issue": 4,
            "issue_score": -0.3,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 120,
        "fields": {
            "answer": 129,
            "issue": 4,
            "issue_score": 0.6,
            "issue_importance": 1.25
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 121,
        "fields": {
            "answer": 130,
            "issue": 4,
            "issue_score": 0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 122,
        "fields": {
            "answer": 131,
            "issue": 4,
            "issue_score": -0.7,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 123,
        "fields": {
            "answer": 132,
            "issue": 4,
            "issue_score": -0.3,
            "issue_importance": 1.5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 124,
        "fields": {
            "answer": 133,
            "issue": 1,
            "issue_score": 0.8,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 125,
        "fields": {
            "answer": 134,
            "issue": 1,
            "issue_score": 0.3,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 126,
        "fields": {
            "answer": 135,
            "issue": 1,
            "issue_score": -0.5,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 128,
        "fields": {
            "answer": 137,
            "issue": 1,
            "issue_score": 0.25,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 129,
        "fields": {
            "answer": 138,
            "issue": 1,
            "issue_score": 0.3,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 130,
        "fields": {
            "answer": 139,
            "issue": 1,
            "issue_score": -0.4,
            "issue_importance": 1.5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 132,
        "fields": {
            "answer": 141,
            "issue": 4,
            "issue_score": 0.7,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 133,
        "fields": {
            "answer": 142,
            "issue": 4,
            "issue_score": 0.5,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 134,
        "fields": {
            "answer": 143,
            "issue": 4,
            "issue_score": -0.25,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 135,
        "fields": {
            "answer": 144,
            "issue": 4,
            "issue_score": -0.6,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 136,
        "fields": {
            "answer": 145,
            "issue": 5,
            "issue_score": 0.6,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 137,
        "fields": {
            "answer": 146,
            "issue": 5,
            "issue_score": 0.1,
            "issue_importance": 1.1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 139,
        "fields": {
            "answer": 148,
            "issue": 5,
            "issue_score": -0.7,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 140,
        "fields": {
            "answer": 151,
            "issue": 3,
            "issue_score": 0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 142,
        "fields": {
            "answer": 153,
            "issue": 4,
            "issue_score": 0.7,
            "issue_importance": 1.25
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 143,
        "fields": {
            "answer": 154,
            "issue": 4,
            "issue_score": 0,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 144,
        "fields": {
            "answer": 155,
            "issue": 4,
            "issue_score": -0.3,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 146,
        "fields": {
            "answer": 157,
            "issue": 3,
            "issue_score": 0.7,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 147,
        "fields": {
            "answer": 158,
            "issue": 3,
            "issue_score": 0,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 148,
        "fields": {
            "answer": 159,
            "issue": 3,
            "issue_score": -0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 149,
        "fields": {
            "answer": 160,
            "issue": 3,
            "issue_score": -0.35,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 152,
        "fields": {
            "answer": 162,
            "issue": 2,
            "issue_score": -0.6,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 153,
        "fields": {
            "answer": 162,
            "issue": 4,
            "issue_score": -0.5,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 154,
        "fields": {
            "answer": 163,
            "issue": 2,
            "issue_score": 0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 155,
        "fields": {
            "answer": 163,
            "issue": 4,
            "issue_score": -0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 156,
        "fields": {
            "answer": 164,
            "issue": 2,
            "issue_score": 0.5,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 157,
        "fields": {
            "answer": 164,
            "issue": 4,
            "issue_score": 0.5,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 159,
        "fields": {
            "answer": 166,
            "issue": 2,
            "issue_score": -0.25,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 160,
        "fields": {
            "answer": 167,
            "issue": 2,
            "issue_score": 0.4,
            "issue_importance": 2.5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 161,
        "fields": {
            "answer": 168,
            "issue": 2,
            "issue_score": 0.65,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 162,
        "fields": {
            "answer": 173,
            "issue": 4,
            "issue_score": -0.5,
            "issue_importance": 1.5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 163,
        "fields": {
            "answer": 174,
            "issue": 4,
            "issue_score": -0.25,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 164,
        "fields": {
            "answer": 175,
            "issue": 4,
            "issue_score": 0.25,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 165,
        "fields": {
            "answer": 176,
            "issue": 4,
            "issue_score": 0.75,
            "issue_importance": 1.5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 166,
        "fields": {
            "answer": 178,
            "issue": 2,
            "issue_score": 0.7,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 167,
        "fields": {
            "answer": 178,
            "issue": 4,
            "issue_score": 0.7,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 168,
        "fields": {
            "answer": 179,
            "issue": 1,
            "issue_score": -0.7,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 169,
        "fields": {
            "answer": 180,
            "issue": 1,
            "issue_score": -0.3,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 170,
        "fields": {
            "answer": 181,
            "issue": 1,
            "issue_score": 0.3,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 171,
        "fields": {
            "answer": 182,
            "issue": 1,
            "issue_score": 0.7,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 172,
        "fields": {
            "answer": 183,
            "issue": 1,
            "issue_score": -0.3,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 173,
        "fields": {
            "answer": 184,
            "issue": 1,
            "issue_score": 0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 174,
        "fields": {
            "answer": 185,
            "issue": 1,
            "issue_score": 0,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 175,
        "fields": {
            "answer": 186,
            "issue": 1,
            "issue_score": 0.3,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 176,
        "fields": {
            "answer": 187,
            "issue": 1,
            "issue_score": -0.7,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 177,
        "fields": {
            "answer": 190,
            "issue": 1,
            "issue_score": 0.7,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 180,
        "fields": {
            "answer": 193,
            "issue": 3,
            "issue_score": -0.4,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 181,
        "fields": {
            "answer": 193,
            "issue": 4,
            "issue_score": -0.4,
            "issue_importance": 1.5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 182,
        "fields": {
            "answer": 194,
            "issue": 3,
            "issue_score": 0,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 183,
        "fields": {
            "answer": 194,
            "issue": 4,
            "issue_score": 0,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 184,
        "fields": {
            "answer": 195,
            "issue": 2,
            "issue_score": 0.5,
            "issue_importance": 1.5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 185,
        "fields": {
            "answer": 195,
            "issue": 4,
            "issue_score": 0.5,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 186,
        "fields": {
            "answer": 196,
            "issue": 1,
            "issue_score": -0.7,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 187,
        "fields": {
            "answer": 196,
            "issue": 3,
            "issue_score": -0.7,
            "issue_importance": 1.5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 188,
        "fields": {
            "answer": 198,
            "issue": 1,
            "issue_score": 0.8,
            "issue_importance": 1.5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 189,
        "fields": {
            "answer": 199,
            "issue": 1,
            "issue_score": -0.7,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 190,
        "fields": {
            "answer": 201,
            "issue": 1,
            "issue_score": 0.6,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 191,
        "fields": {
            "answer": 202,
            "issue": 4,
            "issue_score": -0.5,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 192,
        "fields": {
            "answer": 203,
            "issue": 4,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 193,
        "fields": {
            "answer": 204,
            "issue": 4,
            "issue_score": 0.5,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 194,
        "fields": {
            "answer": 206,
            "issue": 1,
            "issue_score": -0.8,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 195,
        "fields": {
            "answer": 207,
            "issue": 1,
            "issue_score": -0.35,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 199,
        "fields": {
            "answer": 213,
            "issue": 1,
            "issue_score": -0.7,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 200,
        "fields": {
            "answer": 213,
            "issue": 2,
            "issue_score": -0.7,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 201,
        "fields": {
            "answer": 216,
            "issue": 1,
            "issue_score": 0.7,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 202,
        "fields": {
            "answer": 216,
            "issue": 2,
            "issue_score": 0.7,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 212,
        "fields": {
            "answer": 228,
            "issue": 1,
            "issue_score": 0.3,
            "issue_importance": 1.1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 217,
        "fields": {
            "answer": 243,
            "issue": 3,
            "issue_score": -0.5,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 218,
        "fields": {
            "answer": 244,
            "issue": 3,
            "issue_score": 0.4,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 219,
        "fields": {
            "answer": 245,
            "issue": 1,
            "issue_score": 0,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 220,
        "fields": {
            "answer": 245,
            "issue": 3,
            "issue_score": 0.5,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 221,
        "fields": {
            "answer": 246,
            "issue": 4,
            "issue_score": -0.75,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 222,
        "fields": {
            "answer": 248,
            "issue": 1,
            "issue_score": 0.25,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 223,
        "fields": {
            "answer": 248,
            "issue": 4,
            "issue_score": 0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 234,
        "fields": {
            "answer": 258,
            "issue": 1,
            "issue_score": -0.6,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 235,
        "fields": {
            "answer": 261,
            "issue": 1,
            "issue_score": 0.75,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 238,
        "fields": {
            "answer": 271,
            "issue": 1,
            "issue_score": -0.65,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 239,
        "fields": {
            "answer": 274,
            "issue": 1,
            "issue_score": 0.65,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 243,
        "fields": {
            "answer": 287,
            "issue": 3,
            "issue_score": -0.65,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 244,
        "fields": {
            "answer": 288,
            "issue": 3,
            "issue_score": -0.4,
            "issue_importance": 1.5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 246,
        "fields": {
            "answer": 290,
            "issue": 1,
            "issue_score": -0.3,
            "issue_importance": 1.5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 247,
        "fields": {
            "answer": 292,
            "issue": 1,
            "issue_score": 0.7,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 248,
        "fields": {
            "answer": 293,
            "issue": 2,
            "issue_score": -0.6,
            "issue_importance": 1.5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 249,
        "fields": {
            "answer": 294,
            "issue": 2,
            "issue_score": 0.7,
            "issue_importance": 1.5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 250,
        "fields": {
            "answer": 296,
            "issue": 2,
            "issue_score": 0.5,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 251,
        "fields": {
            "answer": 307,
            "issue": 3,
            "issue_score": -0.5,
            "issue_importance": 1.25
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 252,
        "fields": {
            "answer": 308,
            "issue": 3,
            "issue_score": 0.6,
            "issue_importance": 1.5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 262,
        "fields": {
            "answer": 330,
            "issue": 1,
            "issue_score": 0.7,
            "issue_importance": 4
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 263,
        "fields": {
            "answer": 330,
            "issue": 2,
            "issue_score": 0.7,
            "issue_importance": 4
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 264,
        "fields": {
            "answer": 330,
            "issue": 3,
            "issue_score": 0.65,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 265,
        "fields": {
            "answer": 330,
            "issue": 4,
            "issue_score": 0.7,
            "issue_importance": 3.5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 266,
        "fields": {
            "answer": 330,
            "issue": 5,
            "issue_score": 0.65,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 267,
        "fields": {
            "answer": 331,
            "issue": 1,
            "issue_score": 0.45,
            "issue_importance": 4
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 268,
        "fields": {
            "answer": 331,
            "issue": 2,
            "issue_score": 0.4,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 269,
        "fields": {
            "answer": 331,
            "issue": 4,
            "issue_score": 0.5,
            "issue_importance": 4
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 270,
        "fields": {
            "answer": 331,
            "issue": 5,
            "issue_score": 0.7,
            "issue_importance": 4
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 271,
        "fields": {
            "answer": 332,
            "issue": 1,
            "issue_score": 0.65,
            "issue_importance": 4
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 272,
        "fields": {
            "answer": 332,
            "issue": 2,
            "issue_score": 0.55,
            "issue_importance": 4
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 273,
        "fields": {
            "answer": 333,
            "issue": 1,
            "issue_score": 0.6,
            "issue_importance": 4
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 274,
        "fields": {
            "answer": 343,
            "issue": 4,
            "issue_score": 0.7,
            "issue_importance": 1.3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 275,
        "fields": {
            "answer": 344,
            "issue": 4,
            "issue_score": 0.4,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 276,
        "fields": {
            "answer": 345,
            "issue": 2,
            "issue_score": 0.6,
            "issue_importance": 1.2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 325,
        "fields": {
            "answer": 726,
            "issue": 1,
            "issue_score": 0.5,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 326,
        "fields": {
            "answer": 726,
            "issue": 2,
            "issue_score": 0.55,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 327,
        "fields": {
            "answer": 726,
            "issue": 3,
            "issue_score": 0.3,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 328,
        "fields": {
            "answer": 726,
            "issue": 4,
            "issue_score": 0.25,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 329,
        "fields": {
            "answer": 726,
            "issue": 5,
            "issue_score": 0.2,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 330,
        "fields": {
            "answer": 727,
            "issue": 1,
            "issue_score": 0.3,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 331,
        "fields": {
            "answer": 727,
            "issue": 2,
            "issue_score": 0.3,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 332,
        "fields": {
            "answer": 727,
            "issue": 3,
            "issue_score": 0.3,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 333,
        "fields": {
            "answer": 727,
            "issue": 4,
            "issue_score": 0.3,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 334,
        "fields": {
            "answer": 727,
            "issue": 5,
            "issue_score": 0.3,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 335,
        "fields": {
            "answer": 728,
            "issue": 1,
            "issue_score": 0.2,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 336,
        "fields": {
            "answer": 729,
            "issue": 1,
            "issue_score": 0.65,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 337,
        "fields": {
            "answer": 729,
            "issue": 2,
            "issue_score": 0.65,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 338,
        "fields": {
            "answer": 729,
            "issue": 3,
            "issue_score": 0.6,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 339,
        "fields": {
            "answer": 729,
            "issue": 4,
            "issue_score": 0.65,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 340,
        "fields": {
            "answer": 729,
            "issue": 5,
            "issue_score": 0.6,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 361,
        "fields": {
            "answer": 728,
            "issue": 2,
            "issue_score": 0.4,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 362,
        "fields": {
            "answer": 728,
            "issue": 3,
            "issue_score": 0,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 363,
        "fields": {
            "answer": 728,
            "issue": 4,
            "issue_score": 0.2,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 364,
        "fields": {
            "answer": 728,
            "issue": 5,
            "issue_score": 0.3,
            "issue_importance": 3
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1196,
        "fields": {
            "answer": 208,
            "issue": 1,
            "issue_score": 0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1198,
        "fields": {
            "answer": 1193,
            "issue": 1,
            "issue_score": 0.15,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1210,
        "fields": {
            "answer": 112,
            "issue": 4,
            "issue_score": -0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1222,
        "fields": {
            "answer": 27,
            "issue": 5,
            "issue_score": -0.15,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1227,
        "fields": {
            "answer": 395,
            "issue": 3,
            "issue_score": -0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1228,
        "fields": {
            "answer": 396,
            "issue": 3,
            "issue_score": 0.5,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1232,
        "fields": {
            "answer": 397,
            "issue": 3,
            "issue_score": 0,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1233,
        "fields": {
            "answer": 398,
            "issue": 3,
            "issue_score": 0.5,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1248,
        "fields": {
            "answer": 30,
            "issue": 4,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1251,
        "fields": {
            "answer": 31,
            "issue": 1,
            "issue_score": -0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1258,
        "fields": {
            "answer": 260,
            "issue": 1,
            "issue_score": 0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1260,
        "fields": {
            "answer": 259,
            "issue": 1,
            "issue_score": -0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1501,
        "fields": {
            "answer": 75,
            "issue": 5,
            "issue_score": 0,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1507,
        "fields": {
            "answer": 74,
            "issue": 5,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1522,
        "fields": {
            "answer": 114,
            "issue": 5,
            "issue_score": 0,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1526,
        "fields": {
            "answer": 94,
            "issue": 4,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1527,
        "fields": {
            "answer": 95,
            "issue": 1,
            "issue_score": -0.15,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1530,
        "fields": {
            "answer": 93,
            "issue": 1,
            "issue_score": 0.5,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1538,
        "fields": {
            "answer": 1534,
            "issue": 2,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1539,
        "fields": {
            "answer": 1534,
            "issue": 4,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1542,
        "fields": {
            "answer": 177,
            "issue": 2,
            "issue_score": -0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1552,
        "fields": {
            "answer": 188,
            "issue": 1,
            "issue_score": 1,
            "issue_importance": 0.5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1579,
        "fields": {
            "answer": 197,
            "issue": 3,
            "issue_score": 0,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1584,
        "fields": {
            "answer": 291,
            "issue": 1,
            "issue_score": 0.25,
            "issue_importance": 1.25
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1597,
        "fields": {
            "answer": 150,
            "issue": 5,
            "issue_score": 0,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1606,
        "fields": {
            "answer": 341,
            "issue": 2,
            "issue_score": 0.5,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1607,
        "fields": {
            "answer": 342,
            "issue": 2,
            "issue_score": 0,
            "issue_importance": 0.5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1620,
        "fields": {
            "answer": 200,
            "issue": 1,
            "issue_score": 0.2,
            "issue_importance": 1.5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1623,
        "fields": {
            "answer": 96,
            "issue": 1,
            "issue_score": -0.7,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1627,
        "fields": {
            "answer": 83,
            "issue": 3,
            "issue_score": 0,
            "issue_importance": 1.2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1643,
        "fields": {
            "answer": 242,
            "issue": 1,
            "issue_score": 0.8,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1648,
        "fields": {
            "answer": 240,
            "issue": 1,
            "issue_score": -0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1649,
        "fields": {
            "answer": 241,
            "issue": 1,
            "issue_score": 0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1656,
        "fields": {
            "answer": 1650,
            "issue": 1,
            "issue_score": 0.25,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1664,
        "fields": {
            "answer": 1661,
            "issue": 1,
            "issue_score": 0.25,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1676,
        "fields": {
            "answer": 304,
            "issue": 4,
            "issue_score": -0.4,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1677,
        "fields": {
            "answer": 305,
            "issue": 4,
            "issue_score": 0.25,
            "issue_importance": 1.5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1703,
        "fields": {
            "answer": 1698,
            "issue": 1,
            "issue_score": 0.3,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1704,
        "fields": {
            "answer": 230,
            "issue": 1,
            "issue_score": 0.5,
            "issue_importance": 1.5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1717,
        "fields": {
            "answer": 1713,
            "issue": 1,
            "issue_score": 0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1718,
        "fields": {
            "answer": 205,
            "issue": 1,
            "issue_score": -0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1721,
        "fields": {
            "answer": 171,
            "issue": 1,
            "issue_score": 0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1723,
        "fields": {
            "answer": 172,
            "issue": 4,
            "issue_score": 0.5,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1726,
        "fields": {
            "answer": 170,
            "issue": 1,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1730,
        "fields": {
            "answer": 169,
            "issue": 1,
            "issue_score": -0.4,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1732,
        "fields": {
            "answer": 1731,
            "issue": 1,
            "issue_score": 0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 1737,
        "fields": {
            "answer": 1736,
            "issue": 1,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21136,
        "fields": {
            "answer": 1500,
            "issue": 1,
            "issue_score": -0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21137,
        "fields": {
            "answer": 1658,
            "issue": 1,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21143,
        "fields": {
            "answer": 21139,
            "issue": 1,
            "issue_score": 0.3,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21150,
        "fields": {
            "answer": 21147,
            "issue": 1,
            "issue_score": 0.34,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21166,
        "fields": {
            "answer": 21163,
            "issue": 1,
            "issue_score": 0.32,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21192,
        "fields": {
            "answer": 21189,
            "issue": 1,
            "issue_score": 0.36,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21224,
        "fields": {
            "answer": 286,
            "issue": 3,
            "issue_score": 0.5,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21227,
        "fields": {
            "answer": 229,
            "issue": 1,
            "issue_score": 0.05,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21245,
        "fields": {
            "answer": 348,
            "issue": 4,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21246,
        "fields": {
            "answer": 347,
            "issue": 4,
            "issue_score": 0.45,
            "issue_importance": 1.5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21248,
        "fields": {
            "answer": 346,
            "issue": 4,
            "issue_score": -0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21251,
        "fields": {
            "answer": 119,
            "issue": 4,
            "issue_score": 0,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21254,
        "fields": {
            "answer": 215,
            "issue": 1,
            "issue_score": 0.3,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21259,
        "fields": {
            "answer": 21255,
            "issue": 1,
            "issue_score": 0.15,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21265,
        "fields": {
            "answer": 264,
            "issue": 1,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21268,
        "fields": {
            "answer": 265,
            "issue": 1,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21269,
        "fields": {
            "answer": 266,
            "issue": 4,
            "issue_score": 0.3,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21272,
        "fields": {
            "answer": 36,
            "issue": 2,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21274,
        "fields": {
            "answer": 34,
            "issue": 1,
            "issue_score": 0,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21275,
        "fields": {
            "answer": 34,
            "issue": 2,
            "issue_score": 0,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21286,
        "fields": {
            "answer": 6,
            "issue": 1,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21288,
        "fields": {
            "answer": 5,
            "issue": 3,
            "issue_score": 0.3,
            "issue_importance": 1.5
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21300,
        "fields": {
            "answer": 18,
            "issue": 4,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21310,
        "fields": {
            "answer": 21306,
            "issue": 1,
            "issue_score": -0.25,
            "issue_importance": 1.25
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21314,
        "fields": {
            "answer": 21311,
            "issue": 1,
            "issue_score": 0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21318,
        "fields": {
            "answer": 21315,
            "issue": 1,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21323,
        "fields": {
            "answer": 21320,
            "issue": 1,
            "issue_score": 0.25,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21329,
        "fields": {
            "answer": 21326,
            "issue": 5,
            "issue_score": 0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21333,
        "fields": {
            "answer": 21330,
            "issue": 3,
            "issue_score": 0.3,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21337,
        "fields": {
            "answer": 21334,
            "issue": 1,
            "issue_score": 0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21341,
        "fields": {
            "answer": 21338,
            "issue": 1,
            "issue_score": 0.25,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21383,
        "fields": {
            "answer": 306,
            "issue": 3,
            "issue_score": -0.3,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21387,
        "fields": {
            "answer": 149,
            "issue": 5,
            "issue_score": 0.3,
            "issue_importance": 1.25
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21396,
        "fields": {
            "answer": 227,
            "issue": 1,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21402,
        "fields": {
            "answer": 21399,
            "issue": 5,
            "issue_score": 0.25,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21417,
        "fields": {
            "answer": 21414,
            "issue": 1,
            "issue_score": 0.25,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21433,
        "fields": {
            "answer": 21430,
            "issue": 1,
            "issue_score": 0.28,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21444,
        "fields": {
            "answer": 21441,
            "issue": 4,
            "issue_score": 0.3,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21459,
        "fields": {
            "answer": 21456,
            "issue": 4,
            "issue_score": 0.25,
            "issue_importance": 1.25
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21463,
        "fields": {
            "answer": 21460,
            "issue": 1,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21468,
        "fields": {
            "answer": 21464,
            "issue": 1,
            "issue_score": -0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21473,
        "fields": {
            "answer": 21456,
            "issue": 1,
            "issue_score": 0.2,
            "issue_importance": 1.25
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21485,
        "fields": {
            "answer": 104,
            "issue": 3,
            "issue_score": 0.4,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21504,
        "fields": {
            "answer": 273,
            "issue": 1,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21508,
        "fields": {
            "answer": 282,
            "issue": 1,
            "issue_score": 0.35,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21509,
        "fields": {
            "answer": 280,
            "issue": 1,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21512,
        "fields": {
            "answer": 279,
            "issue": 1,
            "issue_score": -0.35,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21514,
        "fields": {
            "answer": 297,
            "issue": 1,
            "issue_score": 0.5,
            "issue_importance": 1.25
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21517,
        "fields": {
            "answer": 298,
            "issue": 1,
            "issue_score": 0.1,
            "issue_importance": 1.1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21518,
        "fields": {
            "answer": 299,
            "issue": 1,
            "issue_score": 0.5,
            "issue_importance": 1.25
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21523,
        "fields": {
            "answer": 21521,
            "issue": 3,
            "issue_score": 0.4,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21529,
        "fields": {
            "answer": 21526,
            "issue": 3,
            "issue_score": -0.1,
            "issue_importance": 2
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21537,
        "fields": {
            "answer": 21534,
            "issue": 1,
            "issue_score": -0.25,
            "issue_importance": 1.25
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21541,
        "fields": {
            "answer": 21538,
            "issue": 1,
            "issue_score": 0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21545,
        "fields": {
            "answer": 21542,
            "issue": 1,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21549,
        "fields": {
            "answer": 21546,
            "issue": 1,
            "issue_score": 0.25,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21554,
        "fields": {
            "answer": 21551,
            "issue": 1,
            "issue_score": -0.25,
            "issue_importance": 1.25
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21558,
        "fields": {
            "answer": 21555,
            "issue": 1,
            "issue_score": 0.2,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21562,
        "fields": {
            "answer": 21559,
            "issue": 1,
            "issue_score": 0.1,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21566,
        "fields": {
            "answer": 21563,
            "issue": 1,
            "issue_score": 0.25,
            "issue_importance": 1
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21570,
        "fields": {
            "answer": 205,
            "issue": 4,
            "issue_score": 0.5,
            "issue_importance": 1.25
        }
    },
    {
        "model": "campaign_trail.answer_score_issue",
        "pk": 21571,
        "fields": {
            "answer": 247,
            "issue": 1,
            "issue_score": -0.3,
            "issue_importance": 1.75
        }
    }
]

campaignTrail_temp.answer_score_state_json = [
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 1,
        "fields": {
            "answer": 5,
            "state": 9,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.05
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 3,
        "fields": {
            "answer": 8,
            "state": 9,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 7,
        "fields": {
            "answer": 13,
            "state": 5,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 8,
        "fields": {
            "answer": 13,
            "state": 9,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 9,
        "fields": {
            "answer": 13,
            "state": 28,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 10,
        "fields": {
            "answer": 13,
            "state": 14,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 11,
        "fields": {
            "answer": 13,
            "state": 24,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 12,
        "fields": {
            "answer": 13,
            "state": 36,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 13,
        "fields": {
            "answer": 13,
            "state": 43,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 14,
        "fields": {
            "answer": 14,
            "state": 5,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 15,
        "fields": {
            "answer": 14,
            "state": 9,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.008
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 16,
        "fields": {
            "answer": 14,
            "state": 28,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.012
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 17,
        "fields": {
            "answer": 14,
            "state": 14,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 18,
        "fields": {
            "answer": 14,
            "state": 24,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 19,
        "fields": {
            "answer": 14,
            "state": 36,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 20,
        "fields": {
            "answer": 14,
            "state": 43,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 26,
        "fields": {
            "answer": 25,
            "state": 3,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 27,
        "fields": {
            "answer": 25,
            "state": 5,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 28,
        "fields": {
            "answer": 25,
            "state": 31,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 29,
        "fields": {
            "answer": 26,
            "state": 3,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 30,
        "fields": {
            "answer": 26,
            "state": 5,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 31,
        "fields": {
            "answer": 26,
            "state": 31,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 32,
        "fields": {
            "answer": 28,
            "state": 3,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 33,
        "fields": {
            "answer": 28,
            "state": 5,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 34,
        "fields": {
            "answer": 28,
            "state": 31,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 35,
        "fields": {
            "answer": 29,
            "state": 3,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 36,
        "fields": {
            "answer": 29,
            "state": 28,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 37,
        "fields": {
            "answer": 30,
            "state": 3,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.0025
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 38,
        "fields": {
            "answer": 30,
            "state": 28,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.0025
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 39,
        "fields": {
            "answer": 31,
            "state": 3,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 40,
        "fields": {
            "answer": 31,
            "state": 28,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 41,
        "fields": {
            "answer": 36,
            "state": 28,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 42,
        "fields": {
            "answer": 37,
            "state": 5,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 43,
        "fields": {
            "answer": 38,
            "state": 5,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 44,
        "fields": {
            "answer": 40,
            "state": 2,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.025
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 45,
        "fields": {
            "answer": 40,
            "state": 5,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 46,
        "fields": {
            "answer": 40,
            "state": 18,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 47,
        "fields": {
            "answer": 40,
            "state": 34,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 48,
        "fields": {
            "answer": 40,
            "state": 36,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 49,
        "fields": {
            "answer": 40,
            "state": 43,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 54,
        "fields": {
            "answer": 49,
            "state": 34,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 55,
        "fields": {
            "answer": 49,
            "state": 26,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 56,
        "fields": {
            "answer": 49,
            "state": 41,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 57,
        "fields": {
            "answer": 49,
            "state": 51,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 58,
        "fields": {
            "answer": 50,
            "state": 34,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 59,
        "fields": {
            "answer": 50,
            "state": 51,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 60,
        "fields": {
            "answer": 52,
            "state": 34,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.03
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 61,
        "fields": {
            "answer": 52,
            "state": 26,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 62,
        "fields": {
            "answer": 52,
            "state": 41,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 63,
        "fields": {
            "answer": 52,
            "state": 51,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 68,
        "fields": {
            "answer": 59,
            "state": 48,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.05
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 69,
        "fields": {
            "answer": 60,
            "state": 5,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 70,
        "fields": {
            "answer": 60,
            "state": 13,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 71,
        "fields": {
            "answer": 60,
            "state": 32,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 73,
        "fields": {
            "answer": 69,
            "state": 5,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.008
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 74,
        "fields": {
            "answer": 69,
            "state": 3,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 75,
        "fields": {
            "answer": 69,
            "state": 31,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.008
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 79,
        "fields": {
            "answer": 76,
            "state": 5,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 80,
        "fields": {
            "answer": 76,
            "state": 3,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 81,
        "fields": {
            "answer": 76,
            "state": 31,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 82,
        "fields": {
            "answer": 85,
            "state": 5,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 83,
        "fields": {
            "answer": 85,
            "state": 13,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 84,
        "fields": {
            "answer": 85,
            "state": 21,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 85,
        "fields": {
            "answer": 85,
            "state": 32,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 86,
        "fields": {
            "answer": 85,
            "state": 45,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 87,
        "fields": {
            "answer": 85,
            "state": 1,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 88,
        "fields": {
            "answer": 85,
            "state": 4,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 89,
        "fields": {
            "answer": 85,
            "state": 24,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 90,
        "fields": {
            "answer": 85,
            "state": 40,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 91,
        "fields": {
            "answer": 88,
            "state": 5,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 92,
        "fields": {
            "answer": 88,
            "state": 13,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 93,
        "fields": {
            "answer": 88,
            "state": 21,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 94,
        "fields": {
            "answer": 88,
            "state": 32,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 95,
        "fields": {
            "answer": 88,
            "state": 45,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 96,
        "fields": {
            "answer": 88,
            "state": 1,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 97,
        "fields": {
            "answer": 88,
            "state": 4,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 98,
        "fields": {
            "answer": 88,
            "state": 24,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 99,
        "fields": {
            "answer": 88,
            "state": 40,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 100,
        "fields": {
            "answer": 93,
            "state": 5,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 101,
        "fields": {
            "answer": 93,
            "state": 37,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 102,
        "fields": {
            "answer": 93,
            "state": 34,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 103,
        "fields": {
            "answer": 93,
            "state": 36,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 104,
        "fields": {
            "answer": 93,
            "state": 43,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 105,
        "fields": {
            "answer": 93,
            "state": 51,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 106,
        "fields": {
            "answer": 95,
            "state": 5,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 107,
        "fields": {
            "answer": 95,
            "state": 37,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 108,
        "fields": {
            "answer": 95,
            "state": 2,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 109,
        "fields": {
            "answer": 95,
            "state": 34,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 110,
        "fields": {
            "answer": 95,
            "state": 36,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 111,
        "fields": {
            "answer": 95,
            "state": 43,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 112,
        "fields": {
            "answer": 95,
            "state": 49,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.03
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 113,
        "fields": {
            "answer": 95,
            "state": 51,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 114,
        "fields": {
            "answer": 96,
            "state": 5,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 115,
        "fields": {
            "answer": 96,
            "state": 37,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 116,
        "fields": {
            "answer": 96,
            "state": 2,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 117,
        "fields": {
            "answer": 96,
            "state": 34,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 118,
        "fields": {
            "answer": 96,
            "state": 36,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 119,
        "fields": {
            "answer": 96,
            "state": 43,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 120,
        "fields": {
            "answer": 96,
            "state": 49,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 121,
        "fields": {
            "answer": 96,
            "state": 51,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 122,
        "fields": {
            "answer": 101,
            "state": 22,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 123,
        "fields": {
            "answer": 101,
            "state": 35,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 124,
        "fields": {
            "answer": 101,
            "state": 32,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 125,
        "fields": {
            "answer": 104,
            "state": 22,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 126,
        "fields": {
            "answer": 105,
            "state": 15,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 127,
        "fields": {
            "answer": 105,
            "state": 27,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 128,
        "fields": {
            "answer": 107,
            "state": 15,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 129,
        "fields": {
            "answer": 107,
            "state": 34,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 130,
        "fields": {
            "answer": 107,
            "state": 41,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 131,
        "fields": {
            "answer": 108,
            "state": 15,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 132,
        "fields": {
            "answer": 108,
            "state": 27,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.007
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 133,
        "fields": {
            "answer": 109,
            "state": 5,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 134,
        "fields": {
            "answer": 109,
            "state": 13,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 135,
        "fields": {
            "answer": 109,
            "state": 14,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 136,
        "fields": {
            "answer": 109,
            "state": 15,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 137,
        "fields": {
            "answer": 109,
            "state": 16,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 138,
        "fields": {
            "answer": 109,
            "state": 22,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 139,
        "fields": {
            "answer": 109,
            "state": 23,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 140,
        "fields": {
            "answer": 109,
            "state": 27,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 141,
        "fields": {
            "answer": 109,
            "state": 35,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 142,
        "fields": {
            "answer": 109,
            "state": 50,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 143,
        "fields": {
            "answer": 110,
            "state": 13,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 144,
        "fields": {
            "answer": 110,
            "state": 14,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 145,
        "fields": {
            "answer": 110,
            "state": 15,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 146,
        "fields": {
            "answer": 110,
            "state": 27,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 147,
        "fields": {
            "answer": 110,
            "state": 35,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 148,
        "fields": {
            "answer": 112,
            "state": 15,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 149,
        "fields": {
            "answer": 112,
            "state": 27,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 155,
        "fields": {
            "answer": 135,
            "state": 1,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 156,
        "fields": {
            "answer": 135,
            "state": 10,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 157,
        "fields": {
            "answer": 135,
            "state": 17,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 158,
        "fields": {
            "answer": 135,
            "state": 24,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 159,
        "fields": {
            "answer": 135,
            "state": 42,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 160,
        "fields": {
            "answer": 135,
            "state": 22,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.0125
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 167,
        "fields": {
            "answer": 137,
            "state": 20,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 168,
        "fields": {
            "answer": 137,
            "state": 46,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 169,
        "fields": {
            "answer": 137,
            "state": 48,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 178,
        "fields": {
            "answer": 178,
            "state": 37,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 179,
        "fields": {
            "answer": 179,
            "state": 5,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 180,
        "fields": {
            "answer": 179,
            "state": 9,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 181,
        "fields": {
            "answer": 179,
            "state": 22,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 182,
        "fields": {
            "answer": 179,
            "state": 28,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 183,
        "fields": {
            "answer": 179,
            "state": 39,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 184,
        "fields": {
            "answer": 180,
            "state": 5,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 185,
        "fields": {
            "answer": 180,
            "state": 9,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 186,
        "fields": {
            "answer": 180,
            "state": 22,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 187,
        "fields": {
            "answer": 180,
            "state": 28,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 188,
        "fields": {
            "answer": 180,
            "state": 39,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 189,
        "fields": {
            "answer": 182,
            "state": 27,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 190,
        "fields": {
            "answer": 182,
            "state": 34,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 191,
        "fields": {
            "answer": 182,
            "state": 41,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 192,
        "fields": {
            "answer": 193,
            "state": 9,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.007
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 193,
        "fields": {
            "answer": 201,
            "state": 22,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 194,
        "fields": {
            "answer": 201,
            "state": 35,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 195,
        "fields": {
            "answer": 201,
            "state": 38,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 196,
        "fields": {
            "answer": 202,
            "state": 1,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 197,
        "fields": {
            "answer": 202,
            "state": 4,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 198,
        "fields": {
            "answer": 202,
            "state": 10,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 199,
        "fields": {
            "answer": 202,
            "state": 18,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 200,
        "fields": {
            "answer": 202,
            "state": 24,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 201,
        "fields": {
            "answer": 202,
            "state": 40,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 202,
        "fields": {
            "answer": 202,
            "state": 49,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 203,
        "fields": {
            "answer": 202,
            "state": 5,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 204,
        "fields": {
            "answer": 202,
            "state": 7,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 205,
        "fields": {
            "answer": 202,
            "state": 8,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 206,
        "fields": {
            "answer": 202,
            "state": 13,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 207,
        "fields": {
            "answer": 202,
            "state": 21,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 208,
        "fields": {
            "answer": 202,
            "state": 32,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 209,
        "fields": {
            "answer": 202,
            "state": 39,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 210,
        "fields": {
            "answer": 204,
            "state": 1,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 211,
        "fields": {
            "answer": 204,
            "state": 4,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 212,
        "fields": {
            "answer": 204,
            "state": 10,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 213,
        "fields": {
            "answer": 204,
            "state": 18,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 214,
        "fields": {
            "answer": 204,
            "state": 24,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 215,
        "fields": {
            "answer": 204,
            "state": 40,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 216,
        "fields": {
            "answer": 204,
            "state": 49,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 217,
        "fields": {
            "answer": 204,
            "state": 5,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 218,
        "fields": {
            "answer": 204,
            "state": 7,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 219,
        "fields": {
            "answer": 204,
            "state": 8,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 220,
        "fields": {
            "answer": 204,
            "state": 13,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 221,
        "fields": {
            "answer": 204,
            "state": 21,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 222,
        "fields": {
            "answer": 204,
            "state": 32,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 223,
        "fields": {
            "answer": 204,
            "state": 39,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.015
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 227,
        "fields": {
            "answer": 213,
            "state": 5,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 228,
        "fields": {
            "answer": 213,
            "state": 13,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 229,
        "fields": {
            "answer": 213,
            "state": 32,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 230,
        "fields": {
            "answer": 213,
            "state": 38,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 231,
        "fields": {
            "answer": 215,
            "state": 5,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 232,
        "fields": {
            "answer": 215,
            "state": 13,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 233,
        "fields": {
            "answer": 215,
            "state": 32,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 234,
        "fields": {
            "answer": 215,
            "state": 38,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 235,
        "fields": {
            "answer": 228,
            "state": 5,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 236,
        "fields": {
            "answer": 228,
            "state": 13,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 237,
        "fields": {
            "answer": 228,
            "state": 22,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 238,
        "fields": {
            "answer": 228,
            "state": 30,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 239,
        "fields": {
            "answer": 228,
            "state": 32,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 240,
        "fields": {
            "answer": 228,
            "state": 35,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 241,
        "fields": {
            "answer": 242,
            "state": 32,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 242,
        "fields": {
            "answer": 279,
            "state": 12,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 243,
        "fields": {
            "answer": 282,
            "state": 12,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 246,
        "fields": {
            "answer": 293,
            "state": 3,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 247,
        "fields": {
            "answer": 293,
            "state": 9,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 248,
        "fields": {
            "answer": 293,
            "state": 32,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 249,
        "fields": {
            "answer": 296,
            "state": 3,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 250,
        "fields": {
            "answer": 296,
            "state": 9,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 251,
        "fields": {
            "answer": 296,
            "state": 32,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 254,
        "fields": {
            "answer": 304,
            "state": 50,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 255,
        "fields": {
            "answer": 305,
            "state": 50,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 279,
        "fields": {
            "answer": 332,
            "state": 50,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 280,
        "fields": {
            "answer": 349,
            "state": 8,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 281,
        "fields": {
            "answer": 350,
            "state": 8,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 911,
        "fields": {
            "answer": 5,
            "state": 9,
            "candidate": 17,
            "affected_candidate": 17,
            "state_multiplier": -0.05
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 968,
        "fields": {
            "answer": 50,
            "state": 34,
            "candidate": 17,
            "affected_candidate": 17,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 969,
        "fields": {
            "answer": 50,
            "state": 51,
            "candidate": 17,
            "affected_candidate": 17,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 978,
        "fields": {
            "answer": 59,
            "state": 48,
            "candidate": 17,
            "affected_candidate": 17,
            "state_multiplier": -0.05
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 989,
        "fields": {
            "answer": 76,
            "state": 5,
            "candidate": 17,
            "affected_candidate": 17,
            "state_multiplier": -0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 990,
        "fields": {
            "answer": 76,
            "state": 3,
            "candidate": 17,
            "affected_candidate": 17,
            "state_multiplier": 0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 991,
        "fields": {
            "answer": 76,
            "state": 31,
            "candidate": 17,
            "affected_candidate": 17,
            "state_multiplier": -0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 1024,
        "fields": {
            "answer": 96,
            "state": 5,
            "candidate": 17,
            "affected_candidate": 17,
            "state_multiplier": -0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 1025,
        "fields": {
            "answer": 96,
            "state": 37,
            "candidate": 17,
            "affected_candidate": 17,
            "state_multiplier": 0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 1026,
        "fields": {
            "answer": 96,
            "state": 2,
            "candidate": 17,
            "affected_candidate": 17,
            "state_multiplier": 0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 1027,
        "fields": {
            "answer": 96,
            "state": 34,
            "candidate": 17,
            "affected_candidate": 17,
            "state_multiplier": 0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 1028,
        "fields": {
            "answer": 96,
            "state": 36,
            "candidate": 17,
            "affected_candidate": 17,
            "state_multiplier": 0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 1029,
        "fields": {
            "answer": 96,
            "state": 43,
            "candidate": 17,
            "affected_candidate": 17,
            "state_multiplier": 0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 1030,
        "fields": {
            "answer": 96,
            "state": 49,
            "candidate": 17,
            "affected_candidate": 17,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 1031,
        "fields": {
            "answer": 96,
            "state": 51,
            "candidate": 17,
            "affected_candidate": 17,
            "state_multiplier": 0.02
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 1189,
        "fields": {
            "answer": 332,
            "state": 50,
            "candidate": 17,
            "affected_candidate": 17,
            "state_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 1190,
        "fields": {
            "answer": 349,
            "state": 8,
            "candidate": 17,
            "affected_candidate": 17,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 1191,
        "fields": {
            "answer": 350,
            "state": 8,
            "candidate": 17,
            "affected_candidate": 17,
            "state_multiplier": -0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 1209,
        "fields": {
            "answer": 112,
            "state": 13,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 1540,
        "fields": {
            "answer": 1534,
            "state": 37,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 1570,
        "fields": {
            "answer": 78,
            "state": 3,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 1571,
        "fields": {
            "answer": 78,
            "state": 43,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 1609,
        "fields": {
            "answer": 15,
            "state": 9,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 1615,
        "fields": {
            "answer": 201,
            "state": 13,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 1616,
        "fields": {
            "answer": 201,
            "state": 14,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 1617,
        "fields": {
            "answer": 201,
            "state": 15,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 1618,
        "fields": {
            "answer": 201,
            "state": 23,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 1619,
        "fields": {
            "answer": 201,
            "state": 50,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 1672,
        "fields": {
            "answer": 139,
            "state": 20,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 1673,
        "fields": {
            "answer": 139,
            "state": 46,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 1674,
        "fields": {
            "answer": 139,
            "state": 48,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 1705,
        "fields": {
            "answer": 230,
            "state": 23,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21144,
        "fields": {
            "answer": 21139,
            "state": 9,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21145,
        "fields": {
            "answer": 21139,
            "state": 33,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21146,
        "fields": {
            "answer": 21139,
            "state": 46,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21154,
        "fields": {
            "answer": 21147,
            "state": 22,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21158,
        "fields": {
            "answer": 21147,
            "state": 50,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21159,
        "fields": {
            "answer": 21147,
            "state": 35,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21160,
        "fields": {
            "answer": 21147,
            "state": 14,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21161,
        "fields": {
            "answer": 21147,
            "state": 38,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21162,
        "fields": {
            "answer": 21147,
            "state": 49,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21173,
        "fields": {
            "answer": 21163,
            "state": 3,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21174,
        "fields": {
            "answer": 21163,
            "state": 26,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21175,
        "fields": {
            "answer": 21163,
            "state": 28,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21176,
        "fields": {
            "answer": 21163,
            "state": 47,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21177,
        "fields": {
            "answer": 21163,
            "state": 5,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21178,
        "fields": {
            "answer": 21163,
            "state": 37,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21179,
        "fields": {
            "answer": 21163,
            "state": 31,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21180,
        "fields": {
            "answer": 21163,
            "state": 6,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21181,
        "fields": {
            "answer": 21163,
            "state": 34,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21182,
        "fields": {
            "answer": 21139,
            "state": 10,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21183,
        "fields": {
            "answer": 21139,
            "state": 40,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21184,
        "fields": {
            "answer": 21139,
            "state": 8,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21185,
        "fields": {
            "answer": 21139,
            "state": 20,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21186,
        "fields": {
            "answer": 21147,
            "state": 13,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21187,
        "fields": {
            "answer": 21147,
            "state": 15,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21188,
        "fields": {
            "answer": 21147,
            "state": 23,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21202,
        "fields": {
            "answer": 21189,
            "state": 7,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21203,
        "fields": {
            "answer": 21189,
            "state": 30,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21204,
        "fields": {
            "answer": 21189,
            "state": 32,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21205,
        "fields": {
            "answer": 21189,
            "state": 21,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21206,
        "fields": {
            "answer": 21189,
            "state": 29,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21207,
        "fields": {
            "answer": 21189,
            "state": 39,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21208,
        "fields": {
            "answer": 21189,
            "state": 19,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21209,
        "fields": {
            "answer": 21189,
            "state": 45,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21210,
        "fields": {
            "answer": 1736,
            "state": 8,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21211,
        "fields": {
            "answer": 1736,
            "state": 30,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21212,
        "fields": {
            "answer": 1736,
            "state": 32,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21213,
        "fields": {
            "answer": 1736,
            "state": 38,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21214,
        "fields": {
            "answer": 1731,
            "state": 8,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21215,
        "fields": {
            "answer": 1731,
            "state": 30,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21216,
        "fields": {
            "answer": 1731,
            "state": 32,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21217,
        "fields": {
            "answer": 1731,
            "state": 38,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21232,
        "fields": {
            "answer": 1,
            "state": 9,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21233,
        "fields": {
            "answer": 4,
            "state": 9,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21260,
        "fields": {
            "answer": 21255,
            "state": 8,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21261,
        "fields": {
            "answer": 21255,
            "state": 30,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21262,
        "fields": {
            "answer": 21255,
            "state": 32,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.006
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21263,
        "fields": {
            "answer": 21255,
            "state": 38,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21287,
        "fields": {
            "answer": 6,
            "state": 9,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.001
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21296,
        "fields": {
            "answer": 17,
            "state": 40,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.007
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21297,
        "fields": {
            "answer": 17,
            "state": 1,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21298,
        "fields": {
            "answer": 17,
            "state": 10,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21301,
        "fields": {
            "answer": 18,
            "state": 40,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21342,
        "fields": {
            "answer": 21338,
            "state": 1,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21343,
        "fields": {
            "answer": 21338,
            "state": 10,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21344,
        "fields": {
            "answer": 21338,
            "state": 18,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21345,
        "fields": {
            "answer": 21338,
            "state": 24,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21346,
        "fields": {
            "answer": 21338,
            "state": 40,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21347,
        "fields": {
            "answer": 21338,
            "state": 4,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21348,
        "fields": {
            "answer": 21338,
            "state": 9,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21349,
        "fields": {
            "answer": 21338,
            "state": 42,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21350,
        "fields": {
            "answer": 21338,
            "state": 43,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21351,
        "fields": {
            "answer": 21334,
            "state": 14,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21352,
        "fields": {
            "answer": 21334,
            "state": 22,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21353,
        "fields": {
            "answer": 21334,
            "state": 33,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21354,
        "fields": {
            "answer": 21334,
            "state": 35,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21355,
        "fields": {
            "answer": 21334,
            "state": 38,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21356,
        "fields": {
            "answer": 21334,
            "state": 46,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21357,
        "fields": {
            "answer": 21334,
            "state": 49,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21358,
        "fields": {
            "answer": 21330,
            "state": 5,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21359,
        "fields": {
            "answer": 21330,
            "state": 11,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21360,
        "fields": {
            "answer": 21330,
            "state": 28,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21361,
        "fields": {
            "answer": 21330,
            "state": 37,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21362,
        "fields": {
            "answer": 21330,
            "state": 47,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21363,
        "fields": {
            "answer": 21330,
            "state": 7,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21364,
        "fields": {
            "answer": 21330,
            "state": 19,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21365,
        "fields": {
            "answer": 21330,
            "state": 21,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21366,
        "fields": {
            "answer": 21330,
            "state": 29,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21367,
        "fields": {
            "answer": 21330,
            "state": 32,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21368,
        "fields": {
            "answer": 21330,
            "state": 39,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21369,
        "fields": {
            "answer": 21330,
            "state": 45,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.002
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21370,
        "fields": {
            "answer": 21326,
            "state": 6,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21371,
        "fields": {
            "answer": 21326,
            "state": 13,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21372,
        "fields": {
            "answer": 21326,
            "state": 15,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21373,
        "fields": {
            "answer": 21326,
            "state": 16,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21374,
        "fields": {
            "answer": 21326,
            "state": 23,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21375,
        "fields": {
            "answer": 21326,
            "state": 25,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21376,
        "fields": {
            "answer": 21326,
            "state": 27,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21377,
        "fields": {
            "answer": 21326,
            "state": 31,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21378,
        "fields": {
            "answer": 21326,
            "state": 36,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21379,
        "fields": {
            "answer": 21326,
            "state": 43,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21380,
        "fields": {
            "answer": 21326,
            "state": 50,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.003
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21481,
        "fields": {
            "answer": 101,
            "state": 38,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21488,
        "fields": {
            "answer": 104,
            "state": 14,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.008
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21489,
        "fields": {
            "answer": 104,
            "state": 35,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.008
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21490,
        "fields": {
            "answer": 104,
            "state": 38,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.008
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21572,
        "fields": {
            "answer": 133,
            "state": 22,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.01
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21573,
        "fields": {
            "answer": 133,
            "state": 14,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21574,
        "fields": {
            "answer": 133,
            "state": 35,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.006
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21575,
        "fields": {
            "answer": 133,
            "state": 38,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": 0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21576,
        "fields": {
            "answer": 199,
            "state": 15,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21577,
        "fields": {
            "answer": 199,
            "state": 22,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21578,
        "fields": {
            "answer": 199,
            "state": 23,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21579,
        "fields": {
            "answer": 199,
            "state": 35,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.005
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21580,
        "fields": {
            "answer": 199,
            "state": 38,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21581,
        "fields": {
            "answer": 199,
            "state": 49,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.004
        }
    },
    {
        "model": "campaign_trail.answer_score_state",
        "pk": 21582,
        "fields": {
            "answer": 199,
            "state": 50,
            "candidate": 16,
            "affected_candidate": 16,
            "state_multiplier": -0.004
        }
    }
]

campaignTrail_temp.answer_feedback_json = [
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 357,
        "fields": {
            "answer": 5,
            "candidate": 16,
            "answer_feedback": "We very much appreciate your courage, but your comments have turned the Cuban community in Florida livid at your response. Looks like you’ll find out pretty soon there’s a reason why the embargo has been in place this long…"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 358,
        "fields": {
            "answer": 16,
            "candidate": 16,
            "answer_feedback": "That is not what your voting base wants to hear on this issue."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 359,
        "fields": {
            "answer": 24,
            "candidate": 16,
            "answer_feedback": "This is true, but you may come off as unprepared here. Either way, your party is supposed to be making appeals to the Hispanic voting bloc — try not to alienate them."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 360,
        "fields": {
            "answer": 25,
            "candidate": 16,
            "answer_feedback": "Of course, this is red meat for Republican voters, who see this as you siding against law and order. But this is just what the liberal wing of your party wants to hear, even as public opinion polls show mixed results."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 361,
        "fields": {
            "answer": 27,
            "candidate": 16,
            "answer_feedback": "Considering your previous comments on this, many of your supporters were hoping for a more vigorous stance."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 362,
        "fields": {
            "answer": 28,
            "candidate": 16,
            "answer_feedback": "This is a reversal from your previous stance, and one that shocks your supporters and opponents, who mock you for changing your position so drastically. On the plus side, Jan Brewer suddenly seems a lot more open to discussing with you some reforms in the law.<br/><br/>You invite her to the White House one day to settle the deal; after an hour and a half of watching <i>{RANDOM_MOVIE}</i>, she runs away screaming. You think this is a good sign."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 363,
        "fields": {
            "answer": 29,
            "candidate": 16,
            "answer_feedback": "In your heart, you know you’re right. On the other hand, you’d better be prepared to lose some votes in Arizona and Nevada."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 364,
        "fields": {
            "answer": 39,
            "candidate": 16,
            "answer_feedback": "Umm… you remember the time you personally visited Solyndra, right? Pundits are immediately interpreting this response as an admission that your previous policies have failed. Perhaps, they did."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 365,
        "fields": {
            "answer": 40,
            "candidate": 16,
            "answer_feedback": "It’s hard to get elected with the opposition of both the agribusiness and oil interests. We’ll be praying for you tonight."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 367,
        "fields": {
            "answer": 45,
            "candidate": 16,
            "answer_feedback": "The Democrats have spent years trying to erase the stigma that they are soft on defense. This won’t help."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 368,
        "fields": {
            "answer": 46,
            "candidate": 16,
            "answer_feedback": "Good response. It’s important to stand by your policies."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 369,
        "fields": {
            "answer": 47,
            "candidate": 16,
            "answer_feedback": "This isn’t what you did in 2011. Have you had a change of heart?"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 370,
        "fields": {
            "answer": 48,
            "candidate": 16,
            "answer_feedback": "You may be right, but <em>you</em> were one of the people who allowed this to happen. Republicans now have ammunition to brand you as a ’flip-flopper.’"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 371,
        "fields": {
            "answer": 52,
            "candidate": 16,
            "answer_feedback": "Environmentalist groups are dismayed at your response. It will be hard to generate enthusiasm this fall. On the other hand, some Senate candidates are particularly pleased with your strategy."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 373,
        "fields": {
            "answer": 60,
            "candidate": 16,
            "answer_feedback": "You depend on support from public sector unions. Try not to undermine them like this in the future."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 374,
        "fields": {
            "answer": 61,
            "candidate": 16,
            "answer_feedback": "Bailing out the E.U. is an extremely unpopular position with the American public. Your answer will be in the center of a media firestorm for the next week. I hope you still have Ambien."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 375,
        "fields": {
            "answer": 77,
            "candidate": 16,
            "answer_feedback": "Decriminalizing drugs is not yet a mainstream viewpoint, but at least a few of your supporters will be pleased with this answer. On the other hand, countless others will be confused with the “OBAMA WANTS TO LEGALIZE DRUGS” headlines in tomorrow’s papers."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 376,
        "fields": {
            "answer": 85,
            "candidate": 16,
            "answer_feedback": "Well, the dam has broken. This is a historic, powerful moment that will energize your base like nothing else. Depending on how this election goes, maybe you can get some of the Congressional Republicans to agree with it."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 377,
        "fields": {
            "answer": 86,
            "candidate": 16,
            "answer_feedback": "This is a safe response, although quite underwhelming compared to Biden’s own stance on this, especially to your core voters."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 378,
        "fields": {
            "answer": 87,
            "candidate": 16,
            "answer_feedback": "Although this is somewhat consistent with your personal opinion over the years, it’s also quite deflating for your progressive supporters, who see your personal opposition as a cop-out."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 379,
        "fields": {
            "answer": 88,
            "candidate": 16,
            "answer_feedback": "Can you hear it? There are people wondering whether you have been replaced by a body double. I hope not, but it does open up a few possibilities for you…"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 380,
        "fields": {
            "answer": 95,
            "candidate": 16,
            "answer_feedback": "This may be true, but it’s a response that’s also a little disappointing to environmentalist Democrats. Somewhere in the offices of the League of Conservation Voters, someone is quietly updating a spreadsheet, and your score is going down."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 381,
        "fields": {
            "answer": 97,
            "candidate": 16,
            "answer_feedback": "Although some may think you are planning the “largest tax hike in history,” you know it’s ridiculous. It’s gonna be the second-largest tax hike, which is very much different."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 382,
        "fields": {
            "answer": 98,
            "candidate": 16,
            "answer_feedback": "This is a cautious response, albeit one that causes members of your party to scratch their heads at your future plans."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 383,
        "fields": {
            "answer": 99,
            "candidate": 16,
            "answer_feedback": "Unfortunately for you, most Democrats agree that we should use a combination of revenue increases as well as spending cuts to balance the budget. You’ve put yourself to the right of almost everyone in the party."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 384,
        "fields": {
            "answer": 100,
            "candidate": 16,
            "answer_feedback": "Your new approach is not well-received by your supporters, who see this statement as implicit support for lowering taxes on the rich further. Unless you know something they don’t, well, you might be done with."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 385,
        "fields": {
            "answer": 105,
            "candidate": 16,
            "answer_feedback": "A dubious statement, but it will help you a lot in Iowa this fall. Remember: that’s a swing state."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 386,
        "fields": {
            "answer": 106,
            "candidate": 16,
            "answer_feedback": "Way to avoid giving a response. This question is a landmine."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 387,
        "fields": {
            "answer": 108,
            "candidate": 16,
            "answer_feedback": "You have blasphemed against the King Corn. The vast, flat expanse of the Midwest turns its back on you. Ethanol subsidies are the blood of this land, and you have threatened to stop the flow. From Iowa to Nebraska, the fields rustle with a dry, hateful whisper. You are no longer welcome here. Congratulations?"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 388,
        "fields": {
            "answer": 109,
            "candidate": 16,
            "answer_feedback": "Beedee-beedee-beedee! This is a courageous response, and a horrible one for it. Some very large agricultural corporations and many Midwest voters disagree, and they are shitting on you from such a height you think God himself has crapped on you."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 389,
        "fields": {
            "answer": 112,
            "candidate": 16,
            "answer_feedback": "In response to your statements, Fox News has been running a 24/7 segment titled “SOVIET-STYLE CENTRAL PLANNING” with a picture of you in an ushanka in a field of corn. It’s ridiculous. Still, there’s a certain panache to this answer that farmers find appealing."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 390,
        "fields": {
            "answer": 113,
            "candidate": 16,
            "answer_feedback": "In your heart, you know you’re right. But uhh… you’ve lost the support of so many groups with that response that I don’t know where to begin."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 391,
        "fields": {
            "answer": 121,
            "candidate": 16,
            "answer_feedback": "You sound like Walter Mondale or something, which in the right situations can be marginally effective. Good news is that you’re not the one in charge of the budget."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 392,
        "fields": {
            "answer": 122,
            "candidate": 16,
            "answer_feedback": "Keep the debate right where you want it. This answer will cause you few problems from either the left or the right."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 393,
        "fields": {
            "answer": 123,
            "candidate": 16,
            "answer_feedback": "It’s distressing to some of your liberal and elderly supporters to hear you referencing potential Social Security changes. You’re just barely touching the third rail of American politics here."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 395,
        "fields": {
            "answer": 144,
            "candidate": 16,
            "answer_feedback": "You sound like a Republican. Unless you plan on getting the National Rifle Association’s endorsement, be aware that the people who will elect you this fall are very much in favor of gun control. Try not to disappoint them again."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 399,
        "fields": {
            "answer": 166,
            "candidate": 16,
            "answer_feedback": "The ACA, famously, is nicknamed Obamacare after a certain Barack Obama. This isn’t for no reason — it’s named after you. It’s <i>your</i> healthcare plan. What’s gotten into that head of yours, Barack?"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 400,
        "fields": {
            "answer": 167,
            "candidate": 16,
            "answer_feedback": "The speech flows from your mouth like water from a familiar spring. You’ve given it a thousand times, you’ll give it a thousand more before November. It’s not like you would oppose a law nicknamed after you. Right? Right?"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 401,
        "fields": {
            "answer": 168,
            "candidate": 16,
            "answer_feedback": "This is surprisingly progressive on your part. There are pundits asking whether you’ve implied that your plan doesn’t go far enough."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 402,
        "fields": {
            "answer": 178,
            "candidate": 16,
            "answer_feedback": "There exists a hierarchy of political suicide in American discourse. Social Security is near the top, abolishing Medicare is higher still. But you’ve somehow found something even more toxic. Congratulations on your discovery, Barry. See you in Valhalla."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 403,
        "fields": {
            "answer": 202,
            "candidate": 16,
            "answer_feedback": "Shock and outrage have ensued in the midst of your supporters. Look at you go! (straight into electoral oblivion)"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 405,
        "fields": {
            "answer": 261,
            "candidate": 16,
            "answer_feedback": "To some, your answer reeks of European sophistication, of coastal elitism, of everything the heartland has been trained to despise. Lay off the wine, Barack. This is America we’re talking about."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 406,
        "fields": {
            "answer": 271,
            "candidate": 16,
            "answer_feedback": "Your own economists look like you’ve slapped them, which isn’t too far off from the truth. Some conservatives do hear you out on this issue, but it’s unlikely many of them will vote for you this fall."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 412,
        "fields": {
            "answer": 330,
            "candidate": 16,
            "answer_feedback": "Saying the ‘L’ word with pride is quite a gamble for 2012 America; you’re making McGovern proud here. Whether your enthusiastic base will make up for the Republican attacks on you is another story, though."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 413,
        "fields": {
            "answer": 331,
            "candidate": 16,
            "answer_feedback": "This is quite the echo of your 2008 message, and it’s a battle you can win comfortably. It’s good to inspire the hopefuls… and maybe a few undecideds, if you can."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 414,
        "fields": {
            "answer": 332,
            "candidate": 16,
            "answer_feedback": "You might have just made the election a referendum on their most radical ideas and not a report card on your first term, which may be a good thing. Just keep in mind that voters don’t want to think of <i>you</i> as the aggressive candidate, though."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 415,
        "fields": {
            "answer": 333,
            "candidate": 16,
            "answer_feedback": "You can’t lose with this strategy. Most Americans do see you as honest and relatable, even if they disagree with your leadership. In such a fickle age, perhaps it may be best to outshine your opponents."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 416,
        "fields": {
            "answer": 726,
            "candidate": 16,
            "answer_feedback": "This year’s Republican primary has been surprisingly chaotic, and filled with more candidates than you could imagine. Naturally, any chaos there can only be good news for you."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 417,
        "fields": {
            "answer": 727,
            "candidate": 16,
            "answer_feedback": "This is true. You have friends in low places; while Axelrod and Messina can play good cop, bad cop with the press, you can just stick to your same old routine. Just hope they won’t be too eccentric with their methods."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 418,
        "fields": {
            "answer": 728,
            "candidate": 16,
            "answer_feedback": "It’s true that most of the ‘sensible Republicans’ you’re looking for are either retired, six feet underground, or hiding in bunkers from the Tea Party. Still, it’s a a beautiful sentiment, and this message does poll fairly well among the swing voters you need to win."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 419,
        "fields": {
            "answer": 729,
            "candidate": 16,
            "answer_feedback": "Getting the progressive blogosphere on fire and boosting turnout among your base may be a smart strategy if you play your cards right. Perchance…"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 421,
        "fields": {
            "answer": 13,
            "candidate": 16,
            "answer_feedback": "Interesting idea. Although {{opLast}} does accuse you of government overreach here, this idea is more popular with voters than you’d think, especially in the swing state of Nevada."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 422,
        "fields": {
            "answer": 17,
            "candidate": 16,
            "answer_feedback": "You’ve energized your base and confirmed every Fox News narrative about your presidency. Though South Carolina was never gonna be in the bag for you, this may help you solidify support among black voters."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 423,
        "fields": {
            "answer": 22,
            "candidate": 16,
            "answer_feedback": "This is just what most Hispanics want to hear — at least those who support your party."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 426,
        "fields": {
            "answer": 37,
            "candidate": 16,
            "answer_feedback": "Buckle up, buckaroo. This will be quite the ride."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 428,
        "fields": {
            "answer": 45,
            "candidate": 17,
            "answer_feedback": "You have expressed a foreign policy position that is anathema to your electoral base. This <em>will</em> hurt you in November."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 429,
        "fields": {
            "answer": 47,
            "candidate": 17,
            "answer_feedback": "Did you watch the protests at all? What kind of compromise are you suggesting?"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 430,
        "fields": {
            "answer": 49,
            "candidate": 16,
            "answer_feedback": "The reaction is swift and merciless, especially from more conservative members of your party. Even your own Energy Secretary tries to walk back your comments."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 432,
        "fields": {
            "answer": 57,
            "candidate": 16,
            "answer_feedback": "Of course, this keeps the AFL-CIO happy. You’ve just guaranteed an army of volunteers in the Midwest."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 435,
        "fields": {
            "answer": 81,
            "candidate": 16,
            "answer_feedback": "Inspiring. The only drawback is that this lets {{opLast}} exploit you as weak on foreign policy, which may not be a good thing this year."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 440,
        "fields": {
            "answer": 93,
            "candidate": 16,
            "answer_feedback": "Way to fire up your base. Just don’t forget about some issues in the background — think of Solyndra."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 447,
        "fields": {
            "answer": 106,
            "candidate": 17,
            "answer_feedback": "Way to avoid giving a response. This question is a landmine."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 453,
        "fields": {
            "answer": 116,
            "candidate": 16,
            "answer_feedback": "Careful; you don’t want to be seen like Dubya. We know what happened to his popularity later on."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 459,
        "fields": {
            "answer": 141,
            "candidate": 16,
            "answer_feedback": "Some causes are worth losing for. Your campaign staff isn’t sure this is one of them, seeing how gun sales spike across America within 24 hours of your statement. But you disagree."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 461,
        "fields": {
            "answer": 153,
            "candidate": 16,
            "answer_feedback": "This is true, although sex education remains a bit of a controversial topic among some parents, particularly those who will get the newest string of {{opLast}} ads, where you walk around in a weird question mark suit giving condoms to twelve-year-olds. You swear you’ve seen that somewhere."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 463,
        "fields": {
            "answer": 164,
            "candidate": 16,
            "answer_feedback": "This is a strong stance, and one that will help keep the women voters in your coalition happy and ready to vote for you this November."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 469,
        "fields": {
            "answer": 204,
            "candidate": 16,
            "answer_feedback": "Abortion, while not the biggest issue this year, can definitely help you fire up your base in some of the liberal states."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1192,
        "fields": {
            "answer": 208,
            "candidate": 16,
            "answer_feedback": "Although this won’t really address the solvency issue, it’s good to reassure seniors and fiscal moderates that you aren’t going to do anything rash. At least not yet."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1194,
        "fields": {
            "answer": 1193,
            "candidate": 16,
            "answer_feedback": "You sound a lot like Al Gore here, which does have its advantages. Although a couple of policy wonks are screaming that a ‘lockbox’ is a meaningless accounting concept, it’s true that nobody can hear them over the applause you get from seniors."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1199,
        "fields": {
            "answer": 207,
            "candidate": 16,
            "answer_feedback": "The whiplash on Wall Street is palpable as analysts try to decide how much money they can make from this. You’ve also unintentionally handed {{opLast}} the idea that you <i>may</i> want to gamble Social Security on the stock market. He’s doing the same thing, so what’s his deal?"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1200,
        "fields": {
            "answer": 125,
            "candidate": 16,
            "answer_feedback": "Though right in line with your personal opinion, it’s a much stronger statement than anything you’ve said up until now. The National Education Association might as well endorse you for a third term or something."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1202,
        "fields": {
            "answer": 126,
            "candidate": 16,
            "answer_feedback": "On the balance, this is a sensible, well-reasoned position. It also mirrors your administrations’ current policy of granting waivers from NCLB’s harshest provisions. If anything, it’s likely what most of the country — parents and teachers alike — believes."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1204,
        "fields": {
            "answer": 127,
            "candidate": 16,
            "answer_feedback": "This is more of a nuanced opinion coming from you, but it may be out of step in 2012. Even John Boehner, who helped birth that law, is distancing himself from it."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1212,
        "fields": {
            "answer": 110,
            "candidate": 16,
            "answer_feedback": "There are concerns within the Farm Bureau that you’re planning cuts, and there are some reformers that are disgusted that you aren’t going far enough. Still, you think your answer is forgettable enough, at least for now."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1213,
        "fields": {
            "answer": 133,
            "candidate": 16,
            "answer_feedback": "This is a surprisingly protectionist stance from you, and one pundits have not received well. Still, it’s playing beautifully in the evening news in the Rust Belt. Maybe you know something they don’t?"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1214,
        "fields": {
            "answer": 134,
            "candidate": 16,
            "answer_feedback": "Yeah, we do. Although no one can disagree with helping workers, it’s good to at least offer a long-term solution to an immediate crisis."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1215,
        "fields": {
            "answer": 135,
            "candidate": 16,
            "answer_feedback": "Well, uh, yeah, I guess that does not make sense. On the other hand, your analogies and defenses of the post-war global consensus on economics won’t necessarily swing Rust Belt voters to your side."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1216,
        "fields": {
            "answer": 248,
            "candidate": 16,
            "answer_feedback": "The more progressive elements of your party are glad you’ve seen the light on this issue, especially after you all but ignored this issue after your election."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1218,
        "fields": {
            "answer": 247,
            "candidate": 16,
            "answer_feedback": "The {{opLast}} campaign has just cancelled all its negative ads for the week and is instead running a clip of your statement with the caption “He’s right.”, which is true. You are always right. Mr. Right, they say."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1219,
        "fields": {
            "answer": 246,
            "candidate": 16,
            "answer_feedback": "This is surprisingly conservative coming from you. In fact, {{opLast}} is so stunned at your new stance that their campaign can’t form a coherent response. What are you thinking!?"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1221,
        "fields": {
            "answer": 26,
            "candidate": 16,
            "answer_feedback": "Have fun getting the Arizona Legislature to do that. But who knows… maybe you and Jan Brewer can go to a screening of <i>Lincoln</i> next month."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1226,
        "fields": {
            "answer": 395,
            "candidate": 16,
            "answer_feedback": "Honestly, I think you’re full of shit. But the average voter can never say no to variations of “America, fuck yeah,” so maybe you have a point."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1229,
        "fields": {
            "answer": 396,
            "candidate": 16,
            "answer_feedback": "Can you actually do this? Probably not. The advantage is that the State Department is very much willing to twist the meaning of a ‘true democracy’ here. In the meantime, you watch as the price of oil jumps ten dollars a barrel over the next few days. You shrug. It’s gonna be back down soon anyway."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1231,
        "fields": {
            "answer": 397,
            "candidate": 16,
            "answer_feedback": "True… although hardly enthusiastic, this is right in line with your foreign policy vision, and also that of most of your cabinet. Unless, of course, your last name starts with C and ends with -linton. Sounds familiar to me!"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1235,
        "fields": {
            "answer": 398,
            "candidate": 16,
            "answer_feedback": "While this message resonates with a war-weary public, war just isn’t the first thing on their minds this election. The foreign policy establishment and a majority of independents could very well see this as a dangerous abdication of American leadership."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1247,
        "fields": {
            "answer": 30,
            "candidate": 16,
            "answer_feedback": "This is a bit of a noncommittal answer, but there’s likely not much you can say about this during the election season. Either way, the problem will still be there tomorrow; the lake will just be a little lower."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1249,
        "fields": {
            "answer": 31,
            "candidate": 16,
            "answer_feedback": "This is factually correct, although there’s no arguing that there’s a 30-year downward trend in the lake’s water levels, and increases have been very slow. Voters in the West who can see the bathtub ring on Lake Mead with their own eyes are deeply unimpressed, however."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1253,
        "fields": {
            "answer": 32,
            "candidate": 16,
            "answer_feedback": "This would be more understandable if Lake Mead’s water capacity had been above 50%, which it hasn’t in decades. This may win you some anti-government conservatives in the West, but at the cost of making environmental groups angry at you."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1257,
        "fields": {
            "answer": 260,
            "candidate": 16,
            "answer_feedback": "Good choice. It’s important to show your commitment to a core Democratic principle, and also keep young voters happy. Their parents, too."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1261,
        "fields": {
            "answer": 259,
            "candidate": 16,
            "answer_feedback": "Perhaps this may be closer to popular opinion, but it also has the side effect of demoralizing a key part of your constituency. Millions of middle-class families who rely on that aid to get by now feel like you’ve just called them undeserving."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1262,
        "fields": {
            "answer": 258,
            "candidate": 16,
            "answer_feedback": "Huh. You’ve adopted the core argument of your harshest critics here."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1502,
        "fields": {
            "answer": 75,
            "candidate": 16,
            "answer_feedback": "This might make you seem a bit indecisive, but it might be the safer answer overall."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1504,
        "fields": {
            "answer": 76,
            "candidate": 16,
            "answer_feedback": "This is a strange reversal coming from you, and one that does not make the Congressional Hispanic Caucus happy with your campaign."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1505,
        "fields": {
            "answer": 73,
            "candidate": 16,
            "answer_feedback": "Way to strike back."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1506,
        "fields": {
            "answer": 74,
            "candidate": 16,
            "answer_feedback": "Perhaps this is the safest answer, but try your best to not be seen as weak on immigration."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1508,
        "fields": {
            "answer": 176,
            "candidate": 16,
            "answer_feedback": "Your Chief of Staff, Jack Lew, wakes you up the next day and hands you a copy of today’s edition of the High Times magazine. The front cover shows you holding an American-themed bong. You smile."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1509,
        "fields": {
            "answer": 174,
            "candidate": 16,
            "answer_feedback": "Although it’s always good to seem tough on an issue, to some people, you’ve come across as dismissive and authoritarian over this. But given how this is not the hottest topic this year, maybe you have a point?"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1511,
        "fields": {
            "answer": 175,
            "candidate": 16,
            "answer_feedback": "There are activists are furious that you won’t commit to stopping the raids, and there are conservatives that will attack you for wanting to reduce penalties. Luckily, you’ve successfully managed to annoy both sides equally."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1513,
        "fields": {
            "answer": 173,
            "candidate": 16,
            "answer_feedback": "Wow. This puts you to the right of most of your party. You’re gonna wake up tomorrow with a smaller number of friends on Facebook than before."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1514,
        "fields": {
            "answer": 62,
            "candidate": 16,
            "answer_feedback": "Pivoting on this may be a smarter move."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1515,
        "fields": {
            "answer": 63,
            "candidate": 16,
            "answer_feedback": "This is a touch conservative, but won’t hurt you much."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1517,
        "fields": {
            "answer": 64,
            "candidate": 16,
            "answer_feedback": "This is a quite the hit with populist voters. Just don’t forget to assure Timothy Geithner that there won’t be a significant change in economic policy, or at least hide your plans of minting the coin from him."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1520,
        "fields": {
            "answer": 115,
            "candidate": 16,
            "answer_feedback": "Fair enough. Although the {{opLast}} campaign can say otherwise, this is a harder issue to directly attack."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1521,
        "fields": {
            "answer": 114,
            "candidate": 16,
            "answer_feedback": "I hear you."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1525,
        "fields": {
            "answer": 94,
            "candidate": 16,
            "answer_feedback": "This is quite the balanced answer. The good news is that it gives your supporters and your detractors plenty of ammunition to continue arguing past each other without changing a single mind."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1528,
        "fields": {
            "answer": 96,
            "candidate": 16,
            "answer_feedback": "You should really stop hanging out with the gallon of PCP guy. It’s not helping your health here."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1532,
        "fields": {
            "answer": 59,
            "candidate": 16,
            "answer_feedback": "You sound like a constitutional law professor here, you know. Just don’t make it seem like you’re backing down from a fight, like some think you are."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1533,
        "fields": {
            "answer": 58,
            "candidate": 16,
            "answer_feedback": "It’s a great applause line that gets you through today’s press conference. You wish you had the ability to dodge as many issues as you want without any consequences."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1535,
        "fields": {
            "answer": 1534,
            "candidate": 16,
            "answer_feedback": "Smart dodge. There’s no way you could outright support that Act, at least not under these circumstances."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1541,
        "fields": {
            "answer": 177,
            "candidate": 16,
            "answer_feedback": "Good call. If I were you, I wouldn’t touch this with a 10-foot pole."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1544,
        "fields": {
            "answer": 107,
            "candidate": 16,
            "answer_feedback": "This is definitely more appealing to the environmentalist wing of the Democratic Party, although there are some Iowa voters upset at your brushing aside of ethanol, the second greatest invention in human history (only losing to the microwave)."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1546,
        "fields": {
            "answer": 23,
            "candidate": 16,
            "answer_feedback": "Your support for mandatory E-Verify all but horrifies your progressive base and just about every immigrant rights group in the country. It’s not easy being a triangulator; you wish you had Bill’s touch with the media."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1548,
        "fields": {
            "answer": 21,
            "candidate": 16,
            "answer_feedback": "This is in line with your administration’s policies so far. Just remember that immigration activists are not very happy over your record deportation numbers."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1550,
        "fields": {
            "answer": 188,
            "candidate": 16,
            "answer_feedback": "Fair enough."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1555,
        "fields": {
            "answer": 189,
            "candidate": 16,
            "answer_feedback": "It would be foolish to disown Ben in the middle of the campaign, regardless of whether you attempt to replace him or not. The only downside is the furious typing emanating from libertarian blogs, which you can safely ignore."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1556,
        "fields": {
            "answer": 187,
            "candidate": 16,
            "answer_feedback": "This is a good way to scare the stock markets. On the other hand, maybe you shouldn’t have said that out loud."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1560,
        "fields": {
            "answer": 190,
            "candidate": 16,
            "answer_feedback": "Though a tad critical, this is closer to your own personal views. You’re not the only one who thinks this way; a very kindly-worded love letter from a certain Paul Krugman awaits you in your office as we speak."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1561,
        "fields": {
            "answer": 157,
            "candidate": 16,
            "answer_feedback": "The focus groups are going wild with this answer, in many ways, and your approval rating spikes five points overnight. A lot of State Department officials do not, however. The next day, Pakistan expels American diplomats and closes supply routes to Afghanistan. Feeling humiliated, ISI (the CIA’s Pakistani counterpart) begins actively sabotaging your operations."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1562,
        "fields": {
            "answer": 158,
            "candidate": 16,
            "answer_feedback": "You know such panel won’t ever come to fruition, but it gets the issue away from your head."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1564,
        "fields": {
            "answer": 160,
            "candidate": 16,
            "answer_feedback": "This is the argument the Pentagon and the CIA have been making for years. That and Henry Kissinger, who’s been hiding under your bed for about three days now. You gotta deal with it, man."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1565,
        "fields": {
            "answer": 159,
            "candidate": 16,
            "answer_feedback": "You wonder if this does something address the raw anger many Americans feel. It does not, but it may be the safer answer overall."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1566,
        "fields": {
            "answer": 80,
            "candidate": 16,
            "answer_feedback": "Many of your supporters disagree with you on this. You’ve out-hawked the hawks here, but this also goes against your own Justice Department’s sentencing reform efforts."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1567,
        "fields": {
            "answer": 79,
            "candidate": 16,
            "answer_feedback": "This is right in line with your administration’s policies on this area."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1572,
        "fields": {
            "answer": 78,
            "candidate": 16,
            "answer_feedback": "You refuse to turn the Rio Grande into a demilitarized zone. It is a noble stance, and one which leads to Kathleen Sebelius calling this your finest moment yet. This answer may not be as popular in the border states, though, particularly Arizona."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1573,
        "fields": {
            "answer": 193,
            "candidate": 16,
            "answer_feedback": "A few days later, you get an unexpected call from Nancy Reagan. She sounds frail, but pleased. You realize she’s flattered by your new “tough on crime” persona, for better or worse, and offers you words of encouragement and a signed copy of <i>Diary of a Wimpy Kid: Rodrick Rules</i>. Well, uh, I guess that works."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1574,
        "fields": {
            "answer": 194,
            "candidate": 16,
            "answer_feedback": "You know this isn’t much of an either/or question, but it’s also not hard to see you’re not doing your best to Face (it)/Off here. Ha, get it? Y-you know… the movie… ah, forget it."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1575,
        "fields": {
            "answer": 195,
            "candidate": 16,
            "answer_feedback": "Your enthusiasm here helps keep the New York Times editorial board at bay. It also leads to the {{opLast}} campaign running a widely-mocked ad of you hugging a comical number of drug dealers. What are they thinking?"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1576,
        "fields": {
            "answer": 198,
            "candidate": 16,
            "answer_feedback": "You phone Merkel later at night to clarify your statement. But she just doesn’t see it the same way as you do, and you end up spending the next three hours convincing her to not kill herself before passing the buck over to one of your advisors. Damn. If only Nico was still around…"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1578,
        "fields": {
            "answer": 197,
            "candidate": 16,
            "answer_feedback": "Best to let the Europeans deal with their affairs for now."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1582,
        "fields": {
            "answer": 196,
            "candidate": 16,
            "answer_feedback": "Throwing several of your closest allies under the bus to win points with fiscal conservatives at home is always a good strategy during an election campaign. Just hope they won’t remember it when you win."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1583,
        "fields": {
            "answer": 291,
            "candidate": 16,
            "answer_feedback": "Depends if my team is losing or not."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1585,
        "fields": {
            "answer": 292,
            "candidate": 16,
            "answer_feedback": "You sound more like Elizabeth Warren than Barack Obama here. About computers, though…"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1587,
        "fields": {
            "answer": 290,
            "candidate": 16,
            "answer_feedback": "David Axelrod has been staring at a wall for about 5 minutes now. He’s gonna have to do a lot of shenanigans to craft a coherent message on Wall Street reform for your campaign now."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1588,
        "fields": {
            "answer": 90,
            "candidate": 16,
            "answer_feedback": "Get the hot potato back to the Pentagon. Of course, it also makes you look like you’re ducking the question in the middle of a presidential campaign, because you are."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1590,
        "fields": {
            "answer": 89,
            "candidate": 16,
            "answer_feedback": "Perhaps you truly are a visionary. This should excite a key part of your base this fall."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1591,
        "fields": {
            "answer": 91,
            "candidate": 16,
            "answer_feedback": "Although this is the status quo answer, it’s one many Democratic and women voters disagree with."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1593,
        "fields": {
            "answer": 92,
            "candidate": 16,
            "answer_feedback": "You shouldn’t say that out loud, you know."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1594,
        "fields": {
            "answer": 151,
            "candidate": 16,
            "answer_feedback": "Maybe this is the best you can say to get out of this situation."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1596,
        "fields": {
            "answer": 150,
            "candidate": 16,
            "answer_feedback": "Better deprieve this story of oxygen before it blows even more, perhaps?"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1598,
        "fields": {
            "answer": 215,
            "candidate": 16,
            "answer_feedback": "Smart play. There’s no way you can reasonably support these cuts."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1599,
        "fields": {
            "answer": 216,
            "candidate": 16,
            "answer_feedback": "Although you’re technically right, this puts you on the defensive and makes you seem weak on national security."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1601,
        "fields": {
            "answer": 214,
            "candidate": 16,
            "answer_feedback": "You really don’t like these cuts, but unless you pull a miracle this year, you’ll have to live with Boehner as House Speaker for a little longer."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1602,
        "fields": {
            "answer": 213,
            "candidate": 16,
            "answer_feedback": "It’s a bold move, but there are many urban mayors and progressive voters who feel alienated by this stance."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1604,
        "fields": {
            "answer": 342,
            "candidate": 16,
            "answer_feedback": "A bit technocratic, but this is the expected answer coming from you."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1605,
        "fields": {
            "answer": 341,
            "candidate": 16,
            "answer_feedback": "Anyone who believes in the government’s role as a safety net can agree with you on this. The {{opLast}} campaign, however, has different ideas in mind."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1608,
        "fields": {
            "answer": 15,
            "candidate": 16,
            "answer_feedback": "This is a good, conservative answer that the real estate community in Miami will approve of. Your base, however, will not."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1610,
        "fields": {
            "answer": 14,
            "candidate": 16,
            "answer_feedback": "You’re not really a Kennedy School alumnus, but the idea of having the federal government turning into the nation’s largest landlord amuses you, regardless of what your opponents say. Perhaps we could make a religion out of this."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1611,
        "fields": {
            "answer": 199,
            "candidate": 16,
            "answer_feedback": "You can already imagine Steve Jobs trickling up from Hell, kissing your feet, and giving you a very expensive 24-karat golden face of yours truly. This may distract you from how badly your comments have been received by the progressive wing of your party."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1614,
        "fields": {
            "answer": 201,
            "candidate": 16,
            "answer_feedback": "Although the <i>Wall Street Journal</i> spends the next week copy and pasting editorials about your dangerous, protectionist impulses, your new stance is overall well received by Midwestern voters."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1622,
        "fields": {
            "answer": 200,
            "candidate": 16,
            "answer_feedback": "This is right in line with your administration’s views so far, and keeps you in contention. Some progressives wish you took a stronger stance on this, however."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1625,
        "fields": {
            "answer": 82,
            "candidate": 16,
            "answer_feedback": "It took you a few years to realize that, perhaps, there is no hope for Afghanistan. If there is one, it won’t be caused by the hands of Americans — who could never do it in the way you wanted it to be. You wash your hands of the dust and the blood, checking your watch. Maybe it’s time to go home. "
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1626,
        "fields": {
            "answer": 83,
            "candidate": 16,
            "answer_feedback": "A strong, yet empty response. If you lose this election, maybe passing it over to {{opLast}} next year and watching it blow might not be a bad idea."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1628,
        "fields": {
            "answer": 84,
            "candidate": 16,
            "answer_feedback": "This answer disappoints many of your electors, though not the State Department officials. At least you can say the bonfire with ‘Hope’ posters you see just outside the White House one day was not caused by them."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1630,
        "fields": {
            "answer": 129,
            "candidate": 16,
            "answer_feedback": "A strong response that will help you galvanize your voters, and also teacher unions."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1631,
        "fields": {
            "answer": 130,
            "candidate": 16,
            "answer_feedback": "Overall, this is in line with your personal views. It’s not like school vouchers are a big issue this year."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1632,
        "fields": {
            "answer": 131,
            "candidate": 16,
            "answer_feedback": "You definitely have an open mind on this issue… to the dismay of many Democrats, who believe you’re not winning the school choice debate by surrendering to your opponents."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1636,
        "fields": {
            "answer": 132,
            "candidate": 16,
            "answer_feedback": "Your rationale for opposing vouchers is what makes the headlines, for better or worse."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1639,
        "fields": {
            "answer": 241,
            "candidate": 16,
            "answer_feedback": "You’re really glad that act managed to get passed. Unfortunately, nowadays you’d have to sell off your soul to get enough Republicans to not fillibuster you. And you’d probably fail anyway."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1640,
        "fields": {
            "answer": 242,
            "candidate": 16,
            "answer_feedback": "Wow. This is not a response that anyone really expected from you, and it is one that makes the headlines… for all the wrong reasons, as every dollar on Wall Street is spent to ensure Comrade Obama is not the President next year."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1644,
        "fields": {
            "answer": 240,
            "candidate": 16,
            "answer_feedback": "Anything to help that sweet sweet cash flowing into your campaign can only be a good sign."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1651,
        "fields": {
            "answer": 1650,
            "candidate": 16,
            "answer_feedback": "Biden beams, and for a moment the chemistry between you feels surprisingly genuine. You clamp your hand on his shoulder, and for a moment, you wonder if he knows he’s just your insurance policy."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1659,
        "fields": {
            "answer": 1500,
            "candidate": 16,
            "answer_feedback": "Fair enough. Tomorrow, when you’re more refreshed, you draft a more coherent speech."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1660,
        "fields": {
            "answer": 1658,
            "candidate": 16,
            "answer_feedback": "That loserhead. You’re gonna watch Mittens fail, just like his father did. Even if you both have to swim… you’re gonna make sure some of his loser friends drown."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1662,
        "fields": {
            "answer": 1661,
            "candidate": 16,
            "answer_feedback": "Though his smile flickers slightly, Biden appreciates your words of wisdom; he hopes that, when all of this is over, the two of you can develop a stronger relationship."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1666,
        "fields": {
            "answer": 137,
            "candidate": 16,
            "answer_feedback": "You get a call the other day. It’s from economist Paul Krugman, who is so happy with your new stances he’s considering getting a tattoo of your face. Hmm. I wonder which photo he could use…"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1667,
        "fields": {
            "answer": 139,
            "candidate": 16,
            "answer_feedback": "A touch conservative coming from you, and one that makes some of your labor voters uneasy."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1670,
        "fields": {
            "answer": 138,
            "candidate": 16,
            "answer_feedback": "This would’ve been a nothingburger coming from you, if it weren’t for those key six words about the private sector. {{opLast}} is quick to portray you as clueless and out of touch, and no doubt your message will be repeated on Republican campaign ads between now and November. Ouch."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1675,
        "fields": {
            "answer": 304,
            "candidate": 16,
            "answer_feedback": "What a heartwarming response. On the other hand, many of your Democratic voters disagree — you know they supported the recall in the first place, right?"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1678,
        "fields": {
            "answer": 305,
            "candidate": 16,
            "answer_feedback": "Walker never had a realistic chance of losing that race, even if you can’t say that out loud. Thank God you’re not facing the bastard this year, though."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1683,
        "fields": {
            "answer": 203,
            "candidate": 16,
            "answer_feedback": "A solid, if rather uninspired, defense of the status quo. "
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1685,
        "fields": {
            "answer": 145,
            "candidate": 16,
            "answer_feedback": "The talking heads on Fox News are spontaneously combusting. It’s funny. Either way, you’ve just thrown a huge piece of red meat to your progressive base, but also to Hispanic voters across the country."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1687,
        "fields": {
            "answer": 146,
            "candidate": 16,
            "answer_feedback": "You’ve learned a lot from the triangulator, Bill. The good news is that this issue will not deflate your support as much as your opponents think it will."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1689,
        "fields": {
            "answer": 148,
            "candidate": 16,
            "answer_feedback": "You light a match and toss it onto the bridge connecting you to the Hispanic community. It burns brightly, illuminating the pleased faces of a few English-only activists who were never going to vote for you anyway. It is, to be fair, quite a stupid strategy."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1691,
        "fields": {
            "answer": 181,
            "candidate": 16,
            "answer_feedback": "Smart strategy. Pointing out that the Republican congress has been ineffective (for obvious reasons) may convince some independent voters to see the light this year."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1693,
        "fields": {
            "answer": 182,
            "candidate": 16,
            "answer_feedback": "This is quite progressive, even for 2012."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1695,
        "fields": {
            "answer": 179,
            "candidate": 16,
            "answer_feedback": "Rumors going around that your administration would consider shortening unemployment benefits have not been as well received as you’d like them to, unfortunately."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1696,
        "fields": {
            "answer": 180,
            "candidate": 16,
            "answer_feedback": "This answer would honestly make more sense in a pre-recession context. On the other hand, you’re the President now, and this falls flat with your base."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1697,
        "fields": {
            "answer": 38,
            "candidate": 16,
            "answer_feedback": "The Solyndra story is a bit of a sore spot for you. You hope won’t continue to dog your campaign all the way to November, so maybe the best you can do is hit back at your opponents."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1702,
        "fields": {
            "answer": 1698,
            "candidate": 16,
            "answer_feedback": "Congress has never been really popular, even more so now that Republicans are controlling it. Perhaps your best bet is to strike at the ‘Do-Nothing Congress’ and leave the rest up to us."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1706,
        "fields": {
            "answer": 230,
            "candidate": 16,
            "answer_feedback": "Maybe you should have; increasing the federal gas tax is not particularly popular among voters."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1707,
        "fields": {
            "answer": 229,
            "candidate": 16,
            "answer_feedback": "Smart. You’re not touching this with a 20-foot pole. If you do, I never saw you and we never had this conversation. It’s a problem for the next guy, or the next term. But not today."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1708,
        "fields": {
            "answer": 344,
            "candidate": 16,
            "answer_feedback": "Fair enough. The ERA is dead and has been so for over 30 years."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1709,
        "fields": {
            "answer": 343,
            "candidate": 16,
            "answer_feedback": "Women voters should be fired up for you this fall. So are social conservatives, who will make hay out of this in their fundraising circles."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1710,
        "fields": {
            "answer": 345,
            "candidate": 16,
            "answer_feedback": "This is a good way to highlight your accomplishments. In fact, the equal-pay bill was the first act you signed as president and also one of your campaign promises."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1711,
        "fields": {
            "answer": 206,
            "candidate": 16,
            "answer_feedback": "Stocks worldwide plunge as the so-called “Obama shock” sweeps through Earth. The good news is that you think you have just enough tools to make it happen. The bad news is that the public hopes you’re wrong."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1714,
        "fields": {
            "answer": 1713,
            "candidate": 16,
            "answer_feedback": "This is a good way at pointing out how Congress has screwed you over. Nevertheless, the debt ceiling remains a weapon pointed at your head."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1719,
        "fields": {
            "answer": 205,
            "candidate": 16,
            "answer_feedback": "The obvious answer. Some progressive economists like Paul Krugman wonder why you’ve preemptively discarded options like the platinum coin or invoking the Fourteenth Amendment, but you privately assure them it is only a matter of time."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1720,
        "fields": {
            "answer": 171,
            "candidate": 16,
            "answer_feedback": "If blaming {{opLast}} for the very system you are now forced to exploit is your strategy, it may be more effective than you’d expect."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1724,
        "fields": {
            "answer": 172,
            "candidate": 16,
            "answer_feedback": "Way to rile up the progressive elements of your party. This is definitely a righteous fight, but it’s one you almost certainly can’t win."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1727,
        "fields": {
            "answer": 170,
            "candidate": 16,
            "answer_feedback": "Not giving your opponents a new line of attack is probably a good thing. Either way, this is the mainstream view among Democrats."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1728,
        "fields": {
            "answer": 169,
            "candidate": 16,
            "answer_feedback": "This will definitely thrill the ACLU, but there are now whispers within your own party that you died in a car crash after the 2010 midterms and were secretly replaced by an unknown Koch brother. There may be a grain of truth to this."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1734,
        "fields": {
            "answer": 1731,
            "candidate": 16,
            "answer_feedback": "Sure enough, Congress passes a $10 billion disaster relief package with a lot of unrelated pork that will bite your ass down the road. On the other hand, it is very much pork you are going to eat, given the boost in your polling numbers."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 1738,
        "fields": {
            "answer": 1736,
            "candidate": 16,
            "answer_feedback": "You meet with Chris Christie on the airport tarmac; he gives you a pat on the shoulder that, thanks to a photo spreading around, is widely seen as a hug. You smile as you watch his respect among the Republican rank-and-file collapse overnight."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21140,
        "fields": {
            "answer": 21139,
            "candidate": 16,
            "answer_feedback": "Three cities in one day, two on another… your voice is hoarse by the time you reach Richmond. Even then, everything feels a lot colder than it was four years ago. Now, you have your very own Obamanation, and yet it seems nothing has changed. You feel like you’re deep in quicksand. Nothing moves."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21148,
        "fields": {
            "answer": 21147,
            "candidate": 16,
            "answer_feedback": "UAW halls in Toledo and Flint erupt in applause when you mention the auto rescue. During a walk in the Columbus suburbs, one voter thanks you for saving GM, but asked why their wages were still flat. You smile, talk about better days ahead, and steer the conversation to the movie <i>I Am Sam</i>. The sky outside is gray."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21164,
        "fields": {
            "answer": 21163,
            "candidate": 16,
            "answer_feedback": "Hispanic voters love you, the people in your campaign say. You soon realize they were not joking; when you open your final stop in Paradise, a crowd of about 15,000 people listen to you say about twenty or so lines you memorized from an incomplete transcript of <i>Puerto Vallarta Squeeze</i>. They don’t understand the point you’re trying to make, but they like it, because it’s coming from <i>you</i>."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21190,
        "fields": {
            "answer": 21189,
            "candidate": 16,
            "answer_feedback": "One night, you find yourself live on David Letterman, watching as he drinks from a bottle of apple juice disguised as tequila. “It’s uh, what they all say,” he smirks. “I turn on the TV and all I see is red.” You think he’s talking about {{opLast}}, only for you to find out he meant the Ne-Yo album. The event leaves you a tad confuzzled."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21218,
        "fields": {
            "answer": 288,
            "candidate": 16,
            "answer_feedback": "On Saturday Night Live, Fred Armisen as you stands at a podium fielding questions about Syria. “We’re considering all options,” he says carefully. “Uh, all options are on the table. We’re monitoring the situation closely. Um, very closely.” He repeats this rationale for seventeen different questions, each time with identical phrasing, as the reporters grow increasingly frustrated. The audience’s laughter has an edge to it, though. This is ridiculous. You change the channel."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21221,
        "fields": {
            "answer": 287,
            "candidate": 16,
            "answer_feedback": "Though the usual suspects on the right nod approvingly; this is strange bedfellows for a Democratic president. Of course, this does not stop your own base from recoiling. They don’t want to see you as a pro-war president."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21225,
        "fields": {
            "answer": 286,
            "candidate": 16,
            "answer_feedback": "{{opLast}} pounces on you, saying you’re weak and indecisive on the world stage. On the other hand, it may very well embellish your ‘peace’ credentials."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21228,
        "fields": {
            "answer": 3,
            "candidate": 16,
            "answer_feedback": "Biden once told you something along the lines of “power requires compromise, ideals bend under pressure, blah blah blah something something ice cream something something poetry and prose”. He was right, of course. But like it or not, this is a reversal from your previous stance on this. You tell yourself this as you sign off on another year of the facility’s operation. It offers you no absolution."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21230,
        "fields": {
            "answer": 4,
            "candidate": 16,
            "answer_feedback": "So much for “hope and change”. You do your best to ignore the fury from civil rights groups and part of your party in an attempt to focus on your campaign. "
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21234,
        "fields": {
            "answer": 1,
            "candidate": 16,
            "answer_feedback": "Some may find it courageous, but this is very reminiscent of what you said in 2008. Within hours, {{opLast}}‘s team cuts an ad with ominous music playing over images of the 9/11 attacks and insinuating you’re a terrorist, calling you Mr. Hussein or something; you don’t really pay attention to it, but you do get worried when polling from your team indicates your poll numbers in swing states have dropped overnight. "
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21236,
        "fields": {
            "answer": 2,
            "candidate": 16,
            "answer_feedback": "Given that it’s an election year, you’re pretty sure that you actually won’t get anything done. On the other hand, it does keep you in contention."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21237,
        "fields": {
            "answer": 162,
            "candidate": 16,
            "answer_feedback": "Way to kill two birds with one stone. This is a bad answer for a Democrat, and the press has a field day with your comments. Even Michelle seems disappointed at you."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21240,
        "fields": {
            "answer": 163,
            "candidate": 16,
            "answer_feedback": "Some Republican bishops excoriate your “shell game,” arguing the distinction is meaningless, but this is an issue where you eventually realized there was never a middle ground to find."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21242,
        "fields": {
            "answer": 347,
            "candidate": 16,
            "answer_feedback": "Women’s groups applaud your commitment, even if there is a hesitancy from members of your campaign of turning the EEOC budget request into a centerpiece of your platform."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21243,
        "fields": {
            "answer": 348,
            "candidate": 16,
            "answer_feedback": "This is true, although more of a noncommittal response on your behalf. Your own Cabinet members dodge questions about the task force’s timeline, so who knows what’s gonna come out of it."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21249,
        "fields": {
            "answer": 346,
            "candidate": 16,
            "answer_feedback": "Although this may not be the biggest issue this year, there is some dissension among the left over what you mean by “legitimate claims”."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21250,
        "fields": {
            "answer": 119,
            "candidate": 16,
            "answer_feedback": "This is probably the safest answer. No need to get involved in this."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21252,
        "fields": {
            "answer": 117,
            "candidate": 16,
            "answer_feedback": "Although your comments mostly avoid the light of mainstream media, conservative media has a field day with them. Fox runs a montage of government forms in dozens of languages, price tags attached. You find it funny."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21253,
        "fields": {
            "answer": 120,
            "candidate": 16,
            "answer_feedback": "Many Hispanic voters are disappointed with this stance, particularly organizers from your campaign who knocked on thousands of doors for you in 2008. You’ve just thrown yourself into a bottomless pit. Why?"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21256,
        "fields": {
            "answer": 21255,
            "candidate": 16,
            "answer_feedback": "For seventy-two hours, you vanish from the campaign trail entirely, replaced only by images of federal helicopters, rescue boats, and FEMA trucks. {{opLast}} awkwardly tries to keep campaigning, looking smaller by the hour. When you finally emerge for a press conference with Christie, who effusively praises your response, your advisors feel the race is over for them."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21266,
        "fields": {
            "answer": 264,
            "candidate": 16,
            "answer_feedback": "Indeed it is. You sat in the tiny chair, a giant among children. And you read the book, but your mind was elsewhere, as you told these children the facts they needed to know: that 9/11 was an inside job caused by Dubya, and that Cheney actually ran the administration by himself. They understood you loud and clear, you think."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21267,
        "fields": {
            "answer": 265,
            "candidate": 16,
            "answer_feedback": "You can’t lose with this message, especially when contrasting it to {{opLast}}‘s much more limited approach. Expect a boost in the polls."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21270,
        "fields": {
            "answer": 266,
            "candidate": 16,
            "answer_feedback": "Going to a school and having your takeaway being “more testing” sounds like something you’d hear from Arne Duncan, which is very, uh, not encouraging to the left wing of your party."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21271,
        "fields": {
            "answer": 36,
            "candidate": 16,
            "answer_feedback": "Harry Reid practically kisses you at the next Senate leadership meeting, and Nevada’s six electoral votes look secure. Turns out that lip service is still a powerful thing in 2012 America."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21273,
        "fields": {
            "answer": 33,
            "candidate": 16,
            "answer_feedback": "This will definitely keep the more environmental wing of your party happy, though others watch your comments with growing alarm as a ‘hint’ that you will shut down the nuclear plants in the future."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21276,
        "fields": {
            "answer": 34,
            "candidate": 16,
            "answer_feedback": "Maybe there are some waste barrels piling up down there, you don’t know. Either way, you’re very much a fan of kicking the can down the road works until someone asks where the can is going."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21278,
        "fields": {
            "answer": 69,
            "candidate": 16,
            "answer_feedback": "What a beautiful, principled, and politically catastrophic coming from you. At least we can say you had the courage to do it."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21279,
        "fields": {
            "answer": 70,
            "candidate": 16,
            "answer_feedback": "Barring some sort of mysterious migrant caravan that appears on the last week of the election and disappears five minutes after the results are called, this may be the safest answer."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21280,
        "fields": {
            "answer": 71,
            "candidate": 16,
            "answer_feedback": "For good or worse, ads of you wearing a cop uniform and a mustache locking down immigrants make a splash with right of center voters. By comparison, the splash it made in your more left of center base made them livid."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21283,
        "fields": {
            "answer": 50,
            "candidate": 16,
            "answer_feedback": "This is the safest path you can take on this, or at least the one that gives you fewer headaches."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21284,
        "fields": {
            "answer": 51,
            "candidate": 16,
            "answer_feedback": "This is just vague enough that it might help you move the issue out of the spotlight."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21285,
        "fields": {
            "answer": 6,
            "candidate": 16,
            "answer_feedback": "Everyone loves cultural exchanges. You learned it well in the mid-90s after many playthroughs of <i>CyberJudas</i>, where you learned the art of Chaos Control, and in <i>Shadow President</i>, where you had fun bombing the likes of Iran, Libya, and of course, Norway."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21291,
        "fields": {
            "answer": 8,
            "candidate": 16,
            "answer_feedback": "Although you continue to be regularly bullied at the United Nations, with countless votes to condemn the embargo (and only Israel by your side), you don’t seem too worried. After all, Florida’s Cuban exile community seems much more open to backing you this year."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21293,
        "fields": {
            "answer": 296,
            "candidate": 16,
            "answer_feedback": "Red meat for your base. Given the low popularity of Ryan’s plan, and {{opLast}}‘s support for it, you’ll be likely needling the Republicans a little longer."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21294,
        "fields": {
            "answer": 293,
            "candidate": 16,
            "answer_feedback": "There’s a long silence in the room after you finish. Did you know this is pretty much Paul Ryan’s Medicare plan? Jesus, Barack, what are you thinking?"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21295,
        "fields": {
            "answer": 294,
            "candidate": 16,
            "answer_feedback": "This is a bit more progressive than most people would expect from you, but it is a position your base generally likes. (The part that isn’t influenced by PhRMA, that is.)"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21302,
        "fields": {
            "answer": 18,
            "candidate": 16,
            "answer_feedback": "Some civil rights groups express disappointment in your carefully worded statements, but this may be the safer answer overall."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21303,
        "fields": {
            "answer": 19,
            "candidate": 16,
            "answer_feedback": "It’s true that you haven’t actually defended the flag — in fact, you’ve just refused to challenge it — but the distinction is lost among some of your supporters."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21307,
        "fields": {
            "answer": 21306,
            "candidate": 16,
            "answer_feedback": "The first debate is a bloodbath. Tired of being so polite, you interrupt, you attack, and you refuse to let {{opLast}} finish sentences. Jim Lehrer looks helpless as you eviscerate your opponent’s record. What looks like a promising night turns into morning newspapers comparing you to the likes of Gore. Yikes…"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21312,
        "fields": {
            "answer": 21311,
            "candidate": 16,
            "answer_feedback": "Overall, you’re knowledgeable, calm, professorial. In fact, at times you’re just seen as boring. Though unburdened by your restraint, {{opLast}} can’t keep up with your zingers, and most pundits declare you the winner."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21316,
        "fields": {
            "answer": 21315,
            "candidate": 16,
            "answer_feedback": "Your gamble seems to pay off as the debates unfold cleanly. You land a few punches, absorb a few hits, and mostly hold serve. The instant polls call it even, maybe a slight edge to you in one, to {{opLast}} in another. Nice."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21321,
        "fields": {
            "answer": 21320,
            "candidate": 16,
            "answer_feedback": "It works, sort of. You successfully forced {{opLast}} to defend unpopular positions, and your attacks on Bain landed effectively. But some worry that you’ve spent three debates talking about your opponent instead of offering a vision for the next four years."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21327,
        "fields": {
            "answer": 21326,
            "candidate": 16,
            "answer_feedback": "The more emails you send to voters threatening to walk the plank, the more they feel more motivated to send you money. Luckily, no one suspects the ever-growing amount of Democratic congressmen walking with mink coats on mink carpet."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21331,
        "fields": {
            "answer": 21330,
            "candidate": 16,
            "answer_feedback": "Twitter in 2012 is still relatively new; only 15% of American adults use it regularly, and they skew young and liberal, demographics already supporting you. On the other hand, your tweets end up a hit with those already in there, and get especially popular when they realize you follow everyone who follows you back. Even {{opLast}} embarrassingly admits one night they <i>had</i> to get the President’s follow. How pathetic."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21335,
        "fields": {
            "answer": 21334,
            "candidate": 16,
            "answer_feedback": "The ad buys are fairly massive. Working families in Ohio see ads about the auto bailout at least forty-two times a day, and Veterans in Virginia watch you at Arlington National Cemetery talk about that movie with the bear over and over. What bear was it again? Was it Ted? I don’t know. But there is at least one subliminal message drilled into the cortex of the swing voter: vote Obama, vote Obama, vote Obama."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21339,
        "fields": {
            "answer": 21338,
            "candidate": 16,
            "answer_feedback": "Now rebranded as ‘Obama or Die’, rapper Sean Combs appears at rallies in Atlanta, Houston, and Miami, attempting to get voters to register and vote — for you, naturally. Most people will remain unaware, however, of his attempts to get the dead to rise up from their graves and join your so-called Barack’O’Rama."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21381,
        "fields": {
            "answer": 306,
            "candidate": 16,
            "answer_feedback": "Although this is technically true, there have been a few errors made from time to time that have needled both the progressive elements of your party and your rivals, who see you as weak on this issue."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21385,
        "fields": {
            "answer": 308,
            "candidate": 16,
            "answer_feedback": "Perhaps you earned that Peace Prize after all. This does, on the other hand, make you vulnerable to attacks on defense, with some Republicans hammering you as weak on terror."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21386,
        "fields": {
            "answer": 307,
            "candidate": 16,
            "answer_feedback": "This is a lot for the average American to process, but at least you get some bonus points for being patriotic, sort of. Carter is not too pleased with your comments, though; luckily for you, Mondale has set up couples therapy for next week."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21388,
        "fields": {
            "answer": 149,
            "candidate": 16,
            "answer_feedback": "Defending an operation that even Holder has distanced himself from does confuse some in your party. You have no good answer for them."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21390,
        "fields": {
            "answer": 154,
            "candidate": 16,
            "answer_feedback": "Maybe you’ve always been a federalist at heart. You wonder what The Gang would think of you."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21391,
        "fields": {
            "answer": 155,
            "candidate": 16,
            "answer_feedback": "This is a more conservative answer coming from you, and one that disappoints your supporters and contributors, who see this as tacit support for abstinence-only education on your end. They, of course, do not actually approve of it. Try to keep that in mind next time."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21395,
        "fields": {
            "answer": 228,
            "candidate": 16,
            "answer_feedback": "Though fiscal conservatives hammer you for this, taking a strong pro-infrastructure stance can only be good for you."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21397,
        "fields": {
            "answer": 227,
            "candidate": 16,
            "answer_feedback": "The signing ceremony goes fairly smoothly, aside from a rather botched singing performance from John Boehner. The coverage is quite positive too, before everyone forgets about it in three days."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21400,
        "fields": {
            "answer": 21399,
            "candidate": 16,
            "answer_feedback": "The interviews are fairly professional and substantive, though frequently derailed by your criticism of 1990s sitcom <i>Doogie Howser, MD</i>. You don’t get it. Everyone knows you’re right on this; at least political junkies appreciate your depth."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21415,
        "fields": {
            "answer": 21414,
            "candidate": 16,
            "answer_feedback": "You’ve seen it, the way Fallon looks at you. He’s practically salivating when you agree to an appearance on <i>Late Night</i>, and spends the rest of the program embellishing your credentials. Although his baby gigolo, sex-pistol style does not impress you, his puppy dog eyes are enough to make you keep coming to his program every week."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21431,
        "fields": {
            "answer": 21430,
            "candidate": 16,
            "answer_feedback": "In retrospect, this may have not been the wisest idea, as a single national appearance by {{opLast}} on a major network reaches ten times as many viewers as your interviews do. Still, as you do twelve local interviews in six days, you can’t help but feel a little bit of warmth in your heart. If only you weren’t President and could go to places without being noticed…"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21442,
        "fields": {
            "answer": 21441,
            "candidate": 16,
            "answer_feedback": "Your team settles for O’Reilly, resulting in perhaps the most awkward 40 minutes of your life. He interrupts you repeatedly, questions your patriotism, and demands explanations for everything, ranging from Benghazi to Fast and Furious to the burning of the library of Alexandria. Still, you do your best to stay calm, and consider this to be a personal win."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21457,
        "fields": {
            "answer": 21456,
            "candidate": 16,
            "answer_feedback": "Michelle beams, and for a moment the White House feels like home again. Your policy team scrambles to draft a proposal, and do their best to hide it from you that the CBO says it would cost $50 billion over ten years."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21461,
        "fields": {
            "answer": 21460,
            "candidate": 16,
            "answer_feedback": "”Fine,” she says, not quite hiding her disappointment. “We’ll do it your way.” The proposal gets fairly modest coverage, modest support, and likewise, will produce modest results. What is not so modest is the coolness at breakfast time the next few days. Michelle doesn’t seem too happy at you."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21465,
        "fields": {
            "answer": 21464,
            "candidate": 16,
            "answer_feedback": "Michelle’s expression shifts from hopeful to disappointed to something colder. “What fucking book?! Ugh, fine,” she says, closing the folder. “I understand. <i>Politics</i>…” She heads to the bedroom and closes the door. You stand in the hallway, weighing your options, before grabbing a blanket and heading to the couch. Your dog Bo, delighted by this development, immediately claims the warm spot next to you."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21474,
        "fields": {
            "answer": 185,
            "candidate": 16,
            "answer_feedback": "Though “more spending” isn’t necessarily a winning bumper sticker this year or something, endorsing your “Keynesian ideals” does help to keep progressives in your party happy."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21477,
        "fields": {
            "answer": 184,
            "candidate": 16,
            "answer_feedback": "You sound like a complete new man on stage, much to the delight of Elizabeth Warren and other progressive luminaries. Perhaps you are not much of a little man."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21478,
        "fields": {
            "answer": 183,
            "candidate": 16,
            "answer_feedback": "The focus groups do respond positively to your acknowledgment of waste, although given the current Republican congress, there are members of your party wondering what you mean by “wasteful spending”."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21479,
        "fields": {
            "answer": 186,
            "candidate": 16,
            "answer_feedback": "Your answers really need to sound more confident. I don’t get it, I’m telling you."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21480,
        "fields": {
            "answer": 101,
            "candidate": 16,
            "answer_feedback": "The Dow drops 300 points on fears of a trade war, but you dismiss this as a bunch of shmebulock, especially when you realize how popular this is among some of your voters."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21483,
        "fields": {
            "answer": 102,
            "candidate": 16,
            "answer_feedback": "There are some who sense this answer as you admitting helplessness on China. Well, at least you can’t say you weren’t honest."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21487,
        "fields": {
            "answer": 104,
            "candidate": 16,
            "answer_feedback": "Although this may be closer to the general opinion, it is not the case in the Midwest, where your opinions are shared by the economics faculty at the University of Chicago and frowned upon by everyone else."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21491,
        "fields": {
            "answer": 103,
            "candidate": 16,
            "answer_feedback": "This might be the best answer, given the contentiousness of trade in general."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21495,
        "fields": {
            "answer": 142,
            "candidate": 16,
            "answer_feedback": "This is probably the safest answer. Some gun control activists, however, expected more from you."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21496,
        "fields": {
            "answer": 143,
            "candidate": 16,
            "answer_feedback": "The word “sensible” does a lot of work, especially at hinting you won’t touch this topic with a 30-foot pole. It’s surprisingly efficient, though not for members of your party."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21498,
        "fields": {
            "answer": 245,
            "candidate": 16,
            "answer_feedback": "Your plans to turn the military into scrap and sell the Pentagon to the highest bidder are widely criticized by all but a few isolationists on your party. This is giving you quite the headache."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21500,
        "fields": {
            "answer": 244,
            "candidate": 16,
            "answer_feedback": "Not too hawkish, but not too dovish either. You think this is the best you can get at appeasing both groups."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21501,
        "fields": {
            "answer": 243,
            "candidate": 16,
            "answer_feedback": "This will make your budget balancing efforts more complicated if you win re-election this year, but that’s something for future you to address."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21502,
        "fields": {
            "answer": 274,
            "candidate": 16,
            "answer_feedback": "Way to go, Chairman Obama. For all that’s worth, this does hint to you that there is no more middle ground left for you to occupy."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21503,
        "fields": {
            "answer": 273,
            "candidate": 16,
            "answer_feedback": "Though some progressives are puzzled by your simultaneous endorsement and backtrack from the concept, this may be the safest answer overall."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21507,
        "fields": {
            "answer": 282,
            "candidate": 16,
            "answer_feedback": "Environmental activists rejoice as you watch donations pour in from green groups. A logger in Idaho burns a poorly made scarecrow of you; the image goes viral on conservative media. How ridiculous. It’s not like rural America was going to back you anyway, but couldn’t have they made you look… good, at least?"
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21510,
        "fields": {
            "answer": 280,
            "candidate": 16,
            "answer_feedback": "As you learned throughout this campaign, middle ground is essentially a no-man’s-land where everyone shoots at you. The good news is that this should keep you in contention among the independent voters who don’t really care either way."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21511,
        "fields": {
            "answer": 279,
            "candidate": 16,
            "answer_feedback": "Good news for rural Democrats in Western States (an endangered species, one would say), and bad news for everyone else in your coalition. Fact-checks make hay with your statements, noting that although there is more acreage, it is also true that old-growth forests are about 95% gone."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21513,
        "fields": {
            "answer": 297,
            "candidate": 16,
            "answer_feedback": "Your ads are surprisingly brutal. A steelworker from Kansas City describes losing his job, his health insurance and his dignity, all while Romney’s firm extracted $12 million in fees. Axelrod does a good job at putting footage of shuttered plants running on loop, combined with not-so-subtle criticisms of capitalism added on your behalf. Huh. Maybe Ayers will be proud of you after all."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21516,
        "fields": {
            "answer": 298,
            "candidate": 16,
            "answer_feedback": "The political press notes your restraint. Perhaps there are other ways of attacking him, you think, but some of your advisors think you’re leaving a good line of attack on the table."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21519,
        "fields": {
            "answer": 299,
            "candidate": 16,
            "answer_feedback": "You know, the “out of touch” frame is devastating for him, not because it’s a line of attack, but because it’s <i>true</i>. Not only that, but Romney himself keeps confirming it. Eventually, more footage of his gaffes resurface, including of his Olympics trip where he insults Britain. Maybe you could pay a quick visit there, go ziplining with your new friend Boris or something."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21522,
        "fields": {
            "answer": 21521,
            "candidate": 16,
            "answer_feedback": "{{opLast}}’s premature attack suddenly looks opportunistic in comparison to your much calmer demeanor. On the other hand, you feel like a battle is brewing, as this will needle you from time to time."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21527,
        "fields": {
            "answer": 21526,
            "candidate": 16,
            "answer_feedback": "While a responsible response, most people see it as too restrained for the moment. Although the investigation will matter eventually, right now, people wanted to see fire in your eyes."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21535,
        "fields": {
            "answer": 21534,
            "candidate": 16,
            "answer_feedback": "Romney walks right into your trap. He stammers, ‘You said that?’ and looks at the moderator. Crowley checks the transcript and corrects him live on air. You smirk and ask, ‘Can you say that a little louder, Candy?’ The room erupts and you smile; this clip will be played on every news cycle for the next week."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21539,
        "fields": {
            "answer": 21538,
            "candidate": 16,
            "answer_feedback": "Within minutes, ‘Binders Full of Women’ is the number one trend on Twitter, and Tumblr, where you discover a base of very, uh, excited supporters for you. Perhaps focusing on {{opLast}}’s awkwardness, though not so high-minded, can help you motivate the youth vote."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21543,
        "fields": {
            "answer": 21542,
            "candidate": 16,
            "answer_feedback": "For better or worse, it’s a strong performance as you definitely banished the so-called ‘Sleepy Obama’ narrative from Denver. Some pundits think you were a little <i>too</i> aggressive, though, as you seemed borderline hostile when invading {{opLast}}’s bubble. The good news is that, broadly speaking, some voters do enjoy this."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21547,
        "fields": {
            "answer": 21546,
            "candidate": 16,
            "answer_feedback": "It’s a rather safe strategy from you. You fortunately avoid the Benghazi question, but you missed a chance to humiliate {{opLast}} on national television. Most polls indicate this debate was a draw."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21552,
        "fields": {
            "answer": 21551,
            "candidate": 16,
            "answer_feedback": "Amongst Obama fans on Twitter, ‘Horses and Bayonets’ becomes the defining phrase of the night. {{opLast}} tries to stammer a response about submarine capabilities, but the damage is done. He looks like a man out of time."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21556,
        "fields": {
            "answer": 21555,
            "candidate": 16,
            "answer_feedback": "Jinkies! By framing {{opLast}} as a relic of the Cold War, you effectively neutralize his attacks on your toughness. The media cycle spends the next 24 hours mocking his focus on Russia, to your delight. Let them kill the bastard."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21560,
        "fields": {
            "answer": 21559,
            "candidate": 16,
            "answer_feedback": "After all the ‘me-tooing’ from {{opLast}} on your foreign policy all night, it’s good to call him out and make it look weak. It lacks the viral punch of a zinger, but at least some voters will be happy with your approach."
        }
    },
    {
        "model": "campaign_trail.answer_feedback",
        "pk": 21564,
        "fields": {
            "answer": 21563,
            "candidate": 16,
            "answer_feedback": "You definitely sound knowledgeable, but you let him off the hook. Why leave such a misleading statistic to stand? For better or worse, pundits praise your temperament and how much “professional” you looked."
        }
    }
]

campaignTrail_temp.jet_data = [{
    "nicknames": {
        "16": "Obama",
        "17": "Romney",
        "18": "Johnson",
        "19": "Stein"
    },
    "banner_data": {
        "canName": "",
        "canImage": "",
        "runName": "",
        "runImage": ""
    },
    "banner_enabled": false,
    "cyoa_variables": {},
    "cyoa_enabled": false,
    "cyoa_data": {},
    "cyoa_variable_effects": {},
    "cyoa_answer_swaps": {},
    "endings_enabled": false,
    "ending_data": {}
}
]

// Footer images/names
campaignTrail_temp.candidate_image_url = "https://file.garden/aNtAfG887DiA_7lO/2012LBM/Code1/obama_alt.png";
campaignTrail_temp.running_mate_image_url = "https://file.garden/aNtAfG887DiA_7lO/2012LBM/Code1/biden_alt.png";
campaignTrail_temp.candidate_last_name = "Obama";
campaignTrail_temp.running_mate_last_name = "Biden";

// This is, in a way, fairly similar to astrohuncho's bunnyhop. (hi astro!)
// However, using the actual bunnyhop here was not a viable option, as many of this mod's
// questions were already set in place using Jet's Mod tool — which served for adding/removing
// most of them. Re-writing everything would take a lot of time.
// For the sake of simplicity, we had to resort to an in-house solution.

// standard Fisher-Yates shuffle function
function shuffle(array) {
    for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
    }
}

const questionCount = campaignTrail_temp.global_parameter_json[0].fields.question_count;
const originalQuestions = campaignTrail_temp.questions_json;

// static question positiongs
const START_INDICES = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];
const END_BLOCK_INDICES = [18, 20, 22, 23, 24]; 

// for the Static option
if (questionCount === 26) {
    campaignTrail_temp.questions_json = originalQuestions.slice(0, 25);
    campaignTrail_temp.global_parameter_json[0].fields.question_count = 25;
    
    // reset the global counter to 25 so the game logic treats it as a 25q game
    campaignTrail_temp.global_parameter_json[0].fields.question_count = 25;
    
    console.log("Using static question set. Boring...");
} else {    
    const targetTotal = (questionCount === 25) ? 25 : questionCount;

    // fixed start & end
    const startQuestions = START_INDICES.map(i => originalQuestions[i]);
    const endQuestions = END_BLOCK_INDICES.map(i => originalQuestions[i]);

    const usedIndices = new Set([...START_INDICES, ...END_BLOCK_INDICES]);
    let shufflePool = originalQuestions.filter((_, index) => !usedIndices.has(index));

    shuffle(shufflePool);

    const neededFiller = targetTotal - startQuestions.length - endQuestions.length;

    const randomizedSet = [
        ...startQuestions,
        ...shufflePool.slice(0, neededFiller),
        ...endQuestions
    ];

    campaignTrail_temp.questions_json = randomizedSet;
    campaignTrail_temp.global_parameter_json[0].fields.question_count = randomizedSet.length;

    console.log(`Question re-ordering applied for ${questionCount} questions. At least this is working.`);
}

// This is used to replace a series of question data for each running mate. Taken from 2016ALOT.
// 30 = Biden, 34 = Clinton, 35 = Gregoire, 36 = Schweitzer
// 37 = Dodd, 38 = Bayh, 39 = Davis, 40 = Sebelius

const RUNNING_MATE_IDS = {
    BIDEN: 30,
    CLINTON: 34,
    GREGOIRE: 35,
	SCHWEITZER: 36,
	DODD: 37,
	BAYH: 38,
    DAVIS: 39,
	SEBELIUS: 40,
};

const STATE_IDS = {
    CALIFORNIA: 4,
    CONNECTICUT: 7,
	INDIANA: 14,
	KANSAS: 16,
	MONTANA: 26,
	NEW_YORK: 32,
	WASHINGTON: 47,
};      

const RUNNING_MATE_DATA = {
    [RUNNING_MATE_IDS.CLINTON]: {
        name: "CLINTON",
        questions: {
            301: "On the day of the convention, you shocked the world by announcing you were replacing Vice President Joe Biden on your ticket with the popular Secretary of State Hillary Clinton. Very few of your advisors knew this, and Biden himself didn’t. The question is: why?",
        },
        answers: {
            1650: "Hillary Clinton has more experience than anyone in this country to deal with the critical challenges facing Americans, from the economy to foreign policy to healthcare. Together, we represent the strongest possible team to lead this nation forward. I’m with her. The question is: are you?",
            1661: "We all have to make hard choices in life, difficult decisions that, um, put country above party, above friendships, and even above our own comfort. I’ve made the choice I believe gives America the strongest possible leadership team moving forward. I know Biden will understand that this decision was about what’s best for the country."
        },
        feedback: {
            1650: "The convention hall erupts, half in stunned applause and half in confused silence. Hillary walks out, her smile not quite reaching her eyes, clearly as blindsided by the timing as everyone else. But she doesn’t seem upset, on the contrary. Perhaps this may help you.",
			1661: "Watching from his hotel room, Biden throws the remote at the television and shatters it to a million pieces. It’s a fairly long week as your allies try to stop his allies leak damaging stories about dysfunction in your White House, about how you’ve always looked down on Joe, and about your arrogance and coldness. The drama dies when Arne Duncan is hired to pay Biden a visit, wherein they reminsiced about the old times, right before Duncan threw him out the second floor window."
        },
        issueScores: {
            1650: [
                { issue: 100, score: 0.4 }, { issue: 101, score: -0.3 }, { issue: 102, score: 0.1 },
                { issue: 103, score: 0.35 }, { issue: 104, score: 0.4 }
            ],
            1661: [
                { issue: 100, score: 0.35 }, { issue: 101, score: -0.2 }, { issue: 102, score: 0 },
                { issue: 103, score: 0.3 }, { issue: 104, score: 0.4 }
            ]
        },
        stateScores: [
            { answer: 1650, state: STATE_IDS.NEW_YORK },
            { answer: 1661, state: STATE_IDS.NEW_YORK },
        ],
        globalScores: {
            1650: [
                { candidate: 16, affected_candidate: 19, global_multiplier: 0.002 }
            ]
        }
    },
	[RUNNING_MATE_IDS.GREGOIRE]: {
		name: "GREGOIRE",
		questions: {
			301: "You’ve selected Governor Christine Gregoire of Washington as your running mate. Although competent and pragmatic, she is also seen as a rather unexciting choice. What’s your comment?",
		},
		answers: {
			1650: "In uncertain times, America needs a, uh, steady hand. Governor Gregoire has a proven record of bipartisan success and executive leadership. If anything, I like how she got things done in Washington, and that’s the kind of partner I want in the White House.",
			1661: "This ticket is about the future, and Christine represents both the geographic and demographic future of our party. A successful woman from the West Coast, who has governed a state at the forefront of technology and trade is exactly who we need to move this country forward."
		},
		feedback: {
			1650: "Gregoire’s selection goes mostly unnoticed in the mainstream media, as the focus on your dismissal of Biden continues.",
			1661: "Some on the right grumble that it’s just ‘identity politics’ on your party, but it seems that Gregoire does energize some of your demographics on that region and, to a lesser extent, among women voters nationwide."
		},
		issueScores: {
			1650: [
				{ issue: 100, score: 0.4 }, { issue: 101, score: 0.2 }, { issue: 102, score: 0.2 },
				{ issue: 103, score: 0.1 }, { issue: 104, score: -0.2 }
			],
			1661: [
				{ issue: 100, score: 0.2 }, { issue: 101, score: 0.1 }, { issue: 102, score: 0.1 },
				{ issue: 103, score: 0.35 }, { issue: 104, score: 0.25 }
			]
		},
		stateScores: [
			{ answer: 1650, state: STATE_IDS.WASHINGTON },
			{ answer: 1661, state: STATE_IDS.WASHINGTON },
		]
	},
	[RUNNING_MATE_IDS.SCHWEITZER]: {
		name: "SCHWEITZER",
		questions: {
			301: "You’ve selected Governor Governor Brian Schweitzer of Montana as your running mate. He’s a populist, a straight-talker, and honestly, a bit of a loose cannon. Why did you pick such an unconventional and potentially risky running mate?",
		},
		answers: {
			1650: "Because Washington is broken, and we don’t need another insider to fix it. We need a fighter who understands the struggles of working families, not Wall Street bankers. Now, I know Brian speaks for the forgotten corners of this country, and with him, they will be forgotten no more.",
			1661: "This is about, um, winning. Brian Schweitzer can talk to voters that Democrats have ignored for a generation. He’s a rancher, a soil scientist, and a man of the people. He’ll help us compete everywhere, too, from the Rust Belt to the Rocky Mountains."
		},
		feedback: {
			1650: "This is a bit of an ironic message considering you are, well, the President. On the other hand, some young voters are enamored by Schweitzer’s rather folksy style. He immediately goes off-script in his first interview, calling Wall Street executives ‘a bunch of slick-haired losers,’ to the horror of your fundraising team.",
			1661: "His first speech at the convention is a tad fiery, but unapologetically populist. There are some suburban moderates a bit unnerved at your dismissal of Biden, however."
		},
		issueScores: {
			1650: [
				{ issue: 100, score: -0.1 }, { issue: 101, score: -0.3 }, { issue: 102, score: 0 },
				{ issue: 103, score: 0.4 }, { issue: 104, score: 0.5 }
			],
			1661: [
				{ issue: 100, score: 0.1 }, { issue: 101, score: -0.1 }, { issue: 102, score: 0.1 },
				{ issue: 103, score: 0.3 }, { issue: 104, score: 0.4 }
			]
		},
		stateScores: [
			{ answer: 1650, state: STATE_IDS.MONTANA },
			{ answer: 1661, state: STATE_IDS.MONTANA },
		]
	},
	[RUNNING_MATE_IDS.DODD]: {
		name: "DODD",
		questions: {
			301: "You’ve selected Former Senator Chris Dodd of Connecticut as your running mate. Although someone with decades of legislative experience, he also carries some baggage from his connection to the 2008 financial crisis. What do you say about him?",
		},
		answers: {
			1650: "When the world is in crisis, you don’t want, um, a rookie in the room. You want, uh, experience, see. Chris Dodd has forgotten more about foreign policy and financial regulation than most people will ever know. He knows how to make Washington work for the American people.",
			1661: "Chris Dodd is a loyal Democrat who has fought for our party’s core values for his entire life. He has the trust of his colleagues and the respect of our allies. This choice is about unifying our party and ensuring we have a reliable leader ready on day one."
		},
		feedback: {
			1650: "For most of the establishment and Wall Street, this is a fairly reassuring pick. However, progressives and younger voters are even more skeptical of your campaign decisions here.",
			1661: "Party insiders are fairly thrilled, and fundraising from traditional Democratic sources gets a major boost. Your opponents, however, immediately paint your ticket as ‘the definition of the DC swamp’ and have started running ads featuring his old controversies. You don’t recall what they were."
		},
		issueScores: {
			1650: [
				{ issue: 100, score: 0.5 }, { issue: 101, score: 0.3 }, { issue: 102, score: 0.4 },
				{ issue: 103, score: -0.2 }, { issue: 104, score: -0.4 }
			],
			1661: [
				{ issue: 100, score: 0.3 }, { issue: 101, score: 0.2 }, { issue: 102, score: 0.2 },
				{ issue: 103, score: 0.4 }, { issue: 104, score: -0.3 }
			]
		},
		stateScores: [
			{ answer: 1650, state: STATE_IDS.CONNECTICUT },
			{ answer: 16661, state: STATE_IDS.CONNECTICUT },
		]
	},
	[RUNNING_MATE_IDS.BAYH]: {
		name: "BAYH",
		questions: {
			301: "You’ve selected Former Senator Evan Bayh of Indiana as your running mate. Although a well-known moderate from a red state and who you vetted in 2008, progressives are already calling this a betrayal. How do you justify this pick to your base?",
		},
		answers: {
			1650: "To govern effectively, you have to win first. Uh-duh, yeah. I mean, to win, we need to build the broadest possible coalition. Bayh has a proven record of winning in tough states by working with both sides. This isn’t about picking sides or uh, something, but in the end, it’s about moving America forward.",
			1661: "This ticket is about bringing fiscal responsibility back to Washington. Evan is, uh, a leader on fiscal discipline who understands that we can’t keep writing checks on a credit card from China or something. He will be my partner in making the tough choices to reduce our national debt."
		},
		feedback: {
			1650: "Independents and moderate Republicans praise the pick as a sign you’re willing to govern from the center. Of course, the progressive wing of your party is in open revolt, and there are some groups threatening to withhold their endorsement. Oh well.",
			1661: "Your choice wins praise from a dozen or so business leaders and fiscal watchdog groups. Your base, however, complains that you’re adopting Republican talking points and abandoning the party’s commitment to social programs."
		},
		issueScores: {
			1650: [
				{ issue: 100, score: 0.2 }, { issue: 101, score: 0.3 }, { issue: 102, score: 0.1 },
				{ issue: 103, score: -0.5 }, { issue: 104, score: -0.2 }
			],
			1661: [
				{ issue: 100, score: 0.1 }, { issue: 101, score: 0.4 }, { issue: 102, score: 0.1 },
				{ issue: 103, score: -0.4 }, { issue: 104, score: -0.1 }
			]
		},
		stateScores: [
			{ answer: 1650, state: STATE_IDS.INDIANA },
			{ answer: 1661, state: STATE_IDS.INDIANA },
		]
	},
	[RUNNING_MATE_IDS.DAVIS]: {
		name: "DAVIS",
		questions: {
			301: "You’ve chosen former California Governor Gray Davis, a man who was famously recalled from office, as your running mate this year. The big question is: what were you possibly thinking?",
		},
		answers: {
			1650: "Gray Davis was a scapegoat for a national energy crisis he didn’t create, I tell you. He governed the largest state in the union with a steady hand during very, um, turbulent times. He has learned hard lessons that will make him a uniquely qualified Vice President. Plus, we’re both, uh, Upton Sinclair Democrats.",
			1661: "Let’s be, uh, blunt. Politics is a tough business that requires tough people and immense resources. Gray is one of the most effective fundraisers our party has ever seen. He knows what it takes to win, and he will ensure we have the war chest to fight back against the other side."
		},
		feedback: {
			1650: "It’s a very tough sell, honestly. Some older California Democrats admire your loyalty, but you have to admit you pulled him out of nowhere to get him on your ticket. The media will be merciless, but maybe you can play to this to your advantage.",
			1661: "For better or worse, your campaign coffers swell overnight. This man is like a money machine or something, you think, as you watch major California and corporate donors get thrilled with the pick. However, conservative media is quick to portray you as a cynical political operator who cares more about money than the judgment of voters. Perhaps they have a point?"
		},
		issueScores: {
			1650: [
				{ issue: 100, score: 0.1 }, { issue: 101, score: -0.4 }, { issue: 102, score: 0.1 },
				{ issue: 103, score: -0.2 }, { issue: 104, score: -0.3 }
			],
			1661: [
				{ issue: 100, score: -0.3 }, { issue: 101, score: 0.5 }, { issue: 102, score: 0 },
				{ issue: 103, score: -0.1 }, { issue: 104, score: 0.2 }
			]
		},
		stateScores: [
			{ answer: 1650, state: STATE_IDS.CALIFORNIA },
			{ answer: 1661, state: STATE_IDS.CALIFORNIA },
		]
	},
	[RUNNING_MATE_IDS.SEBELIUS]: {
		name: "SEBELIUS",
		questions: {
			301: "You’ve selected your Health and Human Services Secretary,, Kathleen Sebelius, as your running mate. As the person who is overseeing the effects of your very own Affordable Care Act website, some wonder: why choose someone so closely associated with something your opponents call one of your failures?",
		},
		answers: {
			1650: "Well, she was on the front lines of the biggest fight for healthcare in a generation. The law itself has helped millions, too. She, uh, took the arrows, she fixed the problem, and she knows healthcare better than anyone. We’re going to protect and improve the ACA, and she’s the one to help me do it.",
			1661: "Don’t forget, she was a popular, two-term Democratic governor of a deep-red state: Kansas. She knows how to talk to middle America, understands the concerns of rural voters, and also brings critical geographic and gender balance to this ticket."
		},
		feedback: {
			1650: "Healthcare advocates and party loyalists rally to your side, praising your courage. Your opposition, however, is quite ready to make healthcare the focus of this election, depending on how you play your cards.",
			1661: "This is true. Although this pick helps shore up your perceived weaknesses in the Midwest, Kansas or any of the Plains states are not expected to be competitive this year."
		},
		issueScores: {
			1650: [
				{ issue: 100, score: -0.2 }, { issue: 101, score: -0.1 }, { issue: 102, score: 0.3 },
				{ issue: 103, score: 0.3 }, { issue: 104, score: 0.1 }
			],
			1661: [
				{ issue: 100, score: 0.2 }, { issue: 101, score: 0.2 }, { issue: 102, score: 0.1 },
				{ issue: 103, score: 0.2 }, { issue: 104, score: 0 }
			]
		},
		stateScores: [
			{ answer: 1650, state: STATE_IDS.KANSAS },
			{ answer: 1661, state: STATE_IDS.KANSAS },
		]
	}
};

const ADVISOR_URL = 'https://file.garden/aNtAfG887DiA_7lO/2012LBM/kyyyII1.jpeg';

const generateMockPK = () => Math.floor(Math.random() * 100000);
let lastDataAppliedMateId = -1;

// modifies the questions/answers/feedback
function applyDataModifications() {
    if (!window.campaignTrail_temp) return;

    const runningMateId = campaignTrail_temp.running_mate_id;
    if (runningMateId === lastDataAppliedMateId) return;

    const mateData = RUNNING_MATE_DATA[runningMateId];

    if (mateData) {
        // update text content
        if (mateData.questions && Array.isArray(campaignTrail_temp.questions_json)) {
            campaignTrail_temp.questions_json.forEach(q => {
                if (mateData.questions[q.pk]) q.fields.description = mateData.questions[q.pk];
            });
        }

        if (mateData.answers && Array.isArray(campaignTrail_temp.answers_json)) {
            campaignTrail_temp.answers_json.forEach(a => {
                if (mateData.answers[a.pk]) a.fields.description = mateData.answers[a.pk];
            });
        }

        if (mateData.feedback && Array.isArray(campaignTrail_temp.answer_feedback_json)) {
            campaignTrail_temp.answer_feedback_json.forEach(fb => {
                if (mateData.feedback[fb.fields.answer]) fb.fields.answer_feedback = mateData.feedback[fb.fields.answer];
            });
        }

        // update issue scores
		if (mateData.issueScores && Array.isArray(campaignTrail_temp.answer_score_issue_json)) {
		  const answersToReplace = Object.keys(mateData.issueScores).map(Number);
		  campaignTrail_temp.answer_score_issue_json = campaignTrail_temp.answer_score_issue_json
			.filter(e => !answersToReplace.includes(Number(e.fields.answer)));

		  for (const [answerIdStr, scores] of Object.entries(mateData.issueScores)) {
			const answerId = Number(answerIdStr);
			scores.forEach(({ issue, score }) => {
			  campaignTrail_temp.answer_score_issue_json.push({
				model: "campaign_trail.answer_score_issue",
				pk: generateMockPK(),
				fields: {
				  answer: answerId,
				  issue,
				  issue_score: score,
				  issue_importance: 2
				}
			  });
			});
		  }
		}

        // update global scores
        if (mateData.globalScores && Array.isArray(campaignTrail_temp.answer_score_global_json)) {
            const answersToReplace = Object.keys(mateData.globalScores);
            campaignTrail_temp.answer_score_global_json = campaignTrail_temp.answer_score_global_json
                .filter(e => !answersToReplace.includes(String(e.fields.answer)));

            for (const [answerId, scores] of Object.entries(mateData.globalScores)) {
                scores.forEach(scoreData => {
                    campaignTrail_temp.answer_score_global_json.push({
                        model: "campaign_trail.answer_score_global",
                        pk: generateMockPK(),
                        fields: { answer: parseInt(answerId), ...scoreData }
                    });
                });
            }
        }

        // update state scores
        if (mateData.stateScores && Array.isArray(campaignTrail_temp.answer_score_state_json)) {
            const answersToReplace = mateData.stateScores.map(s => s.answer);
            campaignTrail_temp.answer_score_state_json = campaignTrail_temp.answer_score_state_json
                .filter(e => !answersToReplace.includes(e.fields.answer));

            mateData.stateScores.forEach(({ answer, state }) => {
                campaignTrail_temp.answer_score_state_json.push({
                    model: "campaign_trail.answer_score_state",
                    pk: generateMockPK(),
                    fields: { answer, state, candidate: 16, affected_candidate: 16, state_multiplier: 0.008 }
                });
            });
        }
    }

    lastDataAppliedMateId = runningMateId;
}

function updateAdvisorUrl() {
    const fields = campaignTrail_temp?.election_json?.[0]?.fields;
    if (!fields) return;

    if (!fields.advisor_url || String(fields.advisor_url).trim() === '') {
        fields.advisor_url = ADVISOR_URL;
    }
}

function onGameChange() {
    applyDataModifications();
    updateAdvisorUrl();
}

const gameWindow = document.getElementById("game_window");
if (gameWindow) {
    const observer = new MutationObserver(onGameChange);
    observer.observe(gameWindow, { childList: true, subtree: true });

    onGameChange();
} else {
    console.error("Game window element not found.");
}

// for the random movie thingy
(() => {
	const favoriteMovies = [
		'Click', 'Grown Ups', 'Jack and Jill', "That's My Boy", 'Little Nicky', 'Eight Crazy Nights', 'Bedtime Stories', 'You Don\'t Mess with the Zohan',
		'Paul Blart: Mall Cop', 'Zookeeper', 'Here Comes the Boom',
		'Shrek the Third', 'Zyzzyx Road', 'Gigli', 'Catwoman', 'Battlefield Earth', 'The Room', 'Birdemic: Shock and Terror', 'Foodfight!', 'Son of the Mask', 'The Hottie and the Nottie', 'From Justin to Kelly', 'Glitter', 'Swept Away', 'The Love Guru', 'Dragonball Evolution', 'The Last Airbender', 'Bucky Larson: Born to Be a Star', 'Green Lantern',
		'Epic Movie', 'Disaster Movie', 'Meet the Spartans', 'Vampires Suck',
		'House of the Dead', 'Alone in the Dark', 'BloodRayne',
		'Zero Day', 'The Human Centipede (First Sequence)', 'Gummo', 'Trash Humpers',
		'Double Down', 'I Am Here... Now',
		'Shark Tale', 'Delgo', 'Hoodwinked Too! Hood vs. Evil', 'Mars Needs Moms', 'Chicken Little', 'The Amazing Bulk',
		'Freddy Got Fingered', 'Ballistic: Ecks vs. Sever', 'Baby Geniuses', 'SuperBabies: Baby Geniuses 2', 'The Adventures of Pluto Nash', 'Howard the Duck', 'Jaws: The Revenge', 'Speed 2: Cruise Control', 'Highlander II: The Quickening', 'Showgirls', 'The Wicker Man', 'Dungeons & Dragons', 'Crossroads',
		'Theodore Rex', 'Kazaam', 'Batman & Robin', 'Bio-Dome', 'The Master of Disguise', 'Fred: The Movie', 'The Garbage Pail Kids Movie'
	];
    const movie = favoriteMovies[Math.floor(Math.random() * favoriteMovies.length)];
    
    const feedback = campaignTrail_temp.answer_feedback_json.find(f => f.pk === 362);
    if (feedback) {
        feedback.fields.answer_feedback = feedback.fields.answer_feedback.replace('{RANDOM_MOVIE}', movie);
    }
})(); 

// Another function from 2016ALOT, this is for the extra
// unlockable running mates. That's really it.
const UNLOCK_THRESHOLD_EV = 332; // EV threshold to unlock running mates
const STORAGE_KEY = 'obama2012_unlocked_rms';

const UNLOCK_MAP = {
    30: 37, // Biden -> Dodd
    34: 38, // Clinton -> Bayh
    35: 39, // Gregoire -> Davis
	36: 40, // Schweitzer -> Sebelius
};

// helper function to read from storage
function getUnlockedRmsFromStorage() {
    try {
        const stored = localStorage.getItem(STORAGE_KEY);
        return stored ? JSON.parse(stored) : [];
    } catch (e) {
        return [];
    }
}

// write the unlock status in storage
function unlockRmInStorage(pk) {
    const unlocked = getUnlockedRmsFromStorage();
    if (!unlocked.includes(pk)) {
        unlocked.push(pk);
        localStorage.setItem(STORAGE_KEY, JSON.stringify(unlocked));
        return true;
    }
    return false;
}

function ensureUnlockCSS() {
  if (document.getElementById('unlock-css')) return;
  const style = document.createElement('style');
  style.id = 'unlock-css';
  style.textContent = `
    .unlock-notification {
      position: fixed; left: 50%; right: 20px; bottom: 20px;
      background: #0e3280; color: #fff; padding: 12px 16px;
      border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,.25);
      opacity: 0; transform: translateY(10px); font-size: 15px;
      transition: opacity .25s ease, transform .25s ease; z-index: 99999;
      max-width: 300px; line-height: 1.3; text-align: center;
    }
    .unlock-notification.show { opacity: 1; transform: translateX(-50%) translateY(0); }
  `;
  document.head.appendChild(style);
}

function showUnlockNotification(mateName) {
  ensureUnlockCSS();
  const notification = document.createElement('div');
  notification.className = 'unlock-notification';
  notification.innerHTML = `<strong>Guess who...</strong><br/>You can now select ${mateName} on your next playthrough.`;
  document.body.appendChild(notification);

  requestAnimationFrame(() => {
    notification.classList.add('show');
  });

  setTimeout(() => {
    notification.classList.remove('show');
    notification.addEventListener('transitionend', () => notification.remove(), { once: true });
  }, 5000);
}

// runs on endgame to check for unlocks
// psst: we also run this on the endingPicker
function checkAndApplyUnlocks(playerEV, runningMateId) {
  if (playerEV < UNLOCK_THRESHOLD_EV) return false;

  const unlockedPk = UNLOCK_MAP[runningMateId];
  if (!unlockedPk) return false;

  const justUnlocked = unlockRmInStorage(unlockedPk);
  if (justUnlocked) {
    const mateData = campaignTrail_temp.candidate_json.find(c => c.pk === unlockedPk);
    if (mateData) {
      const mateName = `${mateData.fields.first_name} ${mateData.fields.last_name}`;
      showUnlockNotification(mateName);
    }
  }
  return justUnlocked;
}

// necessary because we use the VP switcher in-game
function addUnlockedRmsForCandidate(candidatePk) {
  const unlocked = getUnlockedRmsFromStorage(); // returns array of RM PKs (e.g., [37, 38, ...])
  if (!Array.isArray(unlocked) || unlocked.length === 0) return;

  const existing = new Set(
    campaignTrail_temp.running_mate_json
      .filter(f => f.fields.candidate === candidatePk)
      .map(f => f.fields.running_mate)
  );

  unlocked.forEach(rmPk => {
    if (!existing.has(rmPk)) {
      campaignTrail_temp.running_mate_json.push({
        model: "campaign_trail.running_mate",
        pk: generateMockPK(),
        fields: { candidate: candidatePk, running_mate: rmPk }
      });
      existing.add(rmPk);
    }
  });
}

// This loads the achievements for the mod.
let unlockedAchievements = JSON.parse(localStorage.getItem("unlockedAch")) || {};

const achievementQueue = [];
let playthroughAchievements = {};
let isAchievementShowing = false;
const achievementSoundURL = "";

function unlockAchievement(title) {
	// ensure cheats are off + campaignTrail_temp exists + we are on CTS
	if (typeof cheatsActive === 'undefined' || typeof campaignTrail_temp === 'undefined' || !campaignTrail_temp.CTS) {
		return;
	}
	
	if (playthroughAchievements[title]) {
		return; // already unlocked this playthrough
	}
	
	const achData = campaignTrail_temp.achievements[title];
	if (!achData) {
		console.error(`Achievement "${title}" not found. Check for typos?`);
		return;
	}
	
	if (achData.cannotBeCheated && cheatsActive) {
		console.log(`Cannot unlock "${title}" - cheats are active.`);
		return;
	}
	
	// mark as earned this playthrough
	playthroughAchievements[title] = true;
	
	// only save permanently if difficulty is valid and not already unlocked globally
	const shouldSavePermanently = 
		campaignTrail_temp.difficulty_level_multiplier <= 1 && 
		!unlockedAchievements[title];
	
	if (shouldSavePermanently) {
		unlockedAchievements[title] = true;
		localStorage.setItem("unlockedAch", JSON.stringify(unlockedAchievements));
		addAllAchievements();
	}
	
	// queue popup
	queueAchievementPopup(title, achData.image, achievementSoundURL, achData.description);
}

function queueAchievementPopup(title, imageUrl, soundUrl, description) {
	// check if already in queue
	if (achievementQueue.some(ach => ach.title === title)) {
		return;
	}
	achievementQueue.push({ title, imageUrl, soundUrl, description });
	processAchievementQueue();
}

function processAchievementQueue() {
	if (isAchievementShowing || achievementQueue.length === 0) return;
	
	isAchievementShowing = true;
	const { title, imageUrl, soundUrl, description } = achievementQueue.shift();
	
	const achievementOverlay = document.createElement('div');
	achievementOverlay.className = 'achievement-popup';
	
	const img = document.createElement('img');
	img.src = imageUrl || '';
	img.className = 'achievement-popup-image';
	img.alt = 'Achievement icon';
	
	const textContainer = document.createElement('div');
	
	const titleEl = document.createElement('h3');
	titleEl.className = 'achievement-popup-title';
	titleEl.textContent = title;
	
	const descEl = document.createElement('p');
	descEl.className = 'achievement-popup-desc';
	descEl.textContent = description;
	
	textContainer.appendChild(titleEl);
	textContainer.appendChild(descEl);
	achievementOverlay.appendChild(img);
	achievementOverlay.appendChild(textContainer);
	
	document.body.appendChild(achievementOverlay);
	
	requestAnimationFrame(() => {
		achievementOverlay.classList.add('show');
	});
	
	setTimeout(() => closeOverlay(achievementOverlay), 6000);
}

function closeOverlay(overlay) {
	overlay.classList.remove('show');
	
	overlay.addEventListener('transitionend', () => {
		overlay.remove();
		isAchievementShowing = false;
		processAchievementQueue();
	}, { once: true });
}

// This function replaces the advisor image for specific answers,
// and also updates the question feedback's header color, sometimes
// based on additional game state conditions.
(function() {
    'use strict';

    const SPECIAL_CASES = {
        109: {
            imageUrl: "https://file.garden/aNtAfG887DiA_7lO/2012LBM/trevor.png",
            condition: () => true
        },
        198: {
            imageUrl: "https://file.garden/aNtAfG887DiA_7lO/2012LBM/trevor.png",
            condition: () => true
        },
        264: {
            imageUrl: "https://file.garden/aNtAfG887DiA_7lO/2012LBM/trevor.png",
            condition: () => true
        },
        21189: {
            imageUrl: "https://file.garden/aNtAfG887DiA_7lO/2012LBM/trevor.png",
            condition: () => true
        },
        21338: {
            imageUrl: "https://file.garden/aNtAfG887DiA_7lO/2012LBM/trevor.png",
            condition: () => true
        },
		21414: {
            imageUrl: "https://file.garden/aNtAfG887DiA_7lO/2012LBM/trevor.png",
            condition: () => true
        },
        5179: {
            imageUrl: "https://file.garden/aNtAfG887DiA_7lO/2012LBM/oglH2YP.jpeg",
            condition: () => window.campaignTrail_temp && window.campaignTrail_temp.running_mate_id == 215
        }
    };

    const SELECTORS = {
        overlay: "#visit_window",
        image: "#visit_content img",
        header: ".overlay_window h3"
    };

    const STYLES = {
        specialBg: "#ffe3bf",
        defaultBg: ""
    };

    function handleAdvisorUpdate() {
        // if the feedback window isn't visible, do nothing.
        const overlay = document.querySelector(SELECTORS.overlay);
        if (!overlay || overlay.style.display === "none") return;

        // ensure we have answers to check
        const ct = window.campaignTrail_temp;
        if (!ct || !ct.player_answers || ct.player_answers.length === 0) return;

        const lastAnswerId = ct.player_answers[ct.player_answers.length - 1];
        const specialCase = SPECIAL_CASES[lastAnswerId];

        const imgEl = overlay.querySelector(SELECTORS.image);
        const headerEl = overlay.querySelector(SELECTORS.header);

        if (specialCase && specialCase.condition()) {
            // only update DOM if it's different
            if (imgEl && imgEl.src !== specialCase.imageUrl) {
                imgEl.src = specialCase.imageUrl;
            }
            if (headerEl && headerEl.style.background !== STYLES.specialBg) {
                headerEl.style.background = STYLES.specialBg;
            }
        } else {
            // reset to default if it's not a special case
            if (headerEl && headerEl.style.background !== STYLES.defaultBg) {
                headerEl.style.background = STYLES.defaultBg;
            }
        }
    }

    function initObserver() {
        const gameWindow = document.getElementById("game_window");
        
        if (gameWindow) {
            const observer = new MutationObserver(() => {
                handleAdvisorUpdate();
            });

            observer.observe(gameWindow, { childList: true, subtree: true });
        } else {
            setTimeout(initObserver, 200);
        }
    }

    initObserver();

})();

// This is fairly similar to the ending loader used in Things That Never Were.
// Well, I don't know if it was developed for that mod or not, but I took inspiration
// from the one there. Part of the design, that is — the underlying implementation
// for this took longer than I wanted to.

campaignTrail_temp.multiple_endings = true;

campaignTrail_temp.page = 0;
campaignTrail_temp.pages = [];
campaignTrail_temp.header = "";
campaignTrail_temp.image = false;
campaignTrail_temp.executable = [];

let endingObserver = null;
let endingSafetyTimeout = null;

// helper function to set slide images
function setImage(url) {
    const selector = ".person_image";
    
    if (endingSafetyTimeout) clearTimeout(endingSafetyTimeout);

    const apply = () => {
        const img = document.querySelector(selector);
        if (img && img.src !== url) {
            img.src = url;
            img.style.display = 'block';
        }
    };

    apply();

    const targetNode = document.getElementById("game_window") || document.body;    
    if (endingObserver) endingObserver.disconnect();

    endingObserver = new MutationObserver((mutations) => {
        apply();
    });

    endingObserver.observe(targetNode, { 
        childList: true, 
        subtree: true, 
        attributes: true,
        attributeFilter: ['src'] 
    });

    endingSafetyTimeout = setTimeout(() => {
        if (endingObserver) {
            endingObserver.disconnect();
            endingObserver = null;
        }
    }, 1000);
}

// construct the HTML for the ending page
construct = (a = 1) => {
    // ensure page index is within bounds   
    if (a !== 'rerender') {
        const newPage = campaignTrail_temp.page + a;
        if (newPage >= 0 && newPage < campaignTrail_temp.pages.length) {
            campaignTrail_temp.page = newPage;
        } else if (a === 0) {
            campaignTrail_temp.page = 0;
        }
    }

    let html = campaignTrail_temp.header;
	
	// for transitions
	const animClass = (a === 0) ? "" : "fade-in";
    
    // main scrollable container
    html += `<div id="main-ending-scroll-container" style="height: 38em; overflow: auto; position: relative;">`;
    
    // container for the narrative text
    html += `<div id="endingtxt" class="ending-narrative-content ${animClass}">
                <table style='margin:0px;padding:0px;display: table;width:100%;'>
                    <tbody style='display: table-row-group;'>
                        <tr style='display: table-row;'>
                            <td style='border: none;padding: 0px;display: table-cell;'>
                                <p style='margin-left: 0em;margin-right: 0em;'>${campaignTrail_temp.pages[campaignTrail_temp.page]}</p>
                            </td>
                        </tr>
                    </tbody>
                </table>
             </div>`;

    // placeholder for stats
    html += `<div id="ending-stats-container" style="padding-top: 1rem;"></div>`;
    html += `</div>`;
    
    // buttons
    html += "<div class=\"button_container\" style=\"margin-top: 0.5rem;\">";
    const currentPage = campaignTrail_temp.page;
    const lastPage = campaignTrail_temp.pages.length - 1;
    
    if (campaignTrail_temp.pages.length > 1) { 
        if(currentPage === 0){
            html += `<button style='position: relative;' onclick='endingConstructor(1)'>Next</button>`;
        } else if(currentPage === lastPage){
            html += `<button style='z-index: 10; position: relative;' onclick='endingConstructor(-1)'>Back</button>`;
        } else {
            html += `<button style='z-index: 10; position: relative;' onclick='endingConstructor(-1)'>Back</button>
                     <button style='margin-left: 5px; position: relative;' onclick='endingConstructor(1)'>Next</button>`;
        }
    }
    html += "</div>";
    return html;
};

let resetPage = false;

endingConstructor = (a = 1) => {
    if(resetPage){
        a = 0;
        resetPage = false;
    }

    const finalDesc = document.getElementById("final_results_description");
    if (!finalDesc) return;

    // reset image to false at the start of every render
    // this prevents the previous page's image from "sticking" if the current page has no executable
    campaignTrail_temp.image = false;

    // preserve stats elements
    const difficultyTxt = document.getElementById("difficulty_mult");
    const overallVote = document.getElementById("overall_vote_statistics");
    const mapFooter = document.getElementById("map_footer");
    
    // render text
    finalDesc.innerHTML = construct(a); 
    
    finalDesc.style.textAlign = "left";
    finalDesc.style.width = "72%";
    finalDesc.style.height = "auto"; 
    finalDesc.style.marginLeft = "auto";
    finalDesc.style.marginRight = "auto";

    // run executables
    for (let i = 0; i < campaignTrail_temp.executable.length; i++) {
        if (campaignTrail_temp.executable[i][0] === campaignTrail_temp.page) {
            try {
                campaignTrail_temp.executable[i][1]();
            } catch (e) { console.error(e); }
        }
    }

    // handle image display
    const candImg = document.querySelector(".person_image");
    
    if (campaignTrail_temp.image) {
        setImage(campaignTrail_temp.image);
    } else {
        if (candImg) {
            candImg.style.display = 'none';
        }
    }
    
    // append the stats elements
    const statsContainer = document.getElementById("ending-stats-container");
    if (statsContainer) {
        [difficultyTxt, overallVote, mapFooter].forEach(el => {
            if(el) {
                el.style.position = "relative"; 
                el.style.display = "block";
                el.style.margin = "0.5rem 0";
                statsContainer.appendChild(el);
            }
        });
    }
};

function attemptRenderEnding() {
    // if we're in contingent mode, don't attempt to render regular endings
    if (contingentMode) {
        return true;
    }
    
    const finalDesc = document.getElementById("final_results_description");
    const difficultyTxt = document.getElementById("difficulty_mult");
    const overallVote = document.getElementById("overall_vote_statistics");
    const mapFooter = document.getElementById("map_footer");

    if (finalDesc && difficultyTxt && overallVote && mapFooter) {
        console.log("Ending elements found. Rendering ending.");
        endingConstructor(0);
        if (endingObserver) {
            endingObserver.disconnect();
            endingObserver = null;
            //console.log("Ending observer disconnected.");
        }
        return true;
    }
    //console.log("Ending elements not yet ready. Observer will continue watching.");
    return false;
}

// this makes the contingent scheme work at least
function addContingent(likelihoodA, likelihoodB, likelihoodC) {
  let tableAdded = false;
  const observer = new MutationObserver((mutationsList, obs) => {
    const container = document.getElementById("coalitionList");
    if (!container || tableAdded) return;

    tableAdded = true;

    // build table
    const tbl = document.createElement("table");
    Object.assign(tbl.style, {
      backgroundColor: "#fff",
      margin: "1em auto",
      width: "70%",
      border: "1px solid #000",
      borderCollapse: "collapse"
    });

    // header
    const hdr = ["Delegation", "Party", "Negotiate?", "Willingness"];
    const hr = document.createElement("tr");
    hdr.forEach(txt => {
      const th = document.createElement("th");
      th.textContent = txt;
      Object.assign(th.style, { border: "1px solid #ccc", padding: "0.5em" });
      hr.appendChild(th);
    });
    tbl.appendChild(hr);

    // data rows
    const rows = [
      ["Democratic Leadership",   "Democratic",   likelihoodA],
      ["Blue Dog Democrats",      "Democratic",   likelihoodB],
      ["Republican Moderates",    "Republican",   likelihoodC],
	  ["An Old Friend",           "???",   -1]
    ];

    // keep refs to checkboxes
    const checks = [];

    rows.forEach(([name, party, lik], idx) => {
      const tr = document.createElement("tr");

      // name cell
      [name, party].forEach(text => {
        const td = document.createElement("td");
        td.textContent = text;
        Object.assign(td.style, { border: "1px solid #ccc", padding: "0.5em" });
        tr.appendChild(td);
      });

      // checkbox cell
      const tdChk = document.createElement("td");
      const cb = document.createElement("input");
      cb.type = "checkbox";
      tdChk.appendChild(cb);
      Object.assign(tdChk.style, { border: "1px solid #ccc", padding: "0.5em", textAlign: "center" });
      tr.appendChild(tdChk);
      checks.push({ cb, lik });

      // willingness cell
      const tdLik = document.createElement("td");
      let label;
      if (lik === -1) {
          label = "???";
      } else if (lik >= 3) {
          label = "Highly Likely";
      } else if (lik === 2) {
          label = "Possible";
      } else if (lik === 1) {
          label = "Unlikely";
      } else {
          label = "Impossible";
      }
      tdLik.textContent = label;
      Object.assign(tdLik.style, { border: "1px solid #ccc", padding: "0.5em" });
      tr.appendChild(tdLik);

      tbl.appendChild(tr);
    });

    container.appendChild(tbl);

    // negotiate button
    const btn = document.createElement("button");
    btn.textContent = "Negotiate!";
    btn.style.display = "block";
    btn.style.margin = "1em auto";
    btn.addEventListener("click", () => {
      // ensure exactly one selected
      const selected = checks.filter(o => o.cb.checked);
      if (selected.length !== 1) {
        return alert("Please pick exactly one delegation.");
      }

      const { lik } = selected[0];
      // set CONTINGENT code: 
      //   1 = democratic leadership,
      //   2 = blue dogs,
      //   3 = republican moderates,
	  //   4 = farrakhan
      const idx = checks.indexOf(selected[0]) + 1;
      window.CONTINGENT = idx;

      // now rerun the special ending picker
      resetPage = true;
      endingPickerCONT();
    });
    container.appendChild(btn);

    obs.disconnect();
  });

  observer.observe(document.body, { childList: true, subtree: true });
}

function endingPickerCONT() {
  contingentMode = true;
  
  // tear down any observer
  if (window.contingentSafetyObserver) {
    window.contingentSafetyObserver.disconnect();
    window.contingentSafetyObserver = null;
  }
  if (endingObserver) {
    endingObserver.disconnect();
    endingObserver = null;
  }

  // reset the temp state
  campaignTrail_temp.pages      = [];
  campaignTrail_temp.executable = [];
  campaignTrail_temp.page       = 0;
  campaignTrail_temp.image      = false;

  // choose the content based on CONTINGENT
  let title, bodyHtml;
  
  const scores = {
      sandersRelations: window.sandersRelations || 0,
      wallStreetScore: window.wallStreetScore || 0,
      globalistScore: window.globalistScore || 0,
      hawkScore: window.hawkScore || 0,
      obamaLoyalty: window.obamaLoyalty || 0,
	  
      populistScore: window.populistScore || 0,
      aggressiveScore: window.aggressiveScore || 0,
      embracedSanders: window.embracedSanders === true,
      tookResponsibilityForEmails: window.tookResponsibilityForEmails === true,
  };
  const playerEV = window.playerEV || 269;
  const opponentEVs = 269; 
  const runningMateID = campaignTrail_temp.running_mate_id;
  const opName = window.opName || "Mitt Romney";
  const opLast = window.opLast || "Romney";
  
  switch (window.CONTINGENT) {
    case 1:
      title = "love after war";
      bodyHtml = `
	  <p>The map on the screen had not moved in forty-eight hours. It sat there, tied, with the rather serene indifference of an object that does not know it has become the most consequential arrangement of pixels in the Western Hemisphere. The markets, which do know such things, had begun to behave accordingly. You sat in the Oval Office, or rather you occupied it, staring at a list of Republican holdouts whose positions appeared to have been carved in granite and then laminated.</p>

	<p>The call, when it came, was not from any of them. Curiously, it was from Nancy Pelosi. “Come to the Capitol, Barack,” she said. There was no elaboration. The Speaker has always understood that brevity, deployed correctly, is its own form of power.</p>

	<p>What followed was the sort of crazy, legislative maneuvering that resulted in a handful of moderate Republicans, from districts in the Northeast and along the West Coast, breaking ranks during the contingent election. They did not merely abstain, which would have been remarkable enough. No, they voted for <i>you</i>. By the narrowest margin in the history of the Republic, you remained President of the United States. It was just as impressive as it was fascinating.</p>

	<p>An hour later, you found yourself in the Speaker’s office, a room that has always seemed to exist in a climate slightly cooler than the rest of the building. The air carried the faint scent of expensive chocolate — Pelosi, luckily, keeps a supply for visitors she wishes to unsettle, which was something. The Speaker sat behind her desk, as immaculate as if the preceding fifty-three hours had been a light Tuesday. When you asked, in a voice that came out closer to a whisper than you had intended, what the terms of the arrangement had been, she merely waved a hand. The gesture was small, precise, and somehow comprehensive enough.</p>

	<p>”There was no deal, Mr. President,” she said. “There were simply conversations. Conversations about the future of certain committee assignments, you see. A sudden, shared recognition among our colleagues across the aisle that a Republican administration, at this time, would prove, uh, how to put it… suboptimal for their particular constituencies.” She allowed the word to hang in the air, where it did not so much dissipate as settle.</p>

	<p>”But let’s be clear.” She leaned forward, and the temperature in the room appeared to drop an additional degree. “This was not a victory for your campaign. This… well, this was a salvage operation. You have been, if I may be direct, inept. You have been very, very confrontational in moments that called for transaction. You have permitted your ego to outpace your whip count, which is, I must tell you, a very dangerous ratio.” She paused. “That ends today.”</p>

	<p>Across the desk came a folder. You recognized, immediately, that it did not contain your agenda; it contained hers. “From here on,” the Speaker said, “we will do things the House way. You will provide the signature, annd I will provide the reality. Your reality, that is.”</p>

	<p>You looked at the folder, then at her. A smile touched your lips; it was dry, nervous, the smile of a man who has just been handed a second chance by the person who now owns it. You rose and extended your hand across the desk. Her handshake was firm, brief, and, you could not help but notice, entirely without warmth. It was the handshake of someone who has just completed a transaction and is already thinking about the next one.</p>

	<p><b>You’re in for an interesting four years.</b></p>
      `;
      campaignTrail_temp.executable.push([0, () => { campaignTrail_temp.image = 'https://www.denverpost.com/wp-content/uploads/2016/05/20101124__20101125_A12_ND25PELOSIp1.jpg?w=486'; }]);
      break;

    case 2:
      title = "confidential";
      bodyHtml = `<p>The Oval Office had a particular quality of light in late afternoon. It came through the tall windows at an angle that made everything look like a painting, like history itself was being rendered in real time. Barack Obama used to love that light. He used to sit at the Resolute Desk and feel the gravity of the men who had sat there before him, and instead of being crushed by it, he felt lifted. Chosen, even. Not by God, no, he wasn’t that arrogant, but by something. By the moment, by the work.</p>

<p>That Tuesday, he was reviewing briefing documents. National security matters, mostly. A situation developing in the Horn of Africa that required attention, nothing too unusual. Economic indicators that his team wanted him to see before the evening news cycle. Mundane things, presidential things. It was the kind of work that made a man forget he was in the middle of an electoral crisis because the country didn’t stop needing a president just because the election had ended in chaos. Oops.</p>

<p>The Constitution was clear about what happened next: the House of Representatives would choose the president, with each state delegation casting a single vote. Obama’s team had counted the delegations. It was close, agonizingly close, but if the Blue Dogs held, if they honored the agreements they’d made, he would survive.</p>

<p>He remembered being strangely calm. That was the part that would haunt him later; show calm he was. He had checked in with his team that morning, and while things were tight, they were manageable. The Blue Dog situation was handled, they assured him. Concessions had been made. Painful ones, yes, but necessary ones. Politics was compromise; he had said that a thousand times. He believed it, too. In fact, he still believed it, right up until the phone rang.</p>

<p>It was David Plouffe. Obama could tell something was wrong from the silence before the man spoke. He was a talker, a pacer, a man who filled rooms with energy and strategy and occasionally profanity, too. But in that moment, there was nothing. Just the sound of him breathing, and somewhere behind him, what might have been someone crying.</p>

<p>”Mr. President,” David said.</p>

<p>”David. What is it?”</p>

<p>Another pause. Obama set down his pen. He didn’t know why he would remember that detail later — the pen was just a cheap ballpoint he had been using to make margin notes —, but he would. He set it down like he already knew he wouldn’t be picking it up again.</p>

<p>”It’s over,” David said. “The House vote. The Dogs… yeah, they’re not voting for you. They’re not.”</p>

<p>The words didn’t make sense at first. They came into his ears as sounds, but his brain refused to assemble them into meaning. He had spoken to Heath Shuler personally. He had sat with him in this very office and looked him in the eye and asked him what he needed. He had given him things that made his own staff furious, things that would haunt him with progressives for years. And Shuler had shaken his hand. He had <i>promised.</i></p>

<p>”That’s not—” Obama started, and his voice cracked. Actually cracked, like he was fourteen again and couldn’t control the sounds coming out of his own throat. “David, that’s not what we agreed. I-I talked to them, we had a deal.”</p>

<p>”I know.”</p>

<p>”So what happened? What changed? Is it pressure from leadership? Because we can—I can call them again. I can offer—”</p>

<p>”Barack.” David’s voice was gentle now. “There’s nothing to offer. The vote already happened. It’s done. Your opponent won the House vote twenty minutes ago.”</p>

<p>Obama felt his legs go weak beneath him. He gripped the edge of the desk, knuckles whitening against the ancient wood.</p>

<p>”Twenty minutes,” he repeated. “The vote happened twenty minutes ago and no one—”</p>

<p>”We just found out. They kept it quiet until the last second, you know. Very sneaky, very coordinated. The Blue Dogs, some of the swing state delegations… they’d already decided, Barack. This wasn’t last-minute, too, they’ve been planning this for weeks.”</p>

<p>Weeks. They had been sitting across from him, nodding at his proposals, accepting his concessions, and they had already decided. They had watched him bleed political capital defending compromises that made his base furious, and they had already decided. The worst part was that this betrayal wasn’t even fresh; it was aged, fermented, brought out now like a wine they had been saving for a special occasion.</p>

<p>His death.</p>

<p>”What about—” He couldn’t finish the sentence because he didn’t know what came next. What about his legacy? What about healthcare? What about all the people who had knocked on doors and made phone calls and believed in something? What about his daughters, who had given up years of normal childhood for this? What about Michelle, who had never wanted this life in the first place but had stood beside him anyway?</p>

<p>”The constitutional process is complete,” David said, and his voice was hollow. “And, uh, we… we need to start thinking about the transition.”</p>

<p>Obama stood frozen, one hand still gripping the desk. Outside the windows, the light was beginning to fade, the golden afternoon sliding toward gray. He could see it now; the world was still turning, and it didn’t care.</p>

<p>”There has to be something,” he said. “A challenge, a recount in one of the deadlocked states. Something that changes the electoral math before—”</p>

<p>”There’s nothing. Our lawyers have been over it a hundred times. The House vote is final, it’s in the Constitution.”</p>

<p>”So what do we do?” Obama asked. His voice came out smaller than he intended. “What’s the play, David?”</p>

<p>The silence that followed was the loudest sound he had ever heard.</p>

<p>”There is no play,” David finally said. “We put out a statement, we thank our supporters, we start the transition process. That’s… that’s all there is.”</p>

<p>Obama closed his eyes. Behind his lids, he could see the faces of everyone who had believed in him. The volunteers who had given up their weekends. The donors who had written checks they couldn’t afford. The voters who had stood in line for hours, believing their votes would matter. And his team—God, his team. The young staffers who had postponed careers and relationships and lives to work eighteen-hour days in windowless offices, all for this.</p>

<p>All for nothing.</p>

<p>”David,” he said, and the tears were starting now. He could feel them building behind his eyes, pressure that demanded release. “What do I tell them? I mean, the staff, the volunteers, what do I—”</p>

<p>”You don’t have to tell them anything right now. We’ll handle the communications. You just… you take care of yourself. Take some time.”</p>

<p>”I’m still president for another two months, David. I don’t get to take time.”</p>

<p>”You do tonight. Tonight, you get to be human.”</p>

<p>Something in Obama’s chest cracked open at that.</p>

<p>”David,” he said, and his voice was barely a whisper now.</p>

<p>”Yeah?”</p>

<p>”I’m sorry. I’m sorry I couldn’t—that I wasn’t—”</p>

<p>”Don’t. Don’t do that.” David’s voice cracked too, and Obama realized he wasn’t the only one crying. “You did everything right. You were everything we hoped you’d be. This isn’t about you. This is about… uh, this is about a broken system and broken people and…”</p>

<p>He trailed off. There was nothing else to say. They both knew that explanations didn’t matter anymore. History wouldn’t remember the reasons; it would only remember the result.</p>

<p>”I love you, Barack,” David said quietly. “You know that, right? Whatever happens next, I need you to know that.”</p>

<p>The tears broke through then, streaming down Obama’s face before he could stop them. Not the polite, dignified tears of a statesman accepting a difficult moment, no, but real tears, hot and messy and utterly beyond his control.</p>

<p>”I love you too,” he managed. “Take care of everyone, David. Promise me.”</p>

<p>”I promise.”</p>

<p>”And thank them, all of them. Tell them it wasn’t their fault. Tell them I’m proud of everything we built, even if…”</p>

<p>He couldn’t finish. The words caught in his throat and died there.</p>

<p>”I’ll tell them,” David said softly. “Goodbye, Mr. President.”</p>

<p>”Goodbye, David.”</p>

<p>The line went dead.</p>

<p>Obama stood there for a long moment, the phone still pressed to his ear, listening to the silence. Then, very slowly, he pulled it away and stared at the screen. David’s name lingered for a moment before fading to black.</p>

<p>He turned the phone off. Not just ended the call, he ctually powered it down, watching the screen go dark and feeling something in himself go dark with it. He set it on the desk, next to the pen he had abandoned, next to the briefing documents that to him, suddenly seemed like artifacts from a lost civilization.</p>

<p><i>Move,</i> he told himself. <i>Do something. Be presidential.</i></p>

<p>He shuffled some papers. He didn’t even know what they were, honestly; he wasn’t reading them, just moving them, trying to create the appearance of normalcy in a world that had just shattered. Left stack to right stack, right stack back to left. Fetch this, captchalogue that. His hands were trembling. When had they started trembling?</p>

<p>The aide outside his door would be wondering about the call. The Secret Service would be monitoring his movements, noting the unusual length of time he had been silent. No, he needed to compose himself. He needed to walk out of this office and face the world and be the president for a little while longer.</p>

<p>But he couldn’t.</p>

<p>The strength that had carried him through a thousand crises, a million small defeats, and the daily grind of being the most scrutinized man on earth, all of it abandoned him at once. His legs buckled, and Barack Obama, 44th President of the United States, sank to the floor of the Oval Office like a puppet whose strings had been cut.</p>

<p>His back found the front of the Resolute Desk, and he slid down until he was sitting on the carpet, knees drawn up, and arms wrapped around them. The Presidential Seal loomed somewhere above him, and the flags, and all the trappings of power, and none of it meant anything. No, none of it could protect him from this.</p>

<p>The sobs came then. Ugly, gasping, animal sounds that he barely recognized as his own voice. Oh God. He pressed his face into his knees, desperate to muffle the noise. There were people just outside that door, people who could never see this, but he couldn’t stop. All his years of composure shattered like glass, and he wept like he hadn’t wept since he was a child.</p>

<p>He thought about his friends. The word felt foreign now, almost quaint. What friends? The people he had called allies, collaborators, partners in this grand experiment, where were they? Some had already distanced themselves when the deadlock was announced, their calls becoming less frequent, and others had simply vanished, slipping away into the comfortable anonymity of private life, unwilling to be associated with a sinking ship like him.</p>

<p>The Blue Dogs. He had tried so hard to understand them, to meet them where they were. He had offered them everything, and yet they had taken it all, smiled, and voted for his opponent anyway.</p>

<p><i>They never saw you as one of them,</i> a voice whispered in his head. <i>They never would have. You were foolish to think otherwise.</i></p>

<p>Maybe he was. Maybe he had always been foolish, believing that good faith and hard work could bridge any divide. The audacity of hope, as he had called it once. Pfft. Now the phrase felt like a cruel joke, an epitaph for his naivety.</p>

<p>His phone was dark on the desk above him. In the hours and days to come, it would fill with messages, from condolences to recriminations to the usual communications of people who didn’t know what to say. Some would be genuine. Most would be political, carefully calibrated expressions of sympathy that cost nothing and meant less.</p>

<p>And then, eventually, the messages would stop. That was how it worked. He had seen it happen to others; the gradual fade into irrelevance, the slow realization that the phone that once rang constantly had fallen silent. People moved on. Well, of course, they <i>had</i> to. There would be new fights, new causes, new leaders to champion fter all. Barack Obama would become a memory, and then a reference, and finally just a name in a history book that students would skim past on their way to more interesting chapters.</p>

<p><i>They’re all gone.</i></p>

<p>Obama wiped his face with his sleeve, not caring about the suit. The fabric was expensive, but it didn’t matter anymore. Nothing he wore would make him president again.</p>

<p>He drew a shaky breath and tried to compose himself. His face was wet, his eyes swollen, and his suit wrinkled from sitting on the floor. He probably looked like hell. He felt like hell! Slowly, he pushed himself to his feet. His legs were unsteady, his hands still trembling, but he was standing. That was something.</p>

<p>Maybe he was the only one left.</p>
		`;
      campaignTrail_temp.executable.push([0, () => { campaignTrail_temp.image = 'https://assets.bwbx.io/images/users/iqjWHBFdfxIU/iFVL6vgMfBmM/v1/-1x-1.webp'; }]);
      break;

    case 3:
      title = "hesitation marks";
      bodyHtml = `
<p>Politics can be best described as something of a “tragicomedy.”</p>

<p>Just the other day Barack could’ve sworn it was a blood feud, the walls crumbling around him when he so much as opened his mouth or emerged from behind a curtain. He recalled quite clearly the circumstances that beguiled him on healthcare. There was no time for cross-party handouts and friendly chitter-chatter: Washington was a house divided, and he could only rely on his own. Now, just a few years later, he sat in on boardroom negotiations, took conference calls that had been squeezed precariously between what felt like regularly-scheduled emergency meetings and threat assessments concerning threats across the seas to foreign lands, held with and among select members of the Republican congressional delegation who were on their way to enshrining an extension to his tenure.</p>

<p>Days turned to weeks until finally, the media could declare: Barack Obama would remain the 44th President of the United States for four more years.</p>

<p>Was this a victory? Yes. No. Okay, well, not no. Maybe. Kinda. Er. It was easy to let the negative thoughts cloud his perception on how to take this. On one hand, surely, it should’ve gone better, and never have gotten this bad to begin with that he needed his own bailout from Congress. But, one could contest, this gave a certain level of credence to his attempts to construct a credible reputation as a fair-handed leader, able to reach across the aisle and find common agreement with a loyal opposition. That was no easy feat itself.</p>

<p>The concessions were another story, of course, and one Barack wasn’t eager to dwell on long enough to try and embrace a comforting narrative. Future court appointments are to be thoroughly slimmed down to only the worst options left available, firm pledges to work hand-in-hand in closely reexamining those cost-of-living numbers when it came to Social Security benefits come early next year made Barack squeamish upon reflection, and the less said of Obamacare’s future, the better.</p>

<p>Barack won’t find himself being congratulated or appreciated on the flanks leftward of his person, now or possibly ever again, that much was guaranteed. They had already held great feelings of regret, doubt, consternation, among other adverbs of a hostile and/or cautious nature when it came to President Obama. And this hardly helped smooth matters over. If anything, Barack felt sicker looking upon the faces of his supporters than those of his detractors, whose hatred came with more discernible and clearer cause than that of his kindred spirits, now grief-stricken over what could’ve been. Barack knew all too well their despair, because deep down, he felt that, too.</p>

<p>Barack had stepped out to face the red-hot heat of the public eye rarely in the days that unfolded since it was announced he’d been saved from certain doom by the Grand Old Party under their own set of auspicious conditions, yet, he needed to stand tall, reaffirm himself and the national situation amid turmoil and tragedy all the same, one they could all agree was one they needed to acknowledge and mourn over. He was the representative of the people, and to that he would remain. Not president of a few, but to the many that saw him and called them their president.</p>

<p>Standing with senators Joe Manchin and Pat Toomey, underneath the greyish-blue sky that hung above Washington, which painted a portrait so grim, brutishly contrasting with the innocent pink hue of the cherry blossoms and foolishly authoritative white marble that surrounded them on all sides, he needed to mark another day. They had come to negotiate some kind of relief for it all. Barack gave a light pat on the back to Joe and a firm shake of the hand to Pat.</p>

<p>Maybe there’d be a brighter day ahead for him, and them all, come tomorrow.</p>`;
      campaignTrail_temp.executable.push([0, () => { campaignTrail_temp.image = 'https://media.gettyimages.com/id/80565136/photo/washington-democratic-presidential-hopeful-sen-barack-obama-listens-to-testimony-from-u-s-army.jpg?s=612x612&w=0&k=20&c=BpXCnanqRPkOvsASdx16fBehYg2YMPwzWUWOROk_zvo='; }]);	  
      break;
	  
	case 4:
      title = "barackstuck";
      bodyHtml = `
        <style>
    .mspa-wrapper {
        background-color: #535353;
        color: #000000;
        font-family: Verdana, Arial, Helvetica, sans-serif;
        font-size: 14px;
        margin: 0;
        padding: 0;
        text-align: center;
    }
    .mspa-main-table {
        width: 950px;
        margin: 0 auto;
        background-color: #c6c6c6;
        border-collapse: collapse;
    }
    .nav-bar {
        background-color: #5a5a5a;
        height: 17px;
        color: #ffffff;
        font-size: 10px;
        font-weight: bold;
    }
    .nav-bar a { color: #29ff4a; text-decoration: none; }
    .nav-bar a.blue { color: #39d5f6; }
    .nav-bar a.gold { color: #f7f72a; }
    .comic-area {
        background-color: #EEEEEE;
        width: 600px;
        margin: 0 auto;
        padding: 0 0 20px 0;
        border: 0;
    }
    .pesterlog-container {
        width: 550px;
        margin: 10px auto;
        background-color: #eeeeee;
        border: 1px dashed #808080;
        text-align: left;
        font-family: courier, monospace;
        font-weight: bold;
        font-size: 14px;
    }
    .pesterlog-inner {
        margin: 15px;
        line-height: 1.5;
    }
    .pesterlog-inner br {
        line-height: 1.8;
    }
    .command-text {
        font-family: courier, monospace;
        font-weight: bold;
        font-size: 24px;
        margin: 15px 0;
        padding: 1em 0 .5em 0;
    }
    .command-link {
        font-size: 18px;
        color: #0000FF;
        text-decoration: none;
    }
    .bo { color: #0054cd; }
    .ca { color: #2e8b57; }
    .pesterlog-header { color: #000000; }
    .sidebar-text {
        font-size: 10px;
        text-align: left;
        padding: 10px;
    }
    .narrative-text {
        width: 550px;
        margin: 0 auto;
        text-align: left;
        font-weight: bold;
        font-family: courier, monospace;
    }
</style>

<div class="mspa-wrapper">
    <table class="mspa-main-table">
        <tr class="nav-bar">
            <td colspan="2">
                <center>
                <a href="#" style="color:#fff">MS PAINT ADVENTURES</a> &nbsp; <img src="https://web.archive.org/web/20130117215241im_/http://mspaintadventures.com/images/candycorn.gif" align="absmiddle"> &nbsp;
                <a href="#">ARCHIVE</a> | <a href="#">NEW READER?</a> &nbsp; <img src="https://web.archive.org/web/20130117215241im_/http://mspaintadventures.com/images/candycorn.gif" align="absmiddle"> &nbsp;
                <a href="#" class="blue">MAP</a> | <a href="#" class="blue">LOG</a> | <a href="#" class="blue">SEARCH</a> &nbsp; <img src="https://web.archive.org/web/20130117215241im_/http://mspaintadventures.com/images/candycorn.gif" align="absmiddle"> &nbsp;
                <a href="#" class="gold">SHOP</a> | <a href="#" class="gold">MUSIC</a>
                </center>
            </td>
        </tr>

        <tr>
            <td width="700" valign="top" style="padding-top: 20px;">
                <div class="comic-area">
                    <p class="command-text">==> Barack: Message the Minister.</p>
                    
                    <img src="https://compote.slate.com/images/50f4d645-cc0b-46c7-95ed-cbcf725959e4.jpg" width="600" style="margin-bottom: 20px;">

                    <div class="narrative-text">
                        A weary PRESIDENT stands in his OVAL OFFICEBLOCK. It is a day of monumentally fucked proportions. You feel like you are about to shit roughly one million bricks, and then immediately be asked to organize those bricks into a functional coalition government.
                        <br><br>
                        Despite your best efforts to be the GEEKY CALCULATOR-THEMED UNITER that America supposedly elected, the results have returned a perfect, agonizing STALEMATE. 269 to 269. It is the most accursed number. It is the SEX NUMBER turned sideways and forced to gaze upon its own damned reflection for eternity.
                        <br><br>
                        The number of DEMANDS currently being shoved up your WASTECHUTE by the HOUSE OF REPRESENTATIVES is roughly equal to the number of grains of sand on a MEDIUM-SIZED BEACH. You cannot even BEGIN to enumerate the horseshit you are dealing with right now.
                        <br><br>
                        There is only one man who can help you in times like these. A man who understands NUMEROLOGY on a level that borders on the clinically insane. A man with CONNECTIONS to forces beyond your comprehension, and also probably several FBI WATCHLISTS.
                        <br><br>
                        You open PESTERCHUM.
                    </div>

                    <div class="pesterlog-container">
                        <div class="pesterlog-inner">
                            <span class="pesterlog-header">-- broadOptimist [BO] began pestering calculatedAscendancy [CA] at 22:14 --</span><br><br>
                            <span class="bo">BO: minister are you there</span><br>
                            <span class="bo">BO: please tell me you are there and not on another astral sojourn</span><br>
                            <span class="ca">CA: I Am Always Here, Brother Barack.</span><br>
                            <span class="ca">CA: Observing The Signs, Watching The Numbers Tumble Like Dry Leaves In A Cold Wind.</span><br>
                            <span class="ca">CA: The Wheel Has Been Speaking To Me Of This Day For Some Time Now.</span><br>
                            <span class="bo">BO: yeah well the wheel can take a number because right now the only numbers i care about are 269-269</span><br>
                            <span class="bo">BO: the gop is trying to extract my internal organs in exchange for a single house delegate vote</span><br>
                            <span class="bo">BO: i believe mcconnell literally used the phrase "pound of flesh" and he was NOT being metaphorical</span><br>
                            <span class="ca">CA: The Deadlock Is But A Test Of The Spirit. It Is A Crucible, Brother. You Must Be Like The Investigator Of The Wolf.</span><br>
                            <span class="bo">BO: what</span><br>
                            <span class="ca">CA: Have You Seen The Motion Picture "Hoodwinked!", Barack?</span><br>
                            <span class="ca">CA: From The Year 2005, In The Era Of The Burning Bush?</span><br>
                            <span class="bo">BO: minister i am literally facing a constitutional crisis of unprecedented magnitude</span><br>
                            <span class="bo">BO: the supreme court is sharpening their gavels as we speak</span><br>
                            <span class="bo">BO: are you seriously asking me about a cgi animated film right now</span><br>
                            <span class="ca">CA: It Is A Revelation Cloaked In Children's Entertainment.</span><br>
                            <span class="ca">CA: There Is A Grandmother In It. Granny Puckett. The World Thought She Was A Simple Baker Of Muffins, A Humble Pastry Merchant Of No Particular Consequence.</span><br>
                            <span class="ca">CA: But No, She Was Living A Double Life As An Extreme Sports Enthusiast. Triple G, They Called Her. She Was Doing Backflips Off Mountain Peaks While The Deceiver Lurked In The Shadows.</span><br>
                            <span class="bo">BO: oh my god</span><br>
                            <span class="ca">CA: The Deceiver Was The Bunny, Barack. Boingo, He Was Called. He Hoarded The Recipes. He Sought To Control The Means Of Confectionary Production.</span><br>
                            <span class="ca">CA: And The Squirrel. Twitchy. He Drank The Coffee And Perceived Time As A Static Image. He Moved Between Seconds Like A Man Walking Through Doorways. Fascinating. I Get Those Goosebumps Every Time.</span><br>
                            <span class="ca">CA: THAT Is How You Must Handle The GOP.</span><br>
                            <span class="bo">BO: by</span><br>
                            <span class="bo">BO: drinking coffee and becoming a time-frozen squirrel</span><br>
                            <span class="ca">CA: By Revealing That Beneath Your Suit Lies The Heart Of A Paraglider.</span><br>
                            <span class="ca">CA: They Think You Are The Baker. Show Them You Are Triple G. Quadruple G, Maybe Even Better.</span><br>
                            <span class="bo">BO: i'm going to go call biden now</span><br>
                            <span class="bo">BO: joe might be incoherent but at least his incoherence doesn't involve your lagomorphic allegories</span><br>
                            <span class="ca">CA: The Bunny Was The Villain, Barack.</span><br>
                            <span class="ca">CA: Remember The Bunny. Don't Put The Bunny In The Box.</span><br>
                            <span class="ca">CA: You Have Been Warned.</span><br><br>
                            <span class="pesterlog-header">-- broadOptimist [BO] ceased pestering calculatedAscendancy [CA] at 22:31 --</span>
                        </div>
                    </div>

                    <div style="margin-top: 20px;">
                        <font size="5">==> <a href="#" class="command-link">Barack: Begrudgingly consult your muffin recipes.</a></font>
                    </div>
                </div>
                
                <div style="padding: 20px; font-size: 10px; font-weight: bold;">
                    <a href="#">Start Over</a> | <a href="#">Go Back</a>
                </div>
            </td>
        </tr>

        <tr>
            <td colspan="2" style="background-color: #efefef; border-top: 7px solid #c6c6c6; padding: 20px;">
                <img src="https://web.archive.org/web/20130117215241im_/http://mspaintadventures.com/images/title.png" width="950"><br>
                <div style="font-size: 9px; text-align: left; font-weight: bold;">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MSPAdventures.com &copy; 2012</div>
            </td>
        </tr>
    </table>
</div>
      `;
      campaignTrail_temp.executable.push([0, () => { campaignTrail_temp.image = 'https://file.garden/aNtAfG887DiA_7lO/2012LBM/EcononyBarack.png'; }]);	  
      break;

    default:
      title = "Error";
      bodyHtml = `<em>Huh, something went wrong here. You probably chose no coalition path, or I made a typo that led you here. This is awkward. Well, here's empathy Rigby for you.</em> <img src=https://file.garden/aNtAfG887DiA_7lO/2012LBM/empathyrigby.webp width="50%">`;
  }
  
  // push the narrative page first
  const narrativePageHTML = `
	<div id="contingent-ending-flag"></div>
    <div style="
      background: #fdfaf2 url('https://www.transparenttextures.com/patterns/paper-fibers.png');
      color: #212121; border: 2px solid #ddd; padding: 1.5em;
      font-family: Georgia, serif; line-height: 1.6;
      box-shadow: 0 3px 6px rgba(0,0,0,0.08), 0 10px 20px rgba(0,0,0,0.12); border-radius: .75em 0 0 .75em;
    ">
      <h2 style="text-align:center; color:#002D62; margin: 0 1em .5em 1em; border-bottom: 2px solid #711e0a; padding-bottom: 0.5em;">You have made a decision.</h2>
      <h3 style="text-align:center; color:#b30000; margin-bottom:1.5em; font-style: italic;">${title}</h3>
      <div style="padding:0 1em;">${bodyHtml}</div>
    </div>
  `;
  campaignTrail_temp.pages.push(narrativePageHTML);

  // push the cabinet pages next
  let cabinetHTML;
  let cabinetImageExec = () => { 
        campaignTrail_temp.image = 'https://file.garden/aNtAfG887DiA_7lO/2012LBM/whitehouse.jpg';
        setImage(campaignTrail_temp.image); 
  };

  switch (window.CONTINGENT) {
    case 1:
      let establishmentScores = {...scores, obamaLoyalty: scores.obamaLoyalty + 3, sandersRelations: scores.sandersRelations - 2};
      cabinetHTML = generateCabinetTimeline('win', playerEV, runningMateID, establishmentScores);
      break;
    case 2:
      cabinetHTML = generateCabinetTimeline('loss', playerEV, runningMateID, scores);
      break;
    case 3:
      cabinetHTML = generateCabinetTimeline('win', 271, runningMateID, scores);
      break;
    case 4:	
      cabinetHTML = generateCabinetTimeline('win', 350, runningMateID, scores);
      break;
  }
  
  campaignTrail_temp.pages.push('<div id="contingent-ending-flag"></div>' + cabinetHTML);
  campaignTrail_temp.executable.push([1, cabinetImageExec]);

  // inject bonus slides
  const activeBonusSlides = bonusSlides.filter(slide => slide.condition(playerEV, opponentEVs));
  let slideIndex = 2; 

  activeBonusSlides.forEach(slide => {
      campaignTrail_temp.pages.push('<div id="contingent-ending-flag"></div>' + slide.html);
      
      const currentIdx = slideIndex; 
      campaignTrail_temp.executable.push([currentIdx, () => { 
          campaignTrail_temp.image = slide.image;
          if(typeof setImage === 'function') setImage(campaignTrail_temp.image);
      }]);
      slideIndex++;
  });

  // begin rendering
  const renderIfNeeded = () => {
    const finalDesc = document.getElementById("final_results_description");
    if (finalDesc && !finalDesc.querySelector("#contingent-ending-flag")) {
        endingConstructor(0);
    }
  };
  
  renderIfNeeded();

  window.contingentSafetyObserver = new MutationObserver((mutationsList) => {
      renderIfNeeded();
  });
  
  const targetNode = document.getElementById('game_window') || document.body;
  window.contingentSafetyObserver.observe(targetNode, { childList: true, subtree: true });
}

// This function generates the HTML for the congressional results slide and injects it into the ending sequence.
function generateAndPushCongressSlide() {
    const E = campaignTrail_temp;
	if (!E.__congress2012 && typeof E.calculateCongressResults === 'function') {
        E.calculateCongressResults();
    }
    if (!E.__congress2012) {
        console.warn("Congressional data not yet calculated. Skipping results slide...");
        return;
    }

    const { senate, senateG, house, houseG, senateDetails } = E.__congress2012;

    const PRE_ELECTION_SENATE_HOLDERS = {
        "Arizona": "R", "California": "D", "Connecticut": "I", "Delaware": "D",
        "Florida": "D", "Hawaii": "D", "Indiana": "R", "Maine": "R",
        "Maryland": "D", "Massachusetts": "R", "Michigan": "D", "Minnesota": "D",
        "Mississippi": "R", "Missouri": "D", "Montana": "D", "Nebraska": "D",
        "Nevada": "R", "New Jersey": "D", "New Mexico": "D", "New York": "D",
        "North Dakota": "D", "Ohio": "D", "Pennsylvania": "D", "Rhode Island": "D",
        "Tennessee": "R", "Texas": "R", "Utah": "R", "Vermont": "I",
        "Virginia": "D", "Washington": "D", "West Virginia": "D", "Wisconsin": "D", "Wyoming": "R"
    };
    
    const INCUMBENTS_2012 = {
        "AZ": null, "CA": "Dianne Feinstein", "CT": null, "DE": "Tom Carper", "FL": "Bill Nelson", "HI": null, "IN": null, "ME": null, "MD": "Ben Cardin", "MA": "Scott Brown", "MI": "Debbie Stabenow", "MN": "Amy Klobuchar", "MS": "Roger Wicker", "MO": "Claire McCaskill", "MT": "Jon Tester", "NE": null, "NV": "Dean Heller", "NJ": "Bob Menendez", "NM": null, "NY": "Kirsten Gillibrand", "ND": null, "OH": "Sherrod Brown", "PA": "Bob Casey Jr.", "RI": "Sheldon Whitehouse", "TN": "Bob Corker", "TX": null, "UT": "Orrin Hatch", "VT": "Bernie Sanders", "VA": null, "WA": "Maria Cantwell", "WV": "Joe Manchin", "WI": null, "WY": "John Barrasso"
    };

    const fmtDelta = (n) => n > 0 ? `+${n}` : n < 0 ? `${n}` : `NC`;
    
    const getPartyColor = (party) => {
        if (party.includes('Dem')) return '#004a80'; 
        if (party.includes('Rep')) return '#aa0000'; 
        if (party.includes('Ind')) return '#4a804a'; 
        return '#666666';
    };
    
    const getPartyInitial = (party) => {
        if (party.includes('Dem')) return 'D';
        if (party.includes('Rep')) return 'R';
        if (party.includes('Ind')) return 'I';
        return 'O';
    };

    const getLastName = (fullName) => {
        const nameParts = fullName.replace(/,?\s+(Jr\.|Sr\.|[IVX]+)$/i, '').split(' ');
        return nameParts[nameParts.length - 1];
    };

    // helper to format lists grammatically: "A, B, and C" instead of "A, B, C"
    const formatList = (list) => {
        if (!list || list.length === 0) return "";
        if (list.length === 1) return list[0];
        if (list.length === 2) return `${list[0]} and ${list[1]}`;
        return `${list.slice(0, -1).join(', ')}, and ${list[list.length - 1]}`;
    };

    function generateDynamicNarratives() {
        const playerWonPresidency = E.final_overall_results.find(r => r.candidate === E.candidate_id)?.electoral_votes >= 270;
        const demCaucus = senate.dem + senate.ind;
        const houseMargin = Math.abs(house.dem - house.rep);
        const demHouseGain = houseG.dem;
        
        // gather flip and hold data
        const flips = []; const holds = [];
        senateDetails.order.forEach(stateName => {
            const race = senateDetails.byState[stateName];
            const originalHolderParty = PRE_ELECTION_SENATE_HOLDERS[stateName];
            const winnerParty = getPartyInitial(race.winner);
            const stateAbbr = E.states_json.find(s => s.fields.name === stateName)?.fields.abbr;
            const incumbent = INCUMBENTS_2012[stateAbbr];
            const isCaucusChange = (originalHolderParty === 'I' && winnerParty === 'D') || (originalHolderParty === 'D' && winnerParty === 'I');
            const raceData = { 
                state: stateName, 
                margin: race.margin * 100, 
                winner: race.results[0].name, 
                loser: race.results[1]?.name || "Other", 
                winnerParty, 
                loserParty: getPartyInitial(race.results[1]?.party || ""),
                originalHolder: originalHolderParty, 
                incumbent 
            };
            if (winnerParty !== originalHolderParty && !isCaucusChange) flips.push(raceData);
            else holds.push(raceData);
        });

        const demFlips = flips.filter(f => f.winnerParty === 'D' || f.winnerParty === 'I').sort((a,b) => a.margin - b.margin);
        const repFlips = flips.filter(f => f.winnerParty === 'R').sort((a,b) => a.margin - b.margin);
        const closeHolds = holds.filter(h => h.margin < 5).sort((a, b) => a.margin - b.margin);
        const closestFlip = [...flips].sort((a,b) => a.margin - b.margin)[0];
        
        // specifically check Nebraska
        const nebraskaFlip = repFlips.find(f => f.state === "Nebraska");
        const nebraskaHold = holds.find(h => h.state === "Nebraska" && (h.winnerParty === 'D' || h.winnerParty === 'I'));

        let houseNarratives = [];
        
        if (house.dem >= 218) {
            // DEMOCRATS WON HOUSE
            if (playerWonPresidency) {
                houseNarratives = [
                    `The House of Representatives is yours! Riding your coattails, Democrats have reclaimed the majority with ${house.dem} seats, with a ${houseMargin}-seat advantage. Your strength in suburban battlegrounds proved decisive, and pundits are calling this a complete vindication of your governing vision. With unified control of Congress and the White House, your second-term agenda has a clear runway. Hell yeah.`,
                    `A resounding victory: Democrats have won back the House with ${house.dem} seats, delivering you the trifecta. It looks like Boehner’s two-year reign is over. Your performance in key swing districts, particularly in states like Pennsylvania, Illinois, and New York, drove a wave that analysts say was directly tied to your presidential margins. The path to your legislative accomplishments just got a whole lot easier.`,
                    `Not only did you win reelection, but Democrats also flipped ${Math.abs(demHouseGain)} seats to reclaim the House majority. From California’s competitive districts to suburban Philadelphia, it appears your campaign’s message resonated down-ballot. Nancy Pelosi is poised to reclaim the Speaker’s gavel, and Republicans are already pointing fingers over their stunning losses.`,
                    `Democrats have seized control of the House of Representatives with ${house.dem} seats, a ${houseMargin}-seat cushion that gives you real governing power. Generally speaking, most political strategists credit your robust ground game and message discipline, particularly on healthcare and the economy, with driving turnout that lifted vulnerable Democratic challengers across the map. The Republican majority of 2010, well, is now history.`,
                    `It’s a clean sweep: your presidential victory came with a Democratic House takeover. With ${house.dem} seats now in the Democratic column (a net gain of ${Math.abs(demHouseGain)}), it appears progressive priorities suddenly look achievable. If that’s what you prefer to focus on, of course…`,
                    `The House has flipped blue. Democrats secured ${house.dem} seats, powered by your strong suburban performance and a mobilized base. From Orange County to Long Island, districts that seemed safe for Republicans suddenly crumbled under the weight of your presidential campaign’s momentum. With Nancy Pelosi returning as Speaker, your second term begins with real legislative muscle.`,
                    `Democrats won the House by ${houseMargin} seats, notching critical victories in swing districts across Pennsylvania, Illinois, California, and New York. Your campaign’s organizing infrastructure translated directly into House gains. Not only that, but political scientists are already calling this one of the most effective presidential coattail performances in decades.`,
                    `The map turned blue in the House, with Democrats claiming ${house.dem} seats and a working majority. Your presidential margins in key metros, including Philadelphia, Chicago, and Denver, translated into House pickups that pollsters didn’t see coming. Boehner is out, and your party controls the legislative agenda for the first time since 2010. Perhaps this is the mandate you needed.`
                ];
            } else {
                houseNarratives = [
                    `In a remarkable display of ticket-splitting, Democrats have won control of the House with ${house.dem} seats despite your loss to ${window.opName}. Voters seem to have delivered a divided verdict: a Republican president checked by a Democratic House. Well, at least your party has a foothold to resist the incoming administration’s agenda.`,
                    `Here’s a silver lining: Democrats flipped the House, securing ${house.dem} seats even as you fell short in the presidential race. The incoming ${window.opName} administration will immediately face a Democratic firewall in the lower chamber, ready to block any legislative overreach. It’s not really much, but it’s something.`,
                    `While you lost the presidency, Democrats won back the House with a ${houseMargin}-seat majority. Political analysts are quite stunned by these results, pointing to local factors and strong Democratic recruits who outperformed your presidential margins. Speaker Pelosi will serve as the chief opposition to President-elect ${window.opName}.`,
                    `Democrats reclaimed the House of Representatives with ${house.dem} seats, even as your presidential campaign came up short. It’s a bittersweet, honestly; your party has a platform to resist ${window.opName}’s agenda, but divided government also means limited opportunities for major legislation. It’s not easy.`,
                    `Significant ticket-splitting delivered a Democratic House (${house.dem} seats) alongside a ${window.opName} presidency. Voters in suburban districts, particularly in California, Illinois, and New York, backed Republicans for president but Democrats for Congress. Your party at least has the power to obstruct, investigate, and set the terms of debate for the next two years.`,
                    `Against the odds, Democrats captured the House with ${house.dem} seats despite losing the White House. It’s a consolation prize after a brutal presidential defeat, but Speaker Pelosi will wield the gavel as a check on ${window.opName}. Political observers are calling this one of the stranger electoral outcomes in modern memory.`
                ];
            }
        } else {
            // REPUBLICANS KEPT/WON HOUSE
            if (playerWonPresidency) {
                houseNarratives = [
                    `As expected, Republicans successfully defended their House majority, holding ${house.rep} seats despite your presidential victory. Speaker Boehner’s ${houseMargin}-seat advantage means your second term begins under divided government. Expect some battles in the future.`,
                    `The House remains in Republican hands with ${house.rep} seats, a frustrating ${houseMargin}-seat majority that will constrain your second-term ambitions. Despite winning the presidency, it seems your coattails weren’t enough to overcome gerrymandered maps and Republican strength in rural districts. Divided government is your reality for at least two more years.`,
                    `Republicans held the House with ${house.rep} seats, limiting your ability to advance major legislation despite your presidential mandate. Speaker Boehner has already promised aggressive oversight and opposition to your priorities. Looks like the next two years will test your skills at executive action and strategic negotiation.`,
                    `It appears Republicans kept their House majority at ${house.rep} seats. While you won the national popular vote by a comfortable margin, gerrymandering and geographic sorting left Democrats short of the 218 seats needed for control. It’s going to be a long, long second term.`,
                    `Despite your reelection, the House stayed red, with ${house.rep} Republican seats to ${house.dem} Democratic. Boehner’s majority is narrower than before, but it’s enough to block your legislative agenda and force you to govern through executive orders and a lot of, erm, creative dealmaking, if we can call it that way.`,
                    `Republican have secured ${house.rep} House seats, maintaining their majority even as you won a second term. Although you dominated in urban and diverse districts, most rural and exurban seats stayed stubbornly red, which contributed to the results here. It seems your legislative options are limited.`,
                    `Republicans defended their House majority with ${house.rep} seats, a ${houseMargin}-seat edge that will define the limits of your second term. While you carried the presidency with room to spare, down-ballot races told a different story. It’s not gonna be a fun two years.`
                ];
            } else {
                houseNarratives = [
                    `Riding a national wave that also delivered the presidency to ${window.opName}, Republicans have strengthened their grip on the House with ${house.rep} seats. Not a good sign for you.`,
                    `The Republican wave was real, after all. They’ve held the House with a commanding ${house.rep}-seat majority, complementing ${window.opName}’s presidential victory. This unified GOP government will move aggressively on healthcare, taxes, and regulation. For your party, it’s a bad period that could last years.`,
                    `Republicans defended their House majority with ${house.rep} seats, part of a broader electoral victory that included the presidency. ${window.opName} will take office with a much cooperative Congress, as Democrats are left to regroup and rebuild.`,
                    `The House stayed in Republican hands, with ${house.rep} seats, as part of a GOP sweep that included your defeat in the presidential race. Speaker Boehner and President-elect ${window.opName} will have the wind at their backs, and Democrats will be relegated to symbolic opposition. It’s a dark night, but morning will eventually come.`,
                    `Republicans kept their ${house.rep}-seat House majority while also winning the White House. It’s a complete rejection of your vision, and the incoming administration has a clear path to enact its agenda. For congressional Democrats, the task now is to minimize damage and prepare for the midterms.`,
                    `Republicans held ${house.rep} House seats and won the presidency. With that being said, it seems ${window.opName} will waste no time pushing through conservative legislation. This is not what you were hoping for.`
                ];
            }
        }

        let senateNarratives = [];

        const controlPhrase = demCaucus >= 50 ? "defended their majority" : "lost control";
        const controlDetail = demCaucus >= 50 ? `securing ${demCaucus} seats in their caucus` : `reduced to just ${demCaucus} seats as Republicans seized control`;

        // build independent mention
        let indMention = "";
        if (senate.ind > 0) {
            const indNames = senateDetails.order
                .filter(sn => getPartyInitial(senateDetails.byState[sn].winner) === 'I')
                .map(sn => getLastName(senateDetails.byState[sn].results[0].name));
            indMention = `Independent${indNames.length > 1 ? 's' : ''} ${formatList(indNames)} will caucus with the Democrats, as expected. `;
        }

        // flip narratives with many variants
        let flipNarrative = "";
        if (demFlips.length === 0 && repFlips.length === 0) {
            flipNarrative = "Curiously, it seems no seats changed hands between the parties this cycle; the first time since 1996 that every Senate race maintained the partisan status quo. ";
        } else {
            const demFlipList = formatList(demFlips.map(f => f.state));
            const repFlipList = formatList(repFlips.map(f => f.state));
            
            let flipVariants = [];

            if (demFlips.length > 0 && repFlips.length > 0) {
                // both parties flipped seats
                flipVariants = [
                    `Democrats flipped ${demFlipList}, while Republicans picked up ${repFlipList}. `,
                    `The Senate map saw action on both sides: Democrats seized ${demFlipList}, but Republicans countered with wins in ${repFlipList}. `,
                    `Flips went both ways, as Democrats captured ${demFlipList}, though Republicans notched their own victories in ${repFlipList}. `,
                    `It was a mixed night: ${demFlipList} flipped to Democrats, while Republicans claimed ${repFlipList}. `,
                ];
            } else if (demFlips.length > 0) {
                // only Dem flips
                flipVariants = [
                    `Democrats successfully flipped Republican-held seats in ${demFlipList}, expanding their map in key states. `,
                    `The blue wave reached the Senate: Democrats picked up ${demFlipList}, all previously held by Republicans. `,
                    `Democrats notched critical victories in ${demFlipList}, flipping seats that had been in Republican hands. `,
                    `In a strong showing, Democrats captured ${demFlipList} from the GOP. `,
                ];
            } else if (repFlips.length > 0) {
                // only GOP flips
                flipVariants = [
                    `Republicans flipped ${repFlipList}, previously held by Democrats, in a strong performance that reshaped the Senate map. `,
                    `The GOP seized Democratic seats in ${repFlipList}, marking significant pickups in their quest for control. `,
                    `Democrats suffered losses in ${repFlipList}, all of which flipped to Republican control. `,
                    `A tough night for Senate Democrats: they lost ${repFlipList} to Republican challengers. `,
                ];
            }

            flipNarrative = flipVariants[Math.floor(Math.random() * flipVariants.length)];
        }

        // Nebraska-specific mention
        let nebraskaMention = "";
        if (nebraskaFlip) {
            const neMentions = [
                `Nebraska, long expected to flip after Ben Nelson's retirement, did exactly that, with ${getLastName(nebraskaFlip.winner)} winning by ${nebraskaFlip.margin.toFixed(1)}%. `,
                `As anticipated, Nebraska's open seat went Republican; ${getLastName(nebraskaFlip.winner)} cruised to victory by ${nebraskaFlip.margin.toFixed(1)}% in the deep-red state. `,
                `The widely predicted Nebraska flip materialized: ${getLastName(nebraskaFlip.winner)} (R) won Ben Nelson's old seat by ${nebraskaFlip.margin.toFixed(1)}%, a foregone conclusion in retrospect. `,
                `Nebraska was always going to flip, and it did, with ${getLastName(nebraskaFlip.winner)} winning by ${nebraskaFlip.margin.toFixed(1)}% in a race that never quite got competitive. `,
                `Unsurprisingly, Nebraska returned to Republican hands after Democrat Ben Nelson's retirement, with ${getLastName(nebraskaFlip.winner)} prevailing by ${nebraskaFlip.margin.toFixed(1)}%. `,
            ];
            nebraskaMention = neMentions[Math.floor(Math.random() * neMentions.length)];
        } else if (nebraskaHold) {
            // Nebraska FAILED to flip
            const neMentions = [
                `In a stunning upset that perhaps best illustrates the depth of the Democratic wave, the party managed to hold the open seat in Nebraska. ${getLastName(nebraskaHold.winner)} defied gravity in the deep-red state, winning by ${nebraskaHold.margin.toFixed(1)}%. `,
                `Defying all polls and conventional wisdom, Democrats retained Ben Nelson's seat in Nebraska. This result is being cited by analysts as evidence of a total Republican collapse; ${getLastName(nebraskaHold.winner)}'s victory here was simply not supposed to happen. `,
                `Perhaps the biggest shock of the night came from Nebraska, where Democrats held onto the open Senate seat against all odds. If Democrats can win here, they can win anywhere. `,
                `In a result that will likely cost several GOP strategists their jobs, the open seat in Nebraska stayed blue. ${getLastName(nebraskaHold.winner)} defeated their Republican challenger by ${nebraskaHold.margin.toFixed(1)}% in what was expected to be an easy pickup for the GOP. `,
            ];
            nebraskaMention = neMentions[Math.floor(Math.random() * neMentions.length)];
        }

        // close holds mention
        let closeHoldsMention = "";
        if (closeHolds.length > 0) {
            const numToMention = Math.min(closeHolds.length, 3);
            const mentionedHolds = closeHolds.slice(0, numToMention);
            
            const holdDescriptions = mentionedHolds.map(hold => {
                const winnerLast = getLastName(hold.winner);
                const loserLast = getLastName(hold.loser);
                const variants = [
                    `${winnerLast}'s (${hold.winnerParty}) narrow hold in ${hold.state} against ${loserLast} (+${hold.margin.toFixed(1)}%)`,
                    `${hold.state}, where ${winnerLast} retained the seat by a razor-thin ${hold.margin.toFixed(1)}%`,
                    `${winnerLast}'s ${hold.margin.toFixed(1)}% squeaker over ${loserLast} in ${hold.state}`,
                    `the ${hold.state} nail-biter, which ${winnerLast} (${hold.winnerParty}) won by ${hold.margin.toFixed(1)}%`,
                ];
                return variants[Math.floor(Math.random() * variants.length)];
            });

            const introVariants = [
                `Several incumbents dodged bullets in close races: `,
                `A number of seats stayed in their party's column despite single-digit margins: `,
                `Not every competitive race flipped, that is. Close holds included `,
                `Some of the night's closest races didn't change hands: `,
            ];

            closeHoldsMention = introVariants[Math.floor(Math.random() * introVariants.length)] + 
                               formatList(holdDescriptions) + '. ';
        }

        // closest flip mention
        let closestFlipMention = "";
        if (closestFlip && closestFlip.margin < 3) {
            const cfVariants = [
                `The closest flip of the night came in ${closestFlip.state}, where ${getLastName(closestFlip.winner)} (${closestFlip.winnerParty}) edged out ${getLastName(closestFlip.loser)} by a mere ${closestFlip.margin.toFixed(2)}%; a margin of just a few thousand votes. `,
                `${closestFlip.state} provided the evening's tightest result: ${getLastName(closestFlip.winner)}'s ${closestFlip.margin.toFixed(2)}% victory represents a true squeaker that will likely face a recount. `,
                `In ${closestFlip.state}, ${getLastName(closestFlip.winner)} (${closestFlip.winnerParty}) won by an almost impossibly narrow ${closestFlip.margin.toFixed(2)}%, making it the night's most nail-biting flip. `,
            ];
            closestFlipMention = cfVariants[Math.floor(Math.random() * cfVariants.length)];
        }

        // assemble full Senate narrative
        const baseNarrative = `Democrats have ${controlPhrase} in the Senate, ${controlDetail}. ${indMention}`;
        const fullSenateNarrative = baseNarrative + flipNarrative + nebraskaMention + closestFlipMention + closeHoldsMention;

        return { 
            houseNarrative: houseNarratives[Math.floor(Math.random() * houseNarratives.length)], 
            senateNarrative: fullSenateNarrative.trim(),
            playerWonPresidency // needed for analyst logic
        };
    }

    const { houseNarrative, senateNarrative, playerWonPresidency } = generateDynamicNarratives();

    // analyst commentary generator
    function getAnalystCommentary() {
        const demsWonHouse = house.dem >= 218;
        
        // fetch detailed results
        const playerResult = E.final_overall_results.find(r => r.candidate === E.candidate_id);
        const totalEV = playerResult ? playerResult.electoral_votes : 0;
        const totalPV = playerResult ? playerResult.popular_votes : 0;
        
        // calculate popular vote margin
        const opponentResult = E.final_overall_results.find(r => r.candidate !== E.candidate_id);
        const oppPV = opponentResult ? opponentResult.popular_votes : 0;
        const totalVotes = E.final_overall_results.reduce((acc, r) => acc + r.popular_votes, 0);
        const pvMargin = ((totalPV - oppPV) / totalVotes) * 100;

        // check key states
        const getStateResult = (abbr) => {
            const state = E.states_json.find(s => s.fields.abbr === abbr);
            if (!state) return null;
            return E.final_state_results ? E.final_state_results[state.pk] : null; 
        };        
        const wonOhio = E.states_json.find(s => s.fields.abbr === "OH" && s.winner === E.candidate_id);
        const wonFlorida = E.states_json.find(s => s.fields.abbr === "FL" && s.winner === E.candidate_id);
        const wonPenn = E.states_json.find(s => s.fields.abbr === "PA" && s.winner === E.candidate_id);

        let opponentLast = "Romney";
        if (typeof window.opName === 'string') {
             opponentLast = window.opName.split(" ").pop();
        } else if (E.global_parameter_opponent_name) {
             opponentLast = E.global_parameter_opponent_name;
        }

        let nateOptions = [];
        let harryOptions = [];
        let benOptions = [];

        // --- NATE SILVER ---
        if (playerWonPresidency) {
            if (totalEV > 350) {
                nateOptions.push("Our model clearly underestimated the elasticity of the map. This is more than a win; one could argue it’s structural realignment. The ‘tipping point’ state wasn’t even close!");
                nateOptions.push("A landslide of this magnitude usually indicates a systemic polling error. We saw a 3-point break toward Obama in the final 48 hours that the aggregators simply didn’t catch.");
            } else if (totalEV > 300) {
                nateOptions.push("It appears our model nailed this. We gave the President a 90% chance of winning if he won the popular vote by more than 2 points, and the map followed suit perfectly.");
                nateOptions.push("The ‘Blue Wall’ held firm. Our tipping-point state probability chart correctly identified that if Pennsylvania went blue, the election was effectively over.");
            } else if (totalEV >= 270) {
                nateOptions.push("This was a squeaker. A shift of just 1% in three states would have flipped the outcome. It’s a win, but it defies the broader trend of incumbents winning big or losing big.");
                nateOptions.push("Efficiency gap analysis suggests the President’s coalition was incredibly efficient — winning close states while losing deep red states by larger margins.");
            }
            
            if (demsWonHouse) {
                nateOptions.push("The correlation between the presidential vote and House seats has hit a historic high. The concept of ‘ticket splitting’ is effectively dead in modern American politics, for better or worse.");
            } else {
                nateOptions.push("We got ourselves a split veredict here. The structural disadvantage for Democrats in the House due to redistricting is about 5 points, which explains the divergence between the Electoral College and the House results.");
            }
        } else {
            // player lost
            nateOptions.push("The fundamentals eventually caught up. Economic indicators are the strongest predictor of incumbent performance, and our ‘Now-cast’ has been flashing warning signs for weeks.");
            nateOptions.push("This is a statistical outlier; ticket-splitting has been declining, yet we see deviations in key Senate races. The model will need recalibrating.");
            nateOptions.push(`A generic Republican was favored by 1.2 points in our June forecast. ${opponentLast} underperformed that baseline slightly, but it was enough.`);
        }

        // --- HARRY ENTEN ---
        if (playerWonPresidency) {
            if (wonOhio) {
                harryOptions.push(`History tells us no Republican has won the White House without Ohio, and that streak continues. The strength in the Rust Belt was the firewall that ${opponentLast} couldn’t breach.`);
            }
            if (wonFlorida) {
                harryOptions.push(`Look at the I-4 corridor in Florida. The margins there were decisive. The demographic shifts in the Sun Belt are moving faster than anyone predicted.`);
            }
            if (wonPenn && wonOhio) {
                 harryOptions.push("The Rust Belt held. We heard so much about white working-class voters abandoning the Democrats, but looking at the county data in places like Mahoning and Lackawanna, the floor just didn’t drop out.");
            }
            harryOptions.push(`Whatever the exit polls say, this was about the strength of the coalition. Obama held the line with minority voters and actually improved his margins with college-educated whites in the suburbs.`);
        } else {
            harryOptions.push(`One thing we should look at is the margins in the suburbs. ${opponentLast} performed about 4 points better than McCain did in the collar counties around Philly and Detroit. Generally speaking, you can’t lose the suburbs and expect to win.`);
            harryOptions.push(`Turnout was the story. It looks like the youth vote dropped by about 3% compared to 2008. When the base stays home, the math just doesn’t work for a Democrat in the Electoral College.`);
        }

        // --- BEN CASSELMAN ---
        if (playerWonPresidency) {
            benOptions.push("The ‘economic headwinds’ narrative was overstated. Voters clearly differentiated between the slow recovery and the President’s effort. Consumer confidence ticked up just enough in October.");
            if (pvMargin < 2) {
                benOptions.push("This victory comes despite the fundamentals, not because of them. Winning with unemployment near 8% is historically unprecedented, suggesting voters graded the administration on a curve.");
            } else {
                benOptions.push("It seems the auto bailout paid dividends. The economic data in Ohio and Michigan outperformed the national average, and that regional economic reality drove the political outcome.");
            }
            benOptions.push(`Wall Street might not like the regulatory outlook, but Main Street voted for stability. The exit polls show ‘Who cares about people like me’ was probably a more important metric than GDP growth.`);
        } else {
            benOptions.push(`It’s the economy, plain and simple. Unemployment hovering near 8% was a hurdle no incumbent has cleared since FDR. Voters were desperate for a change in management.`);
            benOptions.push(`The Misery Index — that’s inflation plus unemployment — was just too high. Historically, when that number crosses 10, the incumbent party loses the White House 80% of the time.`);
        }

        // fallback checks
        if(nateOptions.length === 0) nateOptions.push("The results defy our standard models. We’re seeing a realignment in real-time.");
        if(harryOptions.length === 0) harryOptions.push("The demographic crosstabs are fascinating; we’re seeing shifts in the electorate that will define the next decade.");
        if(benOptions.length === 0) benOptions.push("The economic data sent mixed signals all year, and the voters gave a mixed response today.");

        // random selection
        const nateText = nateOptions[Math.floor(Math.random() * nateOptions.length)];
        const harryText = harryOptions[Math.floor(Math.random() * harryOptions.length)];
        const benText = benOptions[Math.floor(Math.random() * benOptions.length)];

        return [
            {
                name: "Nate Silver",
                role: "Editor-in-Chief",
                img: "https://fivethirtyeight.com/wp-content/uploads/2015/07/natesilver2_light.jpg?w=100",
                text: nateText,
                time: "2:32 AM"
            },
            {
                name: "Ben Casselman",
                role: "Chief Economics Writer",
                img: "https://fivethirtyeight.com/wp-content/uploads/2015/07/bencasselman2_light.jpg?w=100",
                text: benText,
                time: "2:45 AM"
            },
            {
                name: "Harry Enten",
                role: "Senior Political Analyst",
                img: "https://fivethirtyeight.com/wp-content/uploads/2015/07/harryenten_light1.jpg?w=100",
                text: harryText,
                time: "3:01 AM"
            }
        ];
    }

    const analysts = getAnalystCommentary();

    // bar chart
    const houseDemPct = (house.dem / 435) * 100;
    const houseRepPct = (house.rep / 435) * 100;
    const senateDemPct = ((senate.dem + senate.ind) / 100) * 100;
    const senateRepPct = (senate.rep / 100) * 100;

    // senate table logic
    let senateRacesHtml = `<table class="results-table"><thead><tr><th>State</th><th class="right-align">Winner</th><th class="right-align">Margin</th></tr></thead><tbody>`;
    senateDetails.order.forEach((stateName, index) => {
        const race = senateDetails.byState[stateName];
        if (!race || !race.results || race.results.length < 2) return;
        
        const winner = race.results[0];
        const partyInitial = getPartyInitial(winner.party);
        const marginPct = (winner.pct - race.results[1].pct) * 100;
        const lastName = getLastName(winner.name);
        
        // determine flip
        const originalHolder = PRE_ELECTION_SENATE_HOLDERS[stateName];
        const isCaucusChange = (originalHolder === 'I' && partyInitial === 'D') || (originalHolder === 'D' && partyInitial === 'I');
        const isFlip = partyInitial !== originalHolder && !isCaucusChange;
        
        const winnerClass = partyInitial === 'D' || partyInitial === 'I' ? 'dem-text' : 'rep-text';
        const rowClass = index % 2 === 0 ? 'even' : 'odd';

        senateRacesHtml += `
            <tr class="${rowClass}">
                <td class="state-cell">${stateName}${isFlip ? '<span class="flip-tag">FLIP</span>' : ''}</td>
                <td class="winner-cell right-align ${winnerClass}">
                    <span class="party-block ${partyInitial}"></span>${lastName}
                </td>
                <td class="margin-cell right-align">+${marginPct.toFixed(1)}%</td>
            </tr>`;
    });
    senateRacesHtml += '</tbody></table>';

    let blogHtml = `<div class="blog-section">`;
    analysts.forEach(analyst => {
        blogHtml += `
            <div class="blog-post">
                <div class="blog-meta">
                    <div class="blog-time">${analyst.time}</div>
                </div>
                <div class="blog-content-wrapper">
                    <img src="${analyst.img}" class="blog-avatar" alt="${analyst.name}">
                    <div class="blog-text">
                        <div class="blog-author">${analyst.name} <span class="blog-role">/ ${analyst.role}</span></div>
                        <p>${analyst.text}</p>
                    </div>
                </div>
            </div>
        `;
    });
    blogHtml += `</div>`;


    const slideHtml = `
    <style>
        #congress_results_slide { 
            padding: 20px 30px; 
            color: #333; 
            font-family: Arial, Helvetica, sans-serif; 
            background-color: #fff;
            line-height: 1.5; 
            max-width: 1000px; 
            margin: 0 auto;
        }
        
        #congress_results_slide h2 { 
            font-family: 'Georgia', serif;
            font-size: 2.2rem; 
            font-weight: 700; 
            margin: 0 0 1rem 0;
            color: #000;
            border-bottom: 1px solid #ddd;
            padding-bottom: 10px;
        }

        /* --- BIG BOARD BARS --- */
        .chamber-section { margin-bottom: 1.5rem; }
        .chamber-header {
            display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 5px;
        }
        .chamber-title { font-family: Arial, sans-serif; font-size: 1.4rem; font-weight: bold; }
        .big-number-row {
            display: flex; justify-content: space-between;
            font-family: Arial, sans-serif; font-weight: bold; font-size: 2.5rem; line-height: 1;
        }
        .dem-score { color: #004a80; }
        .rep-score { color: #aa0000; }
        .delta-sup { font-size: 0.9rem; vertical-align: super; opacity: 0.7; font-family: Arial; }
        
        .visual-bar {
            height: 20px; width: 100%; background: #eee; display: flex; position: relative; border: 1px solid #ccc;
        }
        .bar-dem { background-color: #004a80; height: 100%; }
        .bar-rep { background-color: #aa0000; height: 100%; margin-left: auto;}
        .threshold-marker { position: absolute; left: 50%; top: -3px; bottom: -3px; width: 2px; background: #000; z-index: 5; }

        /* --- GRID --- */
        .congress_grid { display: grid; grid-template-columns: 1.8fr 1fr; gap: 2rem; margin-top: 1rem; }
        
        .narrative-box {
            font-family: 'Georgia', serif; font-size: 1.05rem; color: #333; margin-bottom: 1.5rem;
        }
        .narrative-header {
            font-family: Arial, sans-serif; font-weight: bold; text-transform: uppercase;
            font-size: 0.8rem; color: #888; margin-bottom: 0.5rem; border-bottom: 2px solid #333; display: inline-block;
        }

        /* --- TABLE --- */
        .table-wrapper { border: 1px solid #ddd; background: #fff; }
        .table-header-st { background: #333; color: white; padding: 5px 10px; font-weight: bold; font-size: 0.85rem; text-transform: uppercase; }
        .results-table { width: 100%; border-collapse: collapse; font-size: 0.85rem; }
        .results-table th { text-align: left; padding: 4px 8px; background: #f4f4f4; border-bottom: 1px solid #ccc; font-size: 0.7rem; text-transform: uppercase; color: #666; position: sticky; top: 0; }
        .results-table td { padding: 4px 8px; border-bottom: 1px solid #eee; }
        .party-block { display: inline-block; width: 8px; height: 8px; margin-right: 4px; }
        .party-block.D, .party-block.I { background: #004a80; }
        .party-block.R { background: #aa0000; }
        .dem-text { color: #004a80; font-weight: bold; }
        .rep-text { color: #aa0000; font-weight: bold; }
        .flip-tag { background: #ffcc00; color: black; font-size: 0.6rem; padding: 0 3px; border-radius: 2px; font-weight: bold; margin-left: 4px; }
        .right-align { text-align: right; }

        /* --- BLOG SECTION --- */
        .blog-section { margin-top: 2rem; border-top: 4px solid #000; padding-top: 1rem; }
        .blog-post { display: flex; margin-bottom: 1.5rem; }
        .blog-meta { width: 80px; flex-shrink: 0; border-right: 1px solid #eee; margin-right: 15px; }
        .blog-time { color: #990000; font-weight: bold; font-size: 0.85rem; font-family: Arial, sans-serif; }
        
        .blog-content-wrapper { display: flex; flex-grow: 1; }
        .blog-avatar { width: 50px; height: 50px; border-radius: 50%; margin-right: 15px; object-fit: cover; border: 1px solid #ccc; }
        .blog-text { flex-grow: 1; font-family: 'Georgia', serif; font-size: 0.95rem; }
        .blog-author { font-weight: bold; font-family: Arial, sans-serif; font-size: 0.9rem; color: #333; margin-bottom: 4px; }
        .blog-role { color: #888; font-weight: normal; font-size: 0.8rem; text-transform: uppercase; }
        .blog-text p { margin: 0; line-height: 1.4; }

        @media (max-width: 800px) {
            .congress_grid { grid-template-columns: 1fr; }
            .blog-post { flex-direction: column; }
            .blog-meta { width: 100%; border-right: none; margin-bottom: 5px; border-bottom: 1px solid #eee; }
        }
    </style>

    <div id="congress_results_slide">
        <h2>In other news...</h2>

        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
            <div class="chamber-section">
                <div class="chamber-header"><span class="chamber-title">House</span> <span style="font-size:0.8rem; color:#666;">218 to win</span></div>
                <div class="big-number-row">
                    <span class="dem-score">${house.dem}<span class="delta-sup">${fmtDelta(houseG.dem)}</span></span>
                    <span class="rep-score">${house.rep}<span class="delta-sup">${fmtDelta(houseG.rep)}</span></span>
                </div>
                <div class="visual-bar">
                    <div class="bar-dem" style="width: ${houseDemPct}%"></div>
                    <div class="threshold-marker"></div>
                    <div class="bar-rep" style="width: ${houseRepPct}%"></div>
                </div>
            </div>
            <div class="chamber-section">
                <div class="chamber-header"><span class="chamber-title">Senate</span> <span style="font-size:0.8rem; color:#666;">50 to control</span></div>
                <div class="big-number-row">
                    <span class="dem-score">${senate.dem + senate.ind}<span class="delta-sup">${fmtDelta(senateG.dem_caucus)}</span></span>
                    <span class="rep-score">${senate.rep}<span class="delta-sup">${fmtDelta(senateG.rep)}</span></span>
                </div>
                <div class="visual-bar">
                    <div class="bar-dem" style="width: ${senateDemPct}%"></div>
                    <div class="threshold-marker"></div>
                    <div class="bar-rep" style="width: ${senateRepPct}%"></div>
                </div>
            </div>
        </div>

        <div class="congress_grid">
            <div>
                <div class="narrative-box">
                    <div class="narrative-header">House Analysis</div>
                    <div>${houseNarrative}</div>
                </div>
                <div class="narrative-box">
                    <div class="narrative-header">Senate Analysis</div>
                    <div>${senateNarrative}</div>
                </div>
            </div>

            <div class="table-wrapper">
                <div class="table-header-st">Key Senate Races</div>
                ${senateRacesHtml}
            </div>
        </div>

        <div style="font-family: Arial; font-weight: bold; font-size: 1.1rem; margin-top: 2rem; margin-bottom: 0.5rem;">
            FiveThirtyEight Live Analysis
        </div>
        ${blogHtml}
    </div>`;
    
    const insertionIndex = 1;
    E.pages.splice(insertionIndex, 0, slideHtml);
    E.executable.forEach(exec => { if (exec[0] >= insertionIndex) exec[0]++; });
    E.executable.push([insertionIndex, () => {
        E.image = 'https://static01.nyt.com/images/2008/03/08/us/09obama.2-650.jpg?quality=100&auto=webp&disable=upscale';
        if (typeof setImage === 'function') setImage(E.image);
        else { const img = document.querySelector(".person_image"); if(img) img.src = E.image; }
    }]);
}

// The cabinet slide function from 2016ALOT.
window.generatedCabinetCache = window.generatedCabinetCache || {};

function generateAnnouncementDate(tier) {
    const baseDate = new Date('2012-11-07T12:00:00Z'); // day after 2012 election
    let delayDays;

    switch (tier) {
        case 1: delayDays = Math.floor(Math.random() * 10) + 5; break;
        case 2: delayDays = Math.floor(Math.random() * 15) + 20; break;
        case 3: delayDays = Math.floor(Math.random() * 20) + 40; break;
        default: delayDays = 25;
    }
    baseDate.setDate(baseDate.getDate() + delayDays);
    return baseDate.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' });
}

function generateConfirmationDate(tier) {
    const baseDate = new Date('2013-01-20T12:00:00Z'); // Inauguration Day 2013
    let delayDays;

    switch (tier) {
        case 1: delayDays = Math.floor(Math.random() * 7) + 1; break;
        case 2: delayDays = Math.floor(Math.random() * 14) + 14; break;
        case 3: delayDays = Math.floor(Math.random() * 21) + 28; break;
        default: delayDays = 21;
    }
    baseDate.setDate(baseDate.getDate() + delayDays);
    return baseDate.toLocaleDateString('en-US', { month: 'long', day: 'numeric', year: 'numeric' });
}

function generateCabinetCells(member, victoryType) {
    const isElected = (member.position === 'President' || member.position === 'Vice President');
    const bgColor = isElected ? 'background: #90EE90;' : '';

    let dateHtml;
    if (member.position === 'Vice President') {
        const announceDate = (victoryType === 'win') ? 'August 23, 2008' : 'Announced during primaries';
        dateHtml = `
            ${announceDate}<br>
            Elected November 6, 2012<br>
            Assumed office January 20, 2013
        `;
    } else if (member.position === 'President') {
        dateHtml = `
            Elected November 6, 2012<br>
            Assumed office January 20, 2013
        `;
    } else {
        dateHtml = `
            Announced ${member.announcedDate}<br>
            Assumed office ${member.confirmedDate}
        `;
    }

    const officeCell = `
        <td style="vertical-align: top; padding: 5px; ${bgColor}">
            <img src="${member.seal}" style="width: 75px; height: 75px; object-fit: contain;">
            <p style="margin: 0.5em 0; font-weight: bold;">${member.position}</p>
            <p style="font-size: 85%; margin: 0;">${dateHtml}</p>
        </td>
    `;

    const designeeCell = `
        <td style="vertical-align: top; padding: 5px; ${bgColor}">
            <img src="${member.img}" style="width: 95px; height: 120px; object-fit: cover; border: 1px solid #ccc;">
            <br>
            <span style="font-size: 85%;">${member.formerRole}</span>
            <br>
            <b>${member.name}</b>
            <br>
            <span style="font-size: 85%;">from ${member.state}</span>
        </td>
    `;
    return officeCell + designeeCell;
}

function generateCabinetTimeline(victoryType, playerEV, runningMateID, scores) {
    const cacheKey = `contingent_${window.CONTINGENT}`;

    if (window.generatedCabinetCache[cacheKey]) {
        const cachedData = window.generatedCabinetCache[cacheKey];
        return cachedData.html;
    }
        
    const { progressiveScore, wallStreetScore, hawkScore, bipartisanScore } = scores;
    let cabinet = [];
    let president, vicePresident, party, headerColor;
    let assignedPeople = new Set(); 

    const assignNominee = (position, nominee, seal, announceTier, confirmTier) => {
        if (!assignedPeople.has(nominee.name)) {
            const nomineeData = {
                position, ...nominee, seal,
                announcedDate: generateAnnouncementDate(announceTier),
                confirmedDate: generateConfirmationDate(confirmTier)
            };
            cabinet.push(nomineeData);
            assignedPeople.add(nominee.name);
            return true;
        }
        return false;
    };
    
    const pickAndAssign = (position, candidates, seal, announceTier) => {
        for (const nominee of candidates) {
            if (nominee && assignNominee(position, nominee, seal, announceTier, announceTier)) {
                return; 
            }
        }
    };

    const seals = {
        potus: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/36/Seal_of_the_President_of_the_United_States.svg/120px-Seal_of_the_President_of_the_United_States.svg.png",
        vp: "https://upload.wikimedia.org/wikipedia/commons/thumb/6/6a/Seal_of_the_Vice_President_of_the_United_States.svg/120px-Seal_of_the_Vice_President_of_the_United_States.svg.png",
        state: "https://upload.wikimedia.org/wikipedia/commons/thumb/f/fc/Seal_of_the_United_States_Secretary_of_State.svg/120px-Seal_of_the_United_States_Secretary_of_State.svg.png",
        treasury: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/cb/Seal_of_the_United_States_Department_of_the_Treasury.svg/120px-Seal_of_the_United_States_Department_of_the_Treasury.svg.png",
        defense: "https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Seal_of_the_United_States_Department_of_Defense.svg/120px-Seal_of_the_United_States_Department_of_Defense.svg.png",
        attorneyGeneral: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/54/Seal_of_the_United_States_Department_of_Justice.svg/120px-Seal_of_the_United_States_Department_of_Justice.svg.png",
        interior: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/ea/Seal_of_the_United_States_Department_of_the_Interior.svg/120px-Seal_of_the_United_States_Department_of_the_Interior.svg.png",
        agriculture: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/88/Seal_of_the_U.S._Department_of_Agriculture.svg/120px-Seal_of_the_U.S._Department_of_Agriculture.svg.png",
        commerce: "https://upload.wikimedia.org/wikipedia/commons/thumb/1/1a/Seal_of_the_United_States_Department_of_Commerce.svg/120px-Seal_of_the_United_States_Department_of_Commerce.svg.png",
        labor: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/c1/Seal_of_the_United_States_Department_of_Labor.svg/120px-Seal_of_the_United_States_Department_of_Labor.svg.png",
        hhs: "https://upload.wikimedia.org/wikipedia/commons/thumb/b/b7/US_Department_of_Health_and_Human_Services_seal.svg/120px-US_Department_of_Health_and_Human_Services_seal.svg.png",
        hud: "https://upload.wikimedia.org/wikipedia/commons/thumb/2/2e/Seal_of_the_United_States_Department_of_Housing_and_Urban_Development.svg/120px-Seal_of_the_United_States_Department_of_Housing_and_Urban_Development.svg.png",
        transportation: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/34/Seal_of_the_United_States_Department_of_Transportation_-_Alternate_Version.svg/120px-Seal_of_the_United_States_Department_of_Transportation_-_Alternate_Version.svg.png",
        energy: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/e2/Seal_of_the_United_States_Department_of_Energy.svg/120px-Seal_of_the_United_States_Department_of_Energy.svg.png",
        education: "https://upload.wikimedia.org/wikipedia/commons/thumb/a/ad/Seal_of_the_United_States_Department_of_Education.svg/120px-Seal_of_the_United_States_Department_of_Education.svg.png",
        veterans: "https://upload.wikimedia.org/wikipedia/commons/thumb/0/05/Seal_of_the_U.S._Department_of_Veterans_Affairs.svg/120px-Seal_of_the_U.S._Department_of_Veterans_Affairs.svg.png",
        homeland: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8a/Seal_of_the_United_States_Department_of_Homeland_Security.svg/120px-Seal_of_the_United_States_Department_of_Homeland_Security.svg.png"
    };

    // Obama VP candidates
    const obamaVPs = {
        30: { name: "Joe Biden", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/cc/Joe_Biden_official_portrait_crop.jpg/250px-Joe_Biden_official_portrait_crop.jpg", formerRole: "Vice President", state: "Delaware" },
        34: { name: "Hillary Clinton", img: "https://upload.wikimedia.org/wikipedia/commons/7/7e/Secretary_Clinton_and_Australian_Foreign_Minister_Rudd_Deliver_Remarks_%285681069115%29_%28cropped%29.jpg", formerRole: "Secretary of State", state: "New York" },
        35: { name: "Christine Gregoire", img: "https://mamaseattle.org/wp-content/uploads/2019/04/governor-christine-gregoire-bio.jpg", formerRole: "Governor of Washington", state: "Washington" },
        36: { name: "Brian Schweitzer", img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQSjBTCo3quM0x_2DA1wTmw-Vc7Llc1WygplQ&s", formerRole: "Governor of Montana", state: "Montana" },
        37: { name: "Chris Dodd", img: "https://m.media-amazon.com/images/M/MV5BMjE0OTkxMzAxNl5BMl5BanBnXkFtZTcwNTg4Njg2Nw@@._V1_.jpg", formerRole: "Former U.S. Senator", state: "Connecticut" },
        38: { name: "Evan Bayh", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/a/ad/SenatorBayh.jpg/960px-SenatorBayh.jpg", formerRole: "Former U.S. Senator", state: "Indiana" },
        39: { name: "Gray Davis", img: "https://file.garden/aNtAfG887DiA_7lO/2012LBM/davis.jpg", formerRole: "Former Governor of California", state: "California" },
        40: { name: "Kathleen Sebelius", img: "https://www2.trinitydc.edu/wp-content/uploads/2020/12/sebelius.jpg", formerRole: "Secretary of HHS", state: "Kansas" }
    };
	
	// Rep presidents & veeps
	const gopPresidents = {
        "Mitt Romney": { img: "https://cdn.britannica.com/16/102216-004-D7DBDDD0/Mitt-Romney.jpg", formerRole: "Former Governor of Massachusetts", state: "Massachusetts" },
        "Rick Santorum": { img: "https://s3.amazonaws.com/ballotpedia-api4/files/thumbs/200/300/Rick_Santorum_by_Gage_Skidmore_6.jpg", formerRole: "Former U.S. Senator", state: "Pennsylvania" },
        "Newt Gingrich": { img: "https://cdn.britannica.com/94/98394-004-F7E46D69/Newt-Gingrich.jpg", formerRole: "Former Speaker of the House", state: "Georgia" },
        "Jon Huntsman": { img: "https://cdn.britannica.com/63/149863-004-45FF402B/Jon-Huntsman-Jr.jpg", formerRole: "Former Governor of Utah", state: "Utah" },
        "Ron Paul": { img: "https://cdn.britannica.com/84/144184-050-74D952BC/Ron-Paul-2007.jpg", formerRole: "U.S. Representative", state: "Texas" },
        "Rick Perry": { img: "https://cdn.britannica.com/00/151900-050-53911589/Rick-Perry.jpg", formerRole: "Governor of Texas", state: "Texas" },
        "Michele Bachmann": { img: "https://mndaily.com/wp-content/uploads/2008/10/bachman.JPG", formerRole: "U.S. Representative", state: "Minnesota" }
    };
    const gopVPs = {
        "Paul Ryan": { img: "https://upload.wikimedia.org/wikipedia/commons/a/aa/Paul_Ryan%2C_official_portrait%2C_112th_Congress.jpg", formerRole: "U.S. Representative", state: "Wisconsin" },
        "Chris Christie": { img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTKLqhEwJTWRgGxUlOMoCBH3CQA8TAfzrmH-Q&s", formerRole: "Governor of New Jersey", state: "New Jersey" },
        "Marco Rubio": { img: "https://media.gettyimages.com/id/469812798/pt/foto/washington-dc-republican-presidential-candidate-sen-marco-rubio-speaks-at-the-heritage.jpg?s=612x612&w=0&k=20&c=09hpYaHGfZB3ADaYbZPWVSc3LkWdESpBiYgljF5nxvA=", formerRole: "U.S. Senator", state: "Florida" },
        "Rob Portman": { img: "https://upload.wikimedia.org/wikipedia/commons/e/e5/Rob_Portman_portrait.jpg", formerRole: "U.S. Senator", state: "Ohio" },
        "Bob McDonnell": { img: "https://file.garden/aNtAfG887DiA_7lO/2012LBM/mcdonnell.webp", formerRole: "Governor of Virginia", state: "Virginia" },
        "Bobby Jindal": { img: "https://www.sos.la.gov/HistoricalResources/PublishingImages/GovernorBobbyJindalLarge.bmp", formerRole: "Governor of Louisiana", state: "Louisiana" },
        "Sarah Palin": { img: "https://www.motherjones.com/wp-content/uploads/sarah-palin-david_shankbone_1.jpg?w=990", formerRole: "Former Governor of Alaska", state: "Alaska" },
        "John Bolton": { img: "https://upload.wikimedia.org/wikipedia/commons/6/68/John_Bolton_by_Gage_Skidmore.jpg", formerRole: "Former U.S. Ambassador to the UN", state: "Maryland" },
        "Condoleezza Rice": { img: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhul2W63bKhx8afPTBquQwbXLQfIKbf5heS4ZfrUZQbV1G_7cB0uHnpKCZHKTewOCYGJwaOi7yc96Us-b3z6Y93MDKIErHlRgFMx1ti9zc3DzPgmqTkwxJnrOXyZzg0OmUu0AYDbn5Ik_7A/s1600/Rice_Condoleezza_PROMOPIC-web.jpg", formerRole: "Former Secretary of State", state: "California" },
        "Rick Perry": { img: "https://upload.wikimedia.org/wikipedia/commons/2/2f/Rick_Perry_by_Gage_Skidmore_3.jpg", formerRole: "Governor of Texas", state: "Texas" },
        "Rand Paul": { img: "https://www.congress.gov/img/member/p000603_200.jpg", formerRole: "U.S. Senator", state: "Kentucky" },
        "Nikki Haley": { img: "https://s3.amazonaws.com/ballotpedia-api4/files/thumbs/200/300/Nikki_Haley_official_Transition_portrait.jpg", formerRole: "Governor of South Carolina", state: "South Carolina" },
		"Mike Huckabee": { img: "https://upload.wikimedia.org/wikipedia/commons/thumb/2/2d/Mike_Huckabee%2C_speaking_to_a_gathering_at_the_Commonwealth_Club_in_San_Francisco.jpg/250px-Mike_Huckabee%2C_speaking_to_a_gathering_at_the_Commonwealth_Club_in_San_Francisco.jpg", formerRole: "Former Governor of Arkansas", state: "Arkansas" },
        "Jim DeMint": { img: "http://web.archive.org/web/20121206193323im_/http://www.gannett-cdn.com/media/USATODAY/GenericImages/2012/12/06/demint-4_3_r560.jpg?f061b7ce9937c38b702e6f308816ac2a14e2a4ec", formerRole: "U.S. Senator", state: "South Carolina" },
        "Tim Pawlenty": { img: "https://upload.wikimedia.org/wikipedia/commons/thumb/4/40/Tim_Pawlenty_by_Gage_Skidmore.jpg/250px-Tim_Pawlenty_by_Gage_Skidmore.jpg", formerRole: "Former Governor of Minnesota", state: "Minnesota" },
        "Herman Cain": { img: "https://people.com/thmb/Z0HgIcxxjqyS5KamJaYl7IgfnJ4=/4000x0/filters:no_upscale():max_bytes(150000):strip_icc():focal(749x0:751x2)/shutterstock_editorial_5902696h-3fce302f6e254e82af9a424671b32cf1.jpg", formerRole: "CEO of Godfather's Pizza", state: "Georgia" },
        "Andrew Napolitano": { img: "https://upload.wikimedia.org/wikipedia/commons/3/3a/Andrew_Napolitano_by_Gage_Skidmore.jpg", formerRole: "Former Superior Court Judge", state: "New Jersey" },
        "Justin Amash": { img: "https://upload.wikimedia.org/wikipedia/commons/c/c9/Justin_Amash_%288001754611%29_%28cropped%29.jpg", formerRole: "U.S. Representative", state: "Michigan" },
        "Lew Rockwell": { img: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/56/Lew_Rockwell_2016.jpg/500px-Lew_Rockwell_2016.jpg", formerRole: "Political Commentator", state: "Alabama" },
        "Allen West": { img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSLsxewraAg8uriRtYONRKqwoKqEAT6wAUHrw&s", formerRole: "U.S. Representative", state: "Florida" },
        "Steve King": { img: "https://upload.wikimedia.org/wikipedia/commons/a/af/Steve_King%2C_official_Congressional_photo_portrait.jpg", formerRole: "U.S. Representative", state: "Iowa" }
    };
    const defaultGopVP = { img: "https://itsastronomical.com/assets/2000Bateman/bateman.png", formerRole: "Mr. Republican", state: "New York" };

    // Obama cabinet candidates
	const obamaCandidates = {
		state: {
			historical: { name: "John Kerry", img: "https://media-cldnry.s-nbcnews.com/image/upload/t_fit-1500w,f_auto,q_auto:best/msnbc/Components/Photos/060103/060103_kerry_vsml_6a.jpg", formerRole: "U.S. Senator", state: "Massachusetts" },
			loyalist: { name: "Susan Rice", img: "https://s.abcnews.com/images/Politics/abc_this_week_susan_rice_jt_120916_wmain.jpg", formerRole: "U.S. Ambassador to the UN", state: "Washington, D.C." },
			clinton_vp: { name: "Tom Donilon", img: "https://i.guim.co.uk/img/static/sys-images/Media/Pix/pictures/2010/10/8/1286562850111/US-national-security-advi-006.jpg?width=465&dpr=1&s=none&crop=none", formerRole: "National Security Advisor", state: "Virginia" },
			centrist: { name: "William Burns", img: "https://upload.wikimedia.org/wikipedia/commons/9/91/Assignment-_59-CF-DS-22432-05%29_Official_portrait_of_William_Burns%2C_U.S._Ambassador-designate_to_Russia_%28Photographer-_Ann_Thomas--State%29_%2859-CF-DS-22432-05_Amb_BillBurns0086_fromPSD_-_DPLA_-_24e3adb7aadd75ad1930cff23ef02645.jpg", formerRole: "Deputy Secretary of State", state: "Pennsylvania" },
		},
		treasury: {
			establishment: { name: "Jack Lew", img: "https://pdaspeakers.com/wp-content/uploads/2021/12/lew_jack.jpg", formerRole: "White House Chief of Staff", state: "New York" },
			continuity: { name: "Timothy Geithner", img: "https://cdn.britannica.com/69/129969-050-65C8AF0A/Timothy-Geithner.jpg", formerRole: "Secretary of the Treasury", state: "New York" },
			progressive: { name: "Janet Yellen", img: "https://www.frbsf.org/wp-content/uploads/yellen.jpg", formerRole: "Vice Chair, Federal Reserve", state: "California" },
			wall_street: { name: "Larry Summers", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/9/99/Lawrence_Summers_Treasury_portrait.jpg/250px-Lawrence_Summers_Treasury_portrait.jpg", formerRole: "Former Treasury Secretary", state: "Massachusetts" }
		},
		defense: {
			dove: { name: "Chuck Hagel", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/4/4c/Chuck_Hagel_official_photo.jpg/250px-Chuck_Hagel_official_photo.jpg", formerRole: "Former U.S. Senator (R)", state: "Nebraska" },
			establishment: { name: "Ash Carter", img: "https://www.nextgov.com/media/ps360/GIG/FCWNow/People/C/Carter_Ashton.png", formerRole: "Deputy Secretary of Defense", state: "Pennsylvania" },
			hawk: { name: "Michèle Flournoy", img: "https://i.dailymail.co.uk/i/pix/2013/01/04/article-2257216-16C0DB90000005DC-894_634x411.jpg", formerRole: "Under Secretary of Defense", state: "California" },
			continuity: { name: "Leon Panetta", img: "https://upload.wikimedia.org/wikipedia/commons/c/cc/Leon_Panetta_official_portrait_%28cropped%29.jpg", formerRole: "Secretary of Defense", state: "California" }
		},
		attorneyGeneral: {
			continuity: { name: "Eric Holder", img: "https://www.myblackhistory.net/Eric_Holder.jpg", formerRole: "Attorney General", state: "New York" },
			progressive: { name: "Tom Perez", img: "https://cwa-union.org/sites/default/files/migrated/cwafiles.org/national/issues/PolicyIssues/NLRB/Perez_photo2.jpg", formerRole: "Assistant AG for Civil Rights", state: "Maryland" },
			alternative: { name: "Deval Patrick", img: "https://upload.wikimedia.org/wikipedia/commons/6/6e/Deval_Patrick_at_the_unveiling_of_%22The_Embrace%22_52625372826_o_%283x4c%29.jpg", formerRole: "Governor of Massachusetts", state: "Massachusetts" },
			centrist: { name: "Preet Bharara", img: "https://static01.nyt.com/images/2013/06/10/world/asia/10-preet-interview-IndiaInk/10-preet-interview-IndiaInk-articleInline.jpg", formerRole: "U.S. Attorney, SDNY", state: "New York" }
		},
		interior: {
			establishment: { name: "Sally Jewell", img: "https://www.colorado.edu/center/gwc/sites/default/files/styles/large_image_style/public/article-image/jewell_photo_high_res.jpg", formerRole: "CEO of REI", state: "Washington" },
			continuity: { name: "Ken Salazar", img: "https://www.politico.com/dims4/default/1a3186a/2147483647/resize/1160x%3E/quality/90/?url=http%3A%2F%2Fs3-origin-images.politico.com%2F2013%2F01%2F16%2F130116_bolo2.jpg", formerRole: "Secretary of the Interior", state: "Colorado" },
			progressive: { name: "Raúl Grijalva", img: "https://reproductivefreedomforall.org/wp-content/uploads/2017/11/croc-raul-grijalva.jpg", formerRole: "U.S. Representative", state: "Arizona" }
		},
		agriculture: {
			continuity: { name: "Tom Vilsack", img: "https://www.hamilton.edu/assets/mmlibrary/images/670x/vilsack.jpg", formerRole: "Secretary of Agriculture", state: "Iowa" },
			alternative: { name: "Heidi Heitkamp", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/d/d4/Heidi_Heitkamp_official_portrait.jpg/250px-Heidi_Heitkamp_official_portrait.jpg", formerRole: "U.S. Senator", state: "North Dakota" }
		},
		commerce: {
			establishment: { name: "Penny Pritzker", img: "https://upload.wikimedia.org/wikipedia/commons/c/cd/Penny_Pritzker_official_photograph.jpg", formerRole: "Businesswoman", state: "Illinois" },
			alternative: { name: "Sheryl Sandberg", img: "https://hcsanfrancisco.clubs.harvard.edu/images/article_images/105.jpg", formerRole: "COO of Facebook", state: "California" },
			unity: { name: "Meg Whitman", img: "https://cdn.mos.cms.futurecdn.net/2z4RhTK2CtBRLhvc3Adp9C.jpg", formerRole: "CEO of Hewlett Packard (R)", state: "California" }
		},
		labor: {
			progressive: { name: "Tom Perez", img: "https://cwa-union.org/sites/default/files/migrated/cwafiles.org/national/issues/PolicyIssues/NLRB/Perez_photo2.jpg", formerRole: "Assistant AG for Civil Rights", state: "Maryland" },
			continuity: { name: "Hilda Solis", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/8b/Hilda_Solis.jpg/250px-Hilda_Solis.jpg", formerRole: "Secretary of Labor", state: "California" },
			union: { name: "Richard Trumka", img: "https://aflcio.org/sites/default/files/migrate/files/Trumka-Bad-Trade-Deals-Kill-American-Jobs.jpg", formerRole: "President, AFL-CIO", state: "Pennsylvania" }
		},
		hhs: {
			continuity: { name: "Kathleen Sebelius", img: "https://cdnph.upi.com/sv/ph/og/upi/69071236036337/2009/1/65bc6a7d4d037fc5c3b1b9f9891201e2/v1.5/Personality-Spotlight-Kathleen-Sebelius.jpg", formerRole: "Secretary of HHS", state: "Kansas" },
			establishment: { name: "Sylvia Mathews Burwell", img: "https://www.wsb.com/wp-content/uploads/2021/06/Buwell_Sylvia_ORIGINAL.jpg", formerRole: "President, Walmart Foundation", state: "West Virginia" },
			alternative: { name: "Vivek Murthy", img: "https://imagesvs.oneindia.com/img/2014/12/16-1418705548-vivek.jpg", formerRole: "Physician", state: "Florida" }
		},
		hud: {
			continuity: { name: "Shaun Donovan", img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQy4AHQdOABzeH4kcS3d1BzX-BbAgTz-OWxwA&s", formerRole: "Secretary of HUD", state: "New York" },
			alternative: { name: "Julián Castro", img: "https://npeaction.org/wp-content/uploads/2019/02/oEOE5IDE_400x400.jpg", formerRole: "Mayor of San Antonio", state: "Texas" }
		},
		transportation: {
			establishment: { name: "Anthony Foxx", img: "https://s.wsj.net/public/resources/images/OB-XG443_0428tr_G_20130428174057.jpg", formerRole: "Mayor of Charlotte", state: "North Carolina" },
			continuity: { name: "Ray LaHood", img: "https://www.ttnews.com/sites/default/files/images/articles/ray-lahood.jpg", formerRole: "Secretary of Transportation (R)", state: "Illinois" }
		},
		energy: {
			establishment: { name: "Ernest Moniz", img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR-132pp0u7ilUTH4eZ8nhtzDfEDv3NT68DLg&s", formerRole: "Professor, MIT", state: "Massachusetts" },
			continuity: { name: "Steven Chu", img: "https://upload.wikimedia.org/wikipedia/commons/a/ad/Steven_Chu_official_DOE_portrait_crop.jpg", formerRole: "Secretary of Energy", state: "California" },
			progressive: { name: "Carol Browner", img: "https://obamawhitehouse.archives.gov/sites/obamawhitehouse.archives.gov/files/person-photo/browner_01.jpg", formerRole: "Director, WH Office of Energy", state: "Florida" }
		},
		education: {
			continuity: { name: "Arne Duncan", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/2/2c/Arne_Duncan_official_photo.jpg/250px-Arne_Duncan_official_photo.jpg", formerRole: "Secretary of Education", state: "Illinois" },
			alternative: { name: "John King Jr.", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/3a/John_B._King_official_portrait.jpg/250px-John_B._King_official_portrait.jpg", formerRole: "NY Education Commissioner", state: "New York" },
			reformer: { name: "Linda Darling-Hammond", img: "https://www.aera.net/portals/38/darling-hammond.jpg", formerRole: "Professor, Stanford University", state: "California" }
		},
		veterans: {
			continuity: { name: "Eric Shinseki", img: "https://api.army.mil/e2/c/-images/2008/12/09/26771/size0-full-army.mil-26771-2008-12-09-071228.jpg", formerRole: "Secretary of Veterans Affairs", state: "Hawaii" },
			alternative: { name: "Robert McDonald", img: "https://www.vetshq.com/wp-content/blogs.dir/files/sites/11/2014/06/IMAGE-POST-BOB-MCDONALD-063014.jpg", formerRole: "CEO of Procter & Gamble", state: "Ohio" }
		},
		homeland: {
			establishment: { name: "Jeh Johnson", img: "https://s3.amazonaws.com/ballotpedia-api4/files/thumbs/200/300/Jeh_Johnson_official_portrait.jpg", formerRole: "General Counsel, DoD", state: "New Jersey" },
			continuity: { name: "Janet Napolitano", img: "https://www.highlandernews.org/wp-content/uploads/2013/07/janet-napolitano.jpg", formerRole: "Secretary of Homeland Security", state: "Arizona" }
		}
	};

	// Romney/GOP cabinet candidates
	const romneyCandidates = {
		state: {
			establishment: { name: "Condoleezza Rice", img: "https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEhul2W63bKhx8afPTBquQwbXLQfIKbf5heS4ZfrUZQbV1G_7cB0uHnpKCZHKTewOCYGJwaOi7yc96Us-b3z6Y93MDKIErHlRgFMx1ti9zc3DzPgmqTkwxJnrOXyZzg0OmUu0AYDbn5Ik_7A/s1600/Rice_Condoleezza_PROMOPIC-web.jpg", formerRole: "Former Secretary of State", state: "California" },
			hawk: { name: "John Bolton", img: "https://upload.wikimedia.org/wikipedia/commons/6/68/John_Bolton_by_Gage_Skidmore.jpg", formerRole: "Former U.S. Ambassador to the UN", state: "Maryland" },
			moderate: { name: "Rob Portman", img: "https://upload.wikimedia.org/wikipedia/commons/e/e5/Rob_Portman_portrait.jpg", formerRole: "U.S. Senator", state: "Ohio" },
			alternative: { name: "Robert Zoellick", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/f/f4/Zoellick%2C_Robert_%28official_portrait_2008%29.jpg/960px-Zoellick%2C_Robert_%28official_portrait_2008%29.jpg", formerRole: "Former World Bank President", state: "Virginia" }
		},
		treasury: {
			establishment: { name: "Glenn Hubbard", img: "https://www.stacyblackman.com/wp-content/uploads/Glenn-Hubbard-dean-of-Columbia-734x424.jpg", formerRole: "Dean, Columbia Business School", state: "New York" },
			ryan_vp: { name: "John W. Snow", img: "https://www.wsb.com/wp-content/uploads/2021/06/Snow_John_PROMOPIC-682x830.jpg", formerRole: "Former Treasury Secretary", state: "Virginia" },
			alternative: { name: "Henry Paulson", img: "https://fortune.com/img-assets/wp-content/uploads/2015/11/pow12_a.jpg", formerRole: "Former Treasury Secretary", state: "Illinois" }
		},
		defense: {
			unity: { name: "Robert Gates", img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS6RLlHg9iEv9AIuYKm8B1ENjYVBgcZ3iDyLw&s", formerRole: "Former Secretary of Defense", state: "Texas" },
			hawk: { name: "John McCain", img: "https://akns-images.eonline.com/eol_images/Entire_Site/2018411/rs_634x1024-180511193120-634.john-mccain-2008.ct.051118.jpg?fit=around%7C634:1024&output-quality=90&crop=634:1024;center,top", formerRole: "U.S. Senator", state: "Arizona" },
			establishment: { name: "James Mattis", img: "https://www.hoover.org/sites/default/files/uploads/images/Mattis_Centcom_2010-201308031626.jpg", formerRole: "Former Commander, CENTCOM", state: "Washington" }
		},
		attorneyGeneral: {
			establishment: { name: "Chris Christie", img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTKLqhEwJTWRgGxUlOMoCBH3CQA8TAfzrmH-Q&s", formerRole: "Governor of New Jersey", state: "New Jersey" },
			alternative: { name: "Larry Thompson", img: "https://news.uga.edu/wp-content/uploads/2017/12/Larry-Thompson.jpg", formerRole: "Former Deputy Attorney General", state: "Georgia" },
			conservative: { name: "Paul Clement", img: "https://media.npr.org/assets/img/2012/03/23/ap120309013775_custom-f8dfcfb9788fcd9f6fcd1e07673a3303547060eb.jpg", formerRole: "Former Solicitor General", state: "Wisconsin" }
		},
		interior: {
			establishment: { name: "Bob McDonnell", img: "https://file.garden/aNtAfG887DiA_7lO/2012LBM/mcdonnell.webp", formerRole: "Governor of Virginia", state: "Virginia" },
			western: { name: "Brian Sandoval", img: "https://www.ontheissues.org/Governor/Brian_Sandoval.jpg", formerRole: "Governor of Nevada", state: "Nevada" }
		},
		agriculture: {
			establishment: { name: "Chuck Conner", img: "https://upload.wikimedia.org/wikipedia/commons/6/66/Charles_F._Conner%2C_official_USDA_photo_portrait.jpg", formerRole: "CEO, Nat'l Council of Farmer Co-ops", state: "Indiana" },
			alternative: { name: "Sam Brownback", img: "https://www.baptistpress.com/wp-content/uploads/images/ca02a38a-851b-44c5-a2ea-6869347a46ac-Sam-Brownback.jpg", formerRole: "Governor of Kansas", state: "Kansas" }
		},
		commerce: {
			establishment: { name: "Meg Whitman", img: "https://cdn.mos.cms.futurecdn.net/2z4RhTK2CtBRLhvc3Adp9C.jpg", formerRole: "CEO of Hewlett Packard", state: "California" },
			alternative: { name: "John Engler", img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcS2eNFEc0tWpGRMZGu-ylQXZF4MFHs2pRzdoQ&s", formerRole: "Former Governor of Michigan", state: "Michigan" }
		},
		labor: {
			establishment: { name: "Victoria Lipnic", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/ea/Victoria_Lipnic.jpg/1200px-Victoria_Lipnic.jpg", formerRole: "Commissioner of the EEOC", state: "Maryland" },
			alternative: { name: "Scott Walker", img: "https://cdn.britannica.com/87/185787-050-8B9E7291/Scott-Walker.jpg", formerRole: "Governor of Wisconsin", state: "Wisconsin" }
		},
		hhs: {
			establishment: { name: "Bobby Jindal", img: "https://www.sos.la.gov/HistoricalResources/PublishingImages/GovernorBobbyJindalLarge.bmp", formerRole: "Governor of Louisiana", state: "Louisiana" },
			alternative: { name: "Tom Price", img: "https://www.congress.gov/img/member/p000591_200.jpg", formerRole: "U.S. Representative", state: "Georgia" }
		},
		hud: {
			establishment: { name: "Rick Snyder", img: "https://riponsociety.org/wp-content/uploads/2014/08/rsnyderrf132.jpg", formerRole: "Governor of Michigan", state: "Michigan" },
			alternative: { name: "Shaun Donovan", img: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQy4AHQdOABzeH4kcS3d1BzX-BbAgTz-OWxwA&s", formerRole: "Former Secretary of HUD", state: "New York" }
		},
		transportation: {
			establishment: { name: "Ray LaHood", img: "https://www.ttnews.com/sites/default/files/images/articles/ray-lahood.jpg", formerRole: "Former Secretary of Transportation", state: "Illinois" },
			alternative: { name: "Mary Peters", img: "https://upload.wikimedia.org/wikipedia/commons/a/a6/Mary_Peters%2C_official_FHWA_photo.jpg", formerRole: "Former Secretary of Transportation", state: "Arizona" }
		},
		energy: {
			establishment: { name: "Harold Hamm", img: "https://stateimpact.npr.org/oklahoma/files/2012/03/harold-hamm.jpg", formerRole: "CEO of Continental Resources", state: "Oklahoma" },
			alternative: { name: "Spencer Abraham", img: "https://cdnph.upi.com/pv/upi/c7e638e97f4ad6e46dae287b735862cf/WAP2004022658-ENERGY.jpg", formerRole: "Former Secretary of Energy", state: "Michigan" }
		},
		education: {
			establishment: { name: "Rod Paige", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/f/fc/Rod_Paige.jpg/960px-Rod_Paige.jpg", formerRole: "Former Secretary of Education", state: "Texas" },
			alternative: { name: "Margaret Spellings", img: "https://upload.wikimedia.org/wikipedia/commons/c/cb/Official_Photo_of_Margaret_Spellings.jpg", formerRole: "Former Secretary of Education", state: "North Carolina" }
		},
		veterans: {
			establishment: { name: "Duncan D. Hunter", img: "https://static01.nyt.com/images/2019/12/03/us/03HUNTER/03HUNTER-square320.jpg?quality=75&auto=webp&disable=upscale", formerRole: "U.S. Representative", state: "California" },
			alternative: { name: "Jim Nicholson", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/2/25/JimNicholson.jpg/500px-JimNicholson.jpg", formerRole: "Former Secretary of Veterans Affairs", state: "Colorado" }
		},
		homeland: {
			establishment: { name: "Michael Chertoff", img: "https://upload.wikimedia.org/wikipedia/commons/thumb/a/a1/Michael_Chertoff%2C_official_DHS_photo_portrait%2C_2007.jpg/250px-Michael_Chertoff%2C_official_DHS_photo_portrait%2C_2007.jpg", formerRole: "Former Secretary of DHS", state: "New Jersey" },
			alternative: { name: "Peter T. King", img: "https://upload.wikimedia.org/wikipedia/commons/d/d2/Peter_T._King%2C_official_portrait%2C_112th_Congress.jpg", formerRole: "U.S. Representative", state: "New York" }
		}
	};

    if (victoryType === 'win') {
        // Obama victory
        president = { name: "Barack Obama", img: "https://upload.wikimedia.org/wikipedia/commons/5/55/President_Barack_Obama%2C_2012_portrait_crop.jpg", formerRole: "President of the United States", state: "Illinois" };
        party = "Democratic";
        headerColor = "#002D62";
        
        const tempVP = obamaVPs[runningMateID] || obamaVPs[30];
        vicePresident = {
            position: "Vice President",
            ...tempVP,
            seal: seals.vp
        };
        assignedPeople.add(vicePresident.name);

        const candidates = obamaCandidates;

        // Tier 1 appointments
        const statePicks = [
            (runningMateID === 34 && candidates.state.clinton_vp),
            (hawkScore <= -2 && candidates.state.centrist),
            (hawkScore >= 2 && candidates.state.loyalist),
            candidates.state.historical
        ].filter(Boolean);
        pickAndAssign("Secretary of State", statePicks, seals.state, 1);

        const defensePicks = [
            (bipartisanScore >= 3 && candidates.defense.dove),
            (hawkScore >= 2 && candidates.defense.hawk),
            (playerEV < 300 && candidates.defense.establishment),
            candidates.defense.continuity
        ].filter(Boolean);
        pickAndAssign("Secretary of Defense", defensePicks, seals.defense, 1);

        const treasuryPicks = [
            (wallStreetScore <= -3 && candidates.treasury.progressive),
            (wallStreetScore >= 2 && candidates.treasury.wall_street),
            (playerEV > 330 && candidates.treasury.continuity),
            candidates.treasury.establishment
        ].filter(Boolean);
        pickAndAssign("Secretary of the Treasury", treasuryPicks, seals.treasury, 1);

        const homelandPicks = [
            (playerEV < 300 && candidates.homeland.continuity),
            candidates.homeland.establishment
        ].filter(Boolean);
        pickAndAssign("Secretary of Homeland Security", homelandPicks, seals.homeland, 1);

        // Tier 2 appointments
        const agPicks = [
            (progressiveScore >= 3 && candidates.attorneyGeneral.progressive),
            (runningMateID === 38 && candidates.attorneyGeneral.alternative),
            (bipartisanScore >= 2 && candidates.attorneyGeneral.centrist),
            candidates.attorneyGeneral.continuity
        ].filter(Boolean);
        pickAndAssign("Attorney General", agPicks, seals.attorneyGeneral, 2);

        const hhsPicks = [
            (runningMateID !== 40 && candidates.hhs.continuity),
            (progressiveScore >= 2 && candidates.hhs.alternative),
            candidates.hhs.establishment
        ].filter(Boolean);
        pickAndAssign("Secretary of Health & Human Services", hhsPicks, seals.hhs, 2);

        const transportPicks = [
            (bipartisanScore >= 2 && candidates.transportation.continuity),
            candidates.transportation.establishment
        ].filter(Boolean);
        pickAndAssign("Secretary of Transportation", transportPicks, seals.transportation, 2);

        const energyPicks = [
            (progressiveScore >= 3 && candidates.energy.progressive),
            (playerEV > 330 && candidates.energy.continuity),
            candidates.energy.establishment
        ].filter(Boolean);
        pickAndAssign("Secretary of Energy", energyPicks, seals.energy, 2);

        // Tier 3 appointments
        const interiorPicks = [
            (progressiveScore >= 3 && candidates.interior.progressive),
            (playerEV > 320 && candidates.interior.continuity),
            candidates.interior.establishment
        ].filter(Boolean);
        pickAndAssign("Secretary of the Interior", interiorPicks, seals.interior, 3);
        
        pickAndAssign("Secretary of Agriculture", [candidates.agriculture.continuity, candidates.agriculture.alternative], seals.agriculture, 3);

        const commercePicks = [
            (bipartisanScore >= 2 && candidates.commerce.unity),
            (wallStreetScore >= 1 && candidates.commerce.alternative),
            candidates.commerce.establishment
        ].filter(Boolean);
        pickAndAssign("Secretary of Commerce", commercePicks, seals.commerce, 3);
        
        const laborPicks = [
            (progressiveScore >= 4 && candidates.labor.union),
            (playerEV > 330 && candidates.labor.continuity),
            candidates.labor.progressive
        ].filter(Boolean);
        pickAndAssign("Secretary of Labor", laborPicks, seals.labor, 3);

        const hudPicks = [
            (playerEV > 330 && candidates.hud.continuity),
            candidates.hud.alternative
        ].filter(Boolean);
        pickAndAssign("Secretary of Housing & Urban Development", hudPicks, seals.hud, 3);

        pickAndAssign("Secretary of Education", [candidates.education.continuity, candidates.education.alternative, candidates.education.reformer], seals.education, 3);

        pickAndAssign("Secretary of Veterans Affairs", [candidates.veterans.continuity, candidates.veterans.alternative], seals.veterans, 3);

    } else {
        // Republican victory
		let libScore = (typeof scores.liberalismScore !== 'undefined') ? scores.liberalismScore : (window.liberalismScore || 0);
        let conScore = (typeof scores.confrontationScore !== 'undefined') ? scores.confrontationScore : (window.confrontationScore || 0);

        const opponent = getRepublicanOpponent(libScore, conScore);
        const vpName = getRepublicanVP(opponent, libScore, conScore);
		
		const prezData = gopPresidents[opponent] || gopPresidents["Mitt Romney"];

        president = { 
            name: opponent, 
            img: prezData.img, 
            formerRole: prezData.formerRole, 
            state: prezData.state 
        };
        party = "Republican";
        headerColor = "#AE1C23";
        
        const vpData = gopVPs[vpName] || defaultGopVP;

        vicePresident = {
            position: "Vice President",
            name: vpName,
            img: vpData.img,
            formerRole: vpData.formerRole,
            state: vpData.state,
            seal: seals.vp
        };
        assignedPeople.add(vicePresident.name);

        const candidates = romneyCandidates;
        const gopMandate = (playerEV < 150) ? 100 : (270 - playerEV);

        // Tier 1 appointments
        const treasuryPicks = [
            (vpName === "Paul Ryan" && candidates.treasury.ryan_vp),
            (gopMandate < 40 && candidates.treasury.alternative),
            candidates.treasury.establishment
        ].filter(Boolean);
        pickAndAssign("Secretary of the Treasury", treasuryPicks, seals.treasury, 1);

        const defensePicks = [
            (gopMandate < 50 && candidates.defense.unity),
            (hawkScore >= 3 && candidates.defense.hawk),
            candidates.defense.establishment
        ].filter(Boolean);
        pickAndAssign("Secretary of Defense", defensePicks, seals.defense, 1);

        const agPicks = [
            (vpName === "Chris Christie" && candidates.attorneyGeneral.establishment),
            candidates.attorneyGeneral.alternative,
            candidates.attorneyGeneral.conservative
        ].filter(Boolean);
        pickAndAssign("Attorney General", agPicks, seals.attorneyGeneral, 1);

        pickAndAssign("Secretary of Homeland Security", [candidates.homeland.establishment, candidates.homeland.alternative], seals.homeland, 1);

        // Tier 2 appointments
        const statePicks = [
            (hawkScore >= 3 && candidates.state.hawk),
            (gopMandate < 50 && candidates.state.establishment),
            candidates.state.moderate,
            candidates.state.alternative
        ].filter(Boolean);
        pickAndAssign("Secretary of State", statePicks, seals.state, 2);

        pickAndAssign("Secretary of HHS", [candidates.hhs.establishment, candidates.hhs.alternative], seals.hhs, 2);
        pickAndAssign("Secretary of Commerce", [candidates.commerce.establishment, candidates.commerce.alternative], seals.commerce, 2);
        pickAndAssign("Secretary of Transportation", [candidates.transportation.establishment, candidates.transportation.alternative], seals.transportation, 2);

        // Tier 3 appointments
        pickAndAssign("Secretary of the Interior", [candidates.interior.establishment, candidates.interior.western], seals.interior, 3);
        pickAndAssign("Secretary of Agriculture", [candidates.agriculture.establishment, candidates.agriculture.alternative], seals.agriculture, 3);
        pickAndAssign("Secretary of Labor", [candidates.labor.establishment, candidates.labor.alternative], seals.labor, 3);
        pickAndAssign("Secretary of Housing & Urban Development", [candidates.hud.establishment, candidates.hud.alternative], seals.hud, 3);
        pickAndAssign("Secretary of Energy", [candidates.energy.establishment, candidates.energy.alternative], seals.energy, 3);
        pickAndAssign("Secretary of Education", [candidates.education.establishment, candidates.education.alternative], seals.education, 3);
        pickAndAssign("Secretary of Veterans Affairs", [candidates.veterans.establishment, candidates.veterans.alternative], seals.veterans, 3);
    }
    
    // HTML generation
    let html = `
    <div style="max-width: 800px; margin: 1em auto; font-family: sans-serif;">
        <style>
            .wikitable { background-color: #f8f9fa; color: #202122; margin: 1em 0; border: 1px solid #a2a9b1; border-collapse: collapse; }
            .wikitable > tbody > tr > th, .wikitable > tbody > tr > td { border: 1px solid #a2a9b1; padding: 0.35em 0.4em; }
            .wikitable > thead > tr > th { border: 1px solid #a2a9b1; padding: 0.35em 0.4em; }
            .wikitable > * > tr > th { background-color: #eaecf0; text-align: center; font-weight: bold; }
        </style>
        <table class="wikitable" style="text-align:center; width: 100%;">
            <thead>
                <tr>
                    <th colspan="4" style="font-size:110%; color:white; background:${headerColor};">
                        <b>Cabinet of President ${president.name}</b>
                    </th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td colspan="4" style="text-align:left; font-size: 90%; background-color: #f8f9fa;">
                        <div style="display:inline-block; border:1px solid #a2a9b1; width:1em; height:1em; background-color:#90EE90; vertical-align: middle;"></div> Elected to office
                    </td>
                </tr>
    `;

    const presidentOfficeCell = `
        <td style="vertical-align: top; padding: 5px; background: #90EE90;" colspan="2">
            <img src="${seals.potus}" style="width: 75px; height: 75px; object-fit: contain;">
            <p style="margin: 0.5em 0; font-weight: bold;">President</p>
            <p style="font-size: 85%; margin: 0;">
                Elected November 6, 2012<br>
                Assumed office January 20, 2013
            </p>
        </td>
    `;
    const presidentDesigneeCell = `
        <td style="vertical-align: top; padding: 5px; background: #90EE90;" colspan="2">
            <img src="${president.img}" style="width: 95px; height: 120px; object-fit: cover; border: 1px solid #ccc;">
            <br>
            <span style="font-size: 85%;">${president.formerRole}</span>
            <br>
            <b>${president.name}</b>
            <br>
            <span style="font-size: 85%;">from ${president.state}</span>
        </td>
    `;
    html += `<tr>${presidentOfficeCell}${presidentDesigneeCell}</tr>`;

    html += `
                <tr>
                    <th scope="col" style="width: 30%;">Office<br><small>Date announced/confirmed</small></th>
                    <th scope="col" style="width: 20%;">Designee</th>
                    <th scope="col" style="width: 30%;">Office<br><small>Date announced/confirmed</small></th>
                    <th scope="col" style="width: 20%;">Designee</th>
                </tr>
    `;

    const cabinetMembers = [vicePresident, ...cabinet];

    for (let i = 0; i < cabinetMembers.length; i += 2) {
        html += '<tr>';
        const member1 = cabinetMembers[i];
        if (member1) {
            html += generateCabinetCells(member1, victoryType);
        }

        const member2 = cabinetMembers[i + 1];
        if (member2) {
            html += generateCabinetCells(member2, victoryType);
        } else {
            html += '<td colspan="2"></td>';
        }
        html += '</tr>';
    }

    html += `</tbody></table></div>`;
    
    window.generatedCabinetCache[cacheKey] = { html };
     
    return html;
}

// helper functions for GOP opponents
function getOpponentRole(opponent) {
    const roles = {
        "Mitt Romney": "Former Governor of Massachusetts",
        "Rick Santorum": "Former U.S. Senator",
        "Newt Gingrich": "Former Speaker of the House",
        "Jon Huntsman": "Former Governor of Utah",
        "Ron Paul": "U.S. Representative",
        "Rick Perry": "Governor of Texas",
        "Michele Bachmann": "U.S. Representative"
    };
    return roles[opponent] || "Political Figure";
}

function getOpponentState(opponent) {
    const states = {
        "Mitt Romney": "Massachusetts",
        "Rick Santorum": "Pennsylvania",
        "Newt Gingrich": "Georgia",
        "Jon Huntsman": "Utah",
        "Ron Paul": "Texas",
        "Rick Perry": "Texas",
        "Michele Bachmann": "Minnesota"
    };
    return states[opponent] || "United States";
}

function getVPRole(vp) {
    const roles = {
        "Paul Ryan": "U.S. Representative",
        "Chris Christie": "Governor of New Jersey",
        "Marco Rubio": "U.S. Senator",
        "Rob Portman": "U.S. Senator",
        "Bob McDonnell": "Governor of Virginia",
        "Mike Huckabee": "Former Governor of Arkansas",
        "Jim DeMint": "U.S. Senator",
        "Bobby Jindal": "Governor of Louisiana",
        "Tim Pawlenty": "Former Governor of Minnesota",
        "Sarah Palin": "Former Governor of Alaska",
        "Herman Cain": "Businessman",
        "John Bolton": "Former U.S. Ambassador to the UN",
        "Rick Perry": "Governor of Texas",
        "Rand Paul": "U.S. Senator",
        "Condoleezza Rice": "Former Secretary of State",
        "Andrew Napolitano": "Former Judge",
        "Justin Amash": "U.S. Representative",
        "Lew Rockwell": "Political Commentator",
        "Allen West": "U.S. Representative",
        "Nikki Haley": "Governor of South Carolina",
        "Steve King": "U.S. Representative"
    };
    return roles[vp] || "Political Figure";
}

function getVPState(vp) {
    const states = {
        "Paul Ryan": "Wisconsin",
        "Chris Christie": "New Jersey",
        "Marco Rubio": "Florida",
        "Rob Portman": "Ohio",
        "Bob McDonnell": "Virginia",
        "Mike Huckabee": "Arkansas",
        "Jim DeMint": "South Carolina",
        "Bobby Jindal": "Louisiana",
        "Tim Pawlenty": "Minnesota",
        "Sarah Palin": "Alaska",
        "Herman Cain": "Georgia",
        "John Bolton": "Maryland",
        "Rick Perry": "Texas",
        "Rand Paul": "Kentucky",
        "Condoleezza Rice": "California",
        "Andrew Napolitano": "New Jersey",
        "Justin Amash": "Michigan",
        "Lew Rockwell": "Alabama",
        "Allen West": "Florida",
        "Nikki Haley": "South Carolina",
        "Steve King": "Iowa"
    };
    return states[vp] || "United States";
}

// all the endings go here!
// main narrative slides (slide 0)
// the code will pick the first entry where .condition() returns true
const mainEndings = [
    {
        id: "contingent_tie",
        condition: (ev, opEV) => ev < 270 && opEV < 270,
        image: "https://media.gettyimages.com/id/504723292/pt/foto/washington-dc-u-s-president-barack-obama-delivers-the-state-of-the-union-speech-before-members.jpg?s=612x612&w=0&k=20&c=2QxqRxKwm0XDen8DDZAm4oi3aqb_vNI0CfEirHi_Yrs=",
        // this is a special flag because the Tie ending behaves differently
        isContingent: true, 
        html: (playerEV, opponentEVs, opLast) => `
            <div style="background: rgba(0, 0, 0, 0.5); color: white; padding: 1.2em; display: inline-block; border-radius: .5em 0 0 .5em;">
            <h3><span style="color:#eee; font-family: Comic Sans MS, cursive;">awkward…!</span></h3>
            <p style="text-align:center; margin-bottom:1.5em;">
              <strong>Final Results:</strong><br>
              Obama: ${playerEV} • ${opLast}: ${opponentEVs || 0}
            </p>
            <p>Something funny just happened. For the first time since 1824, no presidential candidate has secured the 270 electoral votes needed to win. Under the 12th Amendment, the election now moves to the House of Representatives, where each state delegation gets one vote.</p>
            <p>Pundits and constitutional scholars will debate procedures not used in nearly two centuries, but you’re not thinking of that. With Republicans controlling more state delegations, the outcome seems uncertain. You think you’re screwed. You may be, indeed, screwed. But perhaps not entirely. You must now navigate the waters of Congressional politics to secure the presidency.</p>
            <p style="text-align:center; margin-top:2em; font-weight:bold;">
              Choose which House delegation to approach for negotiations:
            </p>
            <div id="coalitionList" style="margin-top:1em;"></div>
          </div>`
    },
    {
        id: "resignation",
        condition: (ev) => ev < 4,
        image: "https://file.garden/aNtAfG887DiA_7lO/2012LBM/ending1.webp",
        title: "mind over matter",
        html: `<div style="background: linear-gradient(to bottom, #15223C, #20335B); color: #fff; border: 1px solid #777; border-radius: 8px 0; padding: 20px; font-family: Georgia, serif; box-shadow: 0 1px 3px rgba(0,0,0,0.2), inset 0 1px 0 rgba(100, 100, 100, 0.7);"><h3><span style="color:#aaccff; font-weight: normal; font-style: italic;">mind over matter</span></h3>

<p><strong>November 7th, 2012 - 3:47 AM</strong></p>

<p>The rain had no rhythm tonight. It came down in sheets against the windows of the White House residence, chaotic and relentless, as though the sky itself had forgotten how to weep properly. There was no moon, and no stars either. It was just the endless black pressing against the glass, and the percussion of water against stone.</p>

<p>Barack Obama stood alone in the bathroom, both hands gripping the edges of the marble sink. The mirror stretched before him, ornate and merciless. Somewhere in the residence, he knew the Secret Service waited in their positions, guarding a presidency that would be gone in seventy-five days. The thought felt distant. Everything felt distant now.</p>

<p>He studied the face looking back at him.</p>

<p>It wasn’t his.</p>

<p>Oh, the features were technically correct, the same eyes, the same bone structure his mother had given him, and the same mouth that had spoken words to millions. But there was something fundamentally wrong with it, like a photograph of a photograph of a photograph, each iteration losing some essential quality that made it real. He <i>was</i> the flesh of a fallen angel, he thought. Something that had been cast down from a great height and shattered on impact, and what stood here now was just the remnant, the thing that used to be, or whatever it was at this point.</p>

<p>His skin felt borrowed. When had that started? Had it been gradual, this sense of dissolution, or had it happened all at once on that stage in Chicago where he’d delivered his concession speech? He’d spoken the right words, he’d smiled the right smiles. He’d talked about peaceful transitions and the enduring strength of democracy, all that jazz, and the entire time he felt like he was watching someone else perform the role of Barack Obama while the real one — whatever that meant anymore — stood somewhere far away, unreachable.</p>

<p>Three electoral votes or less. That’s what remained of hope and change. That’s what four years in the most powerful office in the world had amounted to. A repudiation so complete, so total, that the word “landslide” didn’t even capture it. It was an avalanche, an erasure.</p>

<p>He’d lost Florida. That was expected, perhaps. But then Pennsylvania had slipped away as the returns came in, and Michigan, and Wisconsin. The Midwest had abandoned him. The coalition had collapsed like a house with no foundation. By the time California was called — oh, California, going red for the first time since 1988 — he’d stopped watching the map. No. The numbers ceased to be numbers and became something else. A judgment, a verdict on everything he’d tried to be. No.</p>

<p><em>“Yes we can,”</em> they’d chanted in 2008. But these words rang hollow now, bouncing around in his skull like debris in an abandoned building.</p>

<p>His hands looked strange in the dim light. Too pale, too small. Were these the hands that had signed legislation, that had ordered military operations… that had held his daughters when they were young? He flexed his fingers, watching the tendons move beneath skin that didn’t feel like his own. He wasn’t a piece of himself anymore. No, he was scattered, distributed across a thousand compromises, a thousand speeches, a thousand versions of himself that had been necessary to survive the machinery of politics. And now that machinery had chewed him up and spat him out, there was nothing cohesive left to gather up and call Barack Obama.</p>

<p>The bathroom was quiet except for the rain. It was too quiet.</p>

<p>Barack thought about his mother.</p>

<p>Ann would have stayed up with him on a night like this. She’d done it before, during the holidays when he was young, when the isolation of being different in Hawaii, of being caught between worlds, had pressed down on him like a weight. She would have made tea — too much tea, honestly, she always made too much — and they would have talked about books, about ideas, about anything and everything until the loneliness receded enough to breathe again.</p>

<p>But she was gone. Seventeen years today, in fact. She’d believed in him with a fierceness that embarrassed him sometimes, and certain he would do important things. What would she say now, seeing him here? Would she offer comfort? Wisdom? Or would she just sit with him in silence, acknowledging that some losses were too large for words?</p>

<p>He’d never needed her more than he did right now, and she was gone. That was the cruelest equation of all. The people who built you, who made you believe you could be something… they all left you before you truly needed them. And when you stood at the lowest point of your life, when the world had rendered its verdict and found you wanting, you stood alone.</p>

<p>Barack lowered his head, closing his eyes. The marble was cool beneath his palms. It was solid, real. More real than he felt.</p>

<p>There was not an ounce of hope left in him anymore. Just the rain, the dark, the silence, and the man who used to be.</p></div>`
    },
    {
        id: "mental_break",
        condition: (ev) => ev >= 4 && ev < 200,
        image: "https://file.garden/aNtAfG887DiA_7lO/2012LBM/ach/obama_resigned.png",
        title: "in and out of consciousness",
        html: `<div style="background: linear-gradient(to bottom, #15223C, #20335B); color: #fff; border: 1px solid #777; border-radius: 8px 0; padding: 20px; font-family: Georgia, serif; box-shadow: 0 1px 3px rgba(0,0,0,0.2), inset 0 1px 0 rgba(100, 100, 100, 0.7);"><h3><span style="color:#aaccff; font-weight: normal; font-style: italic;">in and out of consciousness</span></h3>

<p><strong>November 7th, 2012 - 3:19 AM</strong></p>

<p>As unamusing as it was, the Oval Office felt like a museum exhibit of someone else’s life. Barack sat in the chair — erm, <i>his</i> chair, for another seventy-four days — but he wasn’t really there. He drifted. It was a strange feeling; he felt both present and absent simultaneously. The papers on the Resolute Desk needed his attention. A lot of people needed his attention, in fact. And yet they were all indifferent to the fact that the nation’s operator had, at one point, become a ghost.</p>

<p>He stared at his hands again. Jeez, he’d been doing that a lot since Tuesday night. They trembled slightly, though he couldn’t say if it was from exhaustion or something more fundamental. He wondered if there was some structural failure in the architecture of who he was.</p>

<p>The numbers played on repeat in his mind. It was not a complete annihilation; he’d held some states, and managed to scrape together enough electoral votes to avoid total humiliation. But it didn’t matter. A loss was a loss, and this one felt like confirmation of something he’d suspected but never admitted: that he’d been broken for longer than he realized. That the cracks had been there all along, hidden under the polish of his speeches and the armor of the office, and now everyone could see them. Now <em>he</em> could see them.</p>

<p>God, he was more screwed up than he’d thought.</p>

<p>The realization didn’t come as a shock or a revelation, on the contrary, actually. It settled over him like sediment, layer upon quiet layer, until he was buried under the weight of it. Four years of… whatever he was doing. It was hard to define it. Four years of drone strikes and budget battles and watching his hair turn gray in time-lapse and what the fuck ever. Four years of being everything to everyone until he wasn’t anything to anyone, including himself.</p>

<p>It was all so different now that he was poor and aging. He’d never see his pretty face again.</p>

<p>The door opened softly. He knew her footsteps without looking.</p>

<p>“Barack.”</p>

<p>Michelle’s voice was gentle, careful; it was the way you’d speak to someone standing on a ledge. She crossed the room and stood beside the desk, and he could feel her eyes on him, assessing, so worried. How many times had she looked at him like that over the past four years? How many times had he told her he was fine when they both knew he wasn’t?</p>

<p>“You haven’t eaten,” she said.</p>

<p>“I’m not hungry.”</p>

<p>“Barack—”</p>

<p>“I know.” He finally looked up at her. Her face was drawn, exhausted in a way that matched his own. She’d been through this too. Maybe before the campaign, too. And now she was here, trying to pull him back from whatever edge he was approaching, because that’s what she did. That’s what she’d always done.</p>

<p>But he couldn’t let her. Not this time.</p>

<p>“I think I need some time,” he said quietly.</p>

<p>She was silent for a moment. “Time for what?”</p>

<p>“Uh, away. From…” He gestured vaguely, a motion that encompassed everything and nothing. “People, um, events. All of it.”</p>

<p>“Away from me?” Her voice was steady, but he heard the hurt underneath.</p>

<p>Barack wanted to say no. He really, desperately wanted to say no. He wanted to reach for her hand, to let her anchor him the way she had for twenty years. But there was something wrong inside him now, and he knew it was something that her love couldn’t fix and her presence couldn’t soothe. No, he needed to be alone with it. He couldn’t just sit in the wreckage without dragging her down too.</p>

<p><em>And for a thousand days, I was lost,</em> he thought. The lyrics had been stuck in his head since morning, from some song he’d heard years ago. But he could resonate with it, even if he didn’t recall all of its lyrics. <em>I said, ‘Heaven knows I’m ready to be found.’ Uh… underground, but I think I’m ready now. So please send me someone to love.</em></p>

<p>Except he wasn’t ready. He wasn’t underground waiting to be found. He was descending still, and he needed to hit bottom before he could even think about climbing back up.</p>

<p>“Look, I just need space,” he said. “To figure out… ugh, I don’t know, who I am when I’m not this.” He touched the edge of the desk. “I don’t know who that person is anymore, Michelle. And I can’t—I can’t pretend I do. Not even for you.”</p>

<p>Michelle studied his face for a long moment, and he saw the calculation happening behind her eyes. She wondered whether to fight him on this or let him go. This didn’t surprise him; he’d seen her make that same calculation a hundred times during the presidency. She was the strongest person he knew, but even strength had limits.</p>

<p>“How long?” she asked.</p>

<p>“I don’t know.”</p>

<p>He could never truly replace her. There was a space in her heart for him, but the space in his heart wasn’t where she’d left. It was where he’d left himself, piece by piece, until there was nothing but hollowness. If only there was something that could pull him back from the blue.</p>

<p>“Okay,” Michelle said finally, and the word cost her something. He could see it. “Okay.”</p>

<p>He stood slowly, each movement deliberate, as though his body might fall apart if he moved too quickly. She didn’t reach for him. She understood what he was asking for, even if it hurt them both. That was, perhaps, the cruelty of knowing someone for twenty years; you understood them even when you wished you didn’t.</p>

<p>“Thank you,” he whispered.</p>

<p>He walked past her, past the portraits of former presidents watching from the walls, and past the flags and the symbols of power that would soon belong to someone else. At the door, he reached for the light switch. The office plunged into shadow, lit only by the gray November light filtering through the windows.</p>

<p>He left without looking back.</p>

<p>Michelle stood in the darkness for a long moment before moving to the chair he’d just vacated. She lowered herself into it slowly, feeling the leather still warm from his body. Finally, she looked down at her hands, folded in her lap.</p>

<p>What would she tell her daughters now?</p>

<p>That their father needed to be alone? That sometimes love meant giving people space to break? That they’d fought so hard for this office, this opportunity, and it had cost them more than she’d ever imagined…?</p>

<p>Malia was fourteen, Sasha was eleven. Both were old enough to understand that they’d lost, but perhaps too young to understand what it meant. They were too young to see the way their father had been slowly hollowed out by the weight of the world. How did you explain that to children? How did you tell them that sometimes the people you love most become strangers, even to themselves?</p>

<p>The chair felt too large. Or maybe she felt too small? And yet she sat alone, looking down, wondering how to explain the unexplainable.</p>

<p>If only she had someone to love.</p></div>`
    },
    {
        id: "standard_loss",
        condition: (ev, opEV) => ev < 270 && opEV >= 270,
        image: "https://media.gettyimages.com/id/83548801/pt/foto/us-democratic-presidential-candidate-illinois-senator-barack-obama-sheds-tears-while-talking.jpg?s=612x612&w=0&k=20&c=J1u5v_SwxINo9ACaElacQMWav6ttvpAW_RJteECzrGo=",
        title: "come a little closer",
        html: `<div style="background: linear-gradient(to bottom, #15223C, #20335B); color: #fff; border: 1px solid #777; border-radius: 8px 0; padding: 20px; font-family: Georgia, serif; box-shadow: 0 1px 3px rgba(0,0,0,0.2), inset 0 1px 0 rgba(100, 100, 100, 0.7);"><h3><span style="color:#aaccff; font-weight: normal; font-style: italic;">come a little closer</span></h3>

<p><strong>November 7th, 2012 - 4:38 AM</strong></p>

<p>There was no light from the windows yet. There would be soon, but not yet. All there was was the soft glow of the desk lamp, casting long shadows across the presidential seal woven into the carpet. Barack sat at the Resolute Desk, chin resting on his hand, staring at nothing in particular.</p>

<p>The numbers were final now, even as he lost track of the actual EV count. 274, 275, 291, 295. It changed quite a bit. He kept getting them backwards in his head, some stubborn part of his brain refusing to accept the arithmetic of defeat. It was a clear, unambiguous rejection of him, the kind that left no room for interpretation or moral victories.</p>

<p>Four years. That’s all he’d get. One simple term. His name would go in the history books between those who’d done great things and those who’d done terrible things, in that crowded middle category of presidents who’d simply… been there. For a while, too. And then weren’t.</p>

<p>He wondered what younger Barack would think if he could see him now.</p>

<p>But not the Barack from 2008, drunk on hope and possibility and whatever. No, no, further back. Barry. Oh, the kid in Honolulu who’d spent so much time alone, reading Baldwin and Ellison, trying to figure out who he was and where he fit. Or the college student at Occidental and Columbia, so certain he was going to change the world, even if he hadn’t quite figured out how yet. Good times! Or even the community organizer in Chicago, idealistic and honestly naive and… so goddamn sure that organizing people around their shared interests could shift the tectonic plates of power.</p>

<p>Oh, he could almost see him, that younger version of himself, standing across the desk. “Come here,” he wanted to say. “Let me show you what we become. Let me warn you about the way our dream curdled into something I barely recognize…“</p>

<p>But would young Barry even listen? Would he turn away from this path if he could see where it led? Or would he charge forward anyway, convinced he could do it differently, do it better, avoid the pitfalls that had trapped every idealist who’d ever entered this office?</p>

<p>Maybe the latter. Probably the latter. That was the thing about youth; it made you invincible in your own mind. It made you believe you were the exception to every rule.</p>

<p>But what would <i>that</i> kid think of this pathetic, low-energy middle-aged man sitting here at four in the morning, defeated? Would he be impressed that Barry had made it this far at all? Or would he be disappointed that he’d compromised so much along the way? That he’d become another politician, another face in a suit making speeches full of careful language and calculated positions?</p>

<p>Well, the young Barack had dreamed in absolutes. But this Barack lived in the gray space between what you wanted to do and what you could actually accomplish. And now even that gray space was being taken away. What the hell.</p>

<p>He felt the tears before he realized he was crying. Oh God. They came silently, rolling down his cheeks without much fanfare or drama. He wiped them away quickly, even though no one was there to see. Some habits were too ingrained to break, unfortunately; he had the need to appear composed, controlled, and especially presidential. Even now. Even here, alone in the dark.</p>

<p>A sigh escaped him.</p>

<p>When had he last slept? Really slept, not the fitful few hours he’d been managing between campaign events and briefings and damage control and a series of endless phone calls from party leaders. His body ached, and his mind felt like static. The thought of just walking back to the residence, facing Michelle’s concern or the emptiness of a bed that reminded him of all the nights he’d slept somewhere else, from hotels to Air Force One, felt impossible.</p>

<p>His eyes drifted to the couch against the wall. It was amazing to think that was the same couch where JFK had once sat, where Clinton had gotten a little too freaky, and where a hundred presidents had made a hundred decisions that rippled out into history. Okay, perhaps it wasn’t the exact same couch; he’d exaggerated this a bit. But it looked pretty comfortable. Far more comfortable than pretending he had the energy to maintain any more protocols tonight.</p>

<p>Fuck it.</p>

<p>The thought came unbidden and felt deliciously liberating. Fuck protocol, fuck propriety, and fuck the image of the presidency and the dignity of the office. He was going to sleep on that couch because he was tired and it was there and he didn’t want to move anymore.</p>

<p>Barack pushed back from the desk, his joints protesting as he stood. Fifty-one years old. When had that happened? He crossed to the couch, loosening his tie but not bothering to remove it entirely. He kicked off his shoes and lay down, stretching out his long frame. The leather was cool against his cheek.</p>

<p>Above him, the ceiling disappeared into shadow.</p>

<p>He thought about all the things he hadn’t done. Not as president, no; that list was too long and too painful to contemplate right now. But a little further back. The adventures he’d missed while he was busy becoming the kind of person who could run for president.</p>

<p>Hmm. The year abroad he’d never taken because he was too focused on building his resume. The novel he’d wanted to write before law school consumed him. The lazy summers he’d traded for internships and networking events. Or even the friends he’d lost touch with because they didn’t fit into the narrative of so-called rising star Barack Obama. Or the spontaneous road trips he’d never taken. Or the risks he’d never taken!</p>

<p>He’d chosen this path so deliberately, with such intention, plotting each move like a chess game. And he’d won, for a while, too. He’d become president of the United States. He’d stood where Lincoln stood and signed laws and commanded armies and made decisions that affected millions of lives. Nothing wrong with that.</p>

<p>But what had he missed along the way?</p>

<p>What version of Barack Obama existed in some parallel universe where he’d made different choices? Where he’d stayed in community organizing, or become a writer, or done something else entirely? Would <i>that</i> Barack be happier? More fulfilled? Would he sleep better at night? Would he have spent more time with his daughters when they were small? Would he have lived a smaller life but felt more whole inside it?</p>

<p>His eyes grew heavy. The Oval Office faded at the edges, becoming dreamlike. It was funny, seeing him getting all philosophical at times like this. Nevertheless, Barack persisted. He thought about the road taken, and the road not taken, and also the thousand roads that branched off from every decision he’d ever made.</p>

<p>Somewhere in these… uh… alternate timelines, whatever they called them, there was definitely a Barack who’d gone backpacking through Asia after college. Maybe one who’d married someone else, or never married at all. Perhaps one who’d never gone into politics. One who’d stayed in Hawaii and learned to be content with the ocean and the sky. One who’d won tonight instead of lost… or one who’d never run at all.</p>

<p>Sleep came gradually, then all at once. And as dawn began its slow approach beyond the windows, he dreamed of roads stretching endlessly toward horizons he’d never reach. He dreamed of himself! Oh, young Barack, standing at a distance, watching him with those earnest, hopeful eyes. “Come here,” Barack whispered to him. “Let me tell you what we become… let me tell you what we lose.”</p>

<p>But the distance remained. The younger self stayed where he was. And that’s when it clicked.</p>

<p><i>I… uh… everything I’ve seen… what I’ve just witnessed… could have been the end to a particularly terrifying nightmare,</i> he thought. <i>It isn’t.</i></p>

<p><i>It’s the beginning.</i></p></div>`
    },
	{
        id: "polarbears",
        condition: (ev) => ev >= 333 && (window.lunarbears >= 3),
        image: "https://pbs.twimg.com/media/GhwRHDJWwAA8nDT?format=jpg&name=large",
        title: "the world is filled...",
        html: `<div style="background: linear-gradient(to bottom, #15223C, #20335B); color: #fff; border: 1px solid #777; border-radius: 8px 0; padding: 20px; font-family: Georgia, serif; box-shadow: 0 1px 3px rgba(0,0,0,0.2), inset 0 1px 0 rgba(100, 100, 100, 0.7);"><h3><span style="color:#aaccff; font-weight: normal; font-style: italic;">the world is filled…</span></h3>

<p><strong>November 9th, 2012 - 2:47 PM</strong></p>

<p>The Atlantic was doing that thing where it pretended to be the Caribbean. Barack didn’t know if it was global warming or just one of those freak November days that made Massachusetts occasionally cough up like a hairball of rather, uh, unseasonable pleasantness, but he wasn’t about to question it. The water was still cold, sure, but the sun was warm, the sky was aggressively blue, and for the first time in approximately eighteen months, nobody was asking him about Libya.</p>

<p>He stretched out on the deck of the rental boat; it was nothing fancy, just a modest thirty-footer he’d borrowed from a friend of a friend of Deval Patrick, and let the gentle rocking do its work. The election was three days behind him now. Three days since the map had turned blue and America had decided that yes, actually, they <i>did</i> want four more years of this.</p>

<p>Martha’s Vineyard in the off-season was exactly what he needed. No crowds, no cameras, no Biden calling him at 6 AM to share an article about trains. It was so soothing. Just him, the boat, and the peculiar silence that came from being genuinely, completely alone.</p>

<p>Michelle had wanted to come, but the girls had school, and someone needed to supervise the transition back into normal White House rhythms. “Go,” she’d said, kissing his forehead. “You’ve earned a day of being useless.”</p>

<p>And so here he was, being useless. It was glorious!</p>

<p>Barack closed his eyes and let his mind drift. He thought about the victory speech, which had gone well, fortunately. Then he thought about the work ahead, which was considerable. He then thought about what he might have for dinner tonight. Hmm, maybe that little seafood place in Edgartown, the one with the chowder that Michelle said was “aggressively New England”, whatever that meant, but that he secretly loved. He kept a mental note to go for it.</p>

<p>He was just starting to doze off when he felt the hands on his shoulders.</p>

<p>Oh, they were so warm. So gentle, working at the knots that had accumulated somewhere around his C4 vertebra over the past year of campaigning. Barack smiled without opening his eyes.</p>

<p>“Mm. I thought you had to stay with the girls.”</p>

<p>The hands continued their work. Thumbs pressing into the trapezius, and fingers kneading with surprising expertise. Oh boy.</p>

<p>“Changed your mind, huh? Can’t say I blame you. It’s, uh, really something out here. You should see the water. I just, wow, I really see myself in it. In a, uh, you know, metaphorical way.”</p>

<p>No response. Just the hands, moving now to his neck, tracing patterns that felt almost… geometric. Triangular, if he had to describe it.</p>

<p>Barack’s eyes opened.</p>

<p>He hadn’t brought anyone with him. The boat had left the dock with one passenger. He’d watched the harbor shrink behind him, alone on the deck, alone in the cabin, alone with nothing but a cooler of sparkling water and a copy of Vonnegut’s <i>God Bless You, Dr. Kevorkian</i> he kept meaning to finish.</p>

<p>The hands were still there.</p>

<p>Barack turned around.</p>

<p>The man standing behind him was wearing a yellow polo shirt, khaki shorts, and an expression of profound, almost paternal satisfaction. He was white, mid-thirties, with the kind of face that suggested he’d done improv at some point and never fully recovered. His eyes were doing something a bit complicated; twinkling, maybe.</p>

<p>“Hey, buddy,” the man said. “Hell of an election.”</p>

<p>Barack stared at him. The man looked familiar, in the way that everyone in comedy looked vaguely familiar after you’d done enough White House Correspondents’ Dinners, probably. But there was something else: something in the bone structure, the set of the jaw, the particular way the smile didn’t quite reach all the way up.</p>

<p>“Do I… know you?”</p>

<p>“Oh, Barack.” The man laughed, and it was warm and cold at the same time, like a fever breaking. “You <i>are</i> me. Or I’m you. It gets confusing, honestly, I’ve never been into metaphysics.” He plopped down on the deck beside the president, close enough that their shoulders almost touched. “You remember me, your old pal Trevor Moore. We met in 2008, remember? You signed some papers, I did a thing with my hands… there may have been a goat involved, briefly.”</p>

<p>Barack’s brain, the finely tuned instrument that it was, cycled through several responses and rejected all of them. “I don’t… I didn’t sign…”</p>

<p>“You don’t remember the goat? Well, uh, it was a whole situation. Very memorable goat, too. Had those horizontal pupils, you know the ones. It ate over half of our six… well, six or seven hot dogs too. That was a shame.” Trevor waved a hand dismissively. “Doesn’t matter. Point is, you did the thing, I did the thing, and now here we are. Four more years, baby! The deal is complete. Or, well, <i>completing</i>, there’s still some fine print.”</p>

<p>“I think,” Barack said slowly, “that you might be attempting to, uh, flirt with me. And I should tell you, l- let me be clear, I’m very happily married.”</p>

<p>Trevor’s face scrunched up in what appeared to be genuine offense. “Flirt? <i>Flirt?</i> Barack, buddy, pal, leader of the free world— get that out of your head. I’m not flirting with you…” He leaned back on his hands, gazing out at the water with an expression of serene menace. “You’ve been spending too much time with polar bears, you know that? God, the government, the people in it— it’s making you paranoid. Not everything is about mating rituals.”</p>

<p>“I haven’t been spending time with polar bears.”</p>

<p>“You’d be surprised what counts.” Trevor turned to look at him, and for a moment, Barack could have sworn the man’s eyes flickered. Actually flickered, that is, like a TV losing signal. “The point is, you won. <i>We</i> won. And now comes the fun part.”</p>

<p>“The fun part?”</p>

<p>“The fun part!” Trevor stood up in one fluid motion, offering a hand to the sitting president. Barack didn’t take it, but Trevor didn’t seem bothered. He just stood there, backlit by the November sun, looking for all the world like a man who’d figured out something important about the universe and was delighted by how little everyone else knew.</p>

<p>“Four more years, Barack. Four more years of <i>you and me</i>. It’s quite the conundrum, actually. Every time you look in the mirror and see that distinguished gray coming in at the temples—” He tapped his own temple, grinning. “That’s <i>us</i>, that’s the deal. You get your legacy and all that, and I get to be right there with you. Isn’t that beautiful? Isn’t that just the most American thing you’ve ever heard?”</p>

<p>Barack stood up. It was an instinct, really; you didn’t stay seated when someone was trying to loom over you. He was not aided by the fact Trevor was taller than him by a good five inches or so. Still, he tried his best by drawing himself up to his full height.</p>

<p>“I don’t know what you think is happening here,” he said, keeping his voice level, “but I can assure you that I didn’t make any deals. There was no goat, and um, whatever you’re selling, I’m not, uh, buying.”</p>

<p>Trevor just smiled. He stepped closer. Too close, honestly, and for a long moment, they stood there, almost nose to nose.</p>

<p>“Oh, Barry,” Trevor said softly. “You’re adorable when you’re in denial. Really, I mean it. It’s one of my favorite things about you.”</p>

<p>He patted Barack’s cheek twice, gentle as a grandmother.</p>

<p>“We’re gonna have the time of our lives, you and me.” His grin widened, impossible and hungry. “Now… what do you say we talk about that book of yours?”</p>

<p>Obama sighed.</p>

<p>“Okay.”</p></div>`
    },
    {
        id: "god_emperor_obama",
        condition: (ev) => ev >= 535,
        image: "https://npr.brightspotcdn.com/dims4/default/d68ebef/2147483647/strip/true/crop/726x968+0+0/resize/880x1173!/quality/90/?url=https%3A%2F%2Fmedia.npr.org%2Fassets%2Fimg%2F2011%2F12%2F30%2F136071233_9915867_vert-76f088d1c54ae52009a715167b3615fa49200460.jpg",
        title: "white light",
        html: `<div style="background: linear-gradient(to bottom, #15223C, #20335B); color: #fff; border: 1px solid #777; border-radius: 8px 0; padding: 20px; font-family: Georgia, serif; box-shadow: 0 1px 3px rgba(0,0,0,0.2), inset 0 1px 0 rgba(100, 100, 100, 0.7);"><h3><span style="color:#aaccff; font-weight: normal; font-style: italic;">white light</span></h3>

<p><strong>November 6th, 2012 - 10:47 PM</strong></p>

<p>Even Utah had gone blue.</p>

<p>Barack stared at the television, a glass of champagne frozen halfway to his lips. (Not that he was drinking, of course.) But Utah. The place where one of his Republican opponents had literally saved the Olympics. The state that was approximately 97% Mormon and 100% Republican since the dawn of time.</p>

<p>Blue.</p>

<p>“Is that a glitch?” someone asked. Nobody answered, because nobody knew.</p>

<p>It was not a glitch. He wasn’t even sure how it could have been one, to be honest. Whoever thought of that should’ve had their brain lacquered.</p>

<p>Fifteen minutes later, Wolf Blitzer, who had seemingly lost all remaining grip on reality, announced that CNN was projecting Barack Obama would win the state of Texas. Some people in the room he was in started laughing and didn’t stop for a very long time.</p>

<p>Well, screw it. Barack downed his champagne in one gulp. It was nonalcoholic, at least. Then he poured another glass. He downed that one too.</p>

<p>“What the hell is happening?” he asked the room.</p>

<p>The room had no answers. It was hard to explain what was going on aside from one simple thing: he got them.</p>

<p>By 11:15, the electoral map looked like someone had spilled a bucket of blue paint across the entire continental United States. My God, it was beautiful. Cities, counties, states that hadn’t voted Democratic since LBJ were lighting up like a Christmas tree. Alabama, Mississippi, Oklahoma. <i>Oklahoma.</i> What? How!? The networks had stopped trying to analyze what was going on at some point, and had simply started announcing the results. They had the cadence of auctioneers at a fire sale. It was amazing.</p>

<p>It was so ridiculous, too, that it was actually funny. Someone had produced a boombox from somewhere, an actual boombox, like it was 1987, and suddenly Earth, Wind & Fire was blasting through the holding room. Staffers who had been running on four hours of sleep and anxiety for the last six months were dancing like they’d never heard of exhaustion. It was just like, uh, that event in the Middle Ages. Something like that, uh, it was hard to tell.</p>

<p>Michelle grabbed Barack’s hand and pulled him into an impromptu spin. “I don’t know how, but you’re going to win every state,” she said, half-laughing, half-disbelieving.</p>

<p>“That’s not possible.”</p>

<p>“Tell that to Wyoming.” She pointed at the screen, where Wyoming had just been called. Blue. <i>Wyoming.</i></p>

<p>“I don’t even think I campaigned in Wyoming.”</p>

<p>“Apparently you didn’t need to.”</p>

<p>He pulled her close, swaying to the music, and watching over her shoulder as the map completed its transformation into a monument to electoral absurdity. Jesus. It was beautiful.</p>

<p>Somewhere in America, his pathetic opponent was probably staring at a wall and questioning every life choice that had led them to this moment. Barack felt a brief pang of sympathy, and then he remembered their attacks at him throughout the campaign and the pang went rapidly away.</p>

<p>“We should probably go out there,” Michelle said.</p>

<p>“Uh, yeah, should.”</p>

<p>“The crowd’s been waiting.”</p>

<p>“They, uh, have.”</p>

<p>But neither of them moved. The music was too good… the moment was too sweet… and honestly, what was the rush? It wasn’t like the results were going to change anyway. There were no more states left to call. He had literally won pretty much all of them.</p>

<p>Eventually, and reluctantly, the campaign’s leadership corralled everyone toward the stage. By that point, someone handed Barack another glass of champagne. He probably shouldn’t, but drank it anyway. What were they going to do, not elect him? Too late for that.</p>

<p>“You know what?” he said to no one in particular. “I’m going to, uh, do something different tonight.”</p>

<p>“Different how?” Axelrod asked, suddenly nervous.</p>

<p>“You’ll see.”</p>

<p>“Mr. President, I don’t like it when you say ‘you’ll see.‘ It usually means more paperwork for me.”</p>

<p>Barack just smiled.</p>

<p>The walk to the stage was a blur of hugs, a few high-fives, and people crying happy tears. The crowd noise grew louder with each step. It was amazing to think of all the joy that was radiating through these walls.</p>

<p>He reached the edge of the stage. The curtain waited, and beyond it, a hundred thousand people, maybe more, he’d lost count, ready to celebrate the most improbable victory in American history.</p>

<p>Barack rolled his shoulders, cracked his neck, and just like a boxer about to enter the ring, did a little bounce on his toes.</p>

<p>“Oh no,” Axelrod said, recognizing something in his posture. “Oh no, no, no.”</p>

<p>“Oh yes,” Barack replied.</p>

<p>The curtain parted, and then, instead of walking, Barack Obama started moonwalking onto the stage.</p>

<p>It was smooth… so effortless… and his feet were gliding backward across the polished surface like silk on glass, the product of secret late-night sessions in the White House residence that nobody was ever supposed to know about. (And no one did, probably.) The crowd’s roar shifted. They had no idea what was coming for them, especially as the President of the United States, for some reason, slid backward toward center stage with the grace of someone who <i>clearly</i> had been practicing for exactly this moment.</p>

<p>He hit his mark, stopped, and spun. It was one full rotation, sharp and clean, with his suit jacket flaring out like he was in a music video. The spin ended with precision, and before the crowd could even process what they were seeing, he rose up onto his toes. A perfect toe stand! Held for one impossible second, then two, before dropping back down with a sharp pop of his heels against the stage.</p>

<p>The crowd lost its mind. Hell, the sound wasn’t even cheering anymore; it was something more primal, something which not even poor Barack could understand. At least, not much of it.</p>

<p>“CHICAGO!” Barack shouted into the microphone, pointing out at the sea of faces with both hands. “How are we FEELING tonight?”</p>

<p>Their response was pure chaos.</p>

<p>He grinned. God, this was really ridiculous, but he did not care even a little bit.</p>

<p>“You know what?” he said, pacing the stage now. “I’ve given a lot of speeches. A, uh, lot of speeches. And I was going to give another one tonight; I had the whole thing written out. Very inspiring, too.”</p>

<p>He paused, let the anticipation build.</p>

<p>“But you know what? Forget the speech. Tonight—” he raised a finger, silencing the crowd just enough to be heard, “—tonight, Chicago, we are going to have the night of our LIVES!”</p>

<p>And then the band kicked in. Wait, a band? Yeah, a band, but not with anything anyone expected.</p>

<p>A beat! (Okay, well, maybe that was to be expected given there was a band there.) But also a very neat bass line, and layered over it, an instrumental that had been sitting in the Michael Jackson archives for years, funky and strange and somehow perfect for this exact moment. He’d get sued to oblivion for using it, yeah. It was some sort of James Bond-esque melody that honestly would have been good enough on its own, but also happened to have been merged with one very specific song.

<p>Will Smith’s “Men In Black”.</p>

<p>Barack raised the microphone and started to sing.</p>

<p>What the hell. He belted out the opening lines, and his voice was echoing with definitely more enthusiasm than technical precision. The crowd went absolutely nuclear. Staffers backstage were frozen in various states of disbelief; Axelrod had his head in his hands, already drafting tomorrow’s press statements in his mind. And Michelle was laughing so hard she had to hold onto a Secret Service agent for support. They had no idea what was going on anymore.</p>

<p>But Barack? Barack was in the zone.</p>

<p>It shouldn’t have worked. It really, <i>really</i> shouldn’t have worked.</p>

<p>And yet…</p>

<p>The crowd was singing along to parts they recognized, clapping on the off-beats, losing themselves in the absurdity of watching the goddamn President of the United States perform a 90s mashup taken out of nowhere. Barack hit another spin, pointed at the crowd during a key line, and felt, for the first time in years, completely and utterly free.</p>

<p>This was insane. Like, Jesus, he knew it was insane. Tomorrow, the pundits would combust trying to analyze this moment. Think pieces would be written about presidential dignity, Fox News might actually implode, and he would get hit by at least twenty new lawsuits.</p>

<p>He didn’t care; he loved it.</p>

<p>He loved the way the two songs wove together, the way that instrumental gave the whole thing an edge of something almost… uh… exciting. He loved the way the crowd had abandoned all pretense of normal rally behavior, whatever that was, and was just <i>vibing</i>. And he loved that somewhere out there, Will Smith was probably watching this and either laughing his ass off or calling his lawyers. Possibly both. Definitely both.</p>

<p>As the final notes rang out, Barack struck a pose, as sunglasses materialized from somewhere (the inside of his jacket!) and he put them onto his face. He looked awesome.</p>

<p>“Thank you, Chicago!” he shouted into the mic, though slightly out of breath, grinning like a maniac. “God bless you, and God bless the United States of America!”</p>

<p>Behind the sunglasses, his eyes were bright with joy. It was… so beautiful. This was his night. And it was absolutely, wonderfully, gloriously weird.</p>

<p>But he wouldn’t have had it any other way.</p></div>`
    },
    {
        id: "big_win",
        condition: (ev) => ev >= 333,
        image: "https://www.politico.com/dims4/default/resize/630/quality/90/format/webp?url=http%3A%2F%2Fs3-origin-images.politico.com%2Fnews%2F090818_obama_phone_ap_297.jpg",
        title: "sock opera",
        html: `<div style="background: linear-gradient(to bottom, #15223C, #20335B); color: #fff; border: 1px solid #777; border-radius: 8px 0; padding: 20px; font-family: Georgia, serif; box-shadow: 0 1px 3px rgba(0,0,0,0.2), inset 0 1px 0 rgba(100, 100, 100, 0.7);"><h3><span style="color:#aaccff; font-weight: normal; font-style: italic;">sock opera</span></h3>

<p><strong>November 6th, 2012 - 11:17 PM</strong></p>

<p>They’d called it at 11:12. Not Ohio, not Florida, or any of the usual suspects that kept networks hedging until the small hours of the morning. No, they’d called the <i>whole damn thing</i>. Just like that, too. Wolf Blitzer’s voice had gone an octave higher than usual, which was really saying something, and the map behind him had bloomed blue like someone had knocked over a bucket of paint.</p>

<p>Barack was still holding a chicken wing when it happened.</p>

<p>My God. He looked down at it now, this funny, octopus-shaped little piece of poultry that he’d been about to bite into when history decided to announce itself. By the time he realized what was going on, Axelrod had grabbed his shoulder, Plouffe had whispered something beautiful… and honestly kind of profane… in his ear, and Michelle had kissed him square on the mouth. And through all of it, he’d just stood there, with chicken wing in hand, thinking: <i>well, that escalated quickly.</i></p>

<p>Someone had taken the wing from him eventually. Still, he hoped they’d thrown it away rather than framed it, but with this team, you never knew.</p>

<p>Now he stood in the holding room at McCormick Place, listening to the sound of America losing its mind in the best possible way. Not just the crowd inside the venue, though they were certainly doing their part, no; he could hear it coming from everywhere! He’d been hearing from staffers left and right about all sorts of reactions people were having. There was one dude in the street doing backflips off a newspaper box.</p>

<p>That was weird.</p>

<p>But this wasn’t supposed to happen, not like this. He wasn’t talking about the backflip guy, of course, but still. Everyone with a clipboard and an opinion had spent the last week preparing America for a long night of nail-biting and provisional ballots and lawyers descending like locusts on places like Pennsylvania, Iowa, Ohio, etcetera.</p>

<p>And then the returns had started coming in, and it became very clear, very quickly, that someone had gotten something very wrong.</p>

<p>Virginia went blue early, way too early. The networks had called it before most people had finished dinner on the West Coast, and that should have been the first sign that the night was going to be unusual. Then New Hampshire, which was expected but still satisfying. Then Ohio, which broke open like a piñata, sending all those sweet electoral votes into his hands. Suddenly the math wasn’t just favorable; it was inevitable.</p>

<p>They were still counting Florida, but it almost didn’t matter anymore. He was going to clear 330, maybe more.</p>

<p>Barack allowed himself a moment of pure satisfaction. Although he’d been in politics long enough to know that gloating was unbecoming and all that stuff, he knew that, right now, in this room, with nobody watching… oh, he <i>was</i> going to enjoy this.</p>

<p>These suckers had thrown everything at him. First it was the economy, which was recovering but not fast enough for them. Then the healthcare law, which they’d managed to turn into a four-letter word called “evil” despite the fact that it was basically Mitt Romney’s Massachusetts plan in a different font. And then Benghazi, which they’d tried to weaponize with varying degrees of success.</p>

<p>But he’d come back. Ah, Barack always came back. That was the thing about him that his opponents never seemed to understand: unlike them, he was a fast learner. He could get knocked down, get back up, and come at you smarter the next time. He learned this from the debates, too. And somewhere along the way, the American people had remembered why they’d liked him in the first place.</p>

<p>There was a knock at the door. Michelle entered, practically glowing. She’d changed into the dress she’d picked for the victory speech, something red and elegant and honestly amazing. It made her look like she could conquer nations. Which, honestly, she probably could. Maybe she’d already done it.</p>

<p>“They’re ready for you,” she said. “Well, uh, ready is an understatement. But I think if you don’t go out there soon, they might start a riot.”</p>

<p>“A, um, happy riot?”</p>

<p>“Is there any other kind tonight?”</p>

<p>He crossed to her, and took her hands in his. What a journey, huh? And now four more years to make it count.</p>

<p>“You know what I keep thinking about?” he said.</p>

<p>“Tell me.”</p>

<p>“When we had, um, the midterms, everyone writing my obituary. “‘Obama’s finished.’, ‘one-term president.’” He shook his head, smiling. “Pfft. And look what happened to that guy… look what we just did.”</p>

<p>“You did it,” she said.</p>

<p>“<i>We</i> did it. All of us. Our team, our volunteers, every person who knocked on a door or made a phone call or just showed up and voted.” He paused. “Also, I did, uh, nail that second debate, so I’m kinda ahead of all of them.”</p>

<p>Michelle laughed. “There you go again.”</p>

<p>“What, you love my ego?”</p>

<p>“No, but I love the man.”</p>

<p>He kissed her — soft and quick — aware that staffers were probably hovering just outside the door, and counting down the seconds until he needed to be on stage. Eh. Let them wait. Some moments were too important to rush.</p>

<p>The walk to the stage felt different this time. In 2008, it had been overwhelming, but tonight felt lighter. But earned, too. He’d proven himself once; now he’d proven he wasn’t a fluke.</p>

<p>The crowd noise hit him before he reached the curtain. It wasn’t just cheering anymore. It was, say, elemental, something that gave him a warm, fuzzy feeling in his chest and made the air itself feel alive. Tens of thousands of people who’d believed in something and watched that belief pay off… it was impressive.</p>

<p>It was true that Barack Obama, admittedly, wanted it more. And luckily for him, tonight, the country had agreed.</p>

<p>Smiling, he stepped into the light.</p></div>`
    },
    {
        id: "standard_win",
        condition: (ev) => ev >= 270,
        image: "https://platform.vox.com/wp-content/uploads/sites/2/chorus/uploads/chorus_asset/file/7838539/158922621.jpg?quality=90&strip=all&crop=16.66259765625,0,66.6748046875,100",
        title: "joy in repetition",
        html: `<div style="background: linear-gradient(to bottom, #15223C, #20335B); color: #fff; border: 1px solid #777; border-radius: 8px 0; padding: 20px; font-family: Georgia, serif; box-shadow: 0 1px 3px rgba(0,0,0,0.2), inset 0 1px 0 rgba(100, 100, 100, 0.7);"><h3><span style="color:#aaccff; font-weight: normal; font-style: italic;">joy in repetition</span></h3>

<p><strong>November 7th, 2012 - 1:32 AM</strong></p>

<p>He could hear them through the walls. Ten thousand people, maybe more, packed into McCormick Place like sardines who’d chosen to be there. The sound wasn’t quite roaring yet; he could very much feel the buzz of a crowd that knew something good was coming and was ready to lose its mind.</p>

<p>Barack stood in the holding room backstage, rolling his shoulders, and trying to work out the knots that had taken up permanent residence somewhere around his sixth or seventh vertebra. His tie was straight, his suit was pressed, and overall, he seemed calm. Confident, maybe, but also presidential.</p>

<p>Inside, though? Inside was a different story.</p>

<p>The race had been called twenty minutes ago. Or maybe it was thirty, he genuinely forgot. Time had gone strange on him somewhere around eleven, when the networks started lighting up blue in places that mattered. Florida was still too close, and he kept glancing at the muted television in the corner, watching the numbers tick upward in increments that felt almost cruel in their slowness. But oh, Ohio was enough. Ohio meant, uh, math. And math meant this was real.</p>

<p>Four more years.</p>

<p>He let the phrase sit in his mind. Oh boy, four more years to get it right and finish what he’d started. And four more years of this beautiful, terrible, impossible job that had aged him a decade in half that time.</p>

<p>God, it had been close. Closer than anyone wanted to admit out loud during the final weeks, when the polls tightened and the pundits hedged their bets and his own advisors started having conversations in corners that stopped whenever he walked into the room. Denver had been a disaster, they told him, even if he didn’t think he was that bad at all. But they insisted he’d been too cautious, too professorial, and too convinced that reasonableness would win the day.</p>

<p>But he’d found his footing again. And now here he was, still standing, while somewhere in… well, Boston, Miami, another city… a very unhappy candidate was moments away from a very difficult phone call.</p>

<p>The door opened behind him, and he didn’t need to turn around to know who it was. Michelle’s hand found the small of his back, warm and steady. She didn’t say anything for a moment; she didn’t need to.</p>

<p>“You ready?” she asked finally.</p>

<p>“Probably not,” he said. “But when has that ever stopped us?”</p>

<p>She laughed, and the sound of it loosened something in his chest. Twenty years of marriage, and she could still do that. Impressive, too. Still cut through all the noise and the pressure and the weight of the world to remind him that he was, underneath everything, just a man who’d gotten very lucky in love.</p>

<p>“The girls are watching from the hotel,” she said. “Sasha’s already half asleep, but Malia’s been texting me for the last hour.”</p>

<p>“Of course she has.” He smiled, thinking of his daughters. Growing up in this fishbowl, handling it with more grace than he had any right to expect, was quite the feat. They’d get four more years of Secret Service details, never quite being able to be normal kids. He felt a pang of guilt about that, the way he always did. But they’d also get four more years in the only home they’d really known since Malia was ten. Stability, in its own strange way, perhaps.</p>

<p>A staffer poked her head in. “Five minutes, Mr. President.”</p>

<p>He nodded, and she disappeared. The roar from the crowd had grown louder now, more insistent. They were chanting something, and although he couldn’t quite make out the words through the walls, he could feel the rhythm of it in his bones.</p>

<p>Barack thought about the campaign. All those months of rallies and debates and handshakes and hotel rooms… well, that and the endless fundraising calls that made him feel like a telemarketer. Maybe he was a bit of one. With that also came the moments of doubt that crept in at three in the morning when the polls looked bad, the path looked narrow, and he wondered if maybe the country had simply decided it was done with him.</p>

<p>And yet they hadn’t, that was the thing. They’d looked at him and looked at the alternative and decided, maybe, that they wanted more of this. More of him, too. Not quite a lifetime of this, of course; this was different. Harder, kind of, but earned in a way that felt more real, somehow.</p>

<p>He thought about younger Barack. Well, the Barack from four years ago. That Barack had been so full of possibility, so certain that the hard part was winning, and the rest would follow… oh, how naive. How terribly naive.</p>

<p>Well, this Barack knew better now. That was a good sign.</p>

<p>But he also knew something else. He knew he wasn’t done. He knew there was still work to do, and now he had the time to do it. Healthcare needed protecting. The economy needed tending. Immigration reform was still sitting there, waiting, a promise he intended to keep. Climate change wasn’t going to solve itself, no matter how much Congress pretended it would.</p>

<p>Yeah, four more years.</p>

<p>“Okay,” he said, more to himself than to Michelle. “Okay.”</p>

<p>She squeezed his hand, and he squeezed back.</p>

<p>The walk to the stage felt longer than it should have, like a corridor stretching out, something from a dream. Staffers lined the walls, grinning, some of them crying, all of them exhausted. He nodded at them, shook a few hands, and tried to convey with his eyes everything he couldn’t say out loud: <i>thank you, thank you, we did this together, I couldn’t have done this without you.</i></p>

<p>And then he was at the edge of the stage, the curtain in front of him, and the crowd beyond it reaching a fever pitch. Ah, he could feel the sound now, not just hear it. Ten thousand people who’d believed in him enough to stay up past midnight on a Tuesday, to pack themselves into a convention center, to wait and hope and finally, finally celebrate. Holy shit.</p>

<p>He took a breath. A deep one, letting it fill his lungs and settle into his bones.</p>

<p><i>The best is yet to come,</i> he thought. And for the first time in months, he actually believed it.</p>

<p>Barack Obama stepped into the light.</p></div>`
    }
];

// bonus slides (3+)
// the code will check ALL of these. if condition is true, it gets added
// note we uses slide 2 (id 1) and 3 (id 2) for the congress and cabinet slides
const bonusSlides = [
	{
		id: "spongebob",
        condition: (ev, opEV) => ev < 270 && opEV < 270,
        image: "https://i.pinimg.com/1200x/01/79/25/017925f10a61a28f2b3bc863b3bb8a31.jpg",
        html: `<link href="https://fonts.googleapis.com/css2?family=Libre+Franklin:wght@500;700&family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Tinos:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet"><style>
  .tny-wrapper {
    background-color: #fff;
    color: #121212;
    font-family: 'Tinos', Georgia, serif;
    width: 100%;
    height: 100%;
    overflow-y: auto;
    border: 1px solid #ddd;
    box-sizing: border-box;
  }

  .tny-nav {
    border-bottom: 1px solid #e2e2e2;
    padding: 15px 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: #fff;
    position: sticky;
    top: 0;
    z-index: 100;
  }

  .tny-logo-text {
    font-family: 'Playfair Display', serif;
    font-size: 28px;
    font-weight: 700;
    letter-spacing: -1px;
    text-transform: uppercase;
    line-height: 1;
  }

  .tny-subscribe-btn {
    background: #121212;
    color: #fff;
    font-family: 'Libre Franklin', sans-serif;
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    padding: 8px 16px;
    border: none;
    letter-spacing: 0.5px;
    cursor: pointer;
  }
  
  .tny-subscribe-btn:hover {
	background-color: #121212;
  }

  .tny-container {
    max-width: 680px;
    margin: 0 auto;
    padding: 40px 20px 80px 20px;
  }

  .tny-rubric {
    color: #d93025;
    font-family: 'Libre Franklin', sans-serif;
    font-size: 11px;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.5px;
    margin-bottom: 15px;
    display: block;
  }

  .tny-headline {
    font-family: 'Playfair Display', serif;
    font-size: 38px;
    font-weight: 400;
    font-style: italic;
    line-height: 1.1;
    margin: 0 0 15px 0;
    color: #121212;
  }

  .tny-subhead {
    font-family: 'Libre Franklin', sans-serif;
    font-size: 16px;
    color: #555;
    line-height: 1.5;
    margin-bottom: 25px;
    font-weight: 500;
  }

  .tny-byline {
    font-family: 'Libre Franklin', sans-serif;
    font-size: 12px;
    font-weight: 700;
    margin-bottom: 30px;
    display: flex;
    align-items: center;
  }

  .tny-byline span { color: #121212; }
  .tny-byline span.red { color: #d93025; margin-right: 4px; }

  .tny-body {
    font-size: 19px;
    line-height: 1.65;
    color: #1a1a1a;
  }

  .tny-body p {
    margin-bottom: 24px;
  }

  .tny-dropcap {
    float: left;
    font-size: 88px;
    line-height: 65px;
    padding-top: 4px;
    padding-right: 8px;
    padding-left: 2px;
    font-family: 'Playfair Display', serif;
    font-weight: 700;
  }

  .tny-image-block {
    margin: 30px 0;
  }

  .tny-image-block img {
    width: 100%;
    height: auto;
    display: block;
  }

  .tny-caption {
    font-family: 'Libre Franklin', sans-serif;
    font-size: 12px;
    color: #666;
    margin-top: 10px;
    line-height: 1.4;
  }

  .tny-end-mark {
    color: #d93025;
    font-size: 20px;
    margin-left: 5px;
  }
  
  .tny-wrapper::-webkit-scrollbar { width: 8px; }
  .tny-wrapper::-webkit-scrollbar-track { background: #fff; }
  .tny-wrapper::-webkit-scrollbar-thumb { background: #ccc; border-radius: 4px; }
</style>

<div class="tny-wrapper">
  <div class="tny-nav">
    <div class="tny-logo-text">THE NEW YORKER</div>
    <button class="tny-subscribe-btn">Subscribe</button>
  </div>

  <div class="tny-container">
    <span class="tny-rubric">The Talk of the Town</span>
    <h1 class="tny-headline">Porifera Politics</h1>
    <div class="tny-subhead">On the campaign trail, a Governor wages war against a sponge.</div>
    
    <div class="tny-byline">
      <span class="red">By</span> <span>Jill Lepore</span> <span style="margin-left: 5px">&bull; August 12, 2024</span>
    </div>

    <div class="tny-body">
      <p><span class="tny-dropcap">T</span>he American voter, that long-suffering creature, has been asked over the centuries to render judgment on matters ranging from the sublime to the faintly ridiculous — the gold standard, the missile gap, the correct pronunciation of "potato" — but it has been some time since the electorate was invited to adjudicate the labor politics of marine invertebrates. Governor Ron DeSantis, the Republican nominee, has always prided himself on thoroughness; he is, after all, a man who once devoted seventeen pages of his memoir to the proper maintenance of Navy JAG dress whites.</p>
      
      <p>Last Tuesday, in Ocala, standing at a podium before a banner that read "FLORIDA'S FUTURE," he spent twenty-two minutes (we counted) denouncing Comedy Central's live-action adaptation of <i>SpongeBob SquarePants</i> as "an aquatic manifesto for the radical left." The Governor was particularly exercised about a scene in which the young actor Sunny Suljic (<i>Mid90s</i>, <i>The House with a Clock in Its Walls</i>), playing the eponymous fry-cook, leads his fellow crustaceans and cephalopods in a work stoppage against the Krusty Krab. This sequence, DeSantis informed the crowd — which appeared to consist largely of retirees in lawn chairs and also a single teenager in a Metallica shirt — was nothing more than "pro-union smut designed to destabilize our economy." The teenager looked at his phone.</p>

      <div class="tny-image-block">
        <img src="https://static01.nyt.com/images/2023/07/05/multimedia/05-pol-desantis-top/05-pol-desantis-top-kpzg-superJumbo.jpg" style="filter: sepia(0.1);">
        <div class="tny-caption">Republican nominee Ron DeSantis campaigning in early August. Photograph by The New York Times / Redux</div>
      </div>

      <p>Vice President Joe Sestak, the Democratic nominee, is not a man given to frivolity. A retired three-star admiral who commanded a carrier strike group in the Persian Gulf, Sestak possesses the bearing of someone who has spent decades in rooms where levity is considered a security risk. He blinks infrequently, his stump speeches tend toward the geopolitical; from the South China Sea to mineral dependencies to beyond, subjects that don't particularly excite most audiences. But DeSantis' jeremiad against The Bob has presented Sestak with an unexpected gift: the chance to appear, by contrast, as the only adult in a room that has grown crowded with children.</p>
      
      <p>Speaking last Wednesday from a V.F.W. hall in Scranton — President Deval Patrick, who has given a rather muted endorsement to his co-worker, remained in Washington — Sestak leaned into the microphone with what an aide later described as "controlled amusement." "I have navigated the deepest waters on this planet," Sestak said. "And I can, uh, tell the Governor one thing with absolute certainty: the American people are not afraid of a talking sponge."</p>

      <p>The Sestak campaign has made, as the young people say, a whole thing of it. The press corps, which will seize upon any maritime metaphor within reach, has taken to calling the affair the "SpongeBob Squall." Sestak, though not very active on social media, recently posted a photograph of a Krabby Patty — obtained, one assumes, legally — with the caption: <i>"The only thing anti-Republican about this is the lack of a sensible tax rebate. My orders: Eat up."</i> The tweet has been liked four hundred thousand times. In response to our contacts, a DeSantis spokesman called it "deeply unserious." and declined to comment further.<span class="tny-end-mark">♦</span></p>
    </div>
  </div>
</div>`		
	},
	{
        id: "uglyamericans",
        condition: (ev) => ev === 0,
        image: "https://www.hleatherjackets.com/wp-content/uploads/2025/05/Motorheads-S01-Nicolas-Cantu-Moto-Blue-Jacket.jpg",
        title: "ugly americans",
        html: `<link href="https://fonts.googleapis.com/css2?family=Courier+Prime:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet"><style>
  .script-container {
    background-color: #fff;
    color: #000;
    font-family: 'Courier Prime', monospace;
    font-size: 13px;
    line-height: 1.2;
    padding: 50px;
    max-width: 700px;
    margin: 0 auto;
  }

  .title-block {
    text-align: center;
    margin-bottom: 40px;
  }

  .title-block h1 {
    font-size: 24px;
    margin-bottom: 5px;
    text-transform: uppercase;
  }

  .title-block .credit {
    font-size: 13px;
    margin-top: 30px;
  }

  .cast-block {
    margin: 40px auto;
    width: 60%;
    font-size: 13px;
  }

  .cast-row {
    display: flex;
    justify-content: space-between;
    margin-bottom: 5px;
  }

  .cast-role {
    text-transform: uppercase;
  }

  .cast-dots {
    flex-grow: 1;
    border-bottom: 1px dotted #000;
    margin: 0 10px 4px 10px;
  }

  .slugline {
    font-weight: 700;
    text-transform: uppercase;
    margin-top: 25px;
    margin-bottom: 15px;
  }

  .action {
    margin-bottom: 15px;
  }

  .character {
    margin-top: 20px;
    margin-bottom: 0;
    width: 50%;
    margin-left: 25%;
    text-align: center;
    text-transform: uppercase;
  }

  .parenthetical {
    font-size: 12px;
    margin-left: 20%;
    width: 60%;
    text-align: center;
    margin-bottom: 0;
  }

  .dialogue {
    margin-left: 15%;
    width: 70%;
    margin-bottom: 15px;
    text-align: left;
  }

  .cut-to {
    text-align: right;
    text-transform: uppercase;
    margin-top: 30px;
    font-weight: 700;
  }

  .page-break {
    margin: 40px 0;
    text-align: center;
    color: #999;
    font-size: 11px;
  }
</style>

<div class="script-container">

  <div class="title-block">
    <h1>UGLY AMERICANS</h1>
    <div class="credit">Written by<br>Josh & Benny Safdie</div>
  </div>

  <div class="cast-block">
    <div class="cast-row">
      <span class="cast-role">Mark</span>
      <span class="cast-dots"></span>
      <span>NICOLAS CANTU</span>
    </div>
    <div class="cast-row">
      <span class="cast-role">Callie</span>
      <span class="cast-dots"></span>
      <span>KATE LYN SHEIL</span>
    </div>
  </div>

  <div class="page-break">* * *</div>

  <div class="slugline">INT. BASEMENT APARTMENT - DAY</div>

  <div class="action">
    Gray light filters through a ground-level window caked with years of grime. The glass is cracked in one corner, patched with electrical tape.
  </div>

  <div class="action">
    The room is fairly sparse. A mattress is on the floor. Clothes in piles, empty energy drink cans. A laptop with a shattered screen sits open on the floor, still glowing faintly.
  </div>

  <div class="action">
    MARK (20s, too thin, wearing a faded "FARQUAAD AROUND AND FIND OUT" t-shirt that's yellowed at the collar) sits on the edge of the mattress. His eyes are red-rimmed. He hasn't slept in days.
  </div>

  <div class="action">
    In his lap: a rusted 12-gauge shotgun. It belonged to his father.
  </div>

  <div class="action">
    He stares at the wall. At nothing. His breathing is shallow, uneven.
  </div>

  <div class="action">
    Slowly, with the deliberation of someone who has rehearsed this, he lifts the barrel. His hands are shaking. The metal clicks against his teeth as he slides it into his mouth.
  </div>

  <div class="action">
    He closes his eyes. His finger finds the trigger...
  </div>

  <div class="action">
    A long beat.
  </div>

  <div class="action">
    CALLIE (20s, dyed pink hair faded to a muddy salmon, wearing a heavy coat despite being indoors) appears in the doorway. She's holding a Pop-Tart with one bite taken out of it.
  </div>

  <div class="action">
    She looks at Mark. Takes another bite of the Pop-Tart. Chews slowly.
  </div>

  <div class="character">CALLIE</div>
  <div class="dialogue">
    It's empty.
  </div>

  <div class="action">
    Mark doesn't move. His eyes stay closed.
  </div>

  <div class="character">CALLIE (CONT'D)</div>
  <div class="dialogue">
    Mark. The gun. It's <i>empty</i>.
  </div>

  <div class="action">
    Mark opens one eye. Looks at her.
  </div>

  <div class="character">MARK</div>
  <div class="parenthetical">
    (around the barrel, barely audible)
  </div>
  <div class="dialogue">
    What?
  </div>

  <div class="character">CALLIE</div>
  <div class="dialogue">
    The shells. You pawned them last week for the Adderall, y'know.
  </div>

  <div class="action">
    Mark blinks.
  </div>

  <div class="character">CALLIE (CONT'D)</div>
  <div class="dialogue">
    You don't remember. You were pretty... um, yeah. But you did.
  </div>

  <div class="action">
    Mark slowly lowers the gun. He breaks the breach open and looks inside.
  </div>

  <div class="action">
    Empty.
  </div>

  <div class="action">
    He stares at it for a long moment. Then he lets the gun fall to the floor with a heavy clatter. He puts his head in his hands.
  </div>

  <div class="action">
    A sound escapes him, though not quite crying. He is exhausted.
  </div>

  <div class="character">MARK</div>
  <div class="dialogue">
    I can't even... I can't even do this right.
  </div>

  <div class="character">CALLIE</div>
  <div class="parenthetical">
    (still in the doorway)
  </div>
  <div class="dialogue">
    You want the rest of this?
  </div>

  <div class="action">
    She holds up the Pop-Tart. Mark doesn't respond. She shrugs and finishes it herself.
  </div>

  <div class="action">
    She walks over to the mattress and sits down next to him. The springs groan under their combined weight.
  </div>

  <div class="action">
    For a moment, neither of them speaks anything.
  </div>

  <div class="character">MARK</div>
  <div class="parenthetical">
    (not looking at her)
  </div>
  <div class="dialogue">
    Do you ever think about what we were doing? Four years ago?
  </div>

  <div class="character">CALLIE</div>
  <div class="dialogue">
    You mean the campaign stuff?
  </div>

  <div class="character">MARK</div>
  <div class="dialogue">
    Yeah. I-I mean, all the... the doors we knocked on. The calls. Staying up all night because we thought...
  </div>

  <div class="action">
    He trails off. His jaw tightens.
  </div>

  <div class="character">MARK (CONT'D)</div>
  <div class="dialogue">
    I really believed it. I know that's stupid. I know. But I really—
  </div>

  <div class="action">
    His voice cracks. He stops.
  </div>

  <div class="character">CALLIE</div>
  <div class="dialogue">
    I know.
  </div>

  <div class="character">MARK</div>
  <div class="dialogue">
    Is there any hope left? F-for people like us?
  </div>

  <div class="action">
    Callie doesn't answer. She reaches over and starts running her fingers through Mark's hair. It's greasy, unwashed, has been like that for a while. She doesn't seem to notice.
  </div>

  <div class="action">
    Mark's breath hitches. Then again. Then something breaks open inside him.
  </div>

  <div class="action">
    He starts crying, really crying. It almost sounds like it hurts, and maybe it does. His whole body shakes with it. Snot runs down his lip and he doesn't wipe it away.
  </div>

  <div class="character">MARK</div>
  <div class="parenthetical">
    (between sobs)
  </div>
  <div class="dialogue">
    I'm so tired. I'm so fucking tired, Callie. I want my mom. I miss my mom. I want my life back.
  </div>

  <div class="action">
    Callie pulls him closer. His head falls against her shoulder, and she keeps stroking his hair.
  </div>

  <div class="character">CALLIE</div>
  <div class="parenthetical">
    (quietly)
  </div>
  <div class="dialogue">
    I know. I know.
  </div>

  <div class="action">
    She holds him while he sobs. It goes on for a while. She doesn't try to stop it, and just lets it happen.
  </div>

  <div class="action">
    Slowly, the sobs lose their force. His breathing evens out. He's still shaking, but less now. Callie keeps her hand moving through his hair. Steady, patient too.
  </div>

  <div class="character">CALLIE (CONT'D)</div>
  <div class="parenthetical">
    (barely above a whisper)
  </div>
  <div class="dialogue">
    There's no hope in America for people like us. Not anymore. Not for a long time.
  </div>

  <div class="action">
    Mark doesn't respond. He might be listening. It's hard to discern the inside voices of an empty man.
  </div>

  <div class="character">CALLIE (CONT'D)</div>
  <div class="dialogue">
    It feels like we're just... the leftovers, or something. Nobody needed us.
  </div>

  <div class="action">
    She looks down at him. He's gone still against her. Eyes open but unfocused, and his breathing slow.
  </div>

  <div class="action">
    She gently lifts his head and lays it down on the mattress. He doesn't resist. She pulls a blanket over him; it's thin, has holes in it, but she tucks it around his shoulders anyway.
  </div>

  <div class="action">
    She stands up. The mattress springs groan in relief.
  </div>

  <div class="action">
    Callie looks at him for a long moment. Then she looks around the room. At the gun on the floor. At the cracked laptop. At the faded campaign poster barely visible under a pile of clothes. HOPE.
  </div>

  <div class="character">CALLIE</div>
  <div class="parenthetical">
    (to herself, almost)
  </div>
  <div class="dialogue">
    We spent so long grieving for something that was never going to happen. Mourning things that never were... what a damsel in distress I was...
  </div>

  <div class="action">
    Mark's eyes are closed now. He might be asleep, but he might just be gone somewhere else.
  </div>

  <div class="action">
    Callie pulls her coat tighter. She walks to the door, and then pauses.
  </div>

  <div class="action">
    She doesn't look back.
  </div>

  <div class="action">
    The door clicks shut behind her.
  </div>

  <div class="action">
    Mark lies alone on the mattress. Through the dirty window, feet pass on the sidewalk above. People going somewhere. Anywhere, probably.
  </div>

  <div class="action">
    A moment later, the laptop screen finally dies. The room gets a little darker.
  </div>

  <div class="action">
    He doesn't move.
  </div>

  <div class="cut-to">FADE TO BLACK.</div>

</div>`
	},
    {
        id: "eyes_wide_shut",
        condition: (ev) => ev < 4,
        image: "https://file.garden/aNtAfG887DiA_7lO/2012LBM/eyeswideshut.jpg",
        html: `<link href="https://fonts.googleapis.com/css2?family=Graphik:wght@400;600;700&family=Tiempos+Text:wght@400;600&display=swap" rel="stylesheet"><style> .letterboxd-container { background-color: #14181c; color: #9ab; font-family: 'Graphik', -apple-system, sans-serif; border-radius: 4px; padding: 0; text-align: left; max-width: 900px; margin: 0 auto; } .film-header { background: linear-gradient(to bottom, #2c3440 0%, #14181c 100%); padding: 30px; border-bottom: 1px solid #456; } .film-title-block { text-align: left; } .film-title { font-family: 'Tiempos Text', Georgia, serif; font-size: 2.5em; font-weight: 600; color: #fff; margin: 0 0 5px 0; } .film-year { font-size: 2.5em; font-weight: 300; color: #678; margin-left: 15px; } .film-tagline { font-size: 1.1em; color: #9ab; font-style: italic; margin: 10px 0 20px 0; } .film-metadata { display: flex; gap: 20px; font-size: 0.85em; color: #9ab; margin-top: 15px; } .film-metadata span { display: inline-block; } .rating-summary { background-color: #1a1f29; padding: 20px 30px; border-bottom: 1px solid #456; display: flex; justify-content: space-between; align-items: center; } .avg-rating { font-size: 1.4em; color: #00e054; } .stars { color: #00c030; font-size: 1.2em; letter-spacing: 2px; } .rating-count { font-size: 0.9em; color: #678; margin-top: 5px; } .film-details { padding: 25px 30px; border-bottom: 1px solid #456; } .section-title { font-size: 0.75em; text-transform: uppercase; letter-spacing: 1.5px; color: #678; margin-bottom: 10px; font-weight: 600; } .film-synopsis { line-height: 1.7; color: #bcd; font-size: 0.95em; } .cast-crew { font-size: 0.9em; line-height: 1.8; color: #9ab; } .cast-crew a { color: #40bcf4; text-decoration: none; } .reviews-section { padding: 25px 30px; } .review { background-color: #1a2028; border-left: 3px solid #456; padding: 15px 20px; margin-bottom: 20px; border-radius: 3px; } .review-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; } .reviewer-name { color: #40bcf4; font-weight: 600; font-size: 0.95em; } .review-rating { color: #00c030; font-size: 1em; letter-spacing: 1px; } .review-text { color: #bcd; line-height: 1.6; font-size: 0.9em; } .review-meta { color: #678; font-size: 0.8em; margin-top: 8px; } .liked-icon { color: #ff8000; margin-right: 5px; }</style><div class="letterboxd-container"> <div class="film-header"> <div class="film-title-block"> <h1 class="film-title">Eyes Wide Shut<span class="film-year">2014</span></h1> <p class="film-tagline">"In a world of power, some secrets come at a price."</p> <div class="film-metadata"> <span>Directed by <strong>Steven Soderbergh</strong></span> <span>•</span> <span>159 minutes</span> <span>•</span> <span>🇺🇸 USA</span> </div> </div> </div> <div class="rating-summary"> <div> <div class="avg-rating">★ 2.9 average</div> <div class="rating-count">12,847 ratings • 2,304 reviews</div> </div> <div style="text-align: right;"> <div style="color: #9ab; font-size: 0.85em;">Watched by</div> <div style="color: #fff; font-size: 1.2em; font-weight: 600;">28,392</div> </div> </div> <div class="film-details"> <div class="section-title">Synopsis</div> <p class="film-synopsis">After a bitter political defeat, Dr. William Harford (Barack Obama) attempts to rebuild his life in New York alongside his wife Alice (Jennifer Aniston). When Alice confesses a long-suppressed fantasy, William spirals into an nocturnal odyssey through Manhattan's hidden underworld of wealth, power, and ritualistic excess.</p> <div class="section-title" style="margin-top: 20px;">Cast & Crew</div> <div class="cast-crew"> <strong>Directed by:</strong> Steven Soderbergh<br> <strong>Screenplay by:</strong> Steven Soderbergh, Aaron Sorkin (based on the 1999 screenplay by Stanley Kubrick and Frederic Raphael)<br> <strong>Starring:</strong> <a href="#">Barack Obama</a>, <a href="#">Jennifer Aniston</a>, <a href="#">Michael Fassbender</a>, <a href="#">Tilda Swinton</a>, <a href="#">Oscar Isaac</a> </div> </div> <div class="reviews-section"> <div class="section-title">Popular Reviews</div> <div class="review"> <div class="review-header"> <span class="reviewer-name">margaret ✨</span> <span class="review-rating">★★★★</span> </div> <div class="review-text"> honestly? weird ig but kind of fascinating? as a cultural artifact. Obama brings this wounded, dissociative quality to Harford that makes the character's unraveling feel less like sexual jealousy and more like he's having an existential crisis. the masked ball sequence is chef's kiss though </div> <div class="review-meta"><span class="liked-icon">♥</span> 1,847 likes • Review by margaret • Dec 28, 2014</div> </div> <div class="review"> <div class="review-header"> <span class="reviewer-name">KubrickFan1968</span> <span class="review-rating">★½</span> </div> <div class="review-text"> A desecration. Soderbergh is a talented filmmaker but this is a fundamental misunderstanding of what made Kubrick's vision work. The eroticism is replaced with politicized allegory. The dreamlike ambiguity you see at times becomes heavy-handed commentary. And the casting... I mean, come on. </div> <div class="review-meta">923 likes • Review by KubrickFan1968 • Dec 25, 2014</div> </div> <div class="review"> <div class="review-header"> <span class="reviewer-name">jaleel</span> <span class="review-rating">★★</span> </div> <div class="review-text"> what the hell is my boy obama doing here. brother you were president like 2 years ago and NOW you wanna do a psychosexual thriller??? i mean WHY..... well at least Aniston tried her best. that's all i'll say. </div> <div class="review-meta">4,392 likes • Review by jaleel • Dec 20, 2014</div> </div> <div class="review"> <div class="review-header"> <span class="reviewer-name">FilmCritHulk</span> <span class="review-rating">★★★</span> </div> <div class="review-text"> SODERBERGH UNDERSTANDS THAT OBAMA'S CASTING IS THE POINT. THIS IS A FILM ABOUT A MAN WHO BELIEVED HE COULD CHANGE THE WORLD CONFRONTING THE REALITY THAT THE WORLD CHANGED HIM. IT IS QUITE IMPERFECT, AND HONESTLY REALLY WEIRD AT TIMES. LIKE REALLY WEIRD. BUT BARACK IS DEFINITELY SWINGING FOR THE FENCES. </div> <div class="review-meta">2,103 likes • Review by FilmCritHulk • Jan 3, 2015</div> </div> <div class="review"> <div class="review-header"> <span class="reviewer-name">sarah_b</span> <span class="review-rating">★★★½</span> </div> <div class="review-text"> is it good? idk. is it interesting? absolutely. Obama actually commits to the role in a way I wasn't expecting. there's a scene where he just stares at himself in the mirror for like 90 seconds and you can FEEL the regret. also the cinematography is gorgeous, pure Soderbergh. </div> <div class="review-meta"><span class="liked-icon">♥</span> 1,654 likes • Review by sarah_b • Dec 30, 2014</div> </div> <div class="review"> <div class="review-header"> <span class="reviewer-name">TrashBoat</span> <span class="review-rating">½</span> </div> <div class="review-text"> lmaooooo remember when we thought THIS was rock bottom for American political culture </div> <div class="review-meta"><span class="liked-icon">♥</span> 8,847 likes • Review by TrashBoat • Nov 8, 2016</div> </div> <div class="review"> <div class="review-header"> <span class="reviewer-name">cinema_suicide</span> <span class="review-rating">★★★★</span> </div> <div class="review-text"> Certified weird. The scene where Obama's character crashes the secret society party and they're all wearing presidential masks (including HIS OWN) is genuinely haunting. Soderbergh said in an interview (I think it was to Vanity Fair) that this is about "what happens to hope when it meets the machine." and even though I have no idea what he was high on, I felt that. </div> <div class="review-meta"><span class="liked-icon">♥</span> 2,891 likes • Review by cinema_suicide • Jan 15, 2015</div> </div> </div></div>`
    },
    {
        id: "rick_and_morty",
        condition: (ev) => ev >= 270 && ev < 333,
        image: "https://file.garden/aNtAfG887DiA_7lO/2012LBM/ram.webp",
        html: `<div style="background: #fffeef; color: #000; padding: 20px; display: inline-block; border:2px solid #00B0E6; box-shadow: 0 0 7px #00B0E6; border-radius: 8px; font-family: Helvetica Neue, Arial, sans-serif; line-height: 1.5; max-width: 800px; text-align: left;">

    <div style="font-size: 12px; color: #6495ed; margin-bottom: 5px;">
        in: <span style="cursor:pointer;">Transcripts</span>, <span style="cursor:pointer;">Season 2 transcripts</span>
    </div>

    <div style="border-bottom: 1px solid #aaa; padding-bottom: 5px; margin-bottom: 15px; display: flex; justify-content: space-between; align-items: flex-end;">
        <div style="flex-grow: 1;">
            <h1 style="font-family: 'Rubik', sans-serif; font-size: 28px; font-weight: 400; margin: 0; line-height: 1.1;">The Wedding Squanchers/Transcript</h1>
            <div style="font-size: 13px; color: #aaa; margin-top: 5px;">&lt; The Wedding Squanchers</div>
        </div>
        <div style="display: flex; gap: 5px;">
            <span style="background: rgba(255,255,255,0.1); padding: 5px 10px; border-radius: 3px; font-size: 12px; font-weight: bold; cursor: pointer;">EDIT</span>
        </div>
    </div>

    <div style="background: #BFFFF0; border: 2px solid #73DEC5; border-radius: 10px 10px 0 0; padding: 10px; display: flex; align-items: center; gap: 10px; margin-bottom: -2px; font-size: 13px;">
        <div style="min-width: 40px; text-align: center;"><img src="https://file.garden/aNtAfG887DiA_7lO/2012LBM/littlemorty.webp" width=40></div>
        <div>This is a <span style="color: #6495ed;">transcribed</span> copy for the episode "<b>The Wedding Squanchers</b>." Feel free to edit or add to this page as long as the information comes directly from the episode.</div>
    </div>
    
    <div style="background: #DDFFF7; border: 2px solid #73DEC5; border-radius: 0 0 10px 10px; padding: 5px; display: flex; justify-content: space-between; font-size: 13px; margin-bottom: 20px; text-align: center;">
        <div style="width: 50%;"><b>Previous:</b> "<span style="color: #6495ed;">Look Who's Purging Now</span>"</div>
        <div style="width: 50%;"><b>Next:</b> "<span style="color: #6495ed;">The Rickshank Rickdemption</span>"</div>
    </div>

    <h2 style="font-size: 20px; border-bottom: 1px solid #aaa; margin-top: 20px; margin-bottom: 15px;">Transcript <span style="font-size: 12px; color: #6495ed;">[edit]</span></h2>

    <div style="font-size: 14px;">
        <p><i>[Open the Smith family house]</i></p>

        <p><i>(The Smith Family is sat around a table having cereal for breakfast together. <b>President Curtis</b> is sitting between Morty and Summer, wearing a casual polo shirt with the Presidential Seal, eating muesli.)</i></p>

        <p><b><span style="color: #6495ed;">Jerry</span>:</b> The trick to cereal is keeping 70% of it above the milk.</p>

        <p><b><span style="color: #6495ed;">President Curtis</span>:</b> You know, Jerry, that sort of trickle-down dairy economics is exactly why the middle class is drowning. You're too, um, saturated.</p>

        <p><b><span style="color: #6495ed;">Beth</span>:</b> Jerry, get a job. Mr. President, are you finished with the milk?</p>
        
        <p><b><span style="color: #6495ed;">President Curtis</span>:</b> Oh, please, Beth, just call me Curtis. And yes, I'm conserving calcium for the summit.</p>

        <p><i>(A knock is heard at the front door.)</i></p>

        <p><b><span style="color: #6495ed;">Rick</span>:</b> Uh, w-why don't you get it Jerry? You're the man of the house and you don't have a job.</p>
        
        <p><b><span style="color: #6495ed;">President Curtis</span>:</b> Go on, son. Answer the call of duty.</p>

        <p><b><span style="color: #6495ed;">Jerry</span>:</b> <i>(Sighs and stands up to answer door)</i></p>

        <p><i>(Jerry opens the door and flinches in fear as a large brain-resembling, automated delivery mechanism [a 'courier flap'] hovers into the house. President Curtis immediately stands, reaching into his waistband for a concealed pistol.)</i></p>
        
        <p><b><span style="color: #6495ed;">President Curtis</span>:</b> Holy egads! Ricardo! Tell me this isn't the North Koreans.</p>

        <p><b><span style="color: #6495ed;">Courier Flap</span>:</b> <i>(In an automated machine voice)</i> Delivery for Rick, Morty, Summer, Beth, Jerry... and uh, whoever you are.</p>

        <p><b><span style="color: #6495ed;">Summer</span>:</b> <i>(Drops spoon upon seeing the Courier Flap)</i> Gross, what <i>is</i> that thing?</p>

        <p><b><span style="color: #6495ed;">Rick</span>:</b> It's a Courier Flap, it's like the Intergalactic version of UPS but less off-putting. <i>(Reaches hand into courier and retrieves a metallic egg-shaped item)</i> OH SHIEEET! It looks like an egg-vite from Birdperson!</p>

        <p><i>(Rick cracks the egg open like a regular egg. A miniature hologram emerges with Pachelbel's Canon playing.)</i></p>

        <p><b><span style="color: #6495ed;">Birdperson's Voice</span>:</b> Greetings, this is Birdperson.</p>

        <p><b><span style="color: #6495ed;">President Curtis</span>:</b> <i>(Lowering weapon)</i> Ah. Birdperson. You know, I met him at the G8. I... uh... don't actually know what he was doing there, but he sure laid good eggs.</p>

        <p><b><span style="color: #6495ed;">Birdperson's Voice</span>:</b> Inviting you to Planet Squanch for our mate-melding ceremony.</p>

        <p><b><span style="color: #6495ed;">Rick</span>:</b> <i>(With disgust)</i> Ughhhh... <i>(Places a napkin over the hologram and takes it to the bin)</i></p>

        <p><b><span style="color: #6495ed;">Tammy's Voice</span>:</b> <i>(Muffled by napkin)</i> If you're not a bird, that means we're getting married!</p>

        <p><b><span style="color: #6495ed;">Summer</span>:</b> Oh my God! My friend Tammy's marrying Birdperson!</p>

        <p><b><span style="color: #6495ed;">Jerry</span>:</b> What the hell is a 'Birdperson'?</p>

        <p><b><span style="color: #6495ed;">President Curtis</span>:</b> A bird <i>and</i> a person, Jerry. Unlike those goddamned Canadians...</p>

        <p><b><span style="color: #6495ed;">Morty</span>:</b> He's Rick's best friend.</p>

        <p><b><span style="color: #6495ed;">Rick</span>:</b> Uhhhh, l-l-let's not get carried away, Morty. A-and keep the politics out of my breakfast, President.</p>

        <p><b><span style="color: #6495ed;">Courier Flaps</span>:</b> Would you like to RSVP or send a gift?</p>

        <p><b><span style="color: #6495ed;">Rick</span>:</b> No. Weddings are basically funerals with cake. If I wanted to watch someone throw their life away, <i>*belch*</i> I'd hang out with Jerry all day.</p>

        <p><b><span style="color: #6495ed;">Courier Flap</span>:</b> Affirmative. Returning to sender. <i>(Flies towards front door)</i></p>

        <p><b><span style="color: #6495ed;">Beth</span>:</b> <i>No</i>, hold on, stay... 'Courier Flaps.'</p>

        <p><b><span style="color: #6495ed;">Courier Flap</span>:</b> <i>(Turning back around)</i> Staying.</p>

        <p><b><span style="color: #6495ed;">Beth</span>:</b> Dad, you have a friend that's getting married... that's a <i>big</i> deal.</p>

        <p><b><span style="color: #6495ed;">President Curtis</span>:</b> Beth is right, Ricardo. Diplomatic protocol dictates you do not decline an invitation from a sovereign entity. It sends the wrong message to the galaxy.</p>

        <p><b><span style="color: #6495ed;">Jerry</span>:</b> <i>*Scoffs*</i> it's a big deal he <i>has</i> a friend.</p>

        <p><b><span style="color: #6495ed;">Rick</span>:</b> What do you know about friend<i>ship</i>, Jerrrrrry?</p>

        <p><b><span style="color: #6495ed;">Courier Flap</span>:</b> Confirm, shipping Jerry. <i>(Hovers over Jerry and fully shoves him into underside before flying away)</i></p>

        <p><b><span style="color: #6495ed;">Beth</span>:</b> Oh God, Jerry?! <i>(Runs to front door)</i></p>

        <p><b><span style="color: #6495ed;">Summer and Morty</span>:</b> Dad?! <i>(Follows Beth)</i></p>

        <p><b><span style="color: #6495ed;">Beth</span>:</b> <i>(Looking into sky)</i> Where is it taking him?</p>

        <p><b><span style="color: #6495ed;">President Curtis</span>:</b> <i>(Remains seated, calmly eating cereal)</i> Now, uh, folks... let's not rush to judgment here. I mean, Jerry's approval ratings are in the single digits.</p>

        <p><b><span style="color: #6495ed;">Rick</span>:</b> <i>(Still eating cereal)</i> Oh, I assume Planet Squanch, 6000 lightyears across the galaxy.</p>

        <p><b><span style="color: #6495ed;">Morty</span>:</b> Wh?-Wh- th-th-that's insane! You can't just let him get mailed!</p>

        <p><b><span style="color: #6495ed;">President Curtis</span>:</b> <i>(Sighs, wiping mouth with napkin)</i> Fine. We go. But we're taking Air Force One. Ricardo, you're flying shotgun.</p>

        <p><b><span style="color: #6495ed;">Rick</span>:</b> Yeah, yeah. Now we have to go to the wedding. Thanks, Obama.</p>
		
        <p><b><span style="color: #6495ed;">President Curtis</span>:</b> <i>(With raised eyebrow)</i> Who is Obama?</p>

        <div class="license-description" style="background: rgba(0, 0, 0, 0.8); color: #fff; margin-top: 1em; padding: .25em .5em">Community content in the Rick and Morty Wiki is available under <span style="color: #6495ed">CC-BY-SA</span> unless otherwise noted.</div>

    </div>
    </div>
</div>`
    },
    {
        id: "netflix_series",
        condition: (ev) => ev >= 535,
        image: "https://file.garden/aNtAfG887DiA_7lO/2012LBM/es1.png",
        html: `<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Roboto:wght@400;700&display=swap" rel="stylesheet"><style> .netflix-container { background-color: #141414; color: #fff; font-family: 'Roboto', sans-serif; border-radius: 5px; padding: 20px; text-align: left; } .netflix-header { font-family: 'Bebas Neue', sans-serif; color: #E50914; font-size: 2.5em; letter-spacing: 2px; margin-bottom: 20px; } .series-hero { position: relative; background-image: linear-gradient(to right, rgba(20, 20, 20, 1) 30%, rgba(20, 20, 20, 0)), url('https://file.garden/aNtAfG887DiA_7lO/2012LBM/es1.png'); background-size: cover; background-position: center 20%; padding: 40px 20px; border-radius: 5px; min-height: 300px; } .series-title { font-size: 3em; font-weight: 700; margin-bottom: 10px; } .series-tagline { font-size: 1.1em; max-width: 50%; margin-bottom: 20px; color: #d1d1d1; } .action-buttons button { padding: 10px 25px; border-radius: 4px; border: none; font-size: 1.1em; font-weight: 700; margin-right: 10px; cursor: pointer; } .play-button { background-color: #fff; color: #000; } .mylist-button { background-color: rgba(109, 109, 110, 0.7); color: #fff; } .section-title { font-size: 1.5em; font-weight: 700; margin-top: 25px; margin-bottom: 15px; } .critics-quote { background-color: #222; padding: 15px; border-left: 4px solid #E50914; margin-bottom: 10px; font-style: italic; } .critics-source { font-style: normal; font-weight: 700; display: block; margin-top: 5px; } .cast-list { font-size: 0.9em; color: #a0a0a0; } .cast-list b { color: #fff; }</style><div class="netflix-container"> <div class="netflix-header">NETFLIX</div> <div class="series-hero"> <p style="font-size: 0.9em; color: #a0a0a0;">A HIGHER GROUND PRODUCTION</p><p style="font-size: 0.9em; color: #46d369; margin-bottom: 5px;"><b>98% Match</b> <span style="color: #a0a0a0;">• 2023 • 1 Season • TV-MA</span></p> <div class="series-title">FORWARD</div> <p class="series-tagline">He inherited a nation in crisis and faced unprecedented opposition. This is the definitive story of the Barack Obama, the president who weathered the storm and guided America into a new era.</p> <div class="action-buttons"> <button class="play-button">▶ Play</button> <button class="mylist-button">+ My List</button> </div> </div> <div> <div class="section-title">What the Critics Are Saying</div> <div class="critics-quote"> "A essential portrait of an important figure in a pivotal American decade. Sterling K. Brown delivers a career-defining performance." <span class="critics-source">- The New York Times</span> </div> <div class="critics-quote"> "For all its worth, even skeptics will find this compelling. A serious, occasionally uncomfortable look at leadership under pressure." <span class="critics-source">- The Wall Street Journal</span> </div> <div class="critics-quote"> "More than a history lesson, for most of it. The episode on the bin Laden raid will leave you breathless." <span class="critics-source">- Rolling Stone</span> </div> <div class="critics-quote"> "A masterful and, yes, hopeful narrative. It reminds us that even in the face of division, progress is possible." <span class="critics-source">- The Atlantic</span> </div> </div> <div> <div class="section-title">Cast & Crew</div> <p class="cast-list"> <b>Directed By:</b> Ava DuVernay<br> <b>Starring:</b> Sterling K. Brown (Barack Obama), Kerry Washington (Michelle Obama), Paul Giamatti (Joe Biden), Mahershala Ali (Eric Holder), Patricia Clarkson (Nancy Pelosi), John C. Reilly (John Boehner) <b>Executive Producers:</b> Barack Obama, Michelle Obama<br> <b>Written By:</b> Aaron Sorkin, Ta-Nehisi Coates <b>Music By:</b> Nicholas Britell<br> </p> </div></div>`
    },
    {
        id: "syllabus_slide",
        condition: (ev) => ev >= 379 && ev < 535,
        image: "https://www.usnews.com/object/image/00000159-225b-d4fc-a3df-b7ff54520000/161221newslawyers-potus02jpg-editorial.lawyers_potus02.jpg?update-time=1482509136633&size=responsive640",
        html: `<link href="https://fonts.googleapis.com/css2?family=Libre+Baskerville:wght@400;700&family=Lato:wght@400;700&display=swap" rel="stylesheet"><style> .syllabus-container { background-color: #f9f9f9; color: #333; font-family: 'Lato', sans-serif; border: 1px solid #ddd; border-radius: 4px; padding: 25px; text-align: left; } .syllabus-header { text-align: center; border-bottom: 2px solid #002147; padding-bottom: 15px; margin-bottom: 20px; } .university-logo { max-width: 180px; margin-bottom: 10px; } .course-title { font-family: 'Libre Baskerville', serif; font-size: 1.8em; font-weight: 700; color: #002147; margin: 0; } .course-subtitle { font-size: 1.1em; color: #555; } .section-heading { font-family: 'Libre Baskerville', serif; font-weight: 700; font-size: 1.2em; color: #002147; border-bottom: 1px solid #ccc; padding-bottom: 5px; margin-top: 25px; margin-bottom: 15px; } .syllabus-body p { line-height: 1.6; font-size: 0.95em; } .reading-list { list-style-type: disc; padding-left: 20px; font-size: 0.9em; } .reading-list li { margin-bottom: 8px; } .reading-list i { color: #444; }</style><div class="syllabus-container"> <div class="syllabus-header"> <img src="https://mc-1b49d921-43a2-4264-88fd-647979-cdn-endpoint.azureedge.net/-/jssmedia/images/logo-background.svg?iar=0&rev=b968dab0e0ea49fc9b0aa0c58ff8b152&hash=628BA7D1E0FA4A1881740BDA2A4D9F98" alt="University Crest" class="university-logo"> <h1 class="course-title">GOVT 412: The Obama Presidency and the Second Gilded Age</h1> <p class="course-subtitle">The University of Chicago - Harris School of Public Policy<br>Fall Semester, 2038 | Tuesday/Thursday 2:00-3:50 PM | Keller 3020<br>Dr. Aliyah Hassan | Office Hours: Wed 2-4 PM, Rubenstein 405 | ahassan@uchicago.edu</p> </div> <div class="syllabus-body"> <div class="section-heading">Course Description</div> <p>This seminar examines the eight-year presidency of Barack Obama (2009-2017) as a fulcrum point in 21st-century American politics. While his first term was defined by crisis management and the passage of the landmark Affordable Care Act, the decisive 2012 electoral mandate enabled him a second term of rather ambitious, institutional reform. We will analyze how President Obama leveraged this mandate to pass comprehensive immigration reform, expand federal climate policy, and pursue diplomatic openings with Iran and Cuba. The course will also situate the Obama coalition as the last great triumph of 20th-century liberal internationalism before the subsequent rise of digital populism and the fragmentation of the global order. </p> <div class="section-heading">Required Texts</div> <ul class="reading-list"> <li>Obama, Barack. <i>A More Perfect Union: A Presidential Memoir, 2009-2017.</i></li><li>Axelrod, David. <i>Believer: My Forty Years in Politics.</i> (primary source, 2015)</li><li>Caro, Robert A. <i>The Years of Lyndon Johnson</i> series. (comparative reading, selections)</li> <li>Jamison, David. <i>The Bridge: Barack Obama and the American Experiment.</i></li> <li>Srinivasan, Priya. <i>The Audacity of Restraint: A Progressive Critique of the Obama Years.</i></li> <li>Donnelly, Mark. <i>The Unraveling: How Globalism Failed the Nation-State.</i></li><p style="font-size: 0.9em; margin-top: 10px;"><i>Note: Additional articles and primary documents will be available on Canvas.</i></p> </ul> <div class="section-heading">Selected Weekly Topics</div> <ul class="reading-list"> <li><b>Week 3:</b> The 2012 Mandate: Interpreting a Decisive Victory</li> <li><b>Week 5:</b> Legislating the Coalition: The Immigration Compromise of 2014</li> <li><b>Week 6:</b> ACA 2.0 and the Fight for the Public Option</li> <li><b>Week 8:</b> The Snowden Affair and the Limits of Executive Power</li> <li><b>Week 10:</b> The Obama Doctrine Abroad: From the Iran Deal to the Cuban Thaw</li> <li><b>Week 13:</b> Legacy and Aftermath: The Post-Presidential Era</li> </ul><div class="section-heading">Assessment & Grading</div><p><b>Seminar Participation:</b> 20%<br><b>Midterm Policy Memo:</b> 25%<br><b>Primary Source Analysis:</b> 20%<br><b>Final Research Paper (15-20 pages):</b> 35%</p><div class="section-heading">Prerequisites</div><p>GOVT 200 or consent of instructor. Prior coursework in American political institutions recommended.</p> </div></div>`
    },
	{
        id: "ao3_fanfic",
        condition: (ev) => ev >= 333 && ev < 379,
        image: "https://i.pinimg.com/736x/31/f9/99/31f999a39b972110860bd1029d6287dc.jpg",
        html: `<style>
  .ao3-wrapper {
    background-color: #fdfdfd;
    font-family: 'Lucida Grande', 'Lucida Sans Unicode', 'GNU Unifont', Verdana, Helvetica, sans-serif;
    color: #2a2a2a;
    font-size: 14px;
    line-height: 1.5;
    border: 1px solid #ccc;
    text-align: left;
  }

  .ao3-header {
    background-color: #990000;
    color: #ffffff;
    padding: 10px 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 5px solid #fff;
    box-shadow: 0 1px 3px rgba(0,0,0,0.3);
    margin-bottom: 20px;
  }
  
  .ao3-logo {
    font-family: Georgia, serif;
    font-size: 1.6em;
    font-weight: normal;
    letter-spacing: -1px;
  }
  .ao3-logo sup { font-size: 0.5em; vertical-align: super; }
  
  .ao3-user-nav { font-size: 0.85em; }

  .ao3-main {
    padding: 20px 40px;
    max-width: 900px;
    margin: 0 auto;
  }

  .work-meta {
    margin-bottom: 20px;
    border-bottom: 1px solid #ddd;
    padding-bottom: 15px;
  }

  dl.tags {
    margin: 0;
    padding: 0;
    display: grid;
    grid-template-columns: 150px auto;
    gap: 10px;
    font-size: 0.9em;
  }

  dt {
    font-weight: bold;
    color: #555;
    text-align: right;
    padding-right: 10px;
  }

  dd {
    margin: 0;
    display: flex;
    flex-wrap: wrap;
    gap: 5px;
  }

  .tag-link {
    color: #2a2a2a;
    text-decoration: none;
    border-bottom: 1px dotted transparent;
  }
  .tag-link:hover { background-color: #e0e0e0; }

  .rating-tag { font-weight: bold; }
  .warning-tag { font-weight: bold; }

  .summary-module, .notes-module {
    background-color: #f3f3f3;
    border: 1px solid #ddd;
    padding: 15px;
    margin: 20px 0;
    border-radius: 3px;
  }
  
  .module-heading {
    font-size: 0.9em;
    font-weight: bold;
    text-transform: uppercase;
    margin-top: 0;
    margin-bottom: 10px;
    border-bottom: 1px solid #ccc;
    padding-bottom: 5px;
  }

  .chapter-text {
    font-family: 'Georgia', serif;
    font-size: 1.1em;
    line-height: 1.6;
    margin-top: 30px;
    padding-top: 20px;
    border-top: 1px solid #ddd;
    color: #111;
  }

  .chapter-text p { margin-bottom: 1.5em; }

  .stats-bar {
    margin-top: 15px;
    font-family: sans-serif;
    font-size: 0.9em;
    color: #555;
    background: #f3f3f3;
    padding: 8px;
    border-radius: 3px;
  }

  .ao3-wrapper::-webkit-scrollbar { width: 10px; }
  .ao3-wrapper::-webkit-scrollbar-track { background: #f1f1f1; }
  .ao3-wrapper::-webkit-scrollbar-thumb { background: #ccc; }
  .ao3-wrapper::-webkit-scrollbar-thumb:hover { background: #999; }

</style>

<div class="ao3-wrapper">
  
  <div class="ao3-header">
    <div class="ao3-logo">Archive of Our Own<sup> beta</sup></div>
    <div class="ao3-user-nav">Hi, <b>bobbydorpz</b>! &nbsp;|&nbsp; Post &nbsp;|&nbsp; Log Out</div>
  </div>

  <div class="ao3-main">
    
    <div class="work-meta">
      <h2 style="font-family: Georgia, serif; font-size: 1.8em; margin: 0 0 5px 0;">Executive Privilege</h2>
      <div style="margin-bottom: 15px;">
        <a href="#" style="color: #2a2a2a; text-decoration: none;">FordCrimes</a>
      </div>

      <dl class="tags">
        <dt>Rating:</dt>
        <dd><span class="rating-tag">Teen And Up Audiences</span></dd>

        <dt>Archive Warning:</dt>
        <dd><span class="warning-tag">No Archive Warnings Apply</span></dd>

        <dt>Fandom:</dt>
        <dd>
          <a class="tag-link">Gravity Falls</a>, 
          <a class="tag-link">Political RPF - US 21st c.</a>
        </dd>

        <dt>Relationships:</dt>
        <dd>
          <a class="tag-link">Dipper Pines & Barack Obama</a>,
          <a class="tag-link">Dipper Pines & Mabel Pines</a>
        </dd>

        <dt>Characters:</dt>
        <dd>
          <a class="tag-link">Dipper Pines</a>, 
          <a class="tag-link">Barack Obama</a>, 
          <a class="tag-link">Stanford Pines (mentioned)</a>,
          <a class="tag-link">Mabel Pines (mentioned)</a>
        </dd>

        <dt>Additional Tags:</dt>
        <dd>
          <a class="tag-link">Post-Weirdmageddon</a>,
          <a class="tag-link">Late Night Conversations</a>,
          <a class="tag-link">Phone Calls & Telephones</a>,
          <a class="tag-link">Insomnia</a>,
          <a class="tag-link">PTSD - Post-Traumatic Stress Disorder</a>,
          <a class="tag-link">Hurt/Comfort</a>,
          <a class="tag-link">Crack Treated Seriously</a>,
          <a class="tag-link">no beta we die like bill cipher</a>,
          <a class="tag-link">This Is Not The Fic I Meant To Write</a>,
          <a class="tag-link">Somehow This Got Feelings</a>
        </dd>
        
        <dt>Stats:</dt>
        <dd class="stats-bar">
          Published: 2017-01-20 | Words: 1,847 | Chapters: 1/1 | Kudos: 853 | Bookmarks: 194 | Hits: 12,402
        </dd>
      </dl>
    </div>

    <div class="notes-module">
      <div class="module-heading">Notes</div>
      <p style="font-family: Georgia, serif; margin: 0;">
        okay so, uh. this started as a shitpost in the gf discord at like 2am after the inauguration and someone said "ford definitely knows obama" and my brain just... didn't let it go. i was going to write something funny but then dipper started being sad and now we're here.
        <br><br>
        timeline note: this takes place a few months after weirdmageddon, so dipper is back in piedmont but staying with the stans for winter break. the election referenced is obama's 2012 re-election (uh-duh, and yes i know the show's timeline is weird, just go with it).
        <br><br>
        title from the legal doctrine because i'm a nerd. please don't send this to alex hirsch i'm begging you for the love of god
      </p>
    </div>

    <div class="summary-module">
      <div class="module-heading">Summary</div>
      <p style="font-family: Georgia, serif; font-style: italic; margin: 0;">
        There's a phone number in the back of Journal 3. There's no area code, no label, just ten digits in Ford's cramped handwriting next to the words <i>"ABSOLUTE EMERGENCY."</i>
        <br><br>
        Dipper doesn't know what that means, or if 3 AM and the inability to close his eyes counts as an emergency. But the rain is loud, and the attic is too quiet, and so he dials anyway.
      </p>
    </div>

    <div class="chapter-text">
      <p>The phone rings four times before someone picks up.</p>

      <p>Dipper almost hangs up on the third ring. His thumb is right there on the cradle, ready to slam it down, because this is crazy, this is so crazy. What the hell is he even doing this time? He’s thirteen and it’s midnight in Oregon which means it’s 3 AM on the East Coast and he doesn’t even know who he’s calling—</p>

      <p>“This is a secure line.” The voice is calm. Tired, even, though vaguely familiar in a way that makes Dipper’s stomach drop. “Identify yourself.”</p>

      <p>There’s no way. Dipper’s mouth goes dry. He’s sitting on the floor of the attic, his back against Mabel’s bed, the ancient rotary phone cord wrapped around his wrist. The rain is coming down so hard it sounds like static.</p>

      <p>“I—” His voice cracks. He clears his throat and tries again. “I-I found this number. In a journal.”</p>

      <p>A pause. The creak of leather, like someone leaning back in a chair. “Which journal?”</p>

      <p>“The… the third one?”</p>

      <p>Another pause, longer this time. Then: “Is the sky doing that, uh, thing again? The triangles?”</p>

      <p>“No. No, the sky is—the sky is fine.” Dipper pulls his knees up to his chest with his free arm. “Everything is fine. Um, tchnically. I just.” He squeezes his eyes shut. “I… I couldn’t sleep.”</p>

      <p>He waits for the click of disconnection, for a dial tone. For someone to tell him he’s wasting the time of… whoever this is. What was he even thinking?</p>

      <p>Instead: “You’re the nephew. Mason, right? The one with the hat or something.”</p>

      <p>“Dipper,” he corrects automatically. “Nobody calls me Mason.”</p>

      <p>“Dipper.” There’s something almost like a smile in the voice. “Stanford mentioned you. Said you had, uh, good instincts, that you’d probably find this number eventually.” A soft exhale. “Though I figured he meant in, you know, uh. An actual emergency.”</p>

      <p>“I’m sorry.” Dipper’s throat is tight. “I shouldn’t have— no, I’ll hang up, I’m sorry—”</p>

      <p>“Kid. It’s fine.” The voice is gentler now. “I wasn’t sleeping either. Lot of that going around lately.”</p>

      <p>Dipper blinks. “You… weren’t?”</p>

      <p>“I just got handed the same job for four more years. Sleep’s been…” A dry laugh. “Well, complicated.”</p>

      <p>And that’s when it clicked. The cadence, the particular way the words land, so smooth and deliberate… oh, Dipper has heard this voice on TV a hundred times, coming out of his parents’ living room, the background noise of adult concerns he didn’t understand.</p>

      <p>“Oh my God,” Dipper whispers.</p>

      <p>“Yeah, uh, I get that a lot.”</p>

      <p>“You’re—Ford has the—<i>you’re</i> in his <i>phone</i>?”</p>

      <p>“Stanford and I go back, way back. He helped with a… situation, you know, a few months back. This shapeshifter or whatever got into the Treasury Department, long story.” A pause. “He said if anyone ever called from this number, I should pick up, that it would mean things had gotten strange or uh, anythng like that.”</p>

      <p>“Things got strange,” Dipper says quietly. “A few months ago… really strange.”</p>

      <p>“The triangle, yeah.”</p>

      <p>“You knew?”</p>

      <p>“I’m the President, Dipper. I know about a lot of things I can’t do anything about.” The words are wry, but there’s something heavy underneath. “I saw the reports. Something something localized dimensional breach, small town in Oregon, civilian casualties minimal, ‘resolved through unknown means.’” Another pause. “Um, I’m guessing you were the unknown means.”</p>

      <p>Dipper doesn’t say anything, and the rain fills the silence.</p>

      <p>“So,” the voice continues, softer now. “You saved the world. That is, uh, very wholesome. And you can’t sleep.”</p>

      <p>“I keep seeing it.” The words come out in a rush, unstoppable. “When I close my eyes. The—the way the sky looked. The way people were just… floating, and screaming, and I couldn’t—” He takes a shaky breath. “I keep thinking about what would have happened if we hadn’t stopped it, if we’d been one minute slower… about <i>him</i>. And I know we won, I <i>know</i> we did, but it doesn’t—”</p>

      <p>“Feel like winning.”</p>

      <p>“…yeah.”</p>

      <p>The line hums with distance. Somewhere in Washington, D.C., in an office Dipper has only seen in photographs, a man who runs the country is listening to a thirteen-year-old have a quiet breakdown. If only he knew this was only the third time that happened this week.</p>

      <p>“I’m going to tell you something,” the President says. “And I need you to actually hear it, okay? Not just listen, hear.”</p>

      <p>“Okay.”</p>

      <p>“That feeling—the, uh, one that keeps you up at night, the one that makes you run through everything that could have gone wrong… that feeling is the, um, cost. It’s what you pay for caring enough to act. And it’s not fair, I tell you. It’s really, genuinely not fair that a kid your age has to pay it.” A long exhale. “But you’re not paying it alone. You understand? There are a lot of us out here, lying awake, carrying things we can’t put down.”</p>

      <p>Dipper’s eyes are burning. He presses his forehead against the phone’s cold plastic. “D-does it get easier?”</p>

      <p>“Easier? No.” It was so honest, almost gentle. “But you get stronger. The weight stays the same, but you figure out how to carry it better. You find people who help, you learn that sleeping four hours is better than sleeping zero, even if your brain is convinced otherwise.”</p>

      <p>Dipper laughs, watery and weak. “That sounds like something Mabel would say.”</p>

      <p>“Smart kid, that sister of yours. Great dancer, too.”</p>

      <p>“She’s sleeping right now.” Dipper glances over at Mabel’s bed, at the lump of blankets and the faint sound of her snoring. Surprisingly, she hadn’t woken up. “She always sleeps. I don’t know how she does it.”</p>

      <p>“Different people process differently. Doesn’t mean she’s not carrying it too, really. Just means her brain lets her rest between rounds.”</p>

      <p>The rain is easing up a bit outside. Dipper notices, distantly, that his heartbeat has slowed down, and that his chest doesn’t feel quite so tight.</p>

      <p>“Mr. President?”</p>

      <p>“Yeah?”</p>

      <p>“Thanks. For—for picking up. And not just hanging up on me.”</p>

      <p>“Pfft. Dipper, you helped save the world. The least I can do is take a phone call.” He hears a shuffling sound, probably of papers being moved. “Now. It’s late—um, early?—and I’ve got a briefing in three hours. Very important one too, I will, uh, probably mint the coin. Two of them. Five of them, as many as it takes. But you, try to get some sleep.”</p>

      <p>“Is that, like, an order?”</p>

      <p>“Let’s call it a strong suggestion from a guy who’s really bad at following it himself.” A beat. “Take care of yourself, kid. And next time you see Stanford, tell him he still owes me that thing from the poker game.”</p>

      <p>The line clicks, and he hears the dial tone.</p>

      <p>Dipper sits there for a long time, the phone pressed against his ear, listening to the electronic hum blend with the last of the rain. Eventually, carefully, he sets the receiver back on the cradle.</p>

      <p>Mabel shifts in her bed, muttering something he could not understand, and goes still again.</p>

      <p>And so Dipper crawls back under his own covers. The ceiling of the attic is fairly dark and ordinary. No Bill, no weird eyes or anything, just normal wood, and shadows, and also the distant sound of his great-uncle shuffling around downstairs.</p>

      <p>He closes his eyes.</p>

      <p>A few moments later, he sleeps.</p>
    </div>

    <div class="notes-module" style="margin-top: 30px;">
      <div class="module-heading">End Notes</div>
      <p style="font-family: Georgia, serif; margin: 0;">
        ford absolutely cheats at poker btw. he has extra cards in his extra fingers, that little bitch.
        <br><br>
        anyway i have a lot of feelings about Dipper's PTSD and also about crossovers that shouldn't work but do? lemme know if you want more, i have thoughts about Stan teaching biden to punch cryptids LMAO
      </p>
    </div>

    <div style="margin-top: 30px; border-top: 1px solid #ddd; padding-top: 10px;">
      <p style="font-size: 0.9em;">
        <span style="color: #990000;">♥</span> 
        <a class="tag-link">decayedStupidity</a>, <a class="tag-link">neiloz</a>, <a class="tag-link">bylerino</a>, <a class="tag-link">imkirkingit</a>, <a class="tag-link">FixItFelix</a>, and <a class="tag-link">851 others</a> left kudos on this work!
      </p>
    </div>

  </div>
</div>`
    },
	// other bonus slides
	{
        id: "obama_diehardliberal",
        condition: (ev) => ev < 269 && (window.liberalismScore >= 4),
        image: "https://static01.nyt.com/images/2018/11/05/arts/05godot/05godot-superJumbo.jpg",
        title: "waiting for godot",
        html: `<link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:ital,wght@0,300;0,400;0,700;1,400&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet"><style>
  .pb-wrapper {
    background-color: #fff;
    font-family: 'Roboto', sans-serif;
    color: #000;
    border: 1px solid #ccc;
  }

  .pb-header {
    background-color: #fde300;
    height: 60px;
    display: flex;
    align-items: center;
    justify-content: center;
    position: sticky;
    top: 0;
    z-index: 100;
    border-bottom: 4px solid #000;
  }

  .pb-logo-text {
    font-family: 'Roboto Condensed', sans-serif;
    font-weight: 700;
    font-size: 32px;
    letter-spacing: -1px;
    text-transform: uppercase;
    border: 2px solid #000;
    padding: 0 10px;
    background: #fde300;
  }

  .pb-container {
    max-width: 800px;
    margin: 0 auto;
    padding: 20px;
  }

  .pb-breadcrumb {
    font-family: 'Roboto Condensed', sans-serif;
    font-size: 12px;
    text-transform: uppercase;
    color: #666;
    margin-bottom: 10px;
    font-weight: 700;
    letter-spacing: 1px;
  }

  .pb-show-title {
    font-family: 'Roboto Condensed', sans-serif;
    font-size: 42px;
    font-weight: 700;
    margin: 0 0 5px 0;
    line-height: 1;
  }

  .pb-venue {
    font-family: 'Roboto Condensed', sans-serif;
    font-size: 18px;
    font-weight: 700;
    text-transform: uppercase;
    border-bottom: 1px solid #fde300;
    display: inline-block;
    padding-bottom: 2px;
    margin-bottom: 20px;
  }

  .pb-section-header {
    font-family: 'Roboto Condensed', sans-serif;
    font-size: 24px;
    font-weight: 700;
    text-transform: uppercase;
    margin: 30px 0 15px 0;
    border-bottom: 2px solid #000;
    padding-bottom: 5px;
  }

  .pb-cast-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 15px;
    margin-bottom: 20px;
  }

  .pb-cast-card {
    text-align: center;
  }

  .pb-headshot {
    width: 100%;
    aspect-ratio: 3 / 4;
    background-color: #ddd;
    margin-bottom: 10px;
    background-size: cover;
    background-position: center;
    filter: grayscale(100%);
  }

  .hs-obama { background-image: url('https://images.squarespace-cdn.com/content/v1/5702ab9d746fb9634796c9f9/1601504768032-KU9C11ZRR2UXDJYZGFSQ/Screen+Shot+2020-09-30+at+6.25.58+PM.png'); }
  .hs-stewart { background-image: url('https://i.pinimg.com/originals/12/d9/16/12d916baeede74d2b40386a4d75befa0.png'); }
  .hs-dirden { background-image: url('https://assets.playbill.com/head-shots/Godot-B.-J-Dirden-Cropped1.jpg'); }
  .hs-thornton { background-image: url('https://assets.playbill.com/head-shots/Godot-M.-P.-Thornton-Cropped1.jpg'); }

  .pb-actor-name {
    font-family: 'Roboto Condensed', sans-serif;
    font-weight: 700;
    font-size: 15px;
    line-height: 1.1;
    margin-bottom: 3px;
  }

  .pb-role-name {
    font-family: 'Roboto Condensed', sans-serif;
    font-size: 13px;
    color: #444;
    line-height: 1.1;
  }

  .pb-view-all-btn {
    background-color: #fde300;
    width: 100%;
    text-align: center;
    padding: 10px 0;
    font-family: 'Roboto Condensed', sans-serif;
    font-weight: 700;
    text-transform: uppercase;
    font-size: 14px;
    cursor: pointer;
    margin-top: 10px;
    display: block;
  }

  .pb-body-text {
    font-family: Georgia, serif;
    font-size: 16px;
    line-height: 1.6;
    color: #222;
    margin-top: 30px;
  }

  .pb-body-text p { margin-bottom: 15px; }
  
  .pb-highlight {
    font-weight: 700;
  }

  .pb-info-box {
    background-color: #f2f2f2;
    padding: 20px;
    font-family: 'Roboto Condensed', sans-serif;
    margin-top: 30px;
    border-top: 4px solid #000;
  }

  .pb-info-header {
    font-weight: 700;
    font-size: 18px;
    text-transform: uppercase;
    margin-bottom: 10px;
  }

  .pb-schedule-list {
    list-style: none;
    padding: 0;
    font-size: 14px;
    line-height: 1.5;
  }
  
  .pb-schedule-list li { margin-bottom: 8px; }

  .pb-specs {
    margin-top: 15px;
    font-size: 14px;
    font-weight: 700;
    text-transform: uppercase;
    border-top: 1px solid #ccc;
    padding-top: 15px;
  }

  .pb-footer {
    background-color: #000;
    color: #fff;
    padding: 40px 20px;
    text-align: center;
    font-family: 'Roboto Condensed', sans-serif;
    font-size: 12px;
    text-transform: uppercase;
  }

</style>

<div class="pb-wrapper">
  
  <div class="pb-header">
    <div class="pb-logo-text">PLAYBILL</div>
  </div>

  <div class="pb-container">
    
    <div class="pb-breadcrumb">Broadway | Play | Revival</div>
    <h1 class="pb-show-title">Waiting for Godot</h1>
    <div class="pb-venue">Hudson Theatre | 141 W. 44th St., New York, NY</div>

    <div class="pb-section-header">People (68)</div>
    
    <div class="pb-cast-grid">
      <div class="pb-cast-card">
        <div class="pb-headshot hs-obama"></div>
        <div class="pb-actor-name">Barack Obama</div>
        <div class="pb-role-name">Vladimir<br>(Original)</div>
      </div>
      <div class="pb-cast-card">
        <div class="pb-headshot hs-stewart"></div>
        <div class="pb-actor-name">Jon Stewart</div>
        <div class="pb-role-name">Estragon<br>(Original)</div>
      </div>
      <div class="pb-cast-card">
        <div class="pb-headshot hs-dirden"></div>
        <div class="pb-actor-name">Brandon J. Dirden</div>
        <div class="pb-role-name">Pozzo<br>(Original)</div>
      </div>
      <div class="pb-cast-card">
        <div class="pb-headshot hs-thornton"></div>
        <div class="pb-actor-name">Michael Patrick Thornton</div>
        <div class="pb-role-name">Lucky<br>(Original)</div>
      </div>
    </div>

    <div class="pb-view-all-btn">View All Current Cast ></div>

    <div class="pb-body-text">
      <p>You may have seen it performed by Steve Martin and Robin Williams, Rik Mayall and Adrian Edmondson, Patrick Stewart and Ian McKellen, but nothing that has come before will truly prepare you for this once-in-a-lifetime production of <i><b>Waiting for Godot</b></i>, <b>Samuel Beckett</b>'s famed exploration of nihilism and existentialism, starring the history defining <b>Barack Obama</b> and renowned comedian <b>Jon Stewart</b>.</p>

      <p>Directed by Tony® and Olivier Award-winning visionary <b>Jamie Lloyd</b> (<i>Sunset Blvd.</i>, <i>A Doll's House</i>, <i>Betrayal</i>) and reinterpreted by equally iconic and acclaimed playwright <b>David Edgar</b> (<i>Maydays</i>, <i>Destiny</i>), this performance promises to deliver a stunning and appropriately political take of the iconic play, uniquely tailored to address the challenges faced by the United States in the modern era. No better suited are the players that will take the stage. This is an experience destined for the history books! Be a part of history today!</p>
    </div>

    <div class="pb-info-box">
      <div class="pb-info-header">Schedule:</div>
      <ul class="pb-schedule-list">
        <li><b>December 2–21:</b> Tuesday @7pm, Wednesday @2pm and 7pm, Thursday @7pm, Friday @8pm, Saturday @2pm and 8pm, Sunday @3pm</li>
        <li><b>December 22–28:</b> Monday @7pm, Tuesday @7pm, Wednesday @2pm, Friday @8pm, Saturday @2pm and 8pm, Sunday @2pm and 8pm</li>
        <li><b>December 29–January 4:</b> Monday @7pm, Tuesday @2pm and 7pm, Friday @8pm, Saturday @2pm and 8pm, Sunday @2pm and 8pm</li>
      </ul>
      
      <div class="pb-specs">
        Running Time: 2 Hours and 15 Minutes, including one intermission<br>
        Playwrights: Samuel Beckett, David Edgar
      </div>
    </div>

  </div>

  <div class="pb-footer">
    Copyright 1991–2016 © Playbill Inc. All Rights Reserved.
  </div>

</div>`
	},
	{
        id: "rogerebert",
        condition: (ev) => ev < 269 && (window.confrontationScore > 8),
        image: "https://pics.filmaffinity.com/War_of_the_Worlds-201119450-large.jpg",
        html: `<style>
  .ebert-body { background:#003366; color:#222222; font-family: Verdana, Arial, Helvetica; padding: 20px 0; }
  .ebert-main-table { background:#cfc091 !important; width: 970px; margin: 0 auto; border-collapse: collapse; }
  
  #ebert-header { background:#001722; width:970px; margin:0 auto; height: 169px; position: relative; }
  .headImg { width:200px; float:left; height:169px; }
  .headerRightHolder { float:right; width:770px; height:169px; background:url('https://web.archive.org/web/20130115145911im_/http://rogerebert.com/graphics/global/headerBack.jpg') no-repeat; }
  .headerRightHolder .sectionName { float:right; width:338px; color:#cfc091; text-align:right; padding:30px 12px 0 0; }
  .headerRightHolder .sectionName h2 { font-size:24px; font-family: Arial, Helvetica, sans-serif; text-transform: lowercase; }
  
  .primaryMenu { width:970px; background:#003366; height:30px; margin: 0 auto; }
  .primaryMenu li { list-style:none; display:inline; float:left; }
  .primaryMenu li a { font-size:11px; text-decoration:none; line-height:30px; padding:0 15px; color:#fff; text-transform: uppercase; font-family: Verdana; }

  .moviename { font-family : Arial, helvetica, sans-serif; color: #003366; font-size : 14px; font-weight : bold; text-transform : uppercase; letter-spacing : 1px; }
  .headline { font-family: Arial, Helvetica, sans-serif; font-size: 22px; font-weight:bold; color: #003366; margin: 10px 0; }
  .text { font-family : Arial, Helvetica, sans-serif; font-size : 13px; line-height: 1.6; }
  .blurb { font-family : verdana, arial, helvetica, sans-serif; font-size:11px; margin-bottom:10px; }
  
  .castbox { font-family: verdana, arial, helvetica, sans-serif; font-size: 11px; background: #e7dab0; border-bottom: 1px solid #003366; border-top: 2px solid #003366; width: 220px; line-height: 15px; padding: 10px; float: right; margin-left: 20px; margin-bottom: 10px; }
  .subhead3 { font-family : Arial, Helvetica, sans-serif; font-size : 18px; font-weight : bolder; color : #003366; border-bottom : 2px dotted #003366; margin-bottom : 10px; text-transform : lowercase; }
  
  .star-rating { width: 11px; height: 11px; }
  .textblock { background: #e7dab0; padding: 15px; margin: 10px 0; border: 1px solid #a89a74; }
</style>

<div class="ebert-body">
  <div id="ebert-header">
    <div class="headImg"><img src="https://web.archive.org/web/20130115170109im_/http://rogerebert.com/graphics/global/roger.jpg" width="200"></div>
    <div class="headerRightHolder">
      <div class="sectionName"><h2>movie reviews</h2></div>
    </div>
  </div>

  <ul class="primaryMenu">
    <li><a href="#">Reviews</a></li>
    <li><a href="#">Great Movies</a></li>
    <li><a href="#">Answer Man</a></li>
    <li><a href="#">Journal</a></li>
    <li><a href="#">People</a></li>
    <li><a href="#">Commentary</a></li>
  </ul>

  <table class="ebert-main-table" align="center">
    <tr>
      <td style="padding: 20px;" valign="top">
        <div class="moviename">End of the World (PG-13)</div>
        
        <div class="blurb">
          <b>Ebert:</b> 
          <img src="https://web.archive.org/web/20130115170109im_/http://rogerebert.com/graphics/redstar_matte_tan_transp.gif" class="star-rating">
          <img src="https://web.archive.org/web/20130115170109im_/http://rogerebert.com/graphics/redstar_half_tan_matte.gif" class="star-rating" style="width:6px">
          &nbsp;&nbsp; <b>Users:</b>
          <img src="https://web.archive.org/web/20130115170109im_/http://rogerebert.com/graphics/redstar_matte_tan_transp.gif" class="star-rating">
        </div>

        <div class="textblock">
          <img src="https://static.standard.co.uk/2025/08/07/10/27/Screenshot-2025-08-07-115703.jpg?trim=0,82,0,82&quality=75&auto=webp&width=1000" width="388" style="border:1px solid #000; margin-bottom:10px;"><br>
          <div class="headline">End of the World</div>
          <p class="text"><b>BY ROGER EBERT / </b> June 14, 2018</p>
          
          <div class="castbox">
            <div class="subhead3">Cast & Credits</div>
            <b>Secretary Thorne:</b> Barack Obama<br>
            <b>Agent Harris:</b> Iman Benson<br>
            <b>Director Miller:</b> Clark Gregg<br>
            <b>NASA Friend:</b> Eva Longoria<br><br>
            Netflix presents a film directed by Rich Lee. Written by Marc Hyman. Running time: 98 minutes.
          </div>

          <div class="text">
            <p>I refuse to believe actual human beings were involved in most of this nonsense. Netflix’s “End of the Worlds” has become an interesting cultural item in the summer of 2018, and also the most hate-watched thing in years. Notching an amazing 1.1 on Letterboxd — less than double of that of the runner-up, Hitchcock’s “Juno and the Paycock,” it has nonetheless become a massive hit, proving yet again that there’s no such thing as bad publicity. But is it really that bad? It sure is. Being alive to watch this so-movie has been quite the personal lesson.</p>
            <br>
            <p>What’s somewhat fascinating is the central casting of Barack Obama. Since his 2012 loss, he has leaned into a certain "confrontational" persona, one that is particularly strange even for fellow Obama enthusiasts. In End Of The World, he plays DHS Secretary Will Thorne, and who I believe shot this on a Zoom call over a single weekend. To say the effects are atrocious would be an understatement; there are numerous shots of Obama’s glasses reflecting the green screen of his living room that was never filled in. Some SyFy originals look significantly better, if you think about it!</p>
            <br>
            <p>The entire midsection consists of Obama staring at a screen and muttering things like “Oh My, Uh, God”, “Um, Let Me Be Clear” and variations of Scooby Doo-era zingers, such as jinkies and jeepers. Worst of all, the film is truly morally icky. The motive of the aliens is to steal "The Archive" — which, bad name aside, is basically referring to a global data breach of personal information. And then someone actually says, “Our most precious resource is our shared hope.” Oh really, hope? In the big 2018? Come on.</p>
            <br>
            <p>Go watch “Things That Never Were” instead. Or just read a history book about 2008. Anything but this.</p>
          </div>
        </div>
      </td>
    </tr>
    <tr>
      <td style="background:#001722; color:#fff; text-align:center; padding:10px; font-size:10px; font-family:Verdana;">
        &copy; copyright 2018, rogerebert.com
      </td>
    </tr>
  </table>
</div>`
	},
	
    // opponent specific loss slides
    {
        id: "romney_thoughtzos",
        condition: (ev) => ev < 269 && (window.opLast === "Romney" || window.opName === "Mitt Romney"),
        image: "https://baltimorefishbowl.com/wp-content/uploads/2024/03/Mitt-Romney-scaled-e1711742761479.jpg",
        html: `<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400&family=Lato:wght@300;400;700&display=swap" rel="stylesheet"><style>
  .vogue-wrapper {
    background-color: #f4f4f4;
    padding: 20px;
    border: 1px solid #ccc;
  }
  .vogue-container {
    background-color: #ffffff;
    color: #111;
    font-family: 'Lato', sans-serif;
    box-shadow: 0 0 20px rgba(0,0,0,0.05);
    padding: 60px;
    max-width: 800px;
    margin: 0 auto;
    text-align: left;
  }
  .vogue-header {
    text-align: center;
    border-bottom: 4px solid #000;
    margin-bottom: 40px;
    padding-bottom: 15px;
  }
  .masthead {
    font-family: 'Playfair Display', serif;
    font-size: 4.5em;
    font-weight: 700;
    letter-spacing: -2px;
    text-transform: uppercase;
    margin: 0;
    line-height: 0.8;
  }
  .meta-line {
    font-size: 0.75em;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 3px;
    margin-top: 15px;
    color: #888;
  }
  .article-headline {
    font-family: 'Playfair Display', serif;
    font-size: 2.8em;
    font-weight: 400;
    font-style: italic;
    text-align: center;
    margin-bottom: 20px;
    line-height: 1.1;
  }
  .article-subhead {
    text-align: center;
    font-family: 'Lato', sans-serif;
    font-weight: 300;
    font-size: 1.1em;
    color: #555;
    margin-bottom: 30px;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
  }
  .article-author {
    text-align: center;
    font-size: 0.8em;
    font-weight: 700;
    text-transform: uppercase;
    margin-bottom: 50px;
    letter-spacing: 1px;
  }
  .drop-cap {
    float: left;
    font-family: 'Playfair Display', serif;
    font-size: 5.5em;
    line-height: 0.75;
    padding-top: 8px;
    padding-right: 12px;
    padding-left: 4px;
    font-weight: 700;
  }
  .article-body p {
    line-height: 1.9;
    font-size: 1.05em;
    margin-bottom: 25px;
    text-align: justify;
    font-weight: 300;
  }
  .pull-quote {
    font-family: 'Playfair Display', serif;
    font-size: 1.8em;
    font-style: italic;
    text-align: center;
    border-top: 2px solid #000;
    border-bottom: 2px solid #000;
    padding: 30px;
    margin: 40px -20px;
    color: #000;
    line-height: 1.3;
  }
  .photo-caption {
    font-size: 0.8em;
    color: #666;
    font-style: italic;
    margin-top: 5px;
    margin-bottom: 30px;
    text-align: center;
  }
  .pose-break {
    font-family: 'Lato', sans-serif;
    font-weight: 700;
    font-size: 0.9em;
    text-transform: uppercase;
    color: #bfa472;
    text-align: center;
    margin: 30px 0;
    letter-spacing: 2px;
  }
</style>

<div class="vogue-wrapper">
<div class="vogue-container">
  <div class="vogue-header">
    <h1 class="masthead" style="color: red">VOGUE</h1>
    <div class="meta-line">Special Issue &nbsp;|&nbsp; December 2014</div>
  </div>

  <div class="article-headline">The Man in the Glass Office</div>
  <div class="article-subhead">Two years into his presidency, Mitt Romney has attempted to balance the budget, stared down at the likes of Xi and Putin, and rewritten American healthcare. But as he poses for our cover, a question lingers: is he having any fun?</div>
  <div class="article-author">By Anna Wintour</div>

  <div class="article-body">
    <p><span class="drop-cap">T</span>he chin. You notice it immediately. Even now, two years into perhaps the most aggressively competent presidency of our young century, the Romney jawline remains a kind of architectural event, one could say — the cheekbones of a Brancusi sculpture married to the determined set of a man who has never, not once, lost an argument. (Or so he says.) It does not sag under the weight of the national debt, nor does it clench in the face of escalating Russian provocations. It simply <i>is</i>, catching the soft key-light Annie Leibovitz has arranged in the center of the Oval Office like it was born for this.</p>

    <p>"Is this good enough?" the President asks. He is leaning against the Resolute Desk, arms crossed, right leg extended slightly forward; a pose that suggests casual dominance. He holds the position with the stillness of a museum exhibit. "I can, uh, look toward the Rose Garden if you want me to...?"</p>

    <p>He doesn't seem too excited.</p>

    <p>Annie suggests he look natural. The President nods crisply, uncrosses his arms, and slips one hand into the pocket of his bespoke Brioni; it is charcoal, not black, a subtle nod to the "new morning in America" he campaigned on. He freezes again. He looks like one of those stock photos that come pre-installed in a picture frame. Beyond that, he seems uncomfortable.</p>

    <p>We are here, ostensibly, to discuss the so-called "Turnaround." That's what his administration calls it, and you can hear the capital T when they say it. The first twenty-four months of the Romney presidency have been a whirlwind of legislative efficiency and calculated disruption—the deficit trimmed, the markets humming, and Obamacare laid to rest with surgical precision.</p>

    <div class="pose-break"><img src="https://media.newyorker.com/photos/653687a791891e12fe97d3b6/master/pass/Luo-Romney.jpg" width=80%></div>

    <p>"It, um, had to go," Romney says. His voice is a fairly smooth baritone that seems designed for boardrooms with excellent acoustics. We like that. He shifts his weight to his left hip, turning his profile to the lens. "The Affordable Care Act was... uh... bureaucratic monstrosity, you see. Pretty heavy, pretty lumsy." He pauses, as if searching for the metaphor. "We prefer things that are... uh... yeah, agile."</p>

    <p>He is referring to the *Patient Freedom and Choice Act* of 2014, which sparked the the bloodiest legislative battle since the Clinton healthcare wars, and possibly one of the most confusing. Lacking votes from members of his own party, Romney, ever the turnaround artist, managed to get the law passed with a dozen or so votes from the Democratic Party to get it done. The result?</p>

    <p>"State-level exchanges. Mandates for <i>belch</i> coverage, yes, but also really neat market-based mandates. Subsidies... subsidies for working families to purchase private plans," he recites, adjusting a cufflink. The light catches the gold; it is, admittedly, a perfect shot.</p>

    <div class="pull-quote">
      "The press has started calling it 'Romneycare,'" the President observes, not smiling. "Heh... erm... uh... I don't even know anymore."
    </div>

    <p>I ask if the nickname bothers him. After all, his detractors — and a not-insignificant number of bemused policy analysts — have pointed out that the <i>Patient Freedom and Choice Act</i> is virtually identical to the Massachusetts healthcare plan he signed as Governor. Not only that, it is strikingly similar to the very law he just repealed, give or take a few tax provisions and the deeply mourned medical device levy.</p>

    <p>Romney breaks the pose for a microsecond to produce something approximating a chuckle — it is a dry, clipped sound. He immediately resettles back into his "statesman at work" posture, seating himself behind the desk and picking up a pen he clearly has no intention of using.</p>

    <p>"Compassion requires, um, efficiency, Anna. Is it <i>kinder</i> to hand someone a government card that no doctor will accept? Or is it kinder to... to incentivize the market to actually care for them?" He taps the pen against his palm once. "W-we kinda rebuilt the engine for our car, and put it back on the road. If they want to put my name on the hood, fine." A beat. "Um, yeah."</p>

    <div class="pose-break"><img src="https://cdn.theatlantic.com/thumbor/qY_XP_9ShT5T00NAdmf5qrNM7uc=/509x606:2997x2006/1600x900/media/img/mt/2020/02/GettyImages_142341817/original.jpg" width=80%></div>

    <p>The shoot relocates to the window. The President is instructed by one of his advisors to look contemplative. His brow furrows instantly; too instantly, perhaps. We pivot to foreign policy.</p>

    <p>If his domestic agenda has been about restructuring, his approach to the world has been about confrontation, one could say. The "reset" with Russia was cancelled in his first week, without much ceremony, and the standoff in Syria last spring, where Romney enforced the red line with airstrikes that President Obama had only threatened, sent shockwaves through every embassy from Brussels to Beijing.</p>

    <p>"I told them in 2012," Romney says, gazing out at the Washington Monument. He is holding his jacket by the collar, looped over one finger behind his back. It looks like he practiced it in front of a full-length mirror for twenty minutes. "I said... um, I said Russia was our number one geopolitical foe. One of our... foes, I mean, they laughed. But... uh, but they called it 'Cold War thinking.'" He pauses. "Well, um, I-I mean, they're not laughing now that the Sixth Fleet is permanently stationed in the Black Sea."</p>

    <p>It was a bit of a gamble. The so-called "Romney Doctrine" — peace through superior liquidity and superior firepower, as one wag at the <i>New Yorker</i> put it — nearly caused a rupture with the European Union during the Crimean Crisis. But, President Mitt says, you have to tret these events like board meetings: you identify the principals, you assess their leverage, and you do not blink.</p>

    <p>"Strength is... uh, clarity," he says, turning back to the camera. The light catches him in profile again. "Ambiguity breeds conflict, someone once told me. We were ambiguous in Syria for too long, we were ambiguous about the debt ceiling.... I-I-I don't do ambiguity."</p>

    <p>He is referring to the Great Shutdown of 2013, where he stared down the Tea Party to raise the debt ceiling, trading entitlement reforms for continued solvency. It earned him the nickname "The RINO King" on talk radio — a title his staff pretends not to hear and which, I suspect, secretly delights him.</p>

    <p>"The adults are in charge," he says, sighing. "And uh, sometimes, the children have to be sent to bed without supper."</p>

    <div class="pose-break"><img src="https://img.apmcdn.org/508c3dfb7c65b12f2f5d037eb05089a9d3734887/uncropped/ed91f1-20121008-romney.jpg" width=80%></div>

    <p>As the December sun dips toward the horizon, casting long amber shadows across the presidential seal, something curious happens: Mitt Romney seems to *wake up*. His aides are flagging, checking phones, stifling yawns, but the President looks like he's quite energized. He has ideas.</p>

    <p>"One more setup," he announces, already striding toward the fireplace. "I-I think standing here, under Washington." He positions himself beneath the portrait. "The lighting really brings out the tie, don't you think...?"</p>

    <p>No one answers, as Annie keeps shooting.</p>

    <p>There is something undeniably mechanical about him, the critics aren't wrong about that. His movements are too smooth, his responses at times too polished (and yet too hesitant), the hair too impossibly, immaculately <i>there</i>. But in a world that seems perpetually on fire, there is, I'll admit, a certain seduction to the Romney machine.</p>

    <p>"People want to fall in love with a president," Romney says, smoothing his lapel one final time as the shutter clicks in rapid succession. His smile is camera-ready. "I... I don't need them to love me. No-no, I just need them to appreciate what we've done... and... and... oh my God, what have I done?"</p>

    <p>He holds the pose and doesn't blink.</p>

    <p>That's the price of doing business.</p>
  </div>
</div>
</div>`
    },
	{
        id: "gingrich_jollygoodshow",
        condition: (ev) => ev < 269 && (window.opLast === "Gingrich" || window.opName === "Newt Gingrich"),
        image: "https://file.garden/aNtAfG887DiA_7lO/2012LBM/festive_newt.jpeg",
        html: `<link href="https://fonts.googleapis.com/css?family=Oswald:300,400,700|Open+Sans:300,400,700" rel="stylesheet"><style>
  .rd-wrapper {
    background-color: #fff;
    font-family: "Open Sans", Arial, Helvetica, sans-serif;
    color: #333;
    font-size: 13px;
    border: 1px solid #ccc;
  }

  .rd-wrapper a { color: #C40000; text-decoration: none; }
  .rd-wrapper h1 { font-family: "Oswald", sans-serif; color: #C40000; font-size: 2em; font-weight: normal; margin: 10px 0; text-transform: uppercase; }
  .rd-wrapper h2 { font-family: "Oswald", sans-serif; color: #C40000; font-size: 1.5em; font-weight: normal; margin: 15px 0 5px 0; text-transform: uppercase; }
  
  .rd-container { width: 90%; margin: 0 auto; max-width: 900px; }
  
  .rd-header {
    background: #700f0f;
    height: 80px;
    position: relative;
    border-bottom: 5px solid #C40000;
    display: flex;
    align-items: center;
    padding-left: 20px;
  }
  .rd-logo {
    color: #fff;
    font-family: "Oswald", sans-serif;
    font-size: 3em;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: -2px;
  }

  .rd-menu { background: #333; color: #fff; padding: 10px 20px; font-family: "Oswald", sans-serif; text-transform: uppercase; font-size: 1.1em; }
  .rd-menu span { margin-right: 20px; cursor: pointer; }
  .rd-menu span:hover { color: #C40000; }

  .rd-content-area { display: flex; margin-top: 20px; }
  .rd-main { flex: 3; padding-right: 20px; }
  .rd-sidebar { flex: 1; border-left: 1px solid #ddd; padding-left: 20px; }

  .episodes { margin-bottom: 15px; line-height: 1.6; }
  .episode-meta { font-weight: bold; color: #555; }
  
  .rd-image-placeholder {
    width: 100%;
    height: 300px;
    background-color: #111;
    color: #555;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 20px;
    border: 1px solid #000;
    font-family: "Oswald", sans-serif;
    font-size: 2em;
    text-transform: uppercase;
    background-image: linear-gradient(45deg, #1a1a1a 25%, transparent 25%, transparent 75%, #1a1a1a 75%, #1a1a1a), linear-gradient(45deg, #1a1a1a 25%, transparent 25%, transparent 75%, #1a1a1a 75%, #1a1a1a);
    background-size: 20px 20px;
    background-position: 0 0, 10px 10px;
  }

  .rd-video-placeholder {
    width: 100%;
    height: 300px;
    background: #000;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #fff;
    margin: 20px 0;
    position: relative;
  }
  .play-button {
    width: 0; 
    height: 0; 
    border-top: 20px solid transparent;
    border-bottom: 20px solid transparent;
    border-left: 30px solid #C40000;
  }

  .product-panel { border: 1px solid #ccc; padding: 10px; text-align: center; margin-bottom: 15px; background: #f9f9f9; }
  .sidebar-header { color: #C40000; font-family: "Oswald", sans-serif; font-size: 1.2em; border-bottom: 1px dotted #C40000; margin-bottom: 5px; }

  .rd-footer { background: #111; color: #666; padding: 20px; margin-top: 30px; font-size: 0.8em; text-align: center; border-top: 5px solid #C40000; }

</style>

<div class="rd-wrapper">
  
  <div class="rd-header">
    <div class="rd-logo">Red Dwarf</div>
  </div>

  <div class="rd-menu">
    <span>News</span> <span>About</span> <span>Watch</span> <span>Buy</span> <span>Complete Guide</span> <span>Database</span>
  </div>

  <div class="rd-container">
    <div class="rd-content-area">
      
      <div class="rd-main">
        <h1>Complete Guide</h1>
        
        <div style="border-bottom: 1px solid #ccc; margin-bottom: 20px; padding-bottom: 10px; color: #C40000; font-weight: bold;">
          Series XI > Episodes > Roanoke
        </div>

        <h1>Roanoke</h1>
        <p class="episodes">
          <strong>Series XI, Episode 2</strong><br />
          Recorded: 11.12.2015, Pinewood Studios<br />
          First Broadcast: 29.09.2016 (Dave)<br />
          VHS Release: N/A<br />
          DVD Release: 14.11.2016 (2EDVD 0879)<br />
          Blu-ray Release: 14.11.2016 (2EBD0369)
        </p>

        <div class="rd-image-placeholder">
          <img src="https://reddwarf.co.uk/episodes/officerrimmer/officer-rimmer.jpg" height=100%>
        </div>

        <p class="episodes">
          <strong>Written by Doug Naylor</strong><br />
          <strong>Directed by Doug Naylor</strong>
        </p>

        <h2>Synopsis</h2>
        <p class="episodes">
          While scavenging for supplies, the Dwarfers uncover a derelict Earth moon colony ship, rich in terraforming capabilities. But when the boys meet the ship's hologrammatic captain, a cocky and glory hungry American, they learn firsthand why the colony failed so spectacularly.
        </p>

        <h2>Main Cast</h2>
        <p class="episodes">
          Chris Barrie (Rimmer), Craig Charles (Lister), Danny John-Jules (Cat), Robert Llewellyn (Kryten)
        </p>

        <h2>Guest Cast</h2>
        <p class="episodes">
          Joel McHale (Captain Sal Gunnery)
        </p>

        <div class="rd-video-placeholder">
          <div class="play-button"></div>
          <div style="position: absolute; bottom: 10px; left: 10px; font-family: Oswald; font-size: 1.2em;">CLIP: "Welcome to Cyberia"</div>
        </div>

        <h2>Did You Know?</h2>
        <p class="episodes">
          The episode's title "Roanoke" references the failed attempts by Sir Walter Raleigh to found the first English settlement in North America, paralleling the similarly botched attempt to found an American settlement on the moon under the command of Captain Gunnery.
        </p>
        <p class="episodes">
          Captain Gunnery's repeated threats to imprison the Dwarfers in Cyberia, alongside the many other enemies of the United States, reference both the eponymous GELF prison first introduced in the <em>Last Human</em> book and the real world Guantanamo Bay prison encampment located in Cuba and operated by the United States.
        </p>
        <p class="episodes">
          Naylor confirmed the episode's premise and antagonist serve as non-subtle allusions to a certain US President and their policy priorities. Which one, he won't say, but viewers have their suspicions...
        </p>

        <p class="episodes" style="margin-top: 30px;">
          <a href="#"><strong>Buy (Blu-ray)</strong></a><br />
          <a href="#"><strong>Buy (DVD)</strong></a><br />
          <a href="#"><strong>Buy (iTunes)</strong></a>
        </p>

        <div style="background: #eee; padding: 10px; border: 1px dotted #999; margin-top: 20px;">
          Series XI Episode 2 of 6: <a href="#">Prev</a> | <a href="#">Next</a>
        </div>
      </div>

      <div class="rd-sidebar">
        <div class="sidebar-header">WATCH LINKS</div>
        <ul style="list-style: none; padding: 0;">
          <li style="margin-bottom: 5px;"><a href="#"><strong>UKTV Play</strong></a></li>
          <li style="margin-bottom: 5px;"><a href="#"><strong>BritBox</strong></a></li>
          <li style="margin-bottom: 5px;"><a href="#"><strong>iTunes</strong></a></li>
          <li style="margin-bottom: 5px;"><a href="#"><strong>Amazon Prime</strong></a></li>
        </ul>

      </div>

    </div>
  </div>

  <div class="rd-footer">
    &copy; 2016 Grant Naylor Productions. All rights reserved.<br>
    Terms & Conditions | Privacy Policy
  </div>

</div>`
    },
	{
        id: "huntsman_nick",
        condition: (ev) => ev < 269 && (window.opLast === "Huntsman" || window.opName === "Jon Huntsman"),
        image: "https://wehco.media.clients.ellingtoncms.com/timesfreepress/img/photos/2011/06/21/Republicans_2012_Hunt_Davi2.jpg",
        html: `<link href="https://fonts.googleapis.com/css2?family=Proxima+Nova:wght@700&family=Georgia&family=Arial:wght@400;700&display=swap" rel="stylesheet"><style>
  .bf-wrapper {
    background-color: #e2e2e2;
    font-family: Arial, Helvetica, sans-serif;
    color: #333;
    font-size: 14px;
    line-height: 1.4;
  }

  .bf-container {
    width: 800px;
    margin: 0 auto;
    background-color: #fff;
    border: 1px solid #ccc;
    box-shadow: 0 0 5px rgba(0,0,0,0.1);
    min-height: 100%;
  }

  .bf-header {
    background-color: #fff;
    padding: 10px 20px;
    border-bottom: 1px solid #ddd;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }
  
  .bf-logo {
    color: #ee3322;
    font-family: "Arial Black", Arial, sans-serif;
    font-size: 32px;
    font-weight: 900;
    letter-spacing: -1px;
    text-decoration: none;
  }
  
  .bf-logo span { color: #ee3322; }

  .bf-reactions {
    display: flex;
    gap: 5px;
    margin-left: 20px;
  }
  
  .bf-badge {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 10px;
    font-weight: bold;
    color: #000;
    text-transform: uppercase;
    cursor: pointer;
    box-shadow: inset 0 -2px 0 rgba(0,0,0,0.1);
  }
  
  .badge-lol { background-color: #FFD900; }
  .badge-win { background-color: #FFD900; }
  .badge-omg { background-color: #FFD900; }
  .badge-fail { background-color: #ffcccc; }
  .badge-wtf { background-color: #e0e0e0; }

  .bf-content-area {
    display: flex;
    padding: 20px;
  }
  
  .bf-article {
    flex: 2;
    padding-right: 20px;
    border-right: 1px solid #eee;
  }

  .bf-sidebar {
    flex: 1;
    padding-left: 20px;
  }

  .bf-headline {
    font-family: 'Arial', sans-serif;
    font-size: 36px;
    font-weight: 700;
    line-height: 1.1;
    margin-bottom: 10px;
    color: #222;
  }

  .bf-subhead {
    font-size: 18px;
    color: #666;
    margin-bottom: 15px;
    line-height: 1.3;
  }

  .bf-meta {
    display: flex;
    align-items: center;
    margin-bottom: 20px;
    font-size: 12px;
    color: #888;
  }
  
  .bf-avatar {
    width: 40px;
    height: 40px;
    background-color: #ddd;
    border-radius: 3px;
    margin-right: 10px;
    background-size: cover;
  }

  .bf-author {
    font-weight: bold;
    color: #333;
    display: block;
  }

  .bf-share-bar {
    margin-bottom: 20px;
    display: flex;
    gap: 10px;
  }

  .share-btn {
    padding: 5px 10px;
    border-radius: 3px;
    color: white;
    font-weight: bold;
    font-size: 12px;
    display: flex;
    align-items: center;
  }
  .share-fb { background-color: #3b5998; }
  .share-tw { background-color: #00aced; }
  .share-email { background-color: #888; }

  .bf-main-image {
    width: 100%;
    height: 350px;
    background-color: #f60;
    display: flex;
    align-items: center;
    justify-content: center;
    color: white;
    font-weight: bold;
    font-size: 24px;
    margin-bottom: 20px;
    text-align: center;
    border: 1px solid #ddd;
  }

  .bf-body p {
    font-family: 'Georgia', serif;
    font-size: 16px;
    line-height: 1.6;
    margin-bottom: 20px;
    color: #111;
  }

  .bf-body u {
    text-decoration: none;
    border-bottom: 2px solid #ee3322;
  }

  .bf-sidebar-header {
    background-color: #ee3322;
    color: white;
    padding: 5px 10px;
    font-weight: bold;
    text-transform: uppercase;
    font-size: 12px;
    margin-bottom: 10px;
  }

  .bf-sidebar-item {
    display: flex;
    margin-bottom: 15px;
    border-bottom: 1px dotted #ccc;
    padding-bottom: 10px;
  }

  .bf-sidebar-thumb {
    width: 80px;
    height: 60px;
    background-color: #eee;
    margin-right: 10px;
    flex-shrink: 0;
  }

  .bf-sidebar-title {
    font-size: 13px;
    font-weight: bold;
    color: #333;
    line-height: 1.3;
  }
  .bf-sidebar-title:hover { color: #ee3322; cursor: pointer; }

</style>

<div class="bf-wrapper">
  
  <div class="bf-container">
    
    <div class="bf-header">
      <div class="bf-logo">BuzzFeed <span style="color:#222; font-size: 16px; font-weight:normal;">Politics</span></div>
      <div class="bf-reactions">
        <div class="bf-badge badge-lol">LOL</div>
        <div class="bf-badge badge-win">WIN</div>
        <div class="bf-badge badge-omg">OMG</div>
        <div class="bf-badge badge-cute" style="background:#ddd;">CUTE</div>
        <div class="bf-badge badge-fail">FAIL</div>
        <div class="bf-badge badge-wtf">WTF</div>
      </div>
    </div>

    <div class="bf-content-area">
      
      <div class="bf-article">
        <h1 class="bf-headline">Nickelodeon Called It: How America Failed to Heed the Call of its Most Accurate Polling Agency</h1>
        <h2 class="bf-subhead">The kids are alright. And apparently, they're Republicans now.</h2>
        
        <div class="bf-meta">
          <div class="bf-avatar"></div>
          <div>
            <span class="bf-author">BuzzFeed Politics</span>
            <span>Posted November 7, 2012</span>
          </div>
        </div>

        <div class="bf-share-bar">
          <div class="share-btn share-fb">Share on Facebook</div>
          <div class="share-btn share-tw">Tweet</div>
          <div class="share-btn share-email">Email</div>
        </div>

        <div class="bf-main-image">
          <img src="https://i.insider.com/4d71576c49e2aeb369060000?width=800&format=jpeg&auto=webp" width=100%>
        </div>

        <div class="bf-body">
          <p>Much is being made of President-elect Jon Huntsman's victory. Everyone's got their two cents, it seems, between the countless doubters, with so many eggs on their face they're asking their fellow pundits if they want scrambled or over easy for breakfast, to the thousands upon thousands of conservatives across the nation, who are eagerly charting and mapping a path to a permanent Republican supermajority come as early as 2016. And while it seems everyone's got the answers, even those who couldn't have been more wrong, what none of them are reflecting on is the swing in Huntsman's favor from a crucial demographic: the young.</p>

          <p>As news agencies sweep the diners across America ready to jot down quotes for their postmortems on the 2012 campaign, seemingly nobody wants to acknowledge the 180° that has occurred among those below the voting age minimum. Of course, this would normally not get serious scrutiny or thought, since they A) didn't contribute to the ballot in November and B) because, well, this isn't an especially scientific study, if we're being completely forthright and can drop the bit for a second, but nonetheless, we're challenging that perception right here and right now, and we've got a study to cite that'll back up our claims.</p>

          <p>Ladies and gentlemen, we give you: <b><u>Nickelodeon's 'Kids Pick the President'</u></b>.</p>

          <p>Surely, those of us with tenured histories and experiences in American political discourse all know this valued and important straw-poll children across our great 50 states partake and participate in every four years? No? Well, stick with us anyway, maybe you'll learn something.</p>

          <p>With the exception of a miss in 2004, the 'Kids Pick the President' poll has accurately predicted the winner of every presidential election since 1988, and in 2008, it gave us something of a prophetic vision into the hardships President Barack Obama would face in his (as we now know, solitary) term. Despite a strong electoral and popular vote win nationally, the glowingly positive word of mouth, Obama only just barely carried himself over the finish line to pull ahead with 51%, against Arizona Senator John McCain's 49%.</p>

          <p>Those at the time easily brushed this off as evidence the poll was failing to detect the true enthusiasm for Obama and the Democratic Party ticket, and that maybe, and we are aghast to even repeat this libel, dear reader, but we must, that maybe the 'Kids Pick the President' poll wasn't an accurate and trustworthy source to gather information ahead of presidential elections.</p>

          <p>Oh, it hurt to even write that. We promise, we'll never give credence to such crackpot accusations again. But moving on, this was the general consensus...until on October 23 of this year, after the tabulation of over half a million votes, the poll would rock the world when it gave its result: Republican Jon Huntsman had garnered 63% of the vote against Democrat Barack Obama's comparatively meager 37%. Jaws dropped. This was no statistical dead heat, or even something that surely looked like some misguided tabulations here and there, this was a blowout against the candidate of the hip and 'with it.' A shock to the system, and the first of many warnings of what was to come for Obama heading into November.</p>

          <p>When even <i>The Huffington Post</i> was calling it an "earthquake" that had erupted across the political landscape and the Obama camp reportedly, and we are not joking, "flew into a panic" when they heard the news, you knew this was serious. And while others scoffed, citing polls from allegedly reputable agencies and outlets like Gallup (in their final poll, and we mean final, as <u>they've since announced they'll no longer poll general elections</u>) claiming Obama was just barely ahead of Huntsman by a single, lone percentage point (49% to 48% among likely voters, or, when pushing undecideds, 50% to 49%).</p>

          <p>For so long, we were fed story after story that the upcoming generation were burgeoning progressives-to-be, and the Republicans were going to face judgement day soon enough, be it through changing demographics, or just their politics being antithetical to the liberal philosophies the children of America were already adopting amongst themselves as the basic law of the land.</p>

          <p>Well, maybe next time, we'll pay closer attention when America's most trusted name in polling hands down the facts, whether we like it or not. Take notes. We expect 'Kids Pick the President' to be added to <i>FiveThirtyEight</i> immediately, Mr. Nate Silver.</p>
        </div>
      </div>

      <div class="bf-sidebar">
        <div class="bf-sidebar-header">MOST POPULAR</div>
        
        <div class="bf-sidebar-item">
          <div class="bf-sidebar-thumb" style="background-color:#fac;"></div>
          <div class="bf-sidebar-title">Anthony Bourdain Hangs Out With That Guy From “Malcolm In The Middle” We Forgot The Name Of</div>
        </div>

        <div class="bf-sidebar-item">
          <div class="bf-sidebar-thumb" style="background-color:#caf;"></div>
          <div class="bf-sidebar-title">Look At This Cute Face-Eating Leopard Do A Barrell Roll</div>
        </div>

        <div class="bf-sidebar-item">
          <div class="bf-sidebar-thumb" style="background-color:#ac1;"></div>
          <div class="bf-sidebar-title">Inside The World Of John Edwards' Instagram Commenters</div>
        </div>

        <div class="bf-sidebar-item">
          <div class="bf-sidebar-thumb" style="background-color:#fca;"></div>
          <div class="bf-sidebar-title">24 Reasons Why Pizza Is Better Than A Boyfriend</div>
        </div>

         <div class="bf-sidebar-header" style="background-color:#3b5998; margin-top:30px;">CONNECT</div>
         <div style="font-size:12px; color:#555;">Like us on Facebook for more news that matters (and cat GIFs).</div>

      </div>

    </div>
  </div>
</div>`
    },
	{
        id: "paul_twitter",
        condition: (ev) => ev < 269 && (window.opLast === "Paul" || window.opName === "Ron Paul"),
        image: "https://content.time.com/time/2010/time100_poll_walkup/paul_ron.jpg",
        html: `<style>
  .tw-wrapper {
    background-color: #f5f8fa;
    font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
    color: #292f33;
    font-size: 14px;
    line-height: 1.3;
  }

  .tw-container {
    max-width: 590px;
    margin: 10px auto;
    background-color: #fff;
    border: 1px solid #e1e8ed;
    border-radius: 6px;
  }

  .tw-header {
    background-color: #fff;
    padding: 15px;
    border-bottom: 1px solid #e1e8ed;
    border-radius: 6px 6px 0 0;
  }
  
  .tw-header h3 {
    margin: 0;
    font-size: 18px;
    font-weight: bold;
    color: #66757f;
  }

  .tweet {
    padding: 12px 15px;
    border-bottom: 1px solid #e1e8ed;
    display: flex;
    position: relative;
  }
  
  .tweet:hover {
    background-color: #f5f8fa;
    cursor: pointer;
  }

  .avatar-col {
    margin-right: 10px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .avatar {
    width: 48px;
    height: 48px;
    border-radius: 5px;
    background-size: cover;
    background-position: center;
    background-color: #ccc;
    flex-shrink: 0;
  }

  .thread-line {
    width: 2px;
    background-color: #ccd6dd;
    flex-grow: 1;
    margin-top: 5px;
    margin-bottom: -15px;
  }

  .content-col {
    flex-grow: 1;
  }

  .tweet-header {
    display: flex;
    align-items: baseline;
    margin-bottom: 2px;
    flex-wrap: wrap;
  }

  .fullname {
    font-weight: bold;
    color: #292f33;
    margin-right: 5px;
  }

  .verified-icon {
    width: 14px;
    height: 14px;
    margin-right: 5px;
    fill: #1da1f2;
    vertical-align: text-bottom;
  }

  .username {
    color: #8899a6;
    font-size: 13px;
    margin-right: 5px;
  }
  
  .timestamp {
    color: #8899a6;
    font-size: 13px;
  }
  .timestamp:before {
    content: "· ";
  }

  .tweet-text {
    font-size: 14px;
    color: #292f33;
    text-align: left;
    white-space: pre-wrap;
  }

  .tweet-text a {
    color: #1b95e0;
    text-decoration: none;
  }
  
  .tweet-text a:hover {
    text-decoration: underline;
  }

  .tweet-actions {
    display: flex;
    margin-top: 10px;
    max-width: 300px;
    justify-content: space-between;
  }

  .action {
    color: #8899a6;
    font-size: 12px;
    font-weight: bold;
    display: flex;
    align-items: center;
    gap: 5px;
  }

  .action i {
    font-style: normal;
    font-size: 16px;
  }

  .action:hover { color: #1b95e0; }
  .action.retweet:hover { color: #19cf86; }
  .action.like:hover { color: #e81c4f; }

  .view-replies {
    padding: 10px 15px;
    color: #1b95e0;
    font-size: 13px;
    border-bottom: 1px solid #e1e8ed;
  }
  .view-replies:hover {
    background-color: #f5f8fa;
    cursor: pointer;
    text-decoration: underline;
  }

  .av-cbs { background-image: url('https://file.garden/aNtAfG887DiA_7lO/2012LBM/cbs.jpg'); }
  .av-gop { background-image: url('https://file.garden/aNtAfG887DiA_7lO/2012LBM/mdrep.png'); }
  .av-kyle { background-image: url('https://file.garden/aNtAfG887DiA_7lO/2012LBM/sectalk.png'); }
  .av-hunter { background-image: url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSWkpE2UkPfjTqMPocSN5jmlr0sFNY8SqVvjA&s'); }
  .av-bre { background-image: url('https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSU15fJ-WRe0XsKmR3LB5uvi0rrv_RhJM5lvw&s'); }
  .av-bot { background-image: url('https://www.billboard.com/wp-content/uploads/stylus/1467669-ron-paul-617-409.jpg'); }
  .av-amanda { background-image: url('https://static.independent.co.uk/s3fs-public/thumbnails/image/2017/04/01/17/twitter-egg.jpg?width=1200'); }

</style>

<div class="tw-wrapper">
  <div class="tw-container">
    
    <div class="tw-header">
      <h3>Tweets</h3>
    </div>

    <div class="tweet">
      <div class="avatar-col">
        <div class="avatar av-cbs"></div>
      </div>
      <div class="content-col">
        <div class="tweet-header">
          <span class="fullname">CBS News</span>
          <svg class="verified-icon" viewBox="0 0 20 20"><path fill="#1d9bf0" d="M20.396 11a3.49 3.49 0 0 0-2.008-3.062 3.47 3.47 0 0 0-.742-3.584 3.47 3.47 0 0 0-3.584-.742A3.47 3.47 0 0 0 11 1.604a3.46 3.46 0 0 0-3.053 2.008 3.47 3.47 0 0 0-1.902-.14c-.635.13-1.22.436-1.69.882a3.46 3.46 0 0 0-.734 3.584A3.49 3.49 0 0 0 1.604 11a3.5 3.5 0 0 0 2.017 3.062 3.47 3.47 0 0 0 .733 3.584 3.49 3.49 0 0 0 3.584.742A3.49 3.49 0 0 0 11 20.396a3.48 3.48 0 0 0 3.062-2.007 3.335 3.335 0 0 0 4.326-4.327A3.49 3.49 0 0 0 20.396 11M9.662 14.85l-3.429-3.428 1.293-1.302 2.072 2.072 4.4-4.794 1.347 1.246z"/></svg>
          <span class="username">@CBSNews</span>
          <span class="timestamp">2h</span>
        </div>
        <div class="tweet-text">WATCH LIVE: Press Secretary Horton says President Paul to visit Cuba from March 20–22 with President Raúl Castro, part of plan to ease restrictions between them and US <a href="#">cbsnews.com/live</a></div>
        <div class="tweet-actions">
          <span class="action"><i>↩</i></span>
          <span class="action retweet"><i>⇄</i> 1.2K</span>
          <span class="action like"><i>♥</i> 2.4K</span>
          <span class="action"><i>...</i></span>
        </div>
      </div>
    </div>

    <div class="tweet">
      <div class="avatar-col">
        <div class="avatar av-gop"></div>
      </div>
      <div class="content-col">
        <div class="tweet-header">
          <span class="fullname">Republican Party of Miami-Dade County</span>
          <span class="username">@MiamiDadeGOP</span>
          <span class="timestamp">1h</span>
        </div>
        <div class="tweet-text">We urge Paul to reconsider and course correct immediately. Cuba is a dictatorship led by tyrants, we as a party should stand united to condemn them thusly <a href="#">@GOP</a> <a href="#">@FloridaGOP</a> <a href="#">@WhiteHouse</a></div>
        <div class="tweet-actions">
          <span class="action"><i>↩</i> 45</span>
          <span class="action retweet"><i>⇄</i> 890</span>
          <span class="action like"><i>♥</i> 3.1K</span>
          <span class="action"><i>...</i></span>
        </div>
      </div>
    </div>

    <div class="tweet">
      <div class="avatar-col">
        <div class="avatar av-kyle"></div>
        <div class="thread-line"></div>
      </div>
      <div class="content-col">
        <div class="tweet-header">
          <span class="fullname">Secular Talk</span>
          <svg class="verified-icon" viewBox="0 0 20 20"><path fill="#1d9bf0" d="M20.396 11a3.49 3.49 0 0 0-2.008-3.062 3.47 3.47 0 0 0-.742-3.584 3.47 3.47 0 0 0-3.584-.742A3.47 3.47 0 0 0 11 1.604a3.46 3.46 0 0 0-3.053 2.008 3.47 3.47 0 0 0-1.902-.14c-.635.13-1.22.436-1.69.882a3.46 3.46 0 0 0-.734 3.584A3.49 3.49 0 0 0 1.604 11a3.5 3.5 0 0 0 2.017 3.062 3.47 3.47 0 0 0 .733 3.584 3.49 3.49 0 0 0 3.584.742A3.49 3.49 0 0 0 11 20.396a3.48 3.48 0 0 0 3.062-2.007 3.335 3.335 0 0 0 4.326-4.327A3.49 3.49 0 0 0 20.396 11M9.662 14.85l-3.429-3.428 1.293-1.302 2.072 2.072 4.4-4.794 1.347 1.246z"/></svg>
          <span class="username">@KyleKulinski</span>
          <span class="timestamp">58m</span>
        </div>
        <div class="tweet-text">OK, hard to say I commend Paul but I do, but Fidel's quote earlier today warrants mention 'We don't need the empire to give us anything, especially with it led by a racist'</div>
        <div class="tweet-actions">
          <span class="action"><i>↩</i> 12</span>
          <span class="action retweet"><i>⇄</i> 44</span>
          <span class="action like"><i>♥</i> 128</span>
          <span class="action"><i>...</i></span>
        </div>
      </div>
    </div>

    <div class="tweet">
      <div class="avatar-col">
        <div class="avatar av-kyle"></div>
      </div>
      <div class="content-col">
        <div class="tweet-header">
          <span class="fullname">Secular Talk</span>
          <svg class="verified-icon" viewBox="0 0 20 20"><path fill="#1d9bf0" d="M20.396 11a3.49 3.49 0 0 0-2.008-3.062 3.47 3.47 0 0 0-.742-3.584 3.47 3.47 0 0 0-3.584-.742A3.47 3.47 0 0 0 11 1.604a3.46 3.46 0 0 0-3.053 2.008 3.47 3.47 0 0 0-1.902-.14c-.635.13-1.22.436-1.69.882a3.46 3.46 0 0 0-.734 3.584A3.49 3.49 0 0 0 1.604 11a3.5 3.5 0 0 0 2.017 3.062 3.47 3.47 0 0 0 .733 3.584 3.49 3.49 0 0 0 3.584.742A3.49 3.49 0 0 0 11 20.396a3.48 3.48 0 0 0 3.062-2.007 3.335 3.335 0 0 0 4.326-4.327A3.49 3.49 0 0 0 20.396 11M9.662 14.85l-3.429-3.428 1.293-1.302 2.072 2.072 4.4-4.794 1.347 1.246z"/></svg>
          <span class="username">@KyleKulinski</span>
          <span class="timestamp">55m</span>
        </div>
        <div class="tweet-text">For the record. Its also funny to add Paul will do this but still call Bernie a communist in the same breath as an insult <a href="#">#FeelTheBern</a></div>
        <div class="tweet-actions">
          <span class="action"><i>↩</i> 98</span>
          <span class="action retweet"><i>⇄</i> 210</span>
          <span class="action like"><i>♥</i> 1.5K</span>
          <span class="action"><i>...</i></span>
        </div>
      </div>
    </div>

    <div class="tweet">
      <div class="avatar-col">
        <div class="avatar av-hunter"></div>
      </div>
      <div class="content-col">
        <div class="tweet-header">
          <span class="fullname">Hunter Vice</span>
          <span class="username">@HunterMiamiVice</span>
          <span class="timestamp">45m</span>
        </div>
        <div class="tweet-text">My parents FLED from Cuba and I am utterly HORRIFIED to see what America is doing today <a href="#">@RonPaul</a> what an idiot <a href="#">@marcorubio</a> please primary this hick</div>
        <div class="tweet-actions">
          <span class="action"><i>↩</i> 3</span>
          <span class="action retweet"><i>⇄</i> 1</span>
          <span class="action like"><i>♥</i> 5</span>
          <span class="action"><i>...</i></span>
        </div>
      </div>
    </div>

    <div class="tweet">
      <div class="avatar-col">
        <div class="avatar av-bre"></div>
      </div>
      <div class="content-col">
        <div class="tweet-header">
          <span class="fullname">Bre Mendoza</span>
          <span class="username">@FLbmendoza</span>
          <span class="timestamp">40m</span>
        </div>
        <div class="tweet-text">well kiss my vote goodbye <a href="#">#Republicans</a> maybe i'll tick the box for Hillary after all???</div>
        <div class="tweet-actions">
          <span class="action"><i>↩</i></span>
          <span class="action retweet"><i>⇄</i></span>
          <span class="action like"><i>♥</i> 1</span>
          <span class="action"><i>...</i></span>
        </div>
      </div>
    </div>
    <div class="tweet">
      <div class="avatar-col">
        <div class="avatar av-bot"></div>
        <div class="thread-line"></div>
      </div>
      <div class="content-col">
        <div class="tweet-header">
          <span class="fullname">SmallBusinessOwners☆4☆Paul</span>
          <span class="username">@smll4paul</span>
          <span class="timestamp">12m</span>
        </div>
        <div class="tweet-text">Small Business Owners For Paul Watch Full: 👉 <a href="#">youtube.com/watch?v=PEngw5...</a> <a href="#">@RonPaul</a> <a href="#">#SmallBusinessForPaul</a> <a href="#">#Paul2016</a> <a href="#">#FourMoreYears</a></div>
        <div class="tweet-actions">
          <span class="action"><i>↩</i> 1</span>
          <span class="action retweet"><i>⇄</i></span>
          <span class="action like"><i>♥</i></span>
          <span class="action"><i>...</i></span>
        </div>
      </div>
    </div>

    <div class="tweet">
      <div class="avatar-col">
        <div class="avatar av-amanda"></div>
      </div>
      <div class="content-col">
        <div class="tweet-header">
          <span class="fullname">Amanda Hugankiss</span>
          <span class="username">@ahugankiss</span>
          <span class="timestamp">5m</span>
        </div>
        <div class="tweet-text"><a href="#">@smll4paul</a> <a href="#">@CBSNews</a> Is this a parody?</div>
        <div class="tweet-actions">
          <span class="action"><i>↩</i></span>
          <span class="action retweet"><i>⇄</i></span>
          <span class="action like"><i>♥</i></span>
          <span class="action"><i>...</i></span>
        </div>
      </div>
    </div>

    <div class="view-replies">
      View other replies
    </div>

  </div>
</div>`
	},
	{
        id: "santorum_totalvictory",
        condition: (ev) => ev < 269 && (window.opLast === "Santorum" || window.opName === "Rick Santorum"),
        image: "https://coalition.org.mk/wp-content/uploads/2012/01/RickSantorumSmiling1.jpg",
        html: `<link href="https://fonts.googleapis.com/css2?family=Arial:wght@400;700&family=Roboto:wght@300;400;700&display=swap" rel="stylesheet"><style>
  .afp-wrapper {
    background-color: #f0f0f0;
    font-family: 'Arial', sans-serif;
    color: #333;
    font-size: 14px;
    line-height: 1.5;
    border: 1px solid #ccc;
  }

  .afp-container {
    max-width: 800px;
    margin: 20px auto;
    background-color: #fff;
    padding: 30px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  }

  .afp-header {
    border-bottom: 2px solid #004595;
    margin-bottom: 20px;
    padding-bottom: 10px;
    display: flex;
    justify-content: space-between;
    align-items: flex-end;
  }

  .afp-logo {
    color: #004595;
    font-size: 32px;
    font-weight: 900;
    letter-spacing: -1px;
    line-height: 1;
  }

  .afp-timestamp {
    font-size: 11px;
    color: #888;
    text-transform: uppercase;
  }

  .afp-topic {
    color: #d60000;
    font-weight: bold;
    font-size: 12px;
    text-transform: uppercase;
    margin-bottom: 5px;
  }

  .afp-headline {
    font-family: 'Georgia', serif;
    font-size: 28px;
    font-weight: bold;
    line-height: 1.2;
    margin-bottom: 15px;
    color: #1a1a1a;
  }

  .afp-meta {
    font-size: 12px;
    color: #666;
    margin-bottom: 20px;
    border-top: 1px dotted #ccc;
    border-bottom: 1px dotted #ccc;
    padding: 10px 0;
  }
  
  .afp-meta span { margin-right: 15px; }
  .afp-author { font-weight: bold; color: #000; }

  .afp-image-container {
    margin-bottom: 20px;
    background-color: #eee;
    border: 1px solid #ddd;
  }

  .afp-image-placeholder {
    width: 100%;
    height: 300px;
    background-color: #333;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #fff;
    font-style: italic;
    text-align: center;
    padding: 20px;
    background-image: linear-gradient(rgba(0,0,0,0.15), rgba(0,0,0,0.25)), url('https://media.cnn.com/api/v1/images/stellar/prod/120105054631-nh-santorum-northfield-obamacare.jpg?q=x_401,y_119,h_692,w_1230,c_crop/w_1280');
    background-size: cover;
    background-position: top;
  }

  .afp-caption {
    font-size: 11px;
    color: #666;
    padding: 8px;
    border-top: 1px solid #ddd;
  }

  .afp-body p {
    margin-bottom: 15px;
    text-align: justify;
  }

  .afp-dateline {
    font-weight: bold;
    color: #333;
  }

  .quote-box {
    border-left: 4px solid #004595;
    padding-left: 15px;
    margin: 20px 0;
    font-style: italic;
    color: #444;
    font-family: 'Georgia', serif;
    font-size: 16px;
  }

</style>

<div class="afp-wrapper">
  <div class="afp-container">
    
    <div class="afp-header">
      <div class="afp-logo">AFP</div>
      <div class="afp-timestamp">May 12, 2014 - 14:32 EST</div>
    </div>

    <div class="afp-topic">US Politics / Middle East / Conflict</div>
    
    <h1 class="afp-headline">Santorum declares 'End of Tyranny' in Syria under controversial banner</h1>

    <div class="afp-meta">
      <span class="afp-author">By Michael Mathes</span>
      <span>Washington</span>
    </div>

    <div class="afp-image-container">
      <div class="afp-image-placeholder">
      </div>
      <div class="afp-caption">
        US President Rick Santorum talks to reporters aboard the USS Harry S. Truman in the Mediterranean Sea, May 12, 2014. (AFP Photo/Saul Loeb)
      </div>
    </div>

    <div class="afp-body">
      <p><span class="afp-dateline">ABOARD THE USS HARRY S. TRUMAN</span> — US President Rick Santorum declared an end to "major combat operations" in the Syrian theater today, standing beneath a banner reading "Mission Accomplished" that immediately drew comparisons to his predecessor George W. Bush’s infamous 2003 landing.</p>

      <p>"The Assad dynasty has fallen. The forces of atheism and oppression have been swept away by the righteous might of the American soldier," Santorum told a cheering crowd of sailors and marines, wearing a bomber jacket embroidered with the presidential seal. "We have secured a future of faith and freedom for the Syrian people."</p>

      <p>The staging of the speech, organized by the White House communications team, was intended to mark a definitive victory in the 14-month intervention that has seen 30,000 US ground troops deployed to topple Bashar al-Assad. However, the optics clashed sharply with reports emerging from the mainland.</p>

      <p>Even as the President spoke, wire services confirmed heavy fighting continues in Aleppo, where remnants of the Ba'athist guard have formed an uneasy alliance with Islamist insurgents. In Damascus, a car bomb detonated near the newly established US provisional authority headquarters just forty minutes before Santorum took the podium, killing twelve.</p>

      <div class="quote-box">
        "We went in to do God's work, and that work is finished," Santorum said. "Evil has been vanquished."
      </div>

      <p>Critics in Washington were quick to pounce on the prematurity of the declaration. Democratic leaders called the speech "delusional," noting that while Assad has fled to Tehran, the power vacuum is rapidly being filled by sectarian militias.</p>

      <p>"It is a photo op paid for in blood," said Democratic Leader Harry Reid. "President Santorum is declaring victory in the second inning of a game that could last a generation."</p>

      <p>The "Mission Accomplished" banner, visible in every camera shot, has already begun trending on social media, with many users juxtaposing the image with footage of the smoking crater in central Damascus. When asked about the banner, White House Press Secretary Hogan Gidley insisted it referred specifically to the removal of the Assad regime, not the end of all violence.</p>

      <p>Despite the criticism, the President appeared buoyant, shaking hands with pilots and reiterating his doctrine of "Moral Interventionism."</p>

      <p>"They said we couldn't do it. They said America was too weak, too afraid," Santorum said, his voice rising over the sound of the ocean wind. "But we showed them that when America walks with the Lord, no tyrant can stand against us."</p>
    </div>

  </div>
</div>`
	},
	{
        id: "perry_live",
        condition: (ev) => ev < 269 && (window.opLast === "Perry" || window.opName === "Rick Perry"),
        image: "https://s3-origin-images.politico.com/news/110913_rick_perry_finger_up_reut_605.jpg",
        html: `<style>
  .cnn-wrapper {
    background-color: #fff;
    font-family: Arial, Helvetica, sans-serif;
    border: 1px solid #ccc;
    color: #000;
  }

  .cnn-header {
    background-color: #cc0000;
    color: white;
    padding: 15px;
    border-bottom: 3px solid #000;
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .cnn-logo {
    font-family: Helvetica, sans-serif;
    font-weight: 900;
    font-size: 2em;
    letter-spacing: -2px;
    line-height: 1;
  }

  .show-title {
    font-family: 'Georgia', serif;
    font-size: 1.5em;
    font-style: italic;
  }

  .cnn-subheader {
    background-color: #000;
    color: #fff;
    padding: 5px 15px;
    font-size: 11px;
    text-transform: uppercase;
    font-weight: bold;
  }

  .cnn-ticker {
    background-color: #cc0000;
    color: #fff;
    padding: 8px 15px;
    font-size: 12px;
    font-weight: bold;
    border-bottom: 2px solid #990000;
    overflow: hidden;
  }

  .ticker-label {
    background-color: #fff;
    color: #cc0000;
    padding: 2px 8px;
    margin-right: 15px;
    font-weight: 900;
  }

  .transcript-container {
    padding: 20px 40px;
    font-family: 'Consolas', Courier, monospace;
    font-size: 14px;
    line-height: 1.6;
  }

  .speaker {
    font-weight: bold;
    color: #000;
  }

  .morgan { color: #cc0000; }
  .perry { color: #000080; }

  .action {
    font-style: italic;
    color: #555;
    background-color: #f0f0f0;
    padding: 2px 5px;
    display: inline;
  }

  .timestamp {
    color: #888;
    font-size: 0.8em;
    margin-bottom: 15px;
    display: block;
    border-bottom: 1px solid #ddd;
    padding-bottom: 10px;
  }
  
  .segment-break {
    color: #cc0000;
    font-weight: bold;
    text-transform: uppercase;
    margin: 25px 0;
    font-family: Arial, sans-serif;
    font-size: 1.1em;
    border-top: 2px solid #cc0000;
    border-bottom: 2px solid #cc0000;
    padding: 10px 0;
    text-align: center;
    background: linear-gradient(to right, #fff5f5, #fff, #fff5f5);
  }

  .lower-third {
    background: linear-gradient(to bottom, #cc0000, #990000);
    color: #fff;
    padding: 8px 15px;
    margin: 15px 0;
    font-family: Arial, sans-serif;
    font-size: 0.9em;
    border-left: 4px solid #ffcc00;
  }

  .lower-third-name {
    font-weight: bold;
    font-size: 1.1em;
  }

  .lower-third-title {
    font-size: 0.85em;
    opacity: 0.9;
  }

  .cnn-wrapper::-webkit-scrollbar { width: 8px; }
  .cnn-wrapper::-webkit-scrollbar-track { background: #f1f1f1; }
  .cnn-wrapper::-webkit-scrollbar-thumb { background: #cc0000; }

</style>

<div class="cnn-wrapper">
  
  <div class="cnn-header">
    <div class="cnn-logo"><img src="https://upload.wikimedia.org/wikipedia/commons/b/b1/CNN.svg" style="background: #fff; float: left;  padding: .2em .2em; border-radius: 5px; width: 20%;"></div>
    <div class="show-title">Piers Morgan Tonight</div>
  </div>
  
  <div class="cnn-subheader">
    Transcript: Aired December 12, 2012 — 21:00 ET
  </div>

  <div class="cnn-ticker">
    <span class="ticker-label">BREAKING</span>
    DOW CLOSES DOWN 412 POINTS AMID TRANSITION CONCERNS • THIRD SENIOR DOE OFFICIAL RESIGNS • WHITE HOUSE: "ORDERLY HANDOFF CONTINUES"
  </div>

  <div class="transcript-container">
    <span class="timestamp">THIS IS A RUSH TRANSCRIPT. THIS COPY MAY NOT BE IN ITS FINAL FORM AND MAY BE UPDATED.</span>

    <div class="segment-break">Transition in Crisis: The Nuclear Question</div>

    <p><span class="speaker morgan">PIERS MORGAN, HOST:</span> Good evening. Tonight, a CNN exclusive: my guest is the President-elect of the United States, Governor Rick Perry, joining us from Austin as questions mount about what his team knew, and when they knew it, about the department he once pledged to eliminate.</p>

    <p>Governor Perry, thank you for being here.</p>

    <div class="lower-third">
      <div class="lower-third-name">GOV. RICK PERRY (R-TX)</div>
      <div class="lower-third-title">President-Elect of the United States • Speaking from Austin</div>
    </div>

    <p><span class="speaker perry">GOV. RICK PERRY (R-TX), PRESIDENT-ELECT:</span> Piers, always good to talk to you. And let me just say right off the bat— the reports you're hearing, all the panic from the establishment, that's exactly what we expected. Washington doesn't like change, we're bringing change anyway.</p>

    <p><span class="speaker morgan">MORGAN:</span> Well, let's talk about the nature of that change. The outgoing Energy Secretary, Steven Chu, gave a rather extraordinary exit interview to the Washington Post this morning. He said — and I'm reading directly here— "The transition team seemed unaware that the Department of Energy's primary function is maintaining the nuclear weapons stockpile. Instead, they kept asking about gas prices."</p>

    <p><span class="speaker perry">PERRY:</span> <span class="action">(Chuckling)</span> Look, Secretary Chu is a fine man, a Nobel Prize winner, very smart. But he's been in that bubble for four years. Of course he's going to defend his department. That's human nature.</p>

    <p><span class="speaker morgan">MORGAN:</span> But is he wrong? Did your transition team understand that the Department of Energy manages the safety and security of America's nuclear arsenal?</p>

    <p><span class="speaker perry">PERRY:</span> We understand the department very well. We've been studying it. We have briefing books this thick. <span class="action">(Holds fingers approximately four inches apart)</span> Thick briefing books, I tell you.</p>

    <p><span class="speaker morgan">MORGAN:</span> Governor, you stood on a debate stage thirteen months ago and said you wanted to abolish three departments. Commerce, Education, and — famously — you couldn't remember the third. It was Energy, the department you're now set to oversee. Did you know then what it actually did?</p>

    <p><span class="speaker perry">PERRY:</span> <span class="action">(The smile tightens slightly)</span> Piers, I think we've—uh, the American people have moved past that moment. That was a long campaign. We all had our moments. The point is—</p>

    <p><span class="speaker morgan">MORGAN:</span> But that's precisely the point, isn't it? That wasn't just a gaffe. It now appears to have been a genuine gap in knowledge about what these agencies do. And three of your transition officials have now resigned in the last forty-eight hours, including your own transition chief.</p>

    <p><span class="speaker perry">PERRY:</span> Mike was—well, Mike had family considerations. That's a personal matter.</p>

    <p><span class="speaker morgan">MORGAN:</span> His resignation letter mentioned, quote, "fundamental disagreements about preparedness."</p>

    <p><span class="speaker perry">PERRY:</span> <span class="action">(Shifting in seat)</span> I haven't read the letter.</p>

    <p><span class="speaker morgan">MORGAN:</span> You haven't read your own transition chief's resignation letter?</p>

    <p><span class="speaker perry">PERRY:</span> I've been briefed on it. The point is, Piers, we have a plan. We have a very solid, comprehensive plan for the Department of Energy and for our nuclear security posture. I call I the three pillars.</p>

    <p><span class="speaker morgan">MORGAN:</span> Tell me about them.</p>

    <p><span class="speaker perry">PERRY:</span> Well, number one—and this is critical—we're going to secure the sites. The physical locations, uh, the labs, the facilities. We're making sure they're funded, that they're staffed with the right people. Professionals, yes.</p>

    <p><span class="speaker morgan">MORGAN:</span> That's current policy.</p>

    <p><span class="speaker perry">PERRY:</span> We're going to do it better. Number two, we're going to audit the entire budget. Top to bottom. Find the waste, just like I did it in Texas, I'll do it in Washington. We found—in Texas, we found billions in inefficiencies.</p>

    <p><span class="speaker morgan">MORGAN:</span> And the third pillar?</p>

    <p><span class="speaker perry">PERRY:</span> The third pillar is... <span class="action">(Pause. His eyes drift slightly upward, then back to camera)</span> ...the third component of this is the—the modernization piece.</p>

    <p><span class="speaker morgan">MORGAN:</span> Modernization of what specifically?</p>

    <p><span class="speaker perry">PERRY:</span> Of the... the stockpile. The—the infrastructure. The...</p>

    <p><span class="action">(A silence of approximately three seconds. Perry's jaw works slightly. He glances off-camera to his left.)</span></p>

    <p><span class="speaker morgan">MORGAN:</span> Governor?</p>

    <p><span class="speaker perry">PERRY:</span> I'm sorry, what was the question?</p>

    <p><span class="speaker morgan">MORGAN:</span> The third pillar of your nuclear security plan. You said there were three pillars. You mentioned securing sites and auditing the budget, okay. What is the third?</p>

    <p><span class="speaker perry">PERRY:</span> Right, the third one is... <span class="action">(He reaches for a glass of water, takes a long drink. His hand is not entirely steady.)</span> It's the personnel component. Getting the right people in place. The right—the right team.</p>

    <p><span class="speaker morgan">MORGAN:</span> That sounds rather like you're making this up as you go along, Governor.</p>

    <p><span class="speaker perry">PERRY:</span> <span class="action">(A flash of irritation crosses his face)</span> Now hold on, Piers. I've been governor of Texas for fourteen years. It's fourteenth largest economy in the world. We have nuclear facilities in Texas. I've dealt with—</p>

    <p><span class="speaker morgan">MORGAN:</span> Thirteenth.</p>

    <p><span class="speaker perry">PERRY:</span> What?</p>

    <p><span class="speaker morgan">MORGAN:</span> Texas is the thirteenth largest economy. You've said fourteenth in several interviews now. It's thirteenth, actually. Though I suppose if we're being imprecise about the details of one's portfolio, what's a few hundred billion between friends?</p>

    <p><span class="speaker perry">PERRY:</span> <span class="action">(Staring at the camera, the smile now completely gone)</span></p>

    <p><span class="speaker morgan">MORGAN:</span> Governor, I have to ask you directly: are you prepared for this job? Because the markets don't seem to think so. Your own team is abandoning ship before you've even taken office. And in the last five minutes, you've been unable to articulate a coherent policy on nuclear security... which is, I would remind you, perhaps the single most consequential responsibility of the presidency.</p>

    <p><span class="speaker perry">PERRY:</span> I am... <span class="action">(He stops, and swallows. The silence extends to four seconds, then five.)</span> I am absolutely prepared. We have tremendous people. Tremendous, really. And we're going to—we're going to get this right. The American people elected me to shake things up, and that's what we're doing.</p>

    <p><span class="speaker morgan">MORGAN:</span> They elected you but it was not as widely seen as the mandate you were looking for, given the elected members of your party. It's not exactly a ringing mandate for, as you put it, shaking things up with the nuclear arsenal.</p>

    <p><span class="speaker perry">PERRY:</span> <span class="action">(Very quietly, almost to himself)</span> ...oops.</p>

    <p><span class="speaker morgan">MORGAN:</span> I'm sorry, what was that?</p>

    <p><span class="speaker perry">PERRY:</span> <span class="action">(Louder now, with a strange, hollow laugh)</span> I said oops, Piers. Isn't that what y'all want me to say? Isn't that the—the clip you're looking for? Rick Perry says oops again? <span class="action">(He's leaning forward now, pointing at the camera)</span> You want your moment? Oh wow, there it is! Put it on the loop. Play it all goddamn night.</p>

    <p><span class="speaker morgan">MORGAN:</span> Governor, I'm simply asking whether you understand the responsibilities you're about to assume.</p>

    <p><span class="speaker perry">PERRY:</span> <span class="action">(Standing up suddenly, the microphone catching the rustle of his jacket)</span> This interview is over.</p>

    <p><span class="speaker morgan">MORGAN:</span> Governor Perry—</p>

    <p><span class="speaker perry">PERRY:</span> <span class="action">(Removing his earpiece, speaking to someone off-camera)</span> Get me out of this. Get me—is the feed still going? Cut it off, I don't wanna see that dipshit again.</p>

    <p><span class="speaker morgan">MORGAN:</span> We're live, Governor. Across the country and—</p>

    <p><span class="action">(The image freezes on Perry's face—mouth open, eyes wide, hand raised mid-gesture toward someone off-screen. Then the feed cuts to static, replaced by the CNN logo.)</span></p>

    <p><span class="speaker morgan">MORGAN:</span> <span class="action">(After a pause)</span> Well. We seem to have lost our connection with the President-elect. We'll try to restore that line, though I suspect Governor Perry may be otherwise occupied for the rest of the evening.</p>

    <p><span class="action">(A beat.)</span></p>

    <p><span class="speaker morgan">MORGAN:</span> When we come back: reaction from Washington. Just how much trouble is this transition really in? Stay with us.</p>

    <div class="segment-break">— Commercial Break —</div>
  </div>
</div>`
    },
	{
        id: "bachmann_netneutrality",
        condition: (ev) => ev < 269 && (window.opLast === "Bachmann" || window.opName === "Michele Bachmann"),
        image: "https://media-cldnry.s-nbcnews.com/image/upload/t_fit-760w,f_auto,q_auto:best/MSNBC/Components/Slideshows/_production/ss-110531-michelle-bachmann/ss-110531-michelle-bachmann-03.jpg",
        html: `<style>
  .blog-scroll-wrapper {
    background-color: #2c3e50;
    background-image: radial-gradient(#34495e 15%, transparent 16%), radial-gradient(#34495e 15%, transparent 16%);
    background-size: 20px 20px;
    background-position: 0 0, 10px 10px;
    font-family: 'Verdana', sans-serif;
    font-size: 13px;
    color: #333;
    position: relative;
  }
  .isp-warning {
    background-color: #c0392b;
    color: #fff;
    text-align: center;
    padding: 5px;
    font-weight: bold;
    font-size: 11px;
    border-bottom: 2px solid #a93226;
    position: sticky;
    top: 0;
    z-index: 100;
  }

  .blog-container {
    width: 90%;
    max-width: 800px;
    margin: 20px auto;
    background-color: #ecf0f1;
    border: 1px solid #bdc3c7;
    box-shadow: 0 0 10px rgba(0,0,0,0.5);
    display: flex;
    flex-wrap: wrap;
  }

  .blog-header {
    width: 100%;
    background-color: #e67e22;
    padding: 30px 20px;
    border-bottom: 5px solid #d35400;
  }

  .blog-title {
    font-family: 'Trebuchet MS', sans-serif;
    font-size: 32px;
    color: #fff;
    text-shadow: 2px 2px 0px #d35400;
    margin: 0;
  }
  
  .blog-subtitle {
    color: #fad7a0;
    font-style: italic;
    margin-top: 5px;
  }

  .blog-nav {
    width: 100%;
    background-color: #333;
    padding: 10px 20px;
  }
  .blog-nav a {
    color: #fff;
    text-decoration: none;
    margin-right: 20px;
    font-weight: bold;
    font-size: 12px;
    text-transform: uppercase;
  }
  .blog-nav a:hover { color: #e67e22; }

  .main-column {
    flex: 3;
    padding: 20px;
    background-color: #fff;
    min-width: 300px;
  }

  .post-date {
    color: #7f8c8d;
    font-size: 11px;
    margin-bottom: 5px;
  }

  .post-title {
    color: #e67e22;
    font-size: 22px;
    margin-bottom: 15px;
    font-family: 'Trebuchet MS', sans-serif;
    text-decoration: underline;
  }

  .post-body p {
    line-height: 1.6;
    margin-bottom: 15px;
  }

  .spoiler-box {
    background-color: #000;
    color: #000;
    padding: 10px;
    border: 1px dashed #e74c3c;
    margin: 10px 0;
    cursor: help;
  }
  .spoiler-box:hover {
    color: #fff;
  }
  .spoiler-warning {
    color: #e74c3c;
    font-weight: bold;
    display: block;
    margin-bottom: 5px;
    text-transform: uppercase;
  }

  .sidebar {
    flex: 1;
    background-color: #ecf0f1;
    padding: 20px;
    border-left: 1px solid #bdc3c7;
    min-width: 200px;
  }

  .widget {
    margin-bottom: 30px;
  }
  .widget-title {
    font-weight: bold;
    border-bottom: 2px solid #ccc;
    margin-bottom: 10px;
    color: #333;
  }
  .widget ul {
    list-style: none;
    padding: 0;
  }
  .widget li {
    padding: 5px 0;
    border-bottom: 1px dotted #ccc;
    font-size: 11px;
  }

  .profile-pic {
    width: 100px;
    height: 100px;
    background-color: #bdc3c7;
    margin-bottom: 10px;
    border: 3px solid #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-inline: auto;
    color: #7f8c8d;
    font-size: 40px;
  }

  .fcc-badge {
    border: 2px solid #2c3e50;
    padding: 10px;
    text-align: center;
    font-size: 10px;
    font-weight: bold;
    background: #fff;
  }

  .blog-footer {
    width: 100%;
    background-color: #2c3e50;
    color: #ecf0f1;
    text-align: center;
    padding: 20px;
    font-size: 11px;
  }
</style>

<div class="blog-scroll-wrapper">
  
  <div class="isp-warning">
    ⚠️ DATA USAGE ALERT: You have used 92% of your monthly allotment. Overages are billed at $20/hour.
  </div>

  <div class="blog-container">
    
    <header class="blog-header">
      <h1 class="blog-title">Media-Fighter</h1>
      <div class="blog-subtitle">pop culture reviews, anime, and freedom!! (est. 2011)</div>
    </header>

    <nav class="blog-nav">
      <a href="#">Home</a>
      <a href="#">Reviews</a>
      <a href="#">Anime</a>
      <a href="#">Forum</a>
      <a href="#">Contact</a>
    </nav>

    <div class="main-column">
      <div class="post-date">Monday, October 21st, 2013</div>
      <h2 class="post-title">How Breaking Bad took a stand against ideologies and won</h2>
      
      <div class="post-body">
        <p>Heya there guys!!!!! It's Media-Fighter back at it again with another series review!!!! :D</p>

        <p>im assuming you've alredy read the title of this super cool blog post, so you already know im gonna be talking about Breaking Bad!!!!</p>

        <p>the finale aired a while ago and WOW!!! i am equal parts ASTONISHED and SAD that this series is ending! T~T</p>

        <p>now, i am aware a lot of people haven't been able to watch the finale yet due to a lot of networks not broadcasting it (oh well, they don't broadcast anything worth watching aside from presidential speeches nowadays anyway LoL xD), so im gonna take EXTRA care to mark any spoilers in the review!</p>

        <p>starting off, aaron paul’s and bryan cranston’s acting is still top notch. you could really feel the pain in walter’s eyes as he readied up his gun to…</p>

        <div class="spoiler-box">
          <span class="spoiler-warning">SPOILER ALERT!!! (Hover to Read)</span>
          … take his own life. it felt like a really, really, impactful way to symbolize walt being unable to fight jack’s gang and definitively lose his grip on the meth empire he built over the years.
        </div>

        <p>i know some fans think the ending is underwhelming (like my brother and father who are currently home from their new redeployment in pakistan)</p>

        <p>whilst i don't agree, i think these people will be interested to know that vince actually had a different ending in mind! :0</p>

        <p>in a leaked email, in the first draft of the finale walt was supposedly meant to take on jack’s gang out with himself, but the network apparently decided against it to maintain a non-partisan, non-political view of the whole thing. i think this is a good thing!!! tv shows and cinemas shouldn't cram their agendas down our throats, and, despite how much certain people LOOOOVE to whine about this, it's good to see how vince and the crew took a stand against this. bravo!</p>

        <p>im about to hit my internet rate limit, so to avoid my pesky ISP taxing me 20 an hour, im gonna split up my review in multiple parts. i wish using the internet was still free, but regardless ill see you tomorrow for part two!!!!! xD</p>
      </div>
      
      <div style="margin-top: 30px; border-top: 1px solid #ccc; padding-top: 10px; font-size: 11px;">
        Posted by <b>MediaFighter99</b> at 4:12 PM | Labels: <a href="#">TV</a>, <a href="#">Breaking Bad</a>, <a href="#">No Politics</a>
      </div>

    </div>

    <div class="sidebar">
      
      <div class="widget">
        <div class="profile-pic"><img src="https://i.pinimg.com/736x/cd/6b/a7/cd6ba78e6bc1d06a1a95d8ac2d11f710.jpg" width=100%></div>
        <div style="font-size: 12px; font-weight: bold;">Media-Fighter</div>
        <div style="font-size: 11px;">name's gavin but DONT!! call me that. just call me MF. yeah. mr. MF.</div>
      </div>

      <div class="widget">
        <div class="widget-title">Archive</div>
        <ul>
          <li><a href="#">October 2013 (8)</a></li>
          <li><a href="#">September 2013 (19)</a></li>
          <li><a href="#">August 2013 (25)</a></li>
          <li><a href="#">July 2013 (42)</a></li>
        </ul>
      </div>

      <div class="widget">
        <div class="fcc-badge">
          <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/8/8a/Seal_of_the_United_States_Department_of_Homeland_Security.svg/120px-Seal_of_the_United_States_Department_of_Homeland_Security.svg.png"><br>
          This website is monitored for compliance with the 2013 Decency Act.
        </div>
      </div>

    </div>

  </div>

  <footer class="blog-footer">
    Powered by Blogger | Theme by Media-Fighter<br>
    Copyright (c) 2013
  </footer>

</div>`
	}
];

// main ending picker function
endingPicker = (out, totv, aa, quickstats) => {
    console.log("Preparing ending data...");
    
    // reset contingent mode when starting a new ending picker
    contingentMode = false;
    campaignTrail_temp.pages = [];
    campaignTrail_temp.header = "";
    campaignTrail_temp.executable = [];
    campaignTrail_temp.page = 0;
    campaignTrail_temp.image = false;

    // check contingent override
    if (typeof CONTINGENT !== 'undefined' && CONTINGENT > 0) {
        endingPickerCONT();
        return "";
    }

    const playerEV = quickstats[0];
    const playerCandidateId = campaignTrail_temp.candidate_id;
    const answers = campaignTrail_temp.player_answers;
    
    // sort by electoral votes to ensure we handle any number of candidates correctly
    const sortedResults = [...aa].sort((a, b) => b.electoral_votes - a.electoral_votes);
    
    // find the player's position in the sorted results
    const playerIndex = sortedResults.findIndex(result => result.candidate === playerCandidateId);
    
    // get opponent EVs (that is, the candidate with most EVs who isn't the player)
    let opponentEVs = 0;
    let otherOpponentEVs = 0;
    
    if (playerIndex === 0) {
        // player is winning, get second and third place
        opponentEVs = sortedResults.length > 1 ? sortedResults[1].electoral_votes : 0;
        otherOpponentEVs = sortedResults.length > 2 ? sortedResults[2].electoral_votes : 0;
    } else {
        // player isn't winning, get first place and third place (or second non-player)
        opponentEVs = sortedResults[0].electoral_votes;
        
        // find the next highest candidate who isn't the player
        for (let i = 1; i < sortedResults.length; i++) {
            if (sortedResults[i].candidate !== playerCandidateId) {
                otherOpponentEVs = sortedResults[i].electoral_votes;
                break;
            }
        }
    }
	
	// for the achievements
	if (out === "win") {
		unlockAchievement("Life After Death");
		if (playerEV >= 365) unlockAchievement("Space Cowboy");
		//if (campaignTrail_temp.player_answers.includes(5184)) unlockAchievement("If I Was Your Girlfriend");
		//if (campaignTrail_temp.player_answers.includes(20988)) unlockAchievement("I Could Never Take The Place of Your Man");
		
		if (opLast == "Romney") unlockAchievement("The Pleasure Principle");
		if (opLast == "Santorum") unlockAchievement("Advertising Space");
		if (opLast == "Gingrich") unlockAchievement("Goodbye Stranger");
		if (opLast == "Huntsman") unlockAchievement("The Element of Surprise");
		if (opLast == "Perry") unlockAchievement("Uncommon Man");
		if (opLast == "Paul") unlockAchievement("License To Kill");
		if (opLast == "Bachmann") unlockAchievement("Strays of the World");
		
		if (campaignTrail_temp.running_mate_id == 30) unlockAchievement("Blasphemous Rumors");
		if (campaignTrail_temp.running_mate_id == 34) unlockAchievement("Modern Chemistry");
		if (campaignTrail_temp.running_mate_id == 35) unlockAchievement("Shockadelica");
		if (campaignTrail_temp.running_mate_id == 36) unlockAchievement("Imaginary Friend");
		if (campaignTrail_temp.running_mate_id == 37) unlockAchievement("In My Secret Life");
		if (campaignTrail_temp.running_mate_id == 38) unlockAchievement("From Here On Out");
		if (campaignTrail_temp.running_mate_id == 39) unlockAchievement("Something In The Way");
		if (campaignTrail_temp.running_mate_id == 40) unlockAchievement("Reasons To Be Beautiful");
		
		if (window.wasntme >= 1) unlockAchievement("Press Play");		
		if (window.lunarbears >= 4) unlockAchievement("I've Been Waiting For You");
		if (window.mynutmegphantasy >= 1) unlockAchievement("Somebody's Somebody");
		if (window.heyheyhey >= 1) unlockAchievement("An Easier Affair");
		if (window.heyheyhey < 1 && window.mynutmegphantasy <= -1) unlockAchievement("Love On The Rocks");
		if (floor13 == false) unlockAchievement("Drowned World");
		if (campaignTrail_temp.difficulty_level_multiplier == 0.93) unlockAchievement("Pour It Up");
		if (campaignTrail_temp.difficulty_level_multiplier == 0.915) unlockAchievement("Devil's Advocate");
		//if (campaignTrail_temp.final_state_results[42]["result"][0]["candidate"] == 201) unlockAchievement("Saturday Nighter");
		
	} else if (out === "loss") {
		unlockAchievement("Burning Sun");
	}
	
	if (playerEV < 270 && opponentEVs < 270) {
		unlockAchievement("Strange Time To Be Alive");
	}
	
	// completionist achievement
	const allKeys = Object.keys(campaignTrail_temp.achievements);

	// check if every achievement in the game (except "Soul Free" itself, duh) 
	// exists in the player's unlockedAchievements object
	const hasAll = allKeys.every(key => key === "Soul Free" || unlockedAchievements[key]);
	if (hasAll) {
		unlockAchievement("Soul Free");
	}

    // define scores with a neutral starting point
	let scores = {
		progressiveScore: 0,
		wallStreetScore: 0,
		bipartisanScore: 0,
		hawkScore: 0,
	};
	
	const answerSet = new Set(answers);

    // define which answers give which points
    const scoringRules = {
        progressiveScore: [
            { val: 3,  ids: [274] },
            { val: 2,  ids: [57, 121, 168, 172, 242, 245, 296] },
            { val: 1,  ids: [216, 182, 228, 292, 729] },
            { val: -2, ids: [123, 60, 293] }
        ],
        wallStreetScore: [
            { val: 2,  ids: [100, 240, 290, 300] },
            { val: 1,  ids: [99, 189, 241] },
            { val: -1, ids: [97] },
            { val: -2, ids: [297, 292] },
            { val: -3, ids: [242] }
        ],
        hawkScore: [
            { val: 2,  ids: [84, 116, 243, 307] },
            { val: 1,  ids: [4, 76, 115, 287, 395] },
            { val: -2, ids: [81, 113, 245, 308, 398, 286] }
        ],
        bipartisanScore: [
            { val: 3,  ids: [728] },
            { val: 2,  ids: [227] },
            { val: 1,  ids: [51, 86, 98, 158, 331, 727] },
            { val: -2, ids: [332, 726, 1713] }
        ]
    };

    // iterate through the rules and apply to scores
    for (const [category, rules] of Object.entries(scoringRules)) {
        for (const rule of rules) {
            for (const id of rule.ids) {
                if (answerSet.has(id)) {
                    scores[category] += rule.val;
                }
            }
        }
    }
	
	try {
	  checkAndApplyUnlocks(playerEV, campaignTrail_temp.running_mate_id);
	} catch (err) {
	  console.warn('Unlock check failed:', err);
	}
    
    // select main ending (slide 0)
    const selectedScenario = mainEndings.find(ending => ending.condition(playerEV, opponentEVs));

    if (!selectedScenario) {
        console.error("No ending scenario matched.");
        return "";
    }
	
	// get the raw content
    let pageContent = selectedScenario.html;
    
    // if it's a function (like in contingent_tie), execute it with the calculated stats
    if (typeof pageContent === 'function') {
        // pass the calculated playerEV, opponentEVs, and the global opLast here
        pageContent = pageContent(playerEV, opponentEVs, window.opLast || "Opponent");
    }
    // push the result string
    campaignTrail_temp.pages.push(pageContent);
    
    // push main image
    campaignTrail_temp.executable.push([0, () => { 
        campaignTrail_temp.image = selectedScenario.image;
        if(typeof setImage === 'function') setImage(campaignTrail_temp.image);
    }]);

    // handle tie/contingent    
    if (selectedScenario.isContingent) {
        // special logic for the tie
        campaignTrail_temp.executable.push([0, () => {
            const likA = Math.min(4, Math.max(0, Math.round(playerEV / 270 * 4)));
            const likB = Math.min(4, Math.max(0, Math.round((playerEV - 200) / 70 * 2)));
            const likC = Math.min(4, Math.max(0, Math.round((300 - opponentEVs) / 100 * 2)));
            addContingent(likA, likB, likC);
        }]);
        
        // return early to skip other slides (e.g. Congress/Cabinet/bonus slides, etc)
        finalizeRendering(); 
        return "";
    }

    // inject standard slides (1+)    
    // slide 1: CONGRESS
    generateAndPushCongressSlide();

    // slide 2: CABINET
    // determine victory type for cabinet generation
    const isWin = playerEV >= 270;
    const cabinetHTML = generateCabinetTimeline(isWin ? 'win' : 'loss', playerEV, campaignTrail_temp.running_mate_id, scores);
    
    campaignTrail_temp.pages.push(cabinetHTML);
    campaignTrail_temp.executable.push([2, () => { 
        campaignTrail_temp.image = 'https://file.garden/aNtAfG887DiA_7lO/2012LBM/whitehouse.jpg';
        setImage(campaignTrail_temp.image); 
    }]);

    // select bonus slides (3+)    
    // filter matching bonus slides
    const activeBonusSlides = bonusSlides.filter(slide => slide.condition(playerEV, opponentEVs));

    // calculate the starting index for bonus slides (0=Main, 1=Congress, 2=Cabinet, so 3 is next)
    let slideIndex = 3; 

    activeBonusSlides.forEach(slide => {
        campaignTrail_temp.pages.push(slide.html);
        
        // we need to capture the current slideIndex in the closure
        const currentIdx = slideIndex; 
        
        campaignTrail_temp.executable.push([currentIdx, () => { 
            campaignTrail_temp.image = slide.image;
            // ensure setImage is called if the user navigates here
            if(typeof setImage === 'function') setImage(campaignTrail_temp.image);
        }]);
        
        slideIndex++;
    });

    // render.
    finalizeRendering();
    return "";
};

// helper to handle the observer logic
function finalizeRendering() {
    if (endingObserver) {
        endingObserver.disconnect();
        endingObserver = null;
    }

    if (attemptRenderEnding()) {
        return;
    }

    const targetNode = document.getElementById('game_screen') || document.getElementById('main_content') || document.body;
    const config = { childList: true, subtree: true };

    endingObserver = new MutationObserver((mutationsList, observer) => {
        for(const mutation of mutationsList) {
            if (mutation.type === 'childList') {
                if (attemptRenderEnding()) {
                    break;
                }
            }
        }
    });

    endingObserver.observe(targetNode, config);
}

// Candidate variables 
// see: https://www.reddit.com/r/thecampaigntrail/comments/1kqpl9o/nct_and_cts_update_variables_in/
window.opLast = "Romney";
window.opName = "Mitt Romney";
window.vpName = "Paul Ryan";

// variables for the Campaign Data menu
let opponentIsLocked = false;
let finalOpponent = null;
let observerRunning = false;

const REPUBLICAN_CANDIDATE_ID = 17;

// data for the mecha-switcheroo
let _switcherooData = null;
let _baselineRepublicanData = null; // store original data for resetting
let _baselineStored = false;

const BALANCE_SETTINGS = {
    // 1.0 = 100% of the nominee's buff is applied. 
    // 0.7 = only 70% of the buff is applied
    GLOBAL_POWER_DAMPER: 0.85, 

    // maximum allowed multiplier (e.g., 1.15 = +15% boost max)
    MAX_MULTIPLIER_CEILING: 1.12,
    
    // minimum allowed multiplier (e.g., 0.85 = -15% penalty max)
    MIN_MULTIPLIER_FLOOR: 0.88,

    // if true playing on Hard/Impossible reduces the nominee's positive buffs
    SCALE_WITH_DIFFICULTY: true 
};

// define regions to easily build coalitions
const REGIONS = {
    "Deep South": ["AL", "MS", "LA", "SC", "GA"],
    "Appalachia": ["WV", "KY", "TN", "AR"],
    "Rust Belt": ["OH", "PA", "MI", "WI"],
    "Sun Belt": ["FL", "AZ", "NV", "NM", "TX"],
    "Northeast": ["ME", "NH", "VT", "MA", "CT", "RI", "NY", "NJ", "DE", "MD", "DC"],
    "West Coast": ["CA", "OR", "WA", "HI"],
    "Mountain West": ["ID", "MT", "WY", "UT", "CO", "AK"],
    "Plains": ["ND", "SD", "NE", "KS", "OK"],
    "Midwest": ["MN", "IA", "MO", "IL", "IN"]
};

function precomputeSwitcherooData() {
    if (_switcherooData) return; // this setup only needs to run once

    const e = campaignTrail_temp;
    const stateInfoMap = new Map(e.states_json.map(s => [s.pk, { abbr: s.fields.abbr, name: s.fields.name }]));

    _switcherooData = {
        candidateMap: new Map(e.candidate_json.map(c => [c.pk, c.fields])),
        issueScoreMap: new Map(e.candidate_issue_score_json.map(s => [`${s.fields.candidate}_${s.fields.issue}`, s.fields])),
        stateNameToMultiplierMap: new Map()
    };

    for (const multiplier of e.candidate_state_multiplier_json) {
        const stateInfo = stateInfoMap.get(multiplier.fields.state);
        if (stateInfo) {
            const candId = multiplier.fields.candidate;
            _switcherooData.stateNameToMultiplierMap.set(`${candId}_${stateInfo.abbr.toUpperCase()}`, multiplier.fields);
            _switcherooData.stateNameToMultiplierMap.set(`${candId}_${stateInfo.name.toUpperCase()}`, multiplier.fields);
        }
    }
}

function storeBaselineRepublicanData() {
    if (_baselineStored) return;
    precomputeSwitcherooData();

    _baselineRepublicanData = {
        issueScores: {},
        stateMultipliers: {}
    };

    // store baseline issue scores for the Republican candidate
    for (const score of campaignTrail_temp.candidate_issue_score_json) {
        if (score.fields.candidate === REPUBLICAN_CANDIDATE_ID) {
            _baselineRepublicanData.issueScores[score.fields.issue] = score.fields.issue_score;
        }
    }
    
    // store baseline state multipliers
    const stateEntries = Array.from(_switcherooData.stateNameToMultiplierMap.entries());
    for (const [key, value] of stateEntries) {
        if (key.startsWith(`${REPUBLICAN_CANDIDATE_ID}_`)) {
            // use the state abbreviation as the key for simplicity
            const stateAbbr = key.split('_')[1];
            _baselineRepublicanData.stateMultipliers[stateAbbr] = value.state_multiplier;
        }
    }

    _baselineStored = true;
    //console.log("Baseline data for Republican nominee stored.");
}

function applySwitcheroo(config) {
    precomputeSwitcherooData();

    const { candidateId, issueScores, stateMultipliers, regionalMultipliers } = config;
	const isThirdParty = (candidateId === 18 || candidateId === 19 || config.forceThirdPartyMode);

    // update issue scores
    if (issueScores) {
        for (const [issueId, scoreValue] of Object.entries(issueScores)) {
            const key = `${candidateId}_${issueId}`;
            const score = _switcherooData.issueScoreMap.get(key);
            if (score) {
				score.issue_score = Math.max(-1.0, Math.min(1.0, scoreValue));
            }
        }
    }

    // prepare target multipliers
    let targets = {};

    // apply regional multipliers first
    if (regionalMultipliers) {
        for (const [regionName, mult] of Object.entries(regionalMultipliers)) {
            const states = REGIONS[regionName];
            if (states) {
                states.forEach(abbr => {
                    targets[abbr] = mult;
                });
            }
        }
    }

    // apply specific state multipliers
    if (stateMultipliers) {
        Object.assign(targets, stateMultipliers);
    }

    // apply to game data
	if (Object.keys(targets).length > 0) {
        let difficultyFactor = campaignTrail_temp.difficulty_level_multiplier || 0.97;
        
        if (!BALANCE_SETTINGS.SCALE_WITH_DIFFICULTY) {
            difficultyFactor = 0.97;
        }

        for (const [stateKey, targetMultiplier] of Object.entries(targets)) {
            const mapKey = `${candidateId}_${stateKey.toUpperCase()}`;
            const stateMultiplierField = _switcherooData.stateNameToMultiplierMap.get(mapKey);
			
			if (stateMultiplierField) {
                if (isThirdParty) {
                    stateMultiplierField.state_multiplier = targetMultiplier;
                } else {
                    let delta = targetMultiplier - 1.0;
                    delta = delta * BALANCE_SETTINGS.GLOBAL_POWER_DAMPER;
                    delta = delta * difficultyFactor;
                    let finalMultiplier = 1.0 + delta;

                    // if the target deviation is significantly outside the clamping range,
                    // ignore the clamps
                    const isExtremeShift = (targetMultiplier < BALANCE_SETTINGS.MIN_MULTIPLIER_FLOOR || targetMultiplier > BALANCE_SETTINGS.MAX_MULTIPLIER_CEILING);

                    if (!isExtremeShift) {
                        finalMultiplier = Math.max(
                            BALANCE_SETTINGS.MIN_MULTIPLIER_FLOOR, 
                            Math.min(BALANCE_SETTINGS.MAX_MULTIPLIER_CEILING, finalMultiplier)
                        );
                    } else {
                        // apply simpler damping for extreme shifts so they aren't totally removed but aren't clamped
                    }

                    stateMultiplierField.state_multiplier = finalMultiplier;
                }
            }
        }
    }
}

// data for each potential Republican nominee's shifts from the Romney baseline
// each nominee's profile adjusts their issue scores and state-level support multipliers
// to reflect their strengths and weaknesses compared to the default
const NOMINEE_MODIFICATIONS = {
    "Newt Gingrich": {
        regionMultipliers: {
            "Deep South": 1.065,
            "Appalachia": 1.032,
            "Rust Belt": 0.988,
            "Northeast": 0.943,
            "West Coast": 0.954,
            "Mountain West": 0.934
        },
        stateMultipliers: { 
            "GA": 1.09,
            "FL": 1.00,
			"DC": 0.27
        }
    },
    "Rick Santorum": {
        regionMultipliers: {
            "Rust Belt": 1.03,
            "Appalachia": 1.04,
            "Plains": 1.02,
            "Midwest": 1.03,
            "Northeast": 0.96,
            "West Coast": 0.95
        },
        stateMultipliers: { 
            "PA": 1.05,
            "IA": 1.035,
            "NJ": 1.01,
            "NH": 0.96,
			"DC": 0.15
        }
    },
    "Jon Huntsman": {
        regionMultipliers: {
            "Northeast": 1.020,
            "West Coast": 1.021,
            "Midwest": 1.010,
            "Mountain West": 1.053,
            "Deep South": 0.96,
            "Appalachia": 0.95
        },
        stateMultipliers: { 
            "UT": 1.30,
            "ID": 1.15,
            "NH": 1.025, 
            "SC": 0.98,
			"DC": 0.30
        }
    },
    "Ron Paul": {
        regionMultipliers: {
            "Mountain West": 1.085,
            "Plains": 1.065,
            "Northeast": 0.98,
            "Deep South": 0.928
        },
        stateMultipliers: { 
            "TX": 1.03, 
            "NH": 1.06,
            "AK": 1.15,
			"DC": 0.20
        }
    },
    "Rick Perry": {
        regionMultipliers: {
            "Sun Belt": 1.028,
            "Deep South": 1.035,
            "Appalachia": 1.032,
            "Northeast": 0.922,
            "West Coast": 0.921
        },
        stateMultipliers: { 
            "TX": 1.12,
            "OK": 1.05,
            "IA": 0.98,
            "NH": 0.95,
			"DC": 0.17
        }
    },
    "Michele Bachmann": {
        regionMultipliers: {
            "Midwest": 1.038,
            "Plains": 1.043,
            "Northeast": 0.934,
            "West Coast": 0.932
        },
        stateMultipliers: { 
            "MN": 1.06,
            "IA": 1.04,
            "VA": 0.96,
			"DC": 0.13
        }
    }
};

// This function determines the opponent(s) and changes the variables to reflect it
// it also applies the dynamic shifts to the nominee's profile
function setOpponent() {
    // ensure baseline data is stored before making any changes
    storeBaselineRepublicanData();

    // reset the Republican candidate ID
    // this prevents modifications from stacking if the opponent changes
    applySwitcheroo({
        candidateId: REPUBLICAN_CANDIDATE_ID,
        issueScores: _baselineRepublicanData.issueScores,
        stateMultipliers: _baselineRepublicanData.stateMultipliers
    });

    // determine the nominee based on game scores
    const nominee = getRepublicanOpponent(window.liberalismScore, window.confrontationScore);
    const vp = getRepublicanVP(nominee, window.liberalismScore, window.confrontationScore);

    window.opName = nominee;
    window.vpName = vp;
    
    // if the nominee is not the default, apply their specific modifications
    if (NOMINEE_MODIFICATIONS[nominee]) {
        console.log(`Applying modifications for nominee: ${nominee}`);
        applySwitcheroo({
            candidateId: REPUBLICAN_CANDIDATE_ID,
            ...NOMINEE_MODIFICATIONS[nominee]
        });
    } else {
        console.log(`No modifications applied.`);
    }

    try {
        const nameParts = nominee.split(' ');
        const lastName = nameParts.pop();
        const firstName = nameParts.join(' ');

        // update the candidate's name in the game's data structure
        campaignTrail_temp.candidate_json[1].fields.first_name = firstName;
        campaignTrail_temp.candidate_json[1].fields.last_name = lastName;
        
        window.opLast = lastName;
		
		// update the text for questions/answers based on the opLast value
        updateOpponentQuestions(); 

        console.log("Opponent set and game data updated: " + window.opName + " / " + window.vpName);

    } catch (e) {
        console.error("Error updating campaignTrail_temp.candidate_json:", e);
        window.opLast = "Romney"; 
    }
}

// same as above, but for the third parties
// ideally should be merged one day (?), but we're keeping
// this separate for the time being
const RIGHT_CANDIDATE_ID = 18;
const LEFT_CANDIDATE_ID = 19;

const THIRD_PARTY_MODIFICATIONS = {
    "Jon Voight": {
        candidateId: RIGHT_CANDIDATE_ID,
		color: "#8B0000",
        issueScores: { 1: -0.9, 3: -0.7, 5: 0.8 },
        stateMultipliers: {
            "AZ": 0.06, "TX": 0.05, "OK": 0.06, "ID": 0.06, 
            "MS": 0.05, "AL": 0.05
        }
    },
    "Jesse Ventura": {
        candidateId: RIGHT_CANDIDATE_ID,
		color: "#008080",
        issueScores: { 3: 0.6, 5: -0.6 },
        stateMultipliers: { 
            "MN": 0.35,
            "NH": 0.08, "ME": 0.06, "CO": 0.06, "AK": 0.08, "NM": 0.06
        }
    },
    "Virgil Goode": {
        candidateId: RIGHT_CANDIDATE_ID,
		color: "#A020F0",
        issueScores: { 3: -0.95, 4: -0.8 },
        stateMultipliers: { 
            "VA": 0.08, 
            "NC": 0.05, "SC": 0.05, "AL": 0.06, "MS": 0.06, "TN": 0.05
        }
    },
    "Clint Eastwood": {
        candidateId: RIGHT_CANDIDATE_ID,
		color: "#708090",
        issueScores: { 1: -0.3 },
        stateMultipliers: { 
            "CA": 0.06, "ID": 0.06, "WY": 0.07, "MT": 0.07, "NV": 0.05
        }
    },

    "Roseanne Barr": {
        candidateId: LEFT_CANDIDATE_ID,
		color: "#FF4500",
        issueScores: { 1: 0.8, 5: -0.8 },
        stateMultipliers: {
            "HI": 0.08, 
            "CA": 0.05,
            "UT": 0.04 
        }
    },
    "Susan Sarandon": {
        candidateId: LEFT_CANDIDATE_ID,
		color: "#FF69B4",
        issueScores: { 1: 0.9, 5: -0.9 },
        stateMultipliers: {
            "NY": 0.07, "VT": 0.08, "MA": 0.06, "CA": 0.06, "WA": 0.06
        }
    },
    "Cynthia Nixon": {
        candidateId: LEFT_CANDIDATE_ID,
		color: "#9370DB",
        issueScores: { 1: 0.95, 3: 0.95 },
        stateMultipliers: { 
            "NY": 0.15, 
            "MA": 0.06, "CT": 0.06, "NJ": 0.06, "RI": 0.06
        }
    },
    "Soleil Moon Frye": {
        candidateId: LEFT_CANDIDATE_ID,
		color: "#FFD700",
        issueScores: { 1: 0.3 },
        stateMultipliers: { 
            "CA": 0.05, "OR": 0.04, "WA": 0.04
        }
    }
};

let _baselineThirdPartyData = null;

function storeBaselineThirdPartyData() {
    if (_baselineThirdPartyData) return;
    precomputeSwitcherooData();

    _baselineThirdPartyData = {
        issueScores: {},
        stateMultipliers: {},
		colors: {}
    };

    // candidates 18 and 19
    const targetIds = [RIGHT_CANDIDATE_ID, LEFT_CANDIDATE_ID];

    for (const score of campaignTrail_temp.candidate_issue_score_json) {
        if (targetIds.includes(score.fields.candidate)) {
            // key format: "CANDIDATEID_ISSUEID"
            const key = `${score.fields.candidate}_${score.fields.issue}`;
            _baselineThirdPartyData.issueScores[key] = score.fields.issue_score;
        }
    }
    
    const stateEntries = Array.from(_switcherooData.stateNameToMultiplierMap.entries());
    for (const [key, value] of stateEntries) {
        // key format is ID_STATEABBR
        const parts = key.split('_');
        const candId = parseInt(parts[0]);
        if (targetIds.includes(candId)) {
            _baselineThirdPartyData.stateMultipliers[key] = value.state_multiplier;
        }
    }
    
    // console.log("Baseline data for third parties stored.");
}

function setThirdParties() {
    storeBaselineThirdPartyData();

    // reset issue scores
    for (const [key, val] of Object.entries(_baselineThirdPartyData.issueScores)) {
        const entry = _switcherooData.issueScoreMap.get(key);
        if (entry) entry.issue_score = val;
    }
    // reset state multipliers
    for (const [key, val] of Object.entries(_baselineThirdPartyData.stateMultipliers)) {
        const entry = _switcherooData.stateNameToMultiplierMap.get(key);
        if (entry) entry.state_multiplier = val;
    }
	// reset colors to baseline
	if (_baselineThirdPartyData.colors) {
        for (const [id, color] of Object.entries(_baselineThirdPartyData.colors)) {
            setCandidateColor(parseInt(id), color);
        }
    }

    // determine nominees
    const rightNominee = getRightThirdPartyNominee(window.liberalismScore, window.confrontationScore);
    const rightVP = getRightThirdPartyVP(rightNominee, window.liberalismScore, window.confrontationScore);
    
    const leftNominee = getLeftThirdPartyNominee(window.liberalismScore, window.confrontationScore);
    const leftVP = getLeftThirdPartyVP(leftNominee, window.liberalismScore, window.confrontationScore);
	
	window.rightNomineeName = rightNominee;
    window.rightVPName = rightVP;
    window.leftNomineeName = leftNominee;
    window.leftVPName = leftVP;

    updateCandidateName(RIGHT_CANDIDATE_ID, rightNominee);
    updateCandidateName(LEFT_CANDIDATE_ID, leftNominee);
	
	if (THIRD_PARTY_MODIFICATIONS[rightNominee]) {
        applySwitcheroo(THIRD_PARTY_MODIFICATIONS[rightNominee]);
        if (THIRD_PARTY_MODIFICATIONS[rightNominee].color) {
            setCandidateColor(RIGHT_CANDIDATE_ID, THIRD_PARTY_MODIFICATIONS[rightNominee].color);
        }
    }

    if (THIRD_PARTY_MODIFICATIONS[leftNominee]) {
        applySwitcheroo(THIRD_PARTY_MODIFICATIONS[leftNominee]);
        if (THIRD_PARTY_MODIFICATIONS[leftNominee].color) {
            setCandidateColor(LEFT_CANDIDATE_ID, THIRD_PARTY_MODIFICATIONS[leftNominee].color);
        }
    }

    console.log(`Third parties set: ${rightNominee} (${rightVP}) & ${leftNominee} (${leftVP})`);
}

// helper to update color
function setCandidateColor(id, hex) {
    const candidate = campaignTrail_temp.candidate_json.find(c => c.pk === id);
    if (candidate) {
        candidate.fields.color_hex = hex;
    }
}

// helper to update names safely in the JSON
function updateCandidateName(id, fullName) {
    const candidate = campaignTrail_temp.candidate_json.find(c => c.pk === id);
    if (candidate) {
        const nameParts = fullName.split(' ');
        const lastName = nameParts.pop();
        const firstName = nameParts.join(' ');
        candidate.fields.first_name = firstName;
        candidate.fields.last_name = lastName;
    }
}

// CYOA function to get everything going
campaignTrail_temp.cyoa = true;
 
window.liberalismScore = 0;
window.confrontationScore = 0;
window.wasntme = 0;
window.lunarbears = 0;
window.heyheyhey = 0;
window.mynutmegphantasy = 0;
let floor13 = false;

cyoAdventure = function() {
    let ans_pk = campaignTrail_temp.player_answers[campaignTrail_temp.player_answers.length - 1];
	let ans = campaignTrail_temp.player_answers[campaignTrail_temp.player_answers.length - 1];

    switch(ans_pk) {
        case 726: window.confrontationScore += 2; break;
        case 727: window.confrontationScore -= 1; break;
        case 728: window.confrontationScore -= 2; break;
        case 729: window.liberalismScore += 1; window.confrontationScore += 1; break;

        case 166: window.liberalismScore -= 2; break;
        case 167: window.liberalismScore += 1; break;
        case 168: window.liberalismScore += 2; break;

        case 395: break;
        case 396: window.liberalismScore += 1; break;
        case 397: break;
        case 398: window.confrontationScore += 1; break;

        case 97: window.liberalismScore += 2; break;
        case 98: window.liberalismScore -= 1; break;
        case 99: window.liberalismScore -= 2; break;
        case 100: window.liberalismScore -= 3; break;

        case 25: window.liberalismScore += 1; break;
        case 26: break;
        case 27: window.liberalismScore -= 1; break;
        case 28: window.liberalismScore -= 2; break;

        case 85: window.liberalismScore += 2; break;
        case 86: window.liberalismScore -= 1; break;
        case 87: window.liberalismScore -= 2; break;
        case 88: window.liberalismScore -= 3; break;

        case 125: window.liberalismScore += 1; break; 
        case 126: break;
        case 127: window.liberalismScore -= 1; break;

        case 330: window.liberalismScore += 1; break;
        case 331: window.confrontationScore -= 1; break;
        case 332: window.confrontationScore += 2; break;
        case 333: window.confrontationScore += 1; break;
    }

    // check if the last answer was for the final CYOA question (pk: 93)
    if ([330, 331, 332, 333].includes(ans_pk)) {
        setOpponent();
		setThirdParties();
        
        // we lock it in for the HQ display
        opponentIsLocked = true;
        finalOpponent = republicanContenders.find(o => o.name === window.opName);
    }
	
	// check if the player has just answered the 8th question (index 7)
	if (campaignTrail_temp.question_number == 7) {
		const playable_candidate_pk = campaignTrail_temp.candidate_id;

		// honestly a bit of a lazy fix, given that these can be added on Code 1
		campaignTrail_temp.running_mate_json.push({
		  "model":"campaign_trail.running_mate", "pk": 10, "fields" : {"candidate": playable_candidate_pk, "running_mate": 35}
		});
		campaignTrail_temp.running_mate_json.push({
		  "model":"campaign_trail.running_mate", "pk": 11, "fields" : {"candidate": playable_candidate_pk, "running_mate": 36}
		});

		addUnlockedRmsForCandidate(playable_candidate_pk);
		
		requestAnimationFrame(() => {
			requestAnimationFrame(campaignTrail_temp.vpSwitcher); 
		});
	}
	
	// other variables
	if (ans == 21338) {
		window.wasntme++;
	}
	
	if (ans == 109 || ans == 198 || ans == 264 || ans == 21189 || ans == 21338 || ans == 21414) {
		window.lunarbears++;
	}
	
	if (ans == 21414) {
		window.heyheyhey++;
	}
	
	if (ans == 21456) {
		window.mynutmegphantasy++;
	}

	if (ans == 21464) {
		window.mynutmegphantasy--;
	}	
};

// these are for the VP switcher functions
// essentially a watered-down version of the switcher present on 1996EOH
const changeGameDisp = (hide) => {
    const displayValue = hide ? 'none' : '';
    const mainContent = document.getElementById("main_content_area");
    const campaignSign = document.getElementById("campaign_sign");
    
    // convert HTMLCollection to Array to iterate easily
    Array.from(gameWindow.children).forEach(child => {
        if (child.classList.contains("game_header")) return;
        
        if (child.id === "main_content_area" && campaignSign) return;

        child.style.display = displayValue;
    });
};

e.vpSwitcher = () => {
    const candidateMap = new Map(e.candidate_json.map(c => [c.pk, c]));

    const potentialeftVPs = e.running_mate_json
        .filter(f => f.fields.candidate == e.candidate_id)
        .map(f => candidateMap.get(f.fields.running_mate))
        .filter(Boolean);

    if (potentialeftVPs.length === 0) {
        console.error("No potential running mates found.");
        return;
    }

    // generate dropdown options
    const runningMateOptions = potentialeftVPs.map(vp => 
        `<option value="${vp.pk}">${vp.fields.first_name} ${vp.fields.last_name}</option>`
    ).join('');

    const vpScreen = document.createElement("div");
    vpScreen.className = "inner_window_w_desc";
    vpScreen.id = "custom_vp_switcher";
    
    vpScreen.innerHTML = `
        <div id="running_mate_form">
            <form name="running mate">
                <p></p><h3>Please select your running mate:</h3> 
                <select name="running_mate_id" id="running_mate_id">${runningMateOptions}</select>
                <p></p>
            </form>
        </div>
        <div class="person_description_window" id="running_mate_description_window"></div>
        <p>
            <button class="person_button" id="running_mate_id_button" data-custom-switcher="true">Continue</button>
        </p>
    `;

    const updateVpDisplay = (vp) => {
        const descriptionWindow = vpScreen.querySelector("#running_mate_description_window");
        descriptionWindow.innerHTML = `
            <div class="person_image" id="running_mate_image"> 
                <img src="${vp.fields.image_url}" width="210" height="250"> 
            </div>
            <div class="person_summary" id="running_mate_summary">
                <ul>
                    <li>Name: ${vp.fields.first_name} ${vp.fields.last_name}</li>
                    <li>Party: ${vp.fields.party}</li>
                    <li>Home State: ${vp.fields.state}</li>
                </ul>
                ${vp.fields.description_as_running_mate}
            </div>
        `;
    }; 

    changeGameDisp(true);
    gameWindow.appendChild(vpScreen);

    // initialize display with the first option
    updateVpDisplay(potentialeftVPs[0]);

    const selectElement = vpScreen.querySelector("#running_mate_id");
    const continueButton = vpScreen.querySelector("#running_mate_id_button");

    selectElement.addEventListener("change", (event) => {
        const selectedPk = Number(event.target.value);
        const selectedVP = potentialeftVPs.find(vp => vp.pk === selectedPk);
        if (selectedVP) updateVpDisplay(selectedVP);
    });

    continueButton.addEventListener("click", () => {
        const finalPk = Number(selectElement.value);
        const chosenVP = potentialeftVPs.find(vp => vp.pk === finalPk);
        
        if (chosenVP) {
            e.running_mate_last_name = chosenVP.fields.last_name;
            e.running_mate_image_url = chosenVP.fields.image_url;
            e.selected_running_mate = chosenVP;
            e.running_mate_id = finalPk;
            
            // update UI elements if they exist
            const campaignSign = document.getElementById("campaign_sign");
            if (campaignSign) {
                campaignSign.innerHTML = `<p>${e.candidate_last_name}</p><p>${e.running_mate_last_name}</p>`;
            }
            
            const rmPic = document.getElementById("running_mate_pic");
            if (rmPic) {
                rmPic.src = e.running_mate_image_url;
            }
        }

        vpScreen.remove();
        changeGameDisp(false);
    });
};

// This is a generic scenario loader that updates
// questions, answers & feedbacks.
const DYNAMIC_SCENARIOS = {
    "Santorum": {
        83: {
            question: "Rick Santorum has built his campaign on the mantle of a ‘culture warrior,’ focusing heavily on social issues like contraception, gay marriage, and the role of religion in public life. While this energizes his evangelical base, it has not been a hit amongst moderates and women. How do you address Santorum’s ideology?",
            answers: {
                297: {
                    desc: "Santorum wants to drag America back to the 50s… 1850s. His views on contraception are archaic, his rhetoric on gay rights is hateful, and he doesn’t respect the separation of church and state. We need to show voters just how extreme he really is.",
                    feedback: "It’s a bit of a brutal line of attack, but seems to work. Suburban women in swing states like Virginia and Colorado are already terrified of Santorum’s agenda. You paint him as a relic of an intolerant past, making your vision look like the only path forward."
                },
                298: {
                    desc: "I respect Rick’s conviction, even if I disagree with his, um, conclusions. However, this election is about the economy, not who we love or how we pray. I’m going to keep my focus on jobs and the middle class.",
                    feedback: "You take the high road. It does seem to neutralize his culture war attempts, but some of your base wishes you would defend progressive social values more vigorously against his specific attacks."
                },
                299: {
                    desc: "Rick talks a big game about the working class, but uh, let’s look at his record. He was a Senator and a Washington insider for years who voted for big spending and special interests. And then comes election season and he starts acting like he’s their savior or something, which he obviously isn’t. I mean, think about it.",
                    feedback: "Well, this is a smart pivot, honestly. By attacking his so-called ‘blue collar’ credentials, you do help undermine his electability in the Rust Belt. Either way, it also forces him to defend his Senate voting record rather than talking about social issues, an issue which you can, and hopefully will, exploit."
                }
            }
        },
        300: {
            answers: {
                1658: {
                    feedback: "That sweater-vest wearing zealot loser. You’re gonna watch Santorum fail, just like he did in Pennsylvania in 2006. Even if you both have to swim… you’re gonna make sure he drowns."
                }
            }
        },
        21305: {
            question: "You and Santorum arrive in Denver. He’s wearing a sweater vest under his suit jacket, looking like a disappointed youth pastor. His opening statement barely mentions the economy; instead, he spends his time decrying the ‘moral decay’ of America under your watch. In fact, he just accused you of ‘snobbery’ for wanting kids to go to college. How do you handle this guy?",
            answers: {
				21306: {
                    desc: "I’ll stay above the fray. I’m the President, goddammit, and he’s… uh, whatever this is. A culture warrior, that is. I’ll stick to talking about Pell Grants, community colleges, and job training. If I engage with his ‘snob’ comments, I’m just letting him drag me into the mud with him.",
                    feedback: "Your attempt at appearing presidential instead comes across as aloof and disconnected — the very thing he accused you of, ironically. Santorum’s passionate intensity, however misguided, plays surprisingly well on television, and your detached bemusement only reinforces the ‘snob’ label he pinned on you."
                },
				21311: {
                    desc: "I’m going on offense, hard. ‘Rick, wanting Americans to get an education isn’t snobbery, it’s the basic prerequisite for competing in the 21st century economy.’ I need to paint his anti-intellectualism as what it really is: a genuine threat to American competitiveness. I need to look like the only adult in the room who understands what century we’re living in.",
                    feedback: "It works beautifully. Santorum doubles down on what the pundits are already calling his ‘Bible over Biology’ rhetoric, and you successfully frame him as fundamentally anti-progress. Moderate voters in the suburbs—particularly college-educated women—are visibly horrified by his worldview. The contrast couldn’t be starker."
                },
                21315: {
                    desc: "Heh, I practiced for exactly this scenario. I’ll smile warmly, look him directly in the eye, and say, ‘Rick, we all want strong families. But strong families need good jobs and economic security, and not a sermon from Washington.’ They’ll like it, I promise you.",
                    feedback: "You refuse to let him get under your skin, no matter how provocative his rhetoric becomes. Every time he launches into a moral lecture, you do your best to pivot to kitchen-table issues, making him look very, very obsessed with you."
                },
                21320: {
                    desc: "I’m going to make this debate a referendum on his extremism. Every single time he opens his mouth, I’ll remind voters that this is a man who wants to ban contraception and once compared homosexuality to bestiality on national television. ‘This isn’t the Republican party of Lincoln, folks. This is something closer to the, uh, Inquisition.’",
                    feedback: "It absolutely energizes your base, especially as donations spike during the debate. It also has the side effect of turning the evening into a shouting match about social issues rather than a substantive policy discussion. You win on points with your coalition, but you didn’t get to talk about your economic record, which was supposed to be the evening’s focus."
                }
            }
        },
		21533: {
            question: "It’s the second debate. Santorum is pacing the stage like a preacher, visibly sweating under the studio lights. He just tried to connect the Benghazi attack to what he calls a ‘fundamental lack of moral clarity’ in your administration; a stretch even by his standards. Then a female voter steps up to the microphone and asks about access to birth control. Santorum visibly stiffens; you know this is his kryptonite, and everyone in the room knows it. How do you twist the knife?",
            answers: {
                21534: {
                    desc: "I’ll step back and give him all the rope he needs. ‘Please, Senator, by all means, explain your position on contraception to the women of America. I’m genuinely curious to hear it.’ I want him to say it loud and clear, on camera, in front of this audience. He’s always been his own worst enemy.",
                    feedback: "Santorum takes the bait completely, launching into an extended lecture on the dangers of ‘license’ and ‘sexual freedom’ and how contraception has undermined the American family. The camera pans slowly across the women in the audience, as their expressions range from disbelief to genuine fear. You don’t even have to say another word; his own answer does all the damage."
                },
                21538: {
                    desc: "I’ll pivot immediately to the Supreme Court and make the stakes crystal clear. ‘This is what’s on the ballot, folks. Senator Santorum wants to overturn Roe v. Wade. He wants to give states the power to ban contraception. I will protect your rights and your privacy.’ Let’s make it a choice for every woman in that room.",
                    feedback: "Your framing definitely rallies your pro-choice base, though Santorum’s supporters are equally energized by the confrontation. Perhaps you are betting that widening the gender gap in the polls will work in your favor? We’ll see."
                },
                21542: {
                    desc: "Honestly? I’m getting angry, and I’m not going to hide it. I’ll walk right up to him. ‘Rick, you’re standing here talking about controlling people’s most private, uh, personal decisions. That’s not small government, that’s not liberty. That’s a theocracy.’ I need to bully him on this issue.",
                    feedback: "It’s aggressive, maybe more aggressive than your advisors would prefer, but it plays extremely well with the audience. You come across as a genuine defender of personal liberty standing against religious overreach, or so you think. Independents, particularly in swing states, do seem to break your way after this exchange."
                },
                21546: {
                    desc: "I’ll brush past it quickly. ‘We obviously have very different views on this issue.’ Then I’ll pivot immediately to healthcare costs and prescription drug prices—kitchen table issues. I don’t want to get bogged down in a culture war debate that just fires up his evangelical base for November.",
                    feedback: "You play it safe, but you missed a golden opportunity to truly disqualify him in front of a national audience. Santorum survives the night without a major, campaign-defining gaffe, which keeps the race closer than it probably should be heading into the final stretch."
                }
            }
        },
        21550: {
            question: "It’s the third and final debate. Foreign Policy night, so it’s supposed to be your wheelhouse. Santorum is practically vibrating with intensity, demanding that America bomb Iran’s nuclear facilities immediately, if not sooner. He just accused you of ‘appeasement’, a word he seems to love, and claimed you spend more time apologizing for America than defending her. He looks genuinely unhinged. How do you shut him down?",
            answers: {
                21551: {
                    desc: "Oh, I’ve been saving a line for this moment. ‘Rick, this isn’t the Crusades. We don’t need a holy war, no; we need power, patience, and actual diplomacy.’ I’m going to mock his medieval worldview directly and let the audience draw their own conclusions.",
                    feedback: "Though it’s not the zinger you wanted, you do frame him as a dangerous zealot who would stumble into World War III within his first hundred days. (Which he, in fact, would.) He looks like a man fundamentally out of time, fighting battles from centuries past."
                },
                21555: {
                    desc: "I’ll ignore his bluster entirely and speak directly to the American public. ‘Senator Santorum seems very eager to send your sons and daughters to yet another war in the Middle East. I ended the war in Iraq, I’m bringing our troops home from Afghanistan. I know the cost of war.’ Simple.",
                    feedback: "This is surprisingly effective. The country is exhausted from a decade of conflict, and Santorum sounds like he’s itching to start new ones."
                },
                21559: {
                    desc: "I’ll call out his hypocrisy on the record. ‘You voted for the Iraq War, Rick. You voted to put the entire thing on the national credit card without paying for it. I’m the one cleaning up the mess you and your colleagues helped create.’ Pin the Bush years directly on him.",
                    feedback: "Your words land hard. Santorum tries to defend his Senate record, but he gets easily tangled in the complexities of votes he cast a decade ago. You’re the future, you say, and he’s nothing more than a shadow of the past."
                },
                21563: {
                    desc: "I’ll take the high road and explain policy. Let’s walk through the sanctions regime, the international coalition we’ve built, and the diplomatic pressure that’s actually working. ‘Talk is cheap, Senator. But governance is hard, and bombing isn’t just a simple strategy or whatever.’",
                    feedback: "You sound presidential, but perhaps a bit dry and professorial for a debate setting. Santorum’s raw passion scores him some points with the hawkish wing of the Republican base, and most pundits declare this a draw."
                }
            }
        }
    },
    "Paul": {
        83: {
            question: "Ron Paul has managed to capture the Republican nomination with a libertarian platform that calls for ending the Fed, slashing the safety net, and a non-interventionist foreign policy. His followers are fanatical, but his ideas are radical. You think this is a good thing. How do you frame the choice against Dr. Paul?",
            answers: {
                297: {
                    desc: "Ron Paul is dangerous. He wants to let Iran get a nuclear weapon, he wants to dismantle Social Security and Medicare, and his newsletters from the 90s contained horrific racist content. Just take a look at it. He is unfit for the modern world.",
                    feedback: "You go straight for the jugular. It is worth noting, however, that his isolationist stance on war actually polls decently well against you, so focusing on his domestic policy is probably the smarter play here."
                },
                298: {
                    desc: "Dr. Paul is, uh, consistent, I’ll give him that. But his economic theories, from returning to the gold standard to ending the Fed, would cause a Second Great Depression. We can’t gamble our recovery on fringe theories from people like him.",
                    feedback: "This is a fairly safe strategy, your advisors believe. You paint yourself as the responsible adult in the room compared to, uh, the crying baby who also looks a lot like an economic alchemist. For better or worse, Wall Street and moderate Republicans breathe a sigh of relief and quietly lean your way."
                },
                299: {
                    desc: "I think there’s a lot we can agree on regarding civil liberties and ending foreign wars, you see. I’m going to reach out to his younger supporters and show them that I’m the pragmatic choice for peace and privacy.",
                    feedback: "It’s a weird strategy, to be fair. You aren’t going to win over the die-hard libertarians, and by complimenting him, you legitimize views on dismantling the government that you should be attacking. Still, perhaps making appeals to his fairly young base can help you out in some areas."
                }
            }
        },
        300: {
            answers: {
                1658: {
                    feedback: "Oh, that kooky old doctor. You’re gonna watch Ron Paul fail, just like he has for thirty years in Congress. Even if you both have to swim… oh, you’re gonna make sure his revolution drowns."
                }
            }
        },
        21305: {
            question: "You and Ron Paul arrive in Denver. It’s, uh, surreal, to say the least. He’s yelling at Jim Lehrer about the Federal Reserve and the gold standard. He doesn’t even seem to know you’re there half the time; it’s like he’s debating the ghost of Woodrow Wilson or something. Now, he just called your economic policy ‘counterfeit.’ How do you debate this guy?",
            answers: {
                21306: {
                    desc: "I’ll stay above the fray. I can’t argue with a conspiracy theorist. I’ll just smile, look bemused, and talk about the auto rescue. Let him rant about fiat currency.",
                    feedback: "Uh-oh. Generally speaking, you looked quite smug and dismissive. Paul’s populist anger at the Fed actually seemed to resonate with struggling voters, as you looked like a defender of the banking status quo."
                },
                21311: {
                    desc: "I’ll challenge him on the specifics. ‘Ron, you want to abolish the Department of Education, the EPA, and FEMA. Tell the people in New Orleans or Joplin that the free market would have saved them.’ We got to pin him on the consequences of his words.",
                    feedback: "It actually works, surprisingly. When forced to defend the elimination of disaster relief, Paul sounds cruel and out of touch. Fortunately, you don’t."
                },
                21315: {
                    desc: "Let’s treat him with kid gloves. ‘I appreciate the Congressman’s passion for liberty, but we need a modern economy, not a return to the 19th century.’ It should be firm, but respectful of his movement.",
                    feedback: "This is a fairly safe answer. You don’t alienate his younger supporters by being mean, but you clearly differentiate yourself as the serious candidate."
                },
                21320: {
                    desc: "I’ll out-populist him, simple as that. ‘Congressman Paul wants to let Wall Street run wild. I passed reform.’ And then we pivot to Bain Capital… wait, uh, no, he hates Bain too. Huh. This is confusing. Let’s just follow that path.",
                    feedback: "It gets messy really quick. Paul agrees with you on corporate welfare, at least, but that just muddies the waters. You struggle to land a clean hit and it’s hard to explain what the hell you were trying to do here."
                }
            }
        },
        21533: {
            question: "It’s the second debate. Ron Paul is actually doing… okay? He’s railing against the drug war and drone strikes, and the liberal audience is nodding along. Not only that, but he just accused you of violating the Constitution by killing an American citizen overseas without trial. It’s an awkward moment; he’s flanking you from the left.",
            answers: {
                21534: {
                    desc: "Eh, I’ll let him talk. ‘Please proceed, Congressman.’ I want him to say something crazy about legalizing heroin. He usually does if you give him enough rope, you know.",
                    feedback: "Can you believe it? Paul actually takes the bait and goes on a tangent about legalizing all drugs and prostitution. The suburban moms in the audience recoil. But you smirk, naturally, knowing he’s gonna have to explain that to a lot of more conservative Republican voters."
                },
                21538: {
                    desc: "I’ll pivot to civil rights. ‘Congressman, you talk about liberty, but you opposed the Civil Rights Act. You published racist newsletters, tell us about it.’ We have to remind the liberals and voters in general who he really is.",
                    feedback: "The mood in the room turns icy. Paul tries to stammer a defense, though he is unable to, and you believe the damage is done."
                },
                21542: {
                    desc: "I’ll defend my record on terror. ‘My job is to keep this country safe. I make no apologies for taking out terrorists.’ Look strong, don’t let him paint me as a war criminal.",
                    feedback: "It plays fairly well with moderates, but your progressive base hates it. You sound like Dubya. What are you trying to accomplish?"
                },
                21546: {
                    desc: "I would rather pivot to the economy. ‘We can debate legal theory all night, but Paul, people need jobs.’ Just ignore the constitutional critique entirely; I’m not touching that with a 40-foot pole.",
                    feedback: "And so you dodge the question, and everyone can see it. Paul claims victory on the point, but few voters care about drone policy enough to switch votes."
                }
            }
        },
        21550: {
            question: "It’s the third and final debate. Ron Paul is currently advocating for closing all overseas bases and bringing everyone home. He calls your sanctions on Iran ‘an act of war,’ and honestly, he sounds more like a Code Pink protester than a Republican. How do you handle him?",
            answers: {
                21551: {
                    desc: "I’ll invoke history. ‘Congressman Paul, isolationism was, uh, tried in the 1930s. It didn’t work then, it led to a World War. And it won’t work now, in a world of nuclear proliferation and global terrorism. America cannot simply hide from the world and hope the problems go away.’ We need to frame him as naive, which he is.",
                    feedback: "You have a good night painting his worldview as not just impractical but genuinely dangerous. On the other hand, you’re pretty sure that the Republicans who were considering abandoning Paul have done so already."
                },
                21555: {
                    desc: "I’ll agree with his premise while rejecting his conclusions. ‘I brought the troops home from Iraq, Ron— I, uh, ended that war. But we cannot simply abandon our allies around the world. We cannot tell Israel, or Japan, or NATO that they’re on their own.’",
                    feedback: "It’s good to keep your allies happy, and you position yourself as reasonable and measured, compared to the more extremist Paul."
                },
                21559: {
                    desc: "Honestly? I’ll just let him attack the Republican establishment. He’s spending more energy attacking Bush’s wars and neoconservative interventionism than anything I’ve done, if you think about it. I’ll stand back, fold my arms, and smile while he tears into his own party.",
                    feedback: "It’s entertaining political theater, even if you look like a bystander most of the time. Pundits wonder aloud whether you actually showed up to fight tonight or just to watch. You don’t really care, however, as Paul’s favorability among some Republican drops to levels you’d never seen before."
                },
                21563: {
                    desc: "I’ll pivot to the Iran threat and make it visceral. ‘A nuclear-armed Iran is an existential threat to, um, regional stability and American security. Congressman Paul would shrug his shoulders and let them have the bomb. I would, uh, not.’",
                    feedback: "Seems alarming enough. Though there are not many voters nowadays terrified about nuclear proliferation in the Middle East, Paul’s stance is enough to terrify the undecided voters who can imagine the consequences."
                }
            }
        }
    },
    "Perry": {
        83: {
            question: "Rick Perry touts his very own ‘Texas Miracle’ as the blueprint for the American economy. He’s a skilled retail politician with deep pockets, but he also has a long history of gaffes and aggressive rhetoric regarding the federal government and even secession. How do you handle the Governor?",
            answers: {
                297: {
                    desc: "The so-called ‘Texas Miracle’ is a mirage. It’s built on minimum wage jobs with no benefits, the highest uninsured rate in the country, and massive deregulation. I mean, come on, he’s going to throw America into a bottomless pit.",
                    feedback: "Generally speaking, this hits home. You do your best to frame his economic record as a threat to the middle class way of life. Turns out some voters do listen closely when you talk about ‘good paying jobs’ versus Perry’s low-wage model."
                },
                298: {
                    desc: "Governor Perry is a good man, I think, but he struggles with the details. Leading this country requires serious thought and complex decision making, and his cowboy swagger and ‘oops’ moments just won’t cut it.",
                    feedback: "Perhaps attacking his competence without being too mean-spirited is the way to go. After all, anything that reminds voters of his terrible debate performances can only be a win for you."
                },
                299: {
                    desc: "Perry once toyed with the idea of Texas seceding from the Union. Can you believe it? I believe in the <i>United</i> States of America. We need a President who, uh, believes in this country, and not one, like Perry, who threatens to leave it.",
                    feedback: "A lot more patriotism from the Barack than one would expect, but this does have its advantages. Portraying Perry as a radical regionalist rather than a national leader may be the way to go. Even Republicans roll their eyes at his secession talk."
                }
            }
        },
        300: {
            answers: {
                1658: {
                    feedback: "That failure of a cowboy. You’re gonna watch Perry fail, just like he failed to remember all those government agencies (which you also forgot the name of). Even if you both have to swim… you’re gonna make sure he drowns."
                }
            }
        },
        21305: {
            question: "You and Rick Perry arrive in Denver for the first debate. Well, he’s clearly struggling with the format, glancing down at his notes every few minutes or so. He attempts an attack on your energy policy, but he mangles ‘Solyndra’ as ‘Solydra,’ then, again, completely blanks on the name of the Department of Energy, the agency he’s promised to abolish. A pained expression crosses his face, and you can see some sweat forming.",
            answers: {
                21306: {
                    desc: "Eh, I’ll stay above the fray and be gracious about it. No mockery, no piling on. I’ll just gently correct the name and move on to my platform.",
                    feedback: "Unfortunately, your gentle correction comes across as patronizing to some. Perry actually recovers with a self-deprecating folksy joke that makes the audience laugh with him, too."
                },
                21311: {
                    desc: "This is about competence, and I really need to drive that point home. ‘Governor, this job is about details. When you’re uh, making decisions at 3 AM with incomplete information… well, you can’t just ‘oops’ your way through the nuclear launch codes.’",
                    feedback: "Okay, I’m starting to actually like your zingers here. The audience laughs, but the underlying point sticks and lingers. Perry visibly shrinks on the stage, and you look like the only actual presidential material present here. Perhaps your strategy to win this election involves relentlessly bullying him."
                },
                21315: {
                    desc: "I’ll ignore the gaffe completely and attack the substance of the so-called Texas Miracle instead. ‘Governor, you created jobs in Texas by slashing wages, ignoring workplace safety standards, and leaving millions without health insurance. That looks more like a race to the bottom for me.’",
                    feedback: "You know Perry can’t defend the details of his Texas record under pressure, and you notice this clearly as you keep preventing him from using his job-creation talking points effectively."
                },
                21320: {
                    desc: "Why not relate to him? I can be human about it. ‘Hey, we all forget things sometimes, Rick. I certainly do. But let’s talk about what we can’t afford to forget: the struggles of the middle class.’",
                    feedback: "It comes off as forced and a little fake; you’re clearly not actually sympathetic to his floundering, and you know that. Perry’s natural folksy charm easily outshines your attempt at warmth. You probably should have stuck to policy where you’re stronger."
                }
            }
        },
        21533: {
            question: "It’s the second debate. Perry has found his footing, and is working the room like a revival tent preacher, striding around with his wireless microphone and making eye contact with voters. He’s hammering you relentlessly on border security, accusing you of ‘leaving the door wide open for drug cartels and terrorists.’ Not only that, but he challenges you to come down to the Rio Grande and see the crisis for yourself, man to man. Who does he think he is?",
            answers: {
				21534: {
					desc: "I’ll step right into his space. ‘Governor, I’ve put more boots on the border than any President in history. While you were talking about secession, I was securing the, uh, country.’",
					feedback: "That stops him cold. You can see him trying to formulate a response about states’ rights, but the word ‘secession’ just hangs there, and he’s not able to get much out of it. Hitting him on his patriotism was honesly a good idea."
				},
				21538: {
					desc: "Hm, I’ll pivot to our achievements, like the DREAM Act. ‘These are kids, Rick. You know, you used to support tuition for them in Texas. What happened to that Rick Perry?’",
					feedback: "It’s amazing to see his base watch him squirm. He can’t disavow his Texas record without looking weak, and he can’t embrace it either without alienating the hardliners who got him here. This can only be good news for you."
				},
				21542: {
					desc: "Eh. I’ll just stay in place. ‘Governor Perry has a nice speech, but the numbers don’t lie. Illegal crossings are down, and have been down for a while now.’",
					feedback: "You’re right on the substance, but even as you keep it cool, nobody remembers the substance of what you’re saying. But they do remember Perry working the room like he owns it while you sat on a stool looking at the ceiling. A beautiful ceiling, too, but the visuals clearly don’t favor you tonight."
				},
				21546: {
					desc: "Well, how about I just crack a joke? ‘I love Texas, Governor. I just wish you wanted to stay in the United States…’",
					feedback: "This gets a laugh and deflates his momentum a bit. Of course, you find it a bit pathetic that you’re making secession jokes in a debate of all possible places… the good news is that Perry follows suit and moves on to another topic."
				}
            }
        },
        21550: {
            question: "It’s the third and final debate. Perry is genuinely out of his depth, something that makes you horrified. He keeps referring to ‘Turkey’ as an enemy and mispronouncing leaders’ names. Many times, actually. But he also attacks you for ‘leading from behind’ and not supporting Israel enough. Weird guy.",
			answers: {
				21551: {
					desc: "I’m telling you, I need my zingers here. ‘Governor, the world is, um, very complex. But you can’t just shoot from the hip or something. If we wanted a six-shooter, we’d have one already.’",
					feedback: "Although the cowboy imagery cuts both ways in America, tonight it seems to cut against him. He’s a reckless shooter, you think, and his bravado shouldn’t amaze you or anyone. Luckily for us, the foreign policy establishment will be writing approving op-eds of your performance by morning."
				},
				21555: {
					desc: "Hm, I’ll quiz him. ‘Governor, what is your plan for Syria?’ Obviously I know he doesn’t have one, so let’s expose his lack of knowledge.",
					feedback: "Indeed, he doesn’t have one, and it shows. To a few viewers, though, something uncomfortable about watching a sitting President publicly humiliate a clearly outmatched opponent. Although some headlines will mention ‘bullying,’ you don’t really mind losing some of your goodwill here."
				},
				21559: {
					desc: "I’ll talk about Bin Laden, it’s a winning issue for me. ‘I authorized the raid, I made the, uh, call. While you were debating geography, I was taking out our enemies.’",
					feedback: "There’s no comeback to that. Perry opens his mouth, realizes he has nothing, and rapidly pivotes to the only other issue in his mind — that of energy, which, uh, as you know, doesn’t go too well for him."
				},
				21563: {
					desc: "Ignore him. I’m just gonna talk to the camera. ‘The choice is, uh, clear. Steady leadership or the, um, reckless gambling of my opponent.’",
					feedback: "You coast through. Perry makes a few more unforced errors that the cable news chyrons will replay endlessly, including one where he calls you as Mr. Obamna. Sometimes the best debate performance is just not losing, you think."
				}
			}
        }
    },
    "Bachmann": {
        83: {
            question: "Michele Bachmann represents the Tea Party movement in its purest form. Her campaign is fueled by intense religious rhetoric and a fierce opposition to pretty much everything you’ve done. However, she has a history of making factually questionable statements. How do you deal with her?",
            answers: {
                297: {
                    desc: "Michele Bachmann lives in a reality of her own making. From vaccines causing intellectual disability to her conspiracy theories about the Muslim Brotherhood in our government… oh, she is just too erratic. Get her back to Neverland.",
                    feedback: "It is true, and you’re not the only one who thinks that way. You smile as moderates flee from her in droves, giving you a lot of free time to not campaign and simply play clips of her speaking and looking at the camera like Jim from <i>The Office</i>."
                },
                298: {
                    desc: "I understand the frustration of the Tea Party, even if I think their solutions are wrong. But Representative Bachmann’s approach is to burn the house down. This isn’t like, Destroy, Build, Destroy or anything like that.",
                    feedback: "This response doesn’t generate the headlines that a direct attack on her conspiracies would, but it solidifies your image as the calmer alternative this year."
                },
                299: {
                    desc: "Her husband runs a clinic that attempts to ‘pray away the gay,’ and her views on science and civil rights are from the dark ages. Do I even need to say it? Only Barack Obama is fighting for a modern, inclusive America.",
                    feedback: "This fires up your base and brings in young voters who might have stayed home. Any attempt at painting her as an intolerant extremist can only be good for you, too."
                }
            }
        },
        300: {
            answers: {
                1658: {
                    feedback: "That lemonhead. You’re gonna watch Bachmann fail, just like her facts fail to line up with reality. Even if you both have to swim… you’re gonna make sure she drowns."
                }
            }
        },
        21305: {
			question: "You and Michele Bachmann arrive in Denver. She seems particularly excited as she opens by accusing you of running a ‘gangster government’ and secretly planning to replace the dollar with a global currency. Well, that and she stares directly into the camera with unblinking eyes. It’s… odd. How do you respond to her conspiracies?",
			answers: {
				21306: {
					desc: "I’ll just chuckle and say, ‘Well, that’s certainly a creative interpretation, Congresswoman.’ Then I’ll pivot to jobs and other topics I have a head-start on, I won’t validate her crazy.",
					feedback: "Your chuckle plays rather, uh, terribly. To her supporters, you’re just part of the arrogant elite dismissing their concerns. And to a few undecided voters, your non-denial sounds almost like confirmation of what she’s saying.."
				},
				21311: {
					desc: "You know, I’ll fact-check her in real-time. ‘That is simply not, uh, true. It’s a lie. And the American people deserve the truth, not your fairy tales.’",
					feedback: "She wasn’t expecting you to push back that hard. Her eyes go wider, somehow, and she starts stammering about ‘her sources,’ even as she can badly explain them to the audience."
				},
				21315: {
					desc: "Oh, I’ll just use humor. ‘I think the Congresswoman has been spending too much time on the, um, wrong parts of the internet.’",
					feedback: "The audience laughs a bit, and you can see her jaw tighten. By tomorrow, the late-night hosts will be running with this framing, that she is nothing more than another loser on the internet. That’s a win."
				},
				21320: {
					desc: "I’ll ignore her and talk to the camera. ‘Folks, you know me. You know I’m fighting for you.’",
					feedback: "This may be true, but the problem is she’s loud and she’s relentless. You can’t just have a normal conversation with voters when she’s talking about how you were born in Armenia or something."
				}
			}
		},
		21533: {
			question: "It’s the second debate. Bachmann is trying to connect with a mother in the audience, warning her that Obamacare will set up ‘death panels’ for her children. And then she proceeds to pivot to vaccines causing mental disabilities, making the audience visibly uncomfortable and you very discombobulated. This is your chance.",
			answers: {
				21534: {
					desc: "‘Please proceed, Michele.’ I want her to say the vaccine thing again, and again, and again. I want every suburban mom in America to hear it.",
					feedback: "Smart strategy. She doubles down on this for the rest of the night. To your advisors, they feel the race is effectively over in that moment."
				},
				21538: {
					desc: "Nuh-uh. I can’t let her do that. ‘That is dangerous misinformation, Congresswoman. You are scaring parents with lies. Why do that?’",
					feedback: "There’s something powerful about anger deployed correctly. You’re not defending yourself; you’re defending that mother, all mothers, from someone peddling fear as policy. It’s the most human you’ve looked all campaign. You just hate that you had to do this now."
				},
				21542: {
					desc: "I’ll pivot to something else. Heh. ‘Well, we do rely on science, not whatever is happening at your husband’s clinic.’",
					feedback: "It lands hard, maybe a bit too hard. Bachmann’s playing the victim now, and she’s not bad at it. But your base loves it, even as you ignore next morning’s coverage focusing on whether you went too far and how unprofessional you have gotten."
				},
				21546: {
					desc: "We should just stick to the ACA facts. ‘The law protects this woman’s family. No death panels or anything like that, just coverage.’",
					feedback: "The facts are on your side, but you also know that facts are quiet and Bachmann, infamously, is not. Her hysteria easily drowns out your policy recitation, and you can’t really call this a win."
				}
			}
		},
		21550: {
			question: "It’s the third and final debate. This time, Bachmann claims the Muslim Brotherhood has infiltrated the State Department (and implicitly, you). She demands you release ‘secret documents’ which you have never heard of, and she is also questioning your loyalty to the country. It’s ugly.",
			answers: {
				21551: {
					desc: "I won’t dignify that with a response. ‘I’m the President of the United States, and I killed Bin Laden. You did not. Next question.’",
					feedback: "The contrast couldn’t be sharper. On one side, a conspiracy theorist demanding secret documents. On the other, the man who actually sat in the Situation Room. You don’t argue with her, and why would you? Reminding everyone who is the boss is not as bad as it seems."
				},
				21555: {
					desc: "This is ridiculous, I have to defend every public servant she’s slandered by name. ‘These are patriots, Michele. These are people who have dedicated their lives to serving this country. You should be ashamed of yourself for attacking their loyalty without evidence.’",
					feedback: "When the debate ends, you open up Twitter on your prized Blackberry® and read some pretty interesting stuff: John McCain tweets in your defense, and Ed Rollins, her former campaign manager, publicly criticizes her. You’ve managed to unite the establishment, lef and right, against her brand of politics. Not that it means much, but at least it’s something…"
				},
				21559: {
					desc: "I’ll mock her so-called ‘intelligence sources’. ‘Unless you’re getting, um, classified briefings from a different CIA than the one that reports to me, Congresswoman, I’m going to need to see some, uh, actual evidence for these claims.’",
                    feedback: "It’s funny and gets a good audience reaction, but there’s some risk in joking about national security matters. Some voters, particularly older ones, think you aren’t taking the ‘threat’ seriously enough, even if the threat is obviously imaginary."
				},
				21563: {
					desc: "I hate this, but I have to pivot to Israel and try to out-hawk her on something concrete. ‘I have done more for Israel’s security than any President in history. I mean, just ask the Israelis. I’ve provided more military aid, more intelligence sharing, more, uh, Iron Dome funding.’",
                    feedback: "You can’t really out-hawk Michele Bachmann; it’s a fool’s errand. She just accuses you of lying and doubles down on her conspiracy theories. It devolves into a messy back-and-forth that doesn’t serve you well. You really shouldn’t have taken SpongeBob with you on that trip."
				}
			}
		}
	},
    "Huntsman": {
        83: {
            question: "Jon Huntsman has one thing that separated him from all his Republican opponents: he served in your cabinet, as Ambassador to China. He’s fairly moderate, polished, and refuses to engage in the ‘crazy’ rhetoric of his party. For that same reason, he’s struggling to energize the GOP base. How do you frame your former employee?",
            answers: {
                297: {
                    desc: "Jon was a great Ambassador… because he agreed with my policies then. He praised the stimulus, he supported cap-and-trade… well, he’s either a flip-flopper who will say anything to win, or he’s a closet Democrat.",
                    feedback: "I see what you’re doing, and I like it, honestly. By praising his service to you, you help poison him with the Republican base. Maybe this can be good news for you after all."
                },
                298: {
                    desc: "To be fair, Jon is a serious person, and we just have a disagreement on the role of government. Either way, I look forward to debating the future of the country with him.",
                    feedback: "It’s the most boring election in history, and that might be bad for you. Without a clear villain, and considering Huntsman appeals to the same independents you need, you might not wanna turn this into a popularity contest."
                },
                299: {
                    desc: "Huntsman is the son of a billionaire chemical tycoon. Like Romney, he’s a man of the elites who doesn’t understand what working families are going through. He was born on third base and thinks he hit a triple? Give me a break.",
                    feedback: "You pivot to the class warfare angle used against Romney. It works to an extent, though Huntsman lacks the ‘corporate raider’ baggage of Bain, making these attacks stick slightly less."
                }
            }
        },
        300: {
            answers: {
                1658: {
                    feedback: "That so-called moderate. You’re gonna watch Huntsman fail, just like he failed to ignite his own party in the primary. Even if you both have to swim… you’re gonna make sure he drowns."
                }
            }
        },
        21305: {
			question: "You and Jon Huntsman arrive in Denver for the first debate. It’s… strangely cordial, to the point where it needles you. He’s being respectful, articulate, and refusing to take the bait. He calls you ‘Mr. President’ and compliments your family, while simultaneously attacking your main policies. It’s strange, but the audience is lulled into thinking he’s a reasonable alternative. How do you fight a nice guy?",
			answers: {
				21306: {
					desc: "I can be calm and reasonable here, why not match his civility? ‘Jon served his country well, but we disagree on, uh the path forward.’",
					feedback: "It’s a pleasant, very pleasant, very boring evening. Huntsman looks like a younger, richer version of you; someone who could, unfortunately, plausibly sit behind that desk. Without a clear contrast, you fear you’ve let him establish himself as a credible alternative."
				},
				21311: {
					desc: "I’ll hug him. Well not, uh, literally, but I have to kill him with kindness. ‘Jon did a great job implementing MY policies in China. I’m glad he liked MY stimulus package back then.’",
					feedback: "You can see him flinch and be unable to fight your braggadocio. You smirk; every compliment to him is a poisoned chalice, and every reminder of his service to you is a reminder of his disloyalty to conservatives. Republican viewers are watchiing their nominee squirm as you praise him."
				},
				21315: {
					desc: "You know what? I’ll attack his wealth. ‘Jon, it’s easy to say tax cuts work when your father left you a chemical empire. What about the workers?’",
					feedback: "It lands, but there’s something slightly off about your delivery. Huntsman isn’t as awkward about his wealth as Romney was, and didn’t have to deal with some of the criticism Mittens did. He absorbs your blow and pivots smoothly to healthcare."
				},
				21320: {
					desc: "I’ll paint him as a flip-flopper, which is what he is. ‘You supported Cap and Trade until you ran for President. Which Jon is running tonight?’",
					feedback: "This chips away at what makes him dangerous; that earnest, above-the-fray image of his. If he’s just another politician saying whatever’s convenient, he’s not special. He’s just another Romney. You could share a tree and at least six or seven of them would fall."
				}
			}
		},
		21533: {
			question: "It’s the second debate. Huntsman speaks fluent Mandarin to an audience member (what a show-off!) and gives a more nuanced answer on trade. He’s doing well, you think. But he just criticized your failure to pass immigration reform; he supports a path to citizenship, and is trying to flank you from the center. Oh, you think he’s trying to steal the Hispanic vote.",
			answers: {
				21534: {
					desc: "I’ll lean in. ‘Please proceed, uh, Ambassador.’ I want him to commit to amnesty on live TV. Let the Tea Party hear it. We know how it went for a bunch of Republicans in 2010…",
					feedback: "He gives a fairly thoughtful, compassionate answer about immigrant families. In a few living rooms across South Carolina and Arizona, though, Republican base voters are reaching for their remotes. If only there was a rerun of Family Guy tonight…"
				},
				21538: {
					desc: "Duh, I’ll defend my record. ‘I’ve strengthened the border, Jon. You can speak Chinese, which is great, but you can’t read the deportation numbers?’ A little snarky.",
					feedback: "The Mandarin crack gets a chuckle, but it feels petty; mocking someone for speaking another language isn’t a great look. Not only that, but praising your deporation numbers does not make the liberal wing of your party happy. Pundits call it a draw."
				},
				21542: {
					desc: "I’ll, uh, agree with him. ‘Jon is right. We need reform, but his party won’t let him do it. If you vote for him, you get a Republican congress that will block him.’",
					feedback: "This is smart. You’re not necessarily attacking him; you’re attacking the party behind him. Voters might like Huntsman, but can they really expect him to deliver when Boehner and McConnell are running the show? Nope. But maybe you can, and that’s the point."
				},
				21546: {
					desc: "I’ll pivot to another topic I’m stronger on, like jobs. ‘Immigration is important, but let’s talk about, um, outsourcing. Your family company moved jobs to Asia. Tell us about it…’",
					feedback: "You’ve changed the subject, and not in a way he can easily recover from. You feel as if the outsourcing attack is harder to answer than the immigration question was, and he spends the next few minutes on defense himself."
				}
			}
		},
		21550: {
			question: "It’s the third and final debate. This is awkward. He was your Ambassador, he knows your policy because <i>he</i> helped implement it. And now he’s criticizing your ‘pivot to Asia’ as weak, claiming he knows the Chinese leadership better than you do. What a shame.",
			answers: {
				21551: {
					desc: "I’ll assert, uh, my dominance. ‘Jon, I mean, um, I sent you the cables, you executed my orders. I’m glad you learned a lot, but well, you have to admit that the strategy was mine.’",
					feedback: "He was your employee. He implemented your vision. And now he’s standing on a stage criticizing the work he helped do, thinking he can tame you? No, no, no. He’s nothing more than a mere subordinate with ambitions above his station. As Biden would say, he’s just a little dih man."
				},
				21555: {
					desc: "Let’s attack his tenure. ‘If my so-called ‘terrible’ policy was weak, why didn’t you resign? You stayed for the state dinners, man.’",
					feedback: "Huntsman tries to explain something about ‘duty’ and ‘serving one’s country,’ but it sounds hollow now. He’s really oportunistic. If he really thought your policy was failing, why did he stick around? Either he’s lying now, or he was complicit then. Neither looks good."
				},
				21559: {
					desc: "If I could be a bit technical here… well, uh, I think I can just explain the TPP to him. He’s got to understand that, right?.",
					feedback: "You get deep into trade policy details. Huntsman keeps up with you easily; this is his wheelhouse. The audience’s eyes glaze over. In another moment, this would be a friendly conversation, but times have changed, and you don’t find this as a good enough win for you."
				},
				21563: {
					desc: "I’ll praise him again. ‘Jon knows China is a partner, not an enemy. And uh, as President, see: I agree with him.’",
					feedback: "You’ve definitely tried to neutralize his attacks, but you haven’t scored any points either. To the average viewer, you both sound like you’re speaking the same language, and it’s not really theirs. He’s all China, China, China, but to what avail? Maybe you should go back to leaning Irish. It would be neat."
				}
			}
		}
	},
    "Gingrich": {
        83: {
            question: "Newt Gingrich is a bit of a heavyweight of ideas and history, but both you and I know he carries an entire airport’s worth of baggage, from his ethics violations in the 90s to his expensive consulting for Freddie Mac. He frames himself as a visionary, but how do <i>you</i> frame Newt?",
            answers: {
                297: {
                    desc: "Gingrich was forced out of the Speakership by his own party for ethics violations, remember that? He shut down the government because he didn’t get a good seat on Air Force One. If we have gridlock today, then well, as Maury would say: Newt, you are the father.",
                    feedback: "Gingrich’s negatives are already high, and your attacks to help drive them through the roof. For better or worse, more Americans associate you with hope than him."
                },
                298: {
                    desc: "Newt has a lot of ideas, you know. Some interesting, some like building a colony on the Moon. The presidency doesn’t require all this grandiosity and erratic behavior.",
                    feedback: "You paint him as the, uh, ‘Nutty Professor,’ which is probably not too far out from the truth. Voters do laugh at the Moon colony remark, though it’s worth noting space exploration has always been a fairly popular idea with voters."
                },
                299: {
                    desc: "While Newt was attacking me for my, uh, ‘socialism,’ he was earning millions consulting for Freddie Mac and others. He is the ultimate Washington lobbyist, selling his influence to the highest bidder. Just pathetic.",
                    feedback: "This helps neutralize his anti-establishment rhetoric, almost instantly. It’s amazing to strip away his populist veneer and reveal the swamp creature beneath. A very effective line of attack, I tell you."
                }
            }
        },
        300: {
            answers: {
                1658: {
                    feedback: "Ah, that hypocrisy-laden grifter. You’re gonna watch Newt fail, just like he failed in the 90s (ignoring his successes, of course). Even if you both have to swim… you’re gonna make sure he drowns."
                }
            }
        },
        21305: {
			question: "You and Newt Gingrich arrive in Denver. Turns out he is lecturing: he treats the moderator like a grad student and you like a failing pupil. He calls you the ‘Food Stamp President’, and launches himself into a five-minute history lesson about the fall of Rome. You know he’s planfully arrogant, but he’s smart. How do you handle him?",
			answers: {
				21306: {
					desc: "Eh, I’ll stay above the fray. He sounds like an angry windbag or something, so let him pontificate. After all, I’m the candidate representing the future.",
					feedback: "This may be true, but the problem with letting Newt talk is that, unfortunately for you, he’s good at it. At times, your silence looks like you don’t have an answer. Gingrich happily dominates the stage while you wait your turn. This wasn’t the night to be passive, you know."
				},
				21311: {
					desc: "I’ll mock his grandiosity. ‘Newt, we’re not in a classroom. People need jobs, and not, uh, of one of your history lessons. That and, well, the so-called moon colonies.’",
					feedback: "You can see his face redden at the Moon Colony mention. The audience laughs — at him, not with him, amen to that. For all his historical references, he’s been reduced to the guy who wants to colonize the moon while people can’t pay their mortgages. It’s amusing, really, to see how far he’s fallen."
				},
				21315: {
					desc: "I’ll attack his ethics. ‘Mr. Speaker, you were fined $300,000 for ethics violations. You don’t get to lecture anyone on morality.’",
					feedback: "Gingrich tries his usual trick of blaming the media, but the specific number hangs in the air. Three hundred thousand dollars, for ethics violations, from his own colleagues… you wonder if this ever gave him nightmares."
				},
				21320: {
					desc: "I’ll pivot to his lobbying. ‘You were taking millions from Freddie Mac while the economy crashed.’ He is, uh, what do my opponents say? Part of the swamp or something.",
					feedback: "You smirk as his populist credentials evaporate in real time. The man who claims to be fighting the establishment was on the payroll of the institutions that caused the crisis. Can you believe it? It doesn’t matter how many Roman emperors he quotes after that."
				}
			}
		},
		21533: {
			question: "It’s the second debate, and Newt is on a rampage. He just attacked moderator Candy Crowley for asking a ‘biased question’ about his ex-wives. He is raging against the ‘liberal media elite’ to thunderous applause from the partisan crowd. And now he’s trying to turn the debate into a meta-commentary on the press. Miraculously, it seems to be working.",
			answers: {
				21534: {
					desc: "Hm, I’ll step in. ‘Please proceed, Newt.’ I mean, he looks angry and unhinged. I’ll just stand there and let him argue.",
					feedback: "He does just that. Ten minutes of him shouting at a female journalist while you stand there, looking awkwardly at the scene. Although the audience loves it, the viewers at home see something different. They see him as a man with an anger problem who can’t answer a simple question."
				},
				21538: {
					desc: "Jesus, not this again. ‘Newt, stop whining, answer the question. If you can’t handle a tough question, you can’t handle the presidency.’",
					feedback: "The man who fancies himself an intellectual giant is now the candidate who complains when the questions get hard, who could say? It’s unbelievable. You strongly consider the idea of bullying him more times, probably by comparing to other crybabies you forgot the name of. Maybe your pal Anthony Bourdain can help you with that."
				},
				21542: {
					desc: "I’ll… uh… wait, I’ll just crack a joke. ‘I think Newt is upset because he didn’t get the aisle seat on Air Force One again.’",
					feedback: "It’s a deep cut, and to be honest, most of the audience won’t get the reference. But the half a dozen or so people who do remember the 1995 government shutdown remember it for exactly this kind of pettiness. And tomorrow, luckily for you, the explainers will fill everyone else in."
				},
				21546: {
					desc: "Um, I should really pivot here. ‘The question was about your record, Newt. And your record with women voters is… complicated, you know.’",
					feedback: "You didn’t mention the affairs, and you didn’t have to. The word ‘complicated’ does all the work for you, you think. Although not every woman in America knows about all his fantasies, you do know that every woman who doesn’t is now curious enough to Google it tonight."
				}
			}
		},
		21550: {
			question: "It’s the third and final debate. Newt is proposing a ‘Grand Strategy’ for the Middle East that involves massive intervention a la Rumsfeld. He says you are you ‘weak’ and compares you to Jimmy Carter, perhaps the worst comparison he could make. In fact, the bastard says he would have bombed Benghazi the next day. What’s his deal?",
			answers: {
				21551: {
					desc: "I need my zingers, heh, you know, here. ‘The 1980s called, Newt. They want their foreign policy back. And, uh, maybe their Speaker, too.’",
					feedback: "Though not historically accurate, given the Democratic dominance of Congress in the 1980s, you’ve hit him on policy and age in one sentence. He looks like a relic, a man fighting the last war with the last century’s playbook, or whatever is left of it. Tumblrites go crazy with your supposed double meaning of ‘speaker’, but they do agree with your rationale: that he’s old news, and everyone in the room just felt it."
				},
				21555: {
					desc: "He’s reckless, really reckless. ‘Newt, this isn’t a game of Risk. Real people die when you talk about ‘civilizational war’ or something. I killed Bin Laden, but you’re just small talk.’",
					feedback: "Gingrich can quote all the history he wants, but he’s never sat in that room at 2 a.m. deciding whether to send Americans into danger. You have, and drawing that contrast is perhaps the most you can do here."
				},
				21559: {
					desc: "Uh, I’ll just ask him about that moon base again. ‘Is the Moon part of your Middle East strategy, Newt?’",
					feedback: "It gets a laugh, but maybe you’re deflecting from a real conversation about foreign policy. There is only so much you can do to keep him in the realm of sci-fi, after all. Still, it’s hard for Newt to look like a serious commander-in-chief when you keep reminding everyone about his lunar ambitions."
				},
				21563: {
					desc: "Again, I should just take the high road. ‘We need nation-building here at home, Newt. Not in the Middle East, or in other countries.’",
					feedback: "Americans are tired, you believe. Tired of war and tired of all these grand strategies that end in quagmires. Newt is offering more of what exhausted them, but you’re offering something different. In this moment, you think that’s enough."
				}
			}
		}
	}
}

function updateOpponentQuestions() {
    const opponentKey = window.opLast;
    
    if (!DYNAMIC_SCENARIOS[opponentKey]) return;

    const scenarioData = DYNAMIC_SCENARIOS[opponentKey];

    // loop through every question ID defined for this opponent
    for (const qID in scenarioData) {
        
        let qData = scenarioData[qID];
        let targetQ = parseInt(qID); 

        // update question
        if (qData.question) {
            let qObj = campaignTrail_temp.questions_json.find(q => q.pk === targetQ);
            if (qObj) {
                qObj.fields.description = qData.question;
            }
        }

        // update answers & feedback
        if (qData.answers) {
            for (const ansPK in qData.answers) {
                let ansData = qData.answers[ansPK];
                let targetA = parseInt(ansPK);

                // update answers
                if (ansData.desc) {
                    let aObj = campaignTrail_temp.answers_json.find(a => a.pk === targetA);
                    if (aObj) {
                        aObj.fields.description = ansData.desc;
                    }
                }

                // update feedback
                if (ansData.feedback) {
                    let fObj = campaignTrail_temp.answer_feedback_json.find(f => f.fields.answer === targetA);
                    if (fObj) {
                        fObj.fields.answer_feedback = ansData.feedback;
                    }
                }
            }
        }
    }
    console.log(`Question set updated for: ${opponentKey}`);
}

// This pretty much implements multiple allocation methods, including the model-based
// Approval/Borda/Condorcet. That's really it.
(() => {
  const METHOD = {
    SAINTE_LAGUE: 4,
    DHONDT: 5,
    HUNTINGTON_HILL: 6,
    LR_HARE: 7,
    APPROVAL_SL: 8,
    BORDA_SL: 9,
    COPELAND_SL: 10,
  };

  const CFG = (window.ALT_VOTING_CONFIG = Object.assign(
    {
      approval: { thresholdRatio: 0.85, bandAbs: null },
      clampUtilityAtZero: true,
    },
    window.ALT_VOTING_CONFIG || {}
  ));

  // helpers
  function sainteLague(votes, seats) {
    const n = votes.length;
    const alloc = Array(n).fill(0);
    if (seats <= 0) return alloc;
    for (let s = 0; s < seats; s++) {
      let best = -1, bestScore = -Infinity;
      for (let i = 0; i < n; i++) {
        const score = votes[i] / (2 * alloc[i] + 1);
        if (score > bestScore) { bestScore = score; best = i; }
      }
      alloc[best]++;
    }
    return alloc;
  }

  function dHondt(votes, seats) {
    const n = votes.length;
    const alloc = Array(n).fill(0);
    if (seats <= 0) return alloc;
    for (let s = 0; s < seats; s++) {
      let best = -1, bestScore = -Infinity;
      for (let i = 0; i < n; i++) {
        const score = votes[i] / (alloc[i] + 1);
        if (score > bestScore) { bestScore = score; best = i; }
      }
      alloc[best]++;
    }
    return alloc;
  }

  function huntingtonHill(votes, seats) {
    const n = votes.length;
    const alloc = Array(n).fill(0);
    if (seats <= 0) return alloc;
    for (let s = 0; s < seats; s++) {
      let best = -1, bestScore = -Infinity;
      for (let i = 0; i < n; i++) {
        const a = alloc[i];
        const priority = (a === 0) ? Infinity : votes[i] / Math.sqrt(a * (a + 1));
        if (priority > bestScore) { bestScore = priority; best = i; }
      }
      alloc[best]++;
    }
    return alloc;
  }

  function largestRemainderHare(votes, seats) {
    const n = votes.length;
    if (seats <= 0) return Array(n).fill(0);
    const total = votes.reduce((a, b) => a + b, 0);
    if (total <= 0) {
      const a = Array(n).fill(0);
      if (n > 0) a[0] = seats;
      return a;
    }
    const quota = total / seats;
    const base = votes.map((v) => Math.floor(v / quota));
    let assigned = base.reduce((a, b) => a + b, 0);
    const rem = votes.map((v, i) => ({ i, r: v / quota - base[i] }));
    rem.sort((a, b) => (b.r - a.r) || (a.i - b.i));
    let idx = 0;
    while (assigned < seats) {
      base[rem[idx % n].i]++;
      assigned++;
      idx++;
    }
    return base;
  }

  function allocateByMethod(method, weights, seats) {
    switch (method) {
      case METHOD.SAINTE_LAGUE: return sainteLague(weights, seats);
      case METHOD.DHONDT: return dHondt(weights, seats);
      case METHOD.HUNTINGTON_HILL: return huntingtonHill(weights, seats);
      case METHOD.LR_HARE: return largestRemainderHare(weights, seats);
      default: return sainteLague(weights, seats);
    }
  }

  // context builder
  function buildContext(e) {
    const gp = e.global_parameter_json?.[0]?.fields || {};
    const voteVar = gp.vote_variable ?? 1.0; // FIX: Safer default
    const cIW = gp.candidate_issue_weight ?? 1;
    const rIW = gp.running_mate_issue_weight ?? 1;

    const answers = e.player_answers || [];
    const playerId = e.candidate_id;
    const candidates = [playerId, ...(e.opponents_list || [])];

    const rmByIssue = new Map(
      (e.running_mate_issue_score_json || []).map((x) => [x.fields.issue, x.fields.issue_score])
    );

    const ansIssueAgg = new Map(); 
    for (const it of e.answer_score_issue_json || []) {
      const f = it.fields;
      if (!answers.includes(f.answer)) continue;
      const prev = ansIssueAgg.get(f.issue) || { g: 0, b: 0 };
      prev.g += f.issue_score * f.issue_importance;
      prev.b += f.issue_importance;
      ansIssueAgg.set(f.issue, prev);
    }

    const candIssue = new Map(); 
    for (const row of e.candidate_issue_score_json || []) {
      const c = row.fields.candidate;
      if (!candIssue.has(c)) candIssue.set(c, new Map());
      candIssue.get(c).set(row.fields.issue, row.fields.issue_score);
    }

    const effCandIssue = new Map();
    for (const cand of candidates) {
      const base = candIssue.get(cand) || new Map();
      if (cand !== playerId) {
        effCandIssue.set(cand, base);
      } else {
        const adj = new Map();
        for (const [issue, score] of base.entries()) {
          const rmScore = rmByIssue.get(issue);
          const agg = ansIssueAgg.get(issue) || { g: 0, b: 0 };
          if (rmScore == null) {
            adj.set(issue, score);
          } else {
            const num = score * cIW + rmScore * rIW + agg.g;
            const den = cIW + rIW + agg.b;
            adj.set(issue, num / (den || 1));
          }
        }
        effCandIssue.set(cand, adj);
      }
    }

    const asgByKey = new Map();
    for (const it of e.answer_score_global_json || []) {
      const f = it.fields;
      if (f.candidate !== playerId) continue;
      const k = `${f.answer}|${f.affected_candidate}`;
      asgByKey.set(k, f.global_multiplier + (asgByKey.get(k) || 0));
    }
    
    const globalMultiplier = new Map();
    for (const cand of candidates) {
      let cumul = 0;
      for (const ans of answers) {
        cumul += asgByKey.get(`${ans}|${cand}`) || 0;
      }
      const base = (cand === playerId && cumul < -0.4) ? 0.6 : 1 + cumul;
      const gm = (cand === playerId) ? base * (e.difficulty_level_multiplier || 1) : base;
      globalMultiplier.set(cand, isNaN(gm) ? 1 : gm);
    }

    const csm = new Map(); 
    for (const cand of candidates) csm.set(cand, new Map());
    for (const row of e.candidate_state_multiplier_json || []) {
      if (row.model !== "campaign_trail.candidate_state_multiplier") continue;
      const cand = row.fields.candidate;
      if (!globalMultiplier.has(cand)) continue;
      if (!csm.has(cand)) csm.set(cand, new Map());
      const gm = globalMultiplier.get(cand);
      const sm = (row.fields.state_multiplier || 0) * gm;
      csm.get(cand).set(row.fields.state, sm);
    }

    const stateIssues = new Map();
    for (const row of e.state_issue_score_json || []) {
      const f = row.fields;
      if (!stateIssues.has(f.state)) stateIssues.set(f.state, []);
      stateIssues.get(f.state).push({ issue: f.issue, s: f.state_issue_score, w: f.weight || 1 });
    }

    const stateEVByPk = new Map((e.states_json || []).map((s) => [s.pk, s.fields.electoral_votes || 0]));

    return { candidates, effCandIssue, csm, stateIssues, voteVar, stateEVByPk };
  }

  function computeUtilitiesForState(ctx, statePk, orderCandIds) {
    const { effCandIssue, csm, stateIssues, voteVar } = ctx;
    const issues = stateIssues.get(statePk) || [];
    const weights = [];

    for (const candId of orderCandIds) {
      const sm = csm.get(candId)?.get(statePk) ?? 0;
      let sum = 0;
      const issueMap = effCandIssue.get(candId) || new Map();
      for (const { issue, s: stateScore, w } of issues) {
        const cs = issueMap.get(issue) ?? 0;
        const S = cs * Math.abs(cs);
        const E = stateScore * Math.abs(stateScore);
        sum += voteVar - Math.abs((S - E) * w);
      }
      let util = sum * sm;
      if (CFG.clampUtilityAtZero) util = Math.max(0, util);
      weights.push(util);
    }
    return weights;
  }

  function weightsApproval(utils) {
    const n = utils.length;
    if (n === 0) return [];
    const maxU = Math.max(...utils);
    const bandAbs = CFG.approval.bandAbs;
    const thr = CFG.approval.thresholdRatio ?? 0.85;
    const cutoff = bandAbs != null ? (maxU - bandAbs) : (maxU * thr);
    let any = false;
    const approvals = utils.map((u) => {
        const a = u >= cutoff && maxU > 0 ? 1 : 0;
        if(a) any=true; 
        return a;
    });
    if (!any) {
      const topIdx = utils.indexOf(maxU);
      if (topIdx >= 0) approvals[topIdx] = 1;
    }
    return approvals;
  }

  function weightsBorda(utils) {
    const n = utils.length;
    if (n === 0) return [];
    
    let items = utils.map((u, i) => ({ i, u }));
    items.sort((a, b) => b.u - a.u);

    const pts = Array(n).fill(0);
    let i = 0;
    while (i < n) {
      let j = i + 1;
      while (j < n && items[j].u === items[i].u) j++;
      
      let sumPoints = 0;
      for (let k = i; k < j; k++) sumPoints += (n - 1 - k);
      const avg = sumPoints / (j - i);

      for (let k = i; k < j; k++) pts[items[k].i] = Math.max(0, avg);
      i = j;
    }
    return pts;
  }

  function weightsCopeland(utils) {
    const n = utils.length;
    if (n === 0) return [];
    const score = Array(n).fill(0);
    for (let i = 0; i < n; i++) {
      for (let j = i + 1; j < n; j++) {
        if (utils[i] > utils[j]) score[i] += 1;
        else if (utils[j] > utils[i]) score[j] += 1;
      }
    }
    return score;
  }

  let _cachedCtx = null;
  let _lastCandId = null;
  let _lastAnswerLength = -1;

  // the patch.
  const __origA = window.A;
  if (typeof __origA !== "function") return;

  window.A = function patchedA(t) {
    const out = __origA.apply(this, arguments);

    try {
      const e = window.campaignTrail_temp || window.e;
      if (!e || e.primary) return out;

      const mode = Number(e.game_type_id);
      if (!Object.values(METHOD).includes(mode)) return out;

      // simple modes
      if (mode >= METHOD.SAINTE_LAGUE && mode <= METHOD.LR_HARE) {
        const stateFieldsByPk = new Map((e.states_json || []).map((s) => [s.pk, s.fields]));
        for (const st of out) {
          const sf = stateFieldsByPk.get(st.state);
          const seats = Number(sf?.electoral_votes || 0);
          if (seats <= 0) continue;
          const weights = st.result.map((r) => Math.max(0, Number(r.votes) || 0));
          const alloc = allocateByMethod(mode, weights, seats);
          for (let i = 0; i < st.result.length; i++) st.result[i].electoral_votes = alloc[i];
        }
        return out;
      }
	  
      const currentAnswerLength = e.player_answers ? e.player_answers.length : 0;
      const currentCandId = e.candidate_id;

      if (!_cachedCtx || currentAnswerLength !== _lastAnswerLength || _lastCandId !== currentCandId) {
          _cachedCtx = buildContext(e);
          _lastAnswerLength = currentAnswerLength;
          _lastCandId = currentCandId;
      }
      
      const ctx = _cachedCtx;

      for (const st of out) {
        const seats = Number(ctx.stateEVByPk.get(st.state) || 0);
        if (seats <= 0) continue;

        const orderCandIds = st.result.map((r) => r.candidate);
        const utils = computeUtilitiesForState(ctx, st.state, orderCandIds);

        let weights;
        switch (mode) {
          case METHOD.APPROVAL_SL: weights = weightsApproval(utils); break;
          case METHOD.BORDA_SL:    weights = weightsBorda(utils); break;
          case METHOD.COPELAND_SL: weights = weightsCopeland(utils); break;
          default: weights = utils.slice();
        }

        const sumW = weights.reduce((a, b) => a + b, 0);
        let alloc;
        if (sumW <= 0) {
          alloc = Array(weights.length).fill(0);
          if (weights.length > 0) alloc[0] = seats;
        } else {
          alloc = sainteLague(weights, seats);
        }

        for (let i = 0; i < st.result.length; i++) {
          st.result[i].electoral_votes = alloc[i];
        }
      }
    } catch (err) {
      console.error("[AltVoting] Error:", err);
      return out;
    }

    return out;
  };
})();

// The footer - taken from TTNW* and rewritten for this mod
// *okay technically this was taken from UBWHB, but mostly because that mod
// used a 'lite' version of the TTNW footer that wasn't as interwined with
// the mod, and worked nicely here.
const FALLBACK_QUESTION_IMAGE_URL = "https://media.gettyimages.com/id/158375981/pt/foto/washington-dc-a-flag-at-the-u-s-capitol-flies-at-half-staff-after-president-barack-obama.jpg?s=612x612&w=0&k=20&c=zvphsmmOorpQiZ5vTG9nZlLckJYL4hrTNMjW2oT8FiU=";

// psst: this is defined by the question PKs and not the question order.
const questionImageMap = {
	1: "https://static.dw.com/image/15649619_605.jpg",
	2: "https://static.independent.co.uk/s3fs-public/thumbnails/image/2015/12/12/12/GettyImages-483987802.jpg",
	4: "https://static01.nyt.com/images/2012/09/20/business/ECON/ECON-jumbo.jpg?quality=75&auto=webp&disable=upscale",
	5: "https://cdn.abcotvs.com/dip/images/793307_061815-Getty-South-Carolina-Thumb.jpg?w=1600",
    6: "https://media.gettyimages.com/id/98480226/pt/foto/washington-new-hampshire-residents-roger-rist-robin-rist-and-judy-berman-holds-signs-while.jpg?s=612x612&w=0&k=20&c=sDvL6VK4XSTHmM3q-KyzPzucK4FzYbv-6G0Cj9aRiF8=",
	7: "https://file.garden/aNtAfG887DiA_7lO/2012LBM/sb1070.jpg",
	8: "https://static01.nyt.com/images/2010/10/18/business/mead/mead-blogSpan.jpg",
	9: "https://www.thenewatlantis.com/wp-content/uploads/2012/11/Yucca_Mountain_crest_south.jpg",
	10: "https://fortune.com/img-assets/wp-content/uploads/2015/08/fortune-f-150827.jpg?w=1440&q=75",
	12: "https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2009/08/18/obamamubarak460.jpg?width=465&dpr=1&s=none&crop=none",
	13: "https://penncapital-star.com/wp-content/uploads/2025/10/fracking-operation--1536x1024.jpeg",
	15: "https://file.garden/aNtAfG887DiA_7lO/2012LBM/colbar.png",
	16: "https://cdn.mos.cms.futurecdn.net/v2/t:0,l:67,cw:2266,ch:1700,q:80,w:2266/xi3BKYr8t4TPwWTEVVXbLk.jpg",
	18: "https://www.pbs.org/newshour/app/uploads/2014/12/147998624-1024x682.jpg",
	19: "https://static01.nyt.com/images/2012/03/25/world/25prexy1_span/25prexy1_span-articleLarge.jpg?quality=75&auto=webp&disable=upscale",
	21: "https://static01.nyt.com/images/2012/04/23/global-home/afghan-image/afghan-image-superJumbo.jpg",
	22: "https://www.aljazeera.com/wp-content/uploads/2012/05/2012513131321936248_8.jpeg?fit=770,545&quality=80",
	23: "https://media.cnn.com/api/v1/images/stellar/prod/130123223824-women-marines-afghanistan.jpg?q=x_0,y_140,h_2362,w_4199,c_crop/h_833,w_1480",
	24: "https://i.guim.co.uk/img/static/sys-images/Guardian/About/General/2011/7/5/1309877146677/Carbon-emissions-007.jpg?width=465&dpr=1&s=none&crop=none",
	25: "https://www.americanprogress.org/wp-content/uploads/sites/2/2009/02/bush_tax_cuts_onpage.jpg",
	26: "https://chappatte.com/sites/default/files/import_ld/L091117ce.jpg",
	27: "https://i0.wp.com/otherwords.org/wp-content/uploads/2010/12/Clean-Corn1.jpg?resize=1080%2C675&ssl=1",
	28: "https://www.reuters.com/resizer/v2/https%3A%2F%2Farchive-images.prod.global.a201836.reutersmedia.net%2F2012%2F08%2F15%2F2012-08-15T015018Z_01_GM2E88E08N601_RTRRPP_0_OBAMA.JPG?auth=f5efc6e2abb739a30670eecb5ad225f6d4b12b9aecfed6573163b6dc2a76bebd&width=1920&quality=80",	
	29: "https://content.maltatoday.com.mt/ui/images/photos/iran_nuclear_deal.png",
	30: "https://upload.wikimedia.org/wikipedia/commons/9/9c/St._Martinville_Louisiana_Bilingual_Street_Signs.jpg",
	31: "https://arc-anglerfish-arc2-prod-bostonglobe.s3.amazonaws.com/public/NLYBO3VARMI6FLZKEPOX63FTPA.jpg",
	32: "https://media-cldnry.s-nbcnews.com/image/upload/t_fit-560w,f_auto,q_auto:best/msnbc/2013_41/16787/158163850_1.jpg",
	33: "https://pyxis.nymag.com/v1/imgs/555/f22/8231aece44370e16f1fa668d69ae165210-27-barack-obama-education.2x.rsocial.w600.jpg",
	34: "https://s.wsj.net/public/resources/images/OB-NK754_botw04_E_20110407123029.jpg",
	35: "https://static01.nyt.com/images/2012/03/17/business/17charts-span/17charts-span-articleLarge.jpg?quality=75&auto=webp&disable=upscale",
	36: "https://static01.nyt.com/images/2015/10/07/us/08guncontrol/08guncontrol-superJumbo.jpg",
	37: "https://cdn.kqed.org/wp-content/uploads/sites/10/2024/12/102924-BILINGUAL-RECOVERY-LV_1-1020x680.jpg",
	38: "https://static01.nyt.com/images/2012/06/21/us/jp-HOLDER-1/jp-HOLDER-1-articleLarge.jpg?quality=75&auto=webp&disable=upscale",
	39: "https://static01.nyt.com/images/2019/03/11/opinion/11barricaWeb-LN/11barricaWeb-superJumbo.jpg",
	40: "https://i.guim.co.uk/img/static/sys-images/Guardian/Pix/pictures/2012/4/29/1335725252519/Young-boys-play-cricket-b-008.jpg?width=465&dpr=1&s=none&crop=none",
	41: "https://www.americanprogress.org/wp-content/uploads/sites/2/2024/03/GettyImages-1386740410.jpgcropped.jpg?w=1680",
	42: "https://upload.wikimedia.org/wikipedia/commons/7/70/Obama_meets_doctors.jpg",
	43: "https://static01.nyt.com/images/2016/03/30/opinion/30weintraubWeb/30weintraubWeb-superJumbo.jpg",
	44: "https://www.rollingstone.com/wp-content/uploads/2018/06/rs-19237-20121205-reefer-sadness-624x420-1354742244.jpg",
	46: "https://static01.nyt.com/images/2012/06/02/business/economy/02jobs-cnd02/02jobs-cnd02-articleLarge.jpg?quality=75&auto=webp&disable=upscale",
	47: "https://static01.nyt.com/images/2011/07/30/business/Econ1/Econ1-articleLarge.jpg?quality=75&auto=webp&disable=upscale",
	48: "https://media-cldnry.s-nbcnews.com/image/upload/MSNBC/Components/Slideshows/_production/ss-100122-bernanke/ss-100122-bernanke05.jpg.jpg",
	50: "https://static01.nyt.com/images/2012/06/17/magazine/17cartel_ss-slide-8SH6/17cartel_ss-slide-8SH6-superJumbo.jpg",
	51: "https://static01.nyt.com/images/2012/05/17/world/greece-1337211224172/greece-1337211224172-articleLarge.jpg?quality=75&auto=webp&disable=upscale",
	52: "https://static01.nyt.com/images/2021/08/31/business/31dc-retire/merlin_172854288_ea204e02-c051-405f-9c36-beab77217428-articleLarge.jpg?quality=75&auto=webp&disable=upscale",
	53: "https://d3i6fh83elv35t.cloudfront.net/static/2024/06/2021-11-12T191441Z_349357675_RC23TQ9B9HST_RTRMADP_3_USA-COURT-ABORTION-OHIO-1024x683.jpg",
	54: "https://chappatte.com/sites/default/files/styles/thumb/public/import_ld/N120710e.jpg?itok=d5NC3paI",
	55: "https://static01.nyt.com/images/2012/07/07/us/JP-MEDICARE/JP-MEDICARE-superJumbo.jpg",
	57: "https://gwbushcenter.imgix.net/wp-content/uploads/Americas-Housing-Crisis.png",
	61: "https://static01.nyt.com/images/2012/12/30/opinion/sunday/YIP2012OCTOBER-slide-ZKVE/YIP2012OCTOBER-slide-ZKVE-jumbo.jpg",
	62: "https://ca-times.brightspotcdn.com/dims4/default/408b26c/2147483647/strip/true/crop/3840x2568+0+5/resize/320x214!/quality/75/?url=https%3A%2F%2Fcalifornia-times-brightspot.s3.amazonaws.com%2F0c%2F7b%2F7905c1014afd89164acc97fabc45%2Fus-gas-prices-93085.jpg",
	65: "https://static01.nyt.com/images/2012/09/18/business/jp-SORKIN/jp-SORKIN-tmagArticle.jpg",
	66: "https://file.garden/aNtAfG887DiA_7lO/2012LBM/obamamerkel.png",
	67: "https://static01.nyt.com/images/2011/12/16/world/middleeast/POSTWAR/POSTWAR-articleLarge.jpg",
	68: "https://s.wsj.net/public/resources/images/OB-DG535_oj_1wh_E_20090308214245.jpg",
	72: "https://cdn.talkpoverty.org/content/uploads/2016/12/16082333/AP_110214061514.jpg",
	74: "https://cdn.mos.cms.futurecdn.net/ix4fg2gZQQroKA5gGGkotH-1600-80.jpg",
	76: "https://www.economist.com/cdn-cgi/image/width=1424,quality=80,format=auto/sites/default/files/images/articles/migrated/D4708US0.jpg",
	78: "https://carolinapublicpress.org/wp-content/uploads/2022/12/oldgrowth01-scaled.jpg",
	80: "https://snhr.org/wp-content/uploads/sites/2/2014/12/June-Death-Toll-2013-1200.jpg",
	81: "https://www.cityam.com/wp-content/uploads/2015/04/flashcrash-57fe5d196e070-57fe5d198999e.jpg",
	82: "https://www.americanprogress.org/wp-content/uploads/sites/2/2010/10/medicare_numbers_onpage.jpg",
	83: "https://i.insider.com/4f537536eab8ead82900002a?width=800&format=jpeg&auto=webp",
	85: "https://www.politico.com/dims4/default/resize/1200/quality/90/format/jpg?url=http%3A%2F%2Fs3-origin-images.politico.com%2F2012%2F06%2F120605_walker_win_speech_ap_605.jpg",
	86: "https://file.garden/aNtAfG887DiA_7lO/2012LBM/dronewars.png",
	93: "https://www.aljazeera.com/wp-content/uploads/2012/09/2012911142156878621_20.jpeg",
	96: "https://static01.nyt.com/images/2012/11/13/nyregion/JP-INSURANCE1/JP-INSURANCE1-articleLarge.jpg?quality=75&auto=webp&disable=upscale",
	97: "https://www.archives.gov/files/women/carter-ford-at-rally.jpg",
	98: "https://media-cldnry.s-nbcnews.com/image/upload/t_fit-560w,f_auto,q_auto:best/newscms/2017_50/2263011/171215-capitol-mn-1630.jpg",
	114: "https://media.gazetadopovo.com.br/2011/05/obama-ny-1.0.74797257-gpMedium.jpg",
	130: "https://live.staticflickr.com/3231/3142216126_c66d9ff7b6_c.jpg",
	300: "https://ideas.time.com/wp-content/uploads/sites/5/2012/08/151026561.jpg",
	301: "https://static01.nyt.com/images/2008/11/07/us/politics/07barackobama533.jpg",
	1722: "https://www.nytexaminer.com/wp-content/uploads/2012/11/Hurricane-Sandy-Lake-Michigan.jpg",
	21138: "https://static01.nyt.com/images/2012/10/11/us/politics/1011obama/1011obama-superJumbo.jpg",
	21305: "https://media-cldnry.s-nbcnews.com/image/upload/t_fit-560w,f_auto,q_auto:best/streams/2012/October/121016/1C4324160-121016_debate-stage-4x3.jpg",
	21325: "https://static01.nyt.com/images/2008/11/11/technology/bits_obama_web.480.jpg",
	21398: "https://i.guim.co.uk/img/static/sys-images/Guardian/About/General/2010/7/29/1280399433668/Barack-Obama-on-The-View-006.jpg?width=465&dpr=1&s=none&crop=none",
	21455: "https://static01.nyt.com/images/2012/01/25/us/25lunches_cnd/25lunches_cnd-articleLarge.jpg?quality=75&auto=webp&disable=upscale",
	21520: "https://static01.nyt.com/images/2014/09/05/world/BENGHAZI/BENGHAZI-articleLarge.jpg",
	21533: "https://images.seattletimes.com/wp-content/uploads/2014/12/2025176085.jpg?d=780x0",
	21550: "https://cdn.theatlantic.com/thumbor/nlHWr90XXcf9VKE6PLn_3qcX0hk=/864x0:4320x3456/1080x1080/media/img/nj/2012/10/22/debate-fact-check-the-third/ap400095099814/original.jpg",
};

const newFooterStyles = `
    #new_footer {
        display: flex; justify-content: center; align-items: center;
        gap: 15px; padding: 2px 0; width: 100%;
        font-family: Arial, Helvetica, sans-serif;
    }
    .footer-box {
        width: 180px; border: 1px solid #777; border-radius: 5px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.2); background-color: #fff;
        overflow: hidden; display: flex; flex-direction: column;
    }
    .footer-box-img {
        display: block; width: 100%; height: 180px;
        object-fit: cover; object-position: center -12px;
    }
    .footer-box-question { width: 300px; }
    .footer-box-question .footer-box-img { object-position: center top; }
    .footer-text-bar {
        padding: 5px 8px; text-align: center;
        background: linear-gradient(to bottom, #f5f5f5, #e8e8e8);
    }
    .footer-text-bar.top { border-bottom: 1px solid #ccc; }
    .footer-text-bar.bottom { border-top: 1px solid #ccc; }
    .footer-text-bar .role-text { font-size: 12px; color: #333; }
    .footer-text-bar .name-text { font-size: 16px; color: #000; font-weight: bold; }
	
	@media (max-width: 768px) { 
		#new_footer {
			background: linear-gradient(rgb(11, 76, 115) 35%, rgb(221, 160, 30));
			border: .1rem solid #d23030;
			border-radius: 0 0 .2rem .2rem;
		}
	}	
`;

if (!document.getElementById('new_footer_styles')) {
    const styleSheet = document.createElement("style");
    styleSheet.id = 'new_footer_styles';
    styleSheet.innerText = newFooterStyles;
    document.head.appendChild(styleSheet);
}

// helper functions
function createInfoBox(config) {
    const container = document.createElement('div');
	const fragment = document.createDocumentFragment();
    container.className = 'footer-box';
    if (config.customClass) {
        container.classList.add(config.customClass);
    }

    const image = document.createElement('img');
    image.className = 'footer-box-img';
    image.src = config.imageSrc;
    
    const textBar = document.createElement('div');
    textBar.className = `footer-text-bar ${config.textPosition}`;
    
    config.textLines.forEach(line => {
        const textElement = document.createElement('div');
        textElement.className = line.className;
        textElement.textContent = line.text;
        textBar.appendChild(textElement);
    });

    if (config.textPosition === 'top') {
        fragment.appendChild(textBar);
        fragment.appendChild(image);
    } else {
        fragment.appendChild(image);
        fragment.appendChild(textBar);
    }
    
    container.appendChild(fragment);
    return container;
}

function preloadImages(imageMap, fallbackUrl) {
    // preload the fallback image
    new Image().src = fallbackUrl;
    // then preload all specific images from the map
    for (const pk in imageMap) {
        new Image().src = imageMap[pk];
    }
}

function handleFooter() {
    const oldCandidatePic = document.getElementById('candidate_pic');
    const oldRunningMatePic = document.getElementById('running_mate_pic');
    const gameWindow = document.getElementById('game_window');

    if (!oldCandidatePic || !oldRunningMatePic || !gameWindow) {
        return;
    }

    // get question image
    const currentQuestion = campaignTrail_temp.questions_json[campaignTrail_temp.question_number];
    let questionImageUrl = FALLBACK_QUESTION_IMAGE_URL; // default to fallback
    if (currentQuestion && questionImageMap[currentQuestion.pk]) {
        // we found an image for this PK? use it
        questionImageUrl = questionImageMap[currentQuestion.pk];
    }

    const candidatePicSrc = oldCandidatePic.src;
    const runningMatePicSrc = oldRunningMatePic.src;
    
    oldCandidatePic.remove();
    oldRunningMatePic.remove();
	
	const mainCandidateName = "Barack Obama";
    const mainCandidateRole = "President";
    let runningMateName = "Joe Biden";
    let runningMateRole = "Vice President";
    
    // check if a running mate has been selected
    if (e.selected_running_mate) {
        runningMateName = `${e.selected_running_mate.fields.first_name} ${e.selected_running_mate.fields.last_name}`;
        const roleDesc = e.selected_running_mate.fields.description;
        runningMateRole = roleDesc ? roleDesc.replace(/<p>|<\/p>/g, '').trim() : "Vice President";
    }
        
    let newFooter = document.getElementById('new_footer');
    if (!newFooter) {
        newFooter = document.createElement("div");
        newFooter.id = "new_footer";
        gameWindow.appendChild(newFooter);
    }

    const fragment = document.createDocumentFragment();
    const questionInfo = `Question ${campaignTrail_temp.question_number + 1} of ${campaignTrail_temp.global_parameter_json[0].fields.question_count}`;
    
    const candidateBox = createInfoBox({
        imageSrc: candidatePicSrc, textPosition: 'bottom',
        textLines: [{ text: mainCandidateRole, className: 'role-text' }, { text: mainCandidateName, className: 'name-text' }]
    });

    const questionBox = createInfoBox({
        imageSrc: questionImageUrl,
        textPosition: 'top', customClass: 'footer-box-question',
        textLines: [{ text: questionInfo, className: 'name-text' }]
    });
    
    const runningMateBox = createInfoBox({
        imageSrc: runningMatePicSrc, textPosition: 'bottom',
		textLines: [{ text: runningMateRole, className: 'role-text' }, { text: runningMateName, className: 'name-text' }]
    });

    fragment.appendChild(candidateBox);
    fragment.appendChild(questionBox);
    fragment.appendChild(runningMateBox);
    
    newFooter.innerHTML = ''; 
    newFooter.appendChild(fragment);

    const signDisplay = document.querySelector('.inner_window_sign_display');
    if(signDisplay) signDisplay.style.display = "none";
}

// the observer.
const persistentObserver = new MutationObserver((mutationsList) => {
    for (const mutation of mutationsList) {
        for (const node of mutation.addedNodes) {
            if (node.nodeType === Node.ELEMENT_NODE && 
                (node.id === 'candidate_pic' || node.querySelector?.('#candidate_pic'))) {
                handleFooter();
                return; // exit early, but don't disconnect
            }
        }
    }
});

persistentObserver.observe(document.body, { 
    childList: true, 
    subtree: true 
});

function observeBody() {
    persistentObserver.observe(document.body, { childList: true, subtree: true });
}

if (!window.hasInitializedNewFooter) {
    window.hasInitializedNewFooter = true;
    
    // preload all images
    preloadImages(questionImageMap, FALLBACK_QUESTION_IMAGE_URL);
    
    // start observing the page for changes
    observeBody();
    
    // run once immediately in case the footer is already present
    if (document.getElementById('candidate_pic')) {
        handleFooter();
    }
}

// Observer to fix EV/PV estimate buttons on polling map
// @todo: fix
function setupEstimateButtonFixes() {
  let pvswitcher = null;
  let evEst = null;

  // function to fix the PV switcher text
  const fixPVSwitcher = () => {
    const btn = document.getElementById('pvswitcher');
    if (btn && btn.textContent === 'PV Estimate') {
      btn.textContent = 'Popular Vote Estimate';
      pvswitcher = btn;
    }
  };

  // function to fix the EV estimate button
  const fixEVEstButton = () => {
    const btn = document.getElementById('ev_est');
    if (!btn || evEst === btn) return;
    
    evEst = btn;
    const currentText = btn.textContent;
    
    // Clone button to remove old handlers
    const newButton = btn.cloneNode(true);
    btn.parentNode.replaceChild(newButton, btn);
    
    if (currentText.includes('Switch to State Estimate')) {
      newButton.addEventListener('click', () => {
        const switchingEst = document.getElementById('switchingEst');
        if (switchingEst && typeof slrr !== 'undefined') {
          switchingEst.innerHTML = slrr;
          newButton.textContent = 'Electoral Vote Estimate';
        }
      });
    } else if (currentText.includes('Electoral Vote Estimate')) {
      newButton.addEventListener('click', () => {
        const switchingEst = document.getElementById('switchingEst');
        if (switchingEst && typeof nnn !== 'undefined') {
          switchingEst.innerHTML = nnn;
          newButton.textContent = 'Switch to State Estimate';
        }
      });
    }
    
    evEst = newButton;
  };

  // only observe the specific container that holds these buttons
  const observer = new MutationObserver(() => {
    fixPVSwitcher();
    fixEVEstButton();
  });

  // wait for overall_result to exist, then observe only that element
  const checkForContainer = setInterval(() => {
    const container = document.getElementById('overall_result');
    if (container) {
      clearInterval(checkForContainer);
      
      // run fixes immediately
      fixPVSwitcher();
      fixEVEstButton();
      
      observer.observe(container, {
        childList: true,
        subtree: true,
        characterData: true,
      });
    }
  }, 100);
}

if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', setupEstimateButtonFixes);
} else {
  setupEstimateButtonFixes();
}

// This is a mechanism for visit feedbacks. Essentially,
// depending on the state's distances to each other, your
// advisors will print out something else.

// 'choose' => show a city <select> in the visit overlay
// 'random' => silently pick a city (still remembered) and just show it in the message
const CITY_SELECTION_MODE = 'choose'; // 'choose' | 'random'

// when traveling within the same state, force the "to" city to be
// different from the last visited "from" city when possible
const AVOID_SAME_CITY_INTRA_STATE = true;

// build a PK-keyed city dictionary from a name/abbr keyed dictionary
// this is so we don't have to align numeric PKs
function buildCitiesByStatePk(nameDict) {
  const states = window.campaignTrail_temp?.states_json || [];
  const byPk = {};
  const normalize = (s) => String(s || '').toLowerCase().replace(/\./g, '').replace(/\s+/g, ' ').trim();

  const nameIndex = new Map(states.map((st) => [normalize(st.fields.name), st.pk]));
  const abbrToName = {
    AL:'Alabama', AK:'Alaska', AZ:'Arizona', AR:'Arkansas', CA:'California', CO:'Colorado', CT:'Connecticut', DE:'Delaware',
    FL:'Florida', GA:'Georgia', HI:'Hawaii', ID:'Idaho', IL:'Illinois', IN:'Indiana', IA:'Iowa', KS:'Kansas',
    KY:'Kentucky', LA:'Louisiana', ME:'Maine', MD:'Maryland', MA:'Massachusetts', MI:'Michigan', MN:'Minnesota', MS:'Mississippi',
    MO:'Missouri', MT:'Montana', NE:'Nebraska', NV:'Nevada', NH:'New Hampshire', NJ:'New Jersey', NM:'New Mexico', NY:'New York',
    NC:'North Carolina', ND:'North Dakota', OH:'Ohio', OK:'Oklahoma', OR:'Oregon', PA:'Pennsylvania', RI:'Rhode Island', SC:'South Carolina',
    SD:'South Dakota', TN:'Tennessee', TX:'Texas', UT:'Utah', VT:'Vermont', VA:'Virginia', WA:'Washington', WV:'West Virginia',
    WI:'Wisconsin', WY:'Wyoming', DC:'District of Columbia'
  };

  for (const [key, cities] of Object.entries(nameDict)) {
    const name = abbrToName[key] || key;
    const pk = nameIndex.get(normalize(name));
    if (pk) {
      byPk[pk] = cities;
    } else {
      console.warn('No state match for', key, '— skipping.');
    }
  }
  return byPk;
}

const ACELA_CORRIDOR_STATES = [
    "Massachusetts",
    "Rhode Island",
    "Connecticut",
    "New York",
    "New Jersey",
    "Pennsylvania",
    "Delaware",
    "Maryland",
    "Washington DC"
];

const CITIES_BY_STATE_NAME = {
  "Alabama": [
    { name: "Birmingham",  lat: 33.5186, lon: -86.8104 },
    { name: "Montgomery",  lat: 32.3668, lon: -86.3000 },
    { name: "Mobile",      lat: 30.6954, lon: -88.0399 },
    { name: "Huntsville",  lat: 34.7304, lon: -86.5861 },
    { name: "Tuscaloosa",  lat: 33.2098, lon: -87.5692 },
  ],
  "Alaska": [
    { name: "Anchorage", lat: 61.2176, lon: -149.8997 },
    { name: "Juneau",    lat: 58.3019, lon: -134.4197 },
    { name: "Fairbanks", lat: 64.8378, lon: -147.7164 },
    { name: "Sitka",     lat: 57.0531, lon: -135.3300 },
    { name: "Ketchikan", lat: 55.3422, lon: -131.6461 },
  ],
  "Arizona": [
    { name: "Phoenix",    lat: 33.4484, lon: -112.0740 },
    { name: "Tucson",     lat: 32.2226, lon: -110.9747 },
    { name: "Mesa",       lat: 33.4152, lon: -111.8315 },
    { name: "Scottsdale", lat: 33.4942, lon: -111.9261 },
    { name: "Chandler",   lat: 33.3062, lon: -111.8413 },
  ],
  "Arkansas": [
    { name: "Little Rock", lat: 34.7465, lon: -92.2896 },
    { name: "Fort Smith",  lat: 35.3859, lon: -94.3985 },
    { name: "Fayetteville",lat: 36.0822, lon: -94.1719 },
    { name: "Springdale",  lat: 36.1867, lon: -94.1288 },
    { name: "Jonesboro",   lat: 35.8423, lon: -90.7043 },
  ],
  "California": [
    { name: "Los Angeles",   lat: 34.0522, lon: -118.2437 },
    { name: "San Diego",     lat: 32.7157, lon: -117.1611 },
    { name: "San Jose",      lat: 37.3382, lon: -121.8863 },
    { name: "San Francisco", lat: 37.7749, lon: -122.4194 },
    { name: "Sacramento",    lat: 38.5816, lon: -121.4944 },
  ],
  "Colorado": [
    { name: "Denver",         lat: 39.7392, lon: -104.9903 },
    { name: "Colorado Springs",lat: 38.8339, lon: -104.8214 },
    { name: "Aurora",         lat: 39.7294, lon: -104.8319 },
    { name: "Fort Collins",   lat: 40.5853, lon: -105.0844 },
    { name: "Boulder",        lat: 40.0150, lon: -105.2705 },
  ],
  "Connecticut": [
    { name: "Bridgeport", lat: 41.1792, lon: -73.1894 },
    { name: "New Haven",  lat: 41.3083, lon: -72.9279 },
    { name: "Hartford",   lat: 41.7658, lon: -72.6734 },
    { name: "Stamford",   lat: 41.0534, lon: -73.5387 },
    { name: "Waterbury",  lat: 41.5585, lon: -73.0515 },
  ],
  "Delaware": [
    { name: "Wilmington",  lat: 39.7391, lon: -75.5398 },
    { name: "Dover",       lat: 39.1582, lon: -75.5244 },
    { name: "Newark",      lat: 39.6837, lon: -75.7497 },
    { name: "Middletown",  lat: 39.4496, lon: -75.7163 },
    { name: "Smyrna",      lat: 39.2998, lon: -75.6044 },
  ],
  "Florida": [
    { name: "Miami",        lat: 25.7617, lon: -80.1918 },
    { name: "Orlando",      lat: 28.5383, lon: -81.3792 },
    { name: "Tampa",        lat: 27.9506, lon: -82.4572 },
    { name: "Jacksonville", lat: 30.3322, lon: -81.6557 },
    { name: "Tallahassee",  lat: 30.4383, lon: -84.2807 },
  ],
  "Georgia": [
    { name: "Atlanta",  lat: 33.7490, lon: -84.3880 },
    { name: "Savannah", lat: 32.0809, lon: -81.0912 },
    { name: "Augusta",  lat: 33.4735, lon: -81.9748 },
    { name: "Macon",    lat: 32.8407, lon: -83.6324 },
    { name: "Columbus", lat: 32.4610, lon: -84.9877 },
  ],
  "Hawaii": [
    { name: "Honolulu",   lat: 21.3069, lon: -157.8583 },
    { name: "Hilo",       lat: 19.7074, lon: -155.0885 },
    { name: "Kailua",     lat: 21.4022, lon: -157.7394 },
    { name: "Pearl City", lat: 21.3972, lon: -157.9751 },
    { name: "Kahului",    lat: 20.8893, lon: -156.4729 },
  ],
  "Idaho": [
    { name: "Boise",        lat: 43.6150, lon: -116.2023 },
    { name: "Meridian",     lat: 43.6121, lon: -116.3915 },
    { name: "Nampa",        lat: 43.5407, lon: -116.5635 },
    { name: "Idaho Falls",  lat: 43.4917, lon: -112.0333 },
    { name: "Pocatello",    lat: 42.8713, lon: -112.4455 },
  ],
  "Illinois": [
    { name: "Chicago",     lat: 41.8781, lon: -87.6298 },
    { name: "Aurora",      lat: 41.7606, lon: -88.3201 },
    { name: "Naperville",  lat: 41.7508, lon: -88.1535 },
    { name: "Joliet",      lat: 41.5250, lon: -88.0817 },
    { name: "Springfield", lat: 39.7817, lon: -89.6501 },
  ],
  "Indiana": [
    { name: "Indianapolis", lat: 39.7684, lon: -86.1581 },
    { name: "Fort Wayne",   lat: 41.0793, lon: -85.1394 },
    { name: "Evansville",   lat: 37.9716, lon: -87.5711 },
    { name: "South Bend",   lat: 41.6764, lon: -86.2510 },
    { name: "Bloomington",  lat: 39.1653, lon: -86.5264 },
  ],
  "Iowa": [
    { name: "Des Moines",  lat: 41.5868, lon: -93.6250 },
    { name: "Cedar Rapids",lat: 41.9779, lon: -91.6656 },
    { name: "Davenport",   lat: 41.5236, lon: -90.5776 },
    { name: "Sioux City",  lat: 42.4993, lon: -96.4003 },
    { name: "Iowa City",   lat: 41.6611, lon: -91.5302 },
  ],
  "Kansas": [
    { name: "Wichita",        lat: 37.6872, lon: -97.3301 },
    { name: "Overland Park",  lat: 38.9822, lon: -94.6708 },
    { name: "Kansas City",    lat: 39.1142, lon: -94.6275 },
    { name: "Topeka",         lat: 39.0473, lon: -95.6752 },
    { name: "Olathe",         lat: 38.8814, lon: -94.8191 },
  ],
  "Kentucky": [
    { name: "Louisville",   lat: 38.2527, lon: -85.7585 },
    { name: "Lexington",    lat: 38.0406, lon: -84.5037 },
    { name: "Bowling Green",lat: 36.9685, lon: -86.4808 },
    { name: "Owensboro",    lat: 37.7719, lon: -87.1112 },
    { name: "Covington",    lat: 39.0837, lon: -84.5086 },
  ],
  "Louisiana": [
    { name: "New Orleans", lat: 29.9511, lon: -90.0715 },
    { name: "Baton Rouge", lat: 30.4515, lon: -91.1871 },
    { name: "Shreveport",  lat: 32.5252, lon: -93.7502 },
    { name: "Lafayette",   lat: 30.2241, lon: -92.0198 },
    { name: "Lake Charles",lat: 30.2266, lon: -93.2174 },
  ],
  "Maine": [
    { name: "Portland", lat: 43.6591, lon: -70.2568 },
    { name: "Bangor",   lat: 44.8012, lon: -68.7778 },
    { name: "Lewiston", lat: 44.1003, lon: -70.2148 },
    { name: "Augusta",  lat: 44.3106, lon: -69.7795 },
    { name: "Auburn",   lat: 44.0979, lon: -70.2312 },
  ],
  "Maryland": [
    { name: "Baltimore",  lat: 39.2904, lon: -76.6122 },
    { name: "Annapolis",  lat: 38.9784, lon: -76.4922 },
    { name: "Frederick",  lat: 39.4143, lon: -77.4105 },
    { name: "Rockville",  lat: 39.0840, lon: -77.1528 },
    { name: "Silver Spring", lat: 38.9907, lon: -77.0261 },
  ],
  "Massachusetts": [
    { name: "Boston",     lat: 42.3601, lon: -71.0589 },
    { name: "Worcester",  lat: 42.2626, lon: -71.8023 },
    { name: "Springfield",lat: 42.1015, lon: -72.5898 },
    { name: "Lowell",     lat: 42.6334, lon: -71.3162 },
    { name: "Cambridge",  lat: 42.3736, lon: -71.1097 },
  ],
  "Michigan": [
    { name: "Detroit",        lat: 42.3314, lon: -83.0458 },
    { name: "Grand Rapids",   lat: 42.9634, lon: -85.6681 },
    { name: "Lansing",        lat: 42.7325, lon: -84.5555 },
    { name: "Ann Arbor",      lat: 42.2808, lon: -83.7430 },
    { name: "Flint",          lat: 43.0125, lon: -83.6875 },
  ],
  "Minnesota": [
    { name: "Minneapolis", lat: 44.9778, lon: -93.2650 },
    { name: "St. Paul",    lat: 44.9537, lon: -93.0900 },
    { name: "Duluth",      lat: 46.7867, lon: -92.1005 },
    { name: "Rochester",   lat: 44.0121, lon: -92.4802 },
    { name: "Bloomington", lat: 44.8408, lon: -93.2983 },
  ],
  "Mississippi": [
    { name: "Jackson",     lat: 32.2988, lon: -90.1848 },
    { name: "Gulfport",    lat: 30.3674, lon: -89.0928 },
    { name: "Hattiesburg", lat: 31.3271, lon: -89.2903 },
    { name: "Biloxi",      lat: 30.3960, lon: -88.8853 },
    { name: "Tupelo",      lat: 34.2576, lon: -88.7034 },
  ],
  "Missouri": [
    { name: "Kansas City", lat: 39.0997, lon: -94.5786 },
    { name: "St. Louis",   lat: 38.6270, lon: -90.1994 },
    { name: "Springfield", lat: 37.2089, lon: -93.2923 },
    { name: "Columbia",    lat: 38.9517, lon: -92.3341 },
    { name: "Independence",lat: 39.0911, lon: -94.4155 },
  ],
  "Montana": [
    { name: "Billings",   lat: 45.7833, lon: -108.5007 },
    { name: "Missoula",   lat: 46.8721, lon: -113.9940 },
    { name: "Great Falls",lat: 47.5053, lon: -111.3008 },
    { name: "Bozeman",    lat: 45.6770, lon: -111.0429 },
    { name: "Helena",     lat: 46.5884, lon: -112.0245 },
  ],
  "Nebraska": [
    { name: "Omaha",       lat: 41.2565, lon: -95.9345 },
    { name: "Lincoln",     lat: 40.8136, lon: -96.7026 },
    { name: "Bellevue",    lat: 41.1544, lon: -95.9146 },
    { name: "Grand Island",lat: 40.9250, lon: -98.3420 },
    { name: "Kearney",     lat: 40.6995, lon: -99.0815 },
  ],
  "Nevada": [
    { name: "Las Vegas",      lat: 36.1699, lon: -115.1398 },
    { name: "Henderson",      lat: 36.0395, lon: -114.9817 },
    { name: "Reno",           lat: 39.5296, lon: -119.8138 },
    { name: "North Las Vegas",lat: 36.1989, lon: -115.1175 },
    { name: "Carson City",    lat: 39.1638, lon: -119.7674 },
  ],
  "New Hampshire": [
    { name: "Manchester", lat: 42.9956, lon: -71.4548 },
    { name: "Nashua",     lat: 42.7654, lon: -71.4676 },
    { name: "Concord",    lat: 43.2081, lon: -71.5376 },
    { name: "Dover",      lat: 43.1979, lon: -70.8737 },
    { name: "Portsmouth", lat: 43.0718, lon: -70.7626 },
  ],
  "New Jersey": [
    { name: "Newark",      lat: 40.7357, lon: -74.1724 },
    { name: "Jersey City", lat: 40.7178, lon: -74.0431 },
    { name: "Paterson",    lat: 40.9168, lon: -74.1718 },
    { name: "Elizabeth",   lat: 40.6630, lon: -74.2107 },
    { name: "Trenton",     lat: 40.2171, lon: -74.7429 },
  ],
  "New Mexico": [
    { name: "Albuquerque", lat: 35.0844, lon: -106.6504 },
    { name: "Las Cruces",  lat: 32.3199, lon: -106.7637 },
    { name: "Santa Fe",    lat: 35.6870, lon: -105.9378 },
    { name: "Rio Rancho",  lat: 35.2328, lon: -106.6630 },
    { name: "Roswell",     lat: 33.3943, lon: -104.5230 },
  ],
  "New York": [
    { name: "New York City", lat: 40.7128, lon: -74.0060 },
    { name: "Buffalo",       lat: 42.8864, lon: -78.8784 },
    { name: "Rochester",     lat: 43.1566, lon: -77.6088 },
    { name: "Albany",        lat: 42.6526, lon: -73.7562 },
    { name: "Syracuse",      lat: 43.0481, lon: -76.1474 },
  ],
  "North Carolina": [
    { name: "Charlotte",     lat: 35.2271, lon: -80.8431 },
    { name: "Raleigh",       lat: 35.7796, lon: -78.6382 },
    { name: "Greensboro",    lat: 36.0726, lon: -79.7920 },
    { name: "Durham",        lat: 35.9940, lon: -78.8986 },
    { name: "Winston-Salem", lat: 36.0999, lon: -80.2442 },
  ],
  "North Dakota": [
    { name: "Fargo",       lat: 46.8772, lon: -96.7898 },
    { name: "Bismarck",    lat: 46.8083, lon: -100.7837 },
    { name: "Grand Forks", lat: 47.9253, lon: -97.0329 },
    { name: "Minot",       lat: 48.2325, lon: -101.2963 },
    { name: "West Fargo",  lat: 46.8747, lon: -96.9009 },
  ],
  "Ohio": [
    { name: "Columbus",   lat: 39.9612, lon: -82.9988 },
    { name: "Cleveland",  lat: 41.4993, lon: -81.6944 },
    { name: "Cincinnati", lat: 39.1031, lon: -84.5120 },
    { name: "Toledo",     lat: 41.6528, lon: -83.5379 },
    { name: "Akron",      lat: 41.0814, lon: -81.5190 },
  ],
  "Oklahoma": [
    { name: "Oklahoma City", lat: 35.4676, lon: -97.5164 },
    { name: "Tulsa",         lat: 36.1540, lon: -95.9928 },
    { name: "Norman",        lat: 35.2226, lon: -97.4395 },
    { name: "Broken Arrow",  lat: 36.0609, lon: -95.7975 },
    { name: "Edmond",        lat: 35.6528, lon: -97.4781 },
  ],
  "Oregon": [
    { name: "Portland", lat: 45.5051, lon: -122.6750 },
    { name: "Eugene",   lat: 44.0521, lon: -123.0868 },
    { name: "Salem",    lat: 44.9429, lon: -123.0351 },
    { name: "Gresham",  lat: 45.5001, lon: -122.4306 },
    { name: "Bend",     lat: 44.0582, lon: -121.3153 },
  ],
  "Pennsylvania": [
    { name: "Philadelphia", lat: 39.9526, lon: -75.1652 },
    { name: "Pittsburgh",   lat: 40.4406, lon: -79.9959 },
    { name: "Allentown",    lat: 40.6023, lon: -75.4714 },
    { name: "Harrisburg",   lat: 40.2732, lon: -76.8867 },
    { name: "Erie",         lat: 42.1292, lon: -80.0851 },
  ],
  "Rhode Island": [
    { name: "Providence", lat: 41.8240, lon: -71.4128 },
    { name: "Warwick",    lat: 41.7001, lon: -71.4162 },
    { name: "Cranston",   lat: 41.7798, lon: -71.4373 },
    { name: "Pawtucket",  lat: 41.8787, lon: -71.3826 },
    { name: "Newport",    lat: 41.4901, lon: -71.3128 },
  ],
  "South Carolina": [
    { name: "Columbia",     lat: 34.0007, lon: -81.0348 },
    { name: "Charleston",   lat: 32.7765, lon: -79.9311 },
    { name: "Greenville",   lat: 34.8526, lon: -82.3940 },
    { name: "Spartanburg",  lat: 34.9496, lon: -81.9320 },
    { name: "Myrtle Beach", lat: 33.6891, lon: -78.8867 },
  ],
  "South Dakota": [
    { name: "Sioux Falls", lat: 43.5446, lon: -96.7311 },
    { name: "Rapid City",  lat: 44.0805, lon: -103.2310 },
    { name: "Aberdeen",    lat: 45.4647, lon: -98.4865 },
    { name: "Brookings",   lat: 44.3114, lon: -96.7984 },
    { name: "Watertown",   lat: 44.8994, lon: -97.1151 },
  ],
  "Tennessee": [
    { name: "Nashville",   lat: 36.1627, lon: -86.7816 },
    { name: "Memphis",     lat: 35.1495, lon: -90.0490 },
    { name: "Knoxville",   lat: 35.9606, lon: -83.9207 },
    { name: "Chattanooga", lat: 35.0456, lon: -85.3097 },
    { name: "Clarksville", lat: 36.5298, lon: -87.3595 },
  ],
  "Texas": [
    { name: "Houston",     lat: 29.7604, lon: -95.3698 },
    { name: "Dallas",      lat: 32.7767, lon: -96.7970 },
    { name: "San Antonio", lat: 29.4241, lon: -98.4936 },
    { name: "Austin",      lat: 30.2672, lon: -97.7431 },
    { name: "El Paso",     lat: 31.7619, lon: -106.4850 },
  ],
  "Utah": [
    { name: "Salt Lake City",  lat: 40.7608, lon: -111.8910 },
    { name: "West Valley City",lat: 40.6916, lon: -112.0011 },
    { name: "Provo",           lat: 40.2338, lon: -111.6585 },
    { name: "Orem",            lat: 40.2969, lon: -111.6946 },
    { name: "St. George",      lat: 37.0965, lon: -113.5684 },
  ],
  "Vermont": [
    { name: "Burlington",      lat: 44.4759, lon: -73.2121 },
    { name: "South Burlington",lat: 44.4660, lon: -73.1709 },
    { name: "Rutland",         lat: 43.6106, lon: -72.9726 },
    { name: "Montpelier",      lat: 44.2601, lon: -72.5754 },
    { name: "Barre",           lat: 44.1970, lon: -72.5020 },
  ],
  "Virginia": [
    { name: "Virginia Beach", lat: 36.8529, lon: -75.9780 },
    { name: "Norfolk",        lat: 36.8508, lon: -76.2859 },
    { name: "Richmond",       lat: 37.5407, lon: -77.4360 },
    { name: "Arlington",      lat: 38.8816, lon: -77.0910 },
    { name: "Alexandria",     lat: 38.8048, lon: -77.0469 },
  ],
  "Washington": [
    { name: "Seattle",   lat: 47.6062, lon: -122.3321 },
    { name: "Spokane",   lat: 47.6588, lon: -117.4260 },
    { name: "Tacoma",    lat: 47.2529, lon: -122.4443 },
    { name: "Vancouver", lat: 45.6387, lon: -122.6615 },
    { name: "Bellevue",  lat: 47.6101, lon: -122.2015 },
  ],
  // West Virginia
  "West Virginia": [
    { name: "Charleston",  lat: 38.3498, lon: -81.6326 },
    { name: "Huntington",  lat: 38.4192, lon: -82.4452 },
    { name: "Morgantown",  lat: 39.6295, lon: -79.9559 },
    { name: "Parkersburg", lat: 39.2667, lon: -81.5615 },
    { name: "Wheeling",    lat: 40.0639, lon: -80.7209 },
  ],
  "Wisconsin": [
    { name: "Milwaukee", lat: 43.0389, lon: -87.9065 },
    { name: "Madison",   lat: 43.0731, lon: -89.4012 },
    { name: "Green Bay", lat: 44.5133, lon: -88.0133 },
    { name: "Kenosha",   lat: 42.5847, lon: -87.8212 },
    { name: "Appleton",  lat: 44.2619, lon: -88.4154 },
  ],
  "Wyoming": [
    { name: "Cheyenne",     lat: 41.1400, lon: -104.8188 },
    { name: "Casper",       lat: 42.8501, lon: -106.3252 },
    { name: "Laramie",      lat: 41.3114, lon: -105.5911 },
    { name: "Gillette",     lat: 44.2906, lon: -105.5022 },
    { name: "Rock Springs", lat: 41.5869, lon: -109.2080 },
  ],
  "Washington DC": [
	{ name: "Washington", lat: 38.9072, lon: -77.0369 },
  ],
};

const CITIES_BY_STATE = buildCitiesByStatePk(CITIES_BY_STATE_NAME);

const CITY_ISSUE_EFFECTS = {
  "Alabama": {
    "Birmingham": { 1: 0.05, 4: 0.05 },
    "Montgomery": { 4: -0.05, 3: -0.05 },
    "Mobile": { 1: -0.05, 5: -0.05 },
    "Huntsville": { 1: -0.1, 3: -0.15 },
    "Tuscaloosa": { 4: 0.05 }
  },
  "Alaska": {
    "Anchorage": { 1: -0.1, 3: -0.05 },
    "Juneau": { 4: 0.1, 1: 0.05 },
    "Fairbanks": { 3: -0.1, 5: -0.05 },
    "Sitka": { 4: 0.05 },
    "Ketchikan": { 1: -0.05 }
  },
  "Arizona": {
    "Phoenix": { 1: -0.05, 5: -0.1 },
    "Tucson": { 4: 0.1, 5: 0.1 },
    "Mesa": { 4: -0.1, 1: -0.05 },
    "Scottsdale": { 1: -0.1 },
    "Chandler": { 1: -0.05 }
  },
  "Arkansas": {
    "Little Rock": { 4: 0.05, 1: 0.05 },
    "Fort Smith": { 4: -0.1, 5: -0.05 },
    "Fayetteville": { 4: 0.1 },
    "Springdale": { 1: -0.05 },
    "Jonesboro": { 4: -0.05 }
  },
  "California": {
    "Los Angeles": { 4: 0.1, 5: 0.1, 1: 0.05 },
    "San Diego": { 3: -0.1, 5: 0.05 },
    "San Jose": { 4: 0.1, 1: -0.05 },
    "San Francisco": { 4: 0.15, 3: 0.1 },
    "Sacramento": { 1: 0.1 }
  },
  "Colorado": {
    "Denver": { 4: 0.1, 5: 0.05 },
    "Colorado Springs": { 4: -0.15, 3: -0.15 },
    "Aurora": { 5: 0.05 },
    "Fort Collins": { 4: 0.05 },
    "Boulder": { 4: 0.15, 3: 0.1 }
  },
  "Connecticut": {
    "Bridgeport": { 1: 0.1 },
    "New Haven": { 4: 0.1 },
    "Hartford": { 2: 0.05 },
    "Stamford": { 1: -0.1 },
    "Waterbury": { 1: 0.05 }
  },
  "Delaware": {
    "Wilmington": { 1: -0.1, 4: 0.05 },
    "Dover": { 3: -0.05 },
    "Newark": { 4: 0.05 },
    "Middletown": { 1: -0.05 },
    "Smyrna": { 1: 0.05 }
  },
  "Florida": {
    "Miami": { 3: -0.15, 5: 0.1 },
    "Orlando": { 1: 0.05, 5: 0.05 },
    "Tampa": { 3: -0.05 },
    "Jacksonville": { 3: -0.1, 4: -0.05 },
    "Tallahassee": { 1: 0.05 }
  },
  "Georgia": {
    "Atlanta": { 4: 0.1, 1: 0.05 },
    "Savannah": { 1: -0.05 },
    "Augusta": { 4: -0.05 },
    "Macon": { 1: 0.05 },
    "Columbus": { 3: -0.1 }
  },
  "Hawaii": {
    "Honolulu": { 3: 0.05, 4: 0.05 },
    "Hilo": { 1: 0.1 },
    "Kailua": { 3: -0.05 },
    "Pearl City": { 3: -0.1 },
    "Kahului": { 1: 0.05 }
  },
  "Idaho": {
    "Boise": { 1: -0.05, 4: 0.05 },
    "Meridian": { 4: -0.1 },
    "Nampa": { 5: 0.05 },
    "Idaho Falls": { 1: -0.1, 4: -0.1 },
    "Pocatello": { 1: 0.05 }
  },
  "Illinois": {
    "Chicago": { 1: 0.1, 4: 0.1, 2: 0.1 },
    "Aurora": { 5: 0.05 },
    "Naperville": { 1: -0.1 },
    "Joliet": { 1: 0.05 },
    "Springfield": { 1: 0.05 }
  },
  "Indiana": {
    "Indianapolis": { 1: -0.05, 4: 0.05 },
    "Fort Wayne": { 4: -0.05 },
    "Evansville": { 1: 0.05 },
    "South Bend": { 4: 0.05 },
    "Bloomington": { 4: 0.15 }
  },
  "Iowa": {
    "Des Moines": { 2: 0.05, 1: -0.05 },
    "Cedar Rapids": { 1: 0.05 },
    "Davenport": { 1: 0.05 },
    "Sioux City": { 4: -0.1 },
    "Iowa City": { 4: 0.15, 3: 0.1 }
  },
  "Kansas": {
    "Wichita": { 1: -0.1, 3: -0.05 },
    "Overland Park": { 1: -0.1, 4: 0.05 },
    "Kansas City": { 1: 0.05 },
    "Topeka": { 4: -0.05 },
    "Olathe": { 4: -0.1 }
  },
  "Kentucky": {
    "Louisville": { 4: 0.1, 1: 0.05 },
    "Lexington": { 4: 0.05 },
    "Bowling Green": { 1: -0.05 },
    "Owensboro": { 4: -0.1 },
    "Covington": { 1: -0.05 }
  },
  "Louisiana": {
    "New Orleans": { 4: 0.15, 1: 0.05 },
    "Baton Rouge": { 1: -0.05 },
    "Shreveport": { 4: -0.05, 1: -0.05 },
    "Lafayette": { 1: -0.1 },
    "Lake Charles": { 1: 0.05 }
  },
  "Maine": {
    "Portland": { 4: 0.1, 1: 0.05 },
    "Bangor": { 1: 0.05, 4: -0.05 },
    "Lewiston": { 1: 0.05, 5: 0.05 },
    "Augusta": { 1: 0.05 },
    "Auburn": { 1: 0.05 }
  },
  "Maryland": {
    "Baltimore": { 1: 0.15, 4: 0.1 },
    "Annapolis": { 3: -0.05 },
    "Frederick": { 4: -0.05 },
    "Rockville": { 4: 0.1, 1: 0.05 },
    "Silver Spring": { 4: 0.15, 5: 0.1 }
  },
  "Massachusetts": {
    "Boston": { 4: 0.15, 2: 0.1 },
    "Worcester": { 1: 0.05 },
    "Springfield": { 1: 0.1 },
    "Lowell": { 5: 0.05 },
    "Cambridge": { 4: 0.2, 3: 0.15 }
  },
  "Michigan": {
    "Detroit": { 1: 0.15, 4: 0.1 },
    "Grand Rapids": { 1: -0.1, 4: -0.1 },
    "Lansing": { 1: 0.05 },
    "Ann Arbor": { 4: 0.15, 3: 0.1 },
    "Flint": { 1: 0.15 }
  },
  "Minnesota": {
    "Minneapolis": { 4: 0.15, 5: 0.1 },
    "St. Paul": { 1: 0.1, 4: 0.1 },
    "Duluth": { 1: 0.15, 3: -0.05 },
    "Rochester": { 2: 0.1, 1: -0.05 },
    "Bloomington": { 1: -0.05 }
  },
  "Mississippi": {
    "Jackson": { 1: 0.05, 4: 0.05 },
    "Gulfport": { 3: -0.05 },
    "Hattiesburg": { 4: 0.05 },
    "Biloxi": { 1: -0.05 },
    "Tupelo": { 4: -0.1 }
  },
  "Missouri": {
    "Kansas City": { 1: 0.05, 4: 0.05 },
    "St. Louis": { 1: 0.1, 4: 0.1 },
    "Springfield": { 4: -0.15 },
    "Columbia": { 4: 0.1 },
    "Independence": { 4: -0.05 }
  },
  "Montana": {
    "Billings": { 1: -0.1 },
    "Missoula": { 4: 0.1, 3: 0.05 },
    "Great Falls": { 3: -0.1 },
    "Bozeman": { 4: 0.05 },
    "Helena": { 1: 0.05 }
  },
  "Nebraska": {
    "Omaha": { 1: -0.05, 4: 0.05 },
    "Lincoln": { 4: 0.05, 5: 0.05 },
    "Bellevue": { 3: -0.15 },
    "Grand Island": { 5: 0.05 },
    "Kearney": { 4: -0.1 }
  },
  "Nevada": {
    "Las Vegas": { 1: 0.1, 4: 0.1 },
    "Henderson": { 1: -0.05 },
    "Reno": { 4: 0.05 },
    "North Las Vegas": { 1: 0.05, 5: 0.1 },
    "Carson City": { 4: -0.1 }
  },
  "New Hampshire": {
    "Manchester": { 1: -0.05 },
    "Nashua": { 1: -0.05 },
    "Concord": { 4: 0.05 },
    "Dover": { 4: 0.05 },
    "Portsmouth": { 3: -0.05, 4: 0.1 }
  },
  "New Jersey": {
    "Newark": { 1: 0.1, 4: 0.1 },
    "Jersey City": { 4: 0.1, 1: 0.05 },
    "Paterson": { 5: 0.1 },
    "Elizabeth": { 1: 0.05 },
    "Trenton": { 1: 0.1 }
  },
  "New Mexico": {
    "Albuquerque": { 3: -0.05, 4: 0.05 },
    "Las Cruces": { 5: 0.1 },
    "Santa Fe": { 4: 0.15, 3: 0.1 },
    "Rio Rancho": { 1: -0.1 },
    "Roswell": { 4: -0.1 }
  },
  "New York": {
    "New York City": { 4: 0.15, 5: 0.15, 1: 0.05 },
    "Buffalo": { 1: 0.1, 3: -0.05 },
    "Rochester": { 4: 0.05 },
    "Albany": { 1: 0.1 },
    "Syracuse": { 1: 0.05 }
  },
  "North Carolina": {
    "Charlotte": { 1: -0.1, 4: 0.05 },
    "Raleigh": { 4: 0.05 },
    "Greensboro": { 4: 0.05 },
    "Durham": { 4: 0.15 },
    "Winston-Salem": { 1: -0.05 }
  },
  "North Dakota": {
    "Fargo": { 4: 0.05 },
    "Bismarck": { 1: -0.1 },
    "Grand Forks": { 3: -0.1 },
    "Minot": { 3: -0.15 },
    "West Fargo": { 1: -0.05 }
  },
  "Ohio": {
    "Columbus": { 1: -0.05, 4: 0.05 },
    "Cleveland": { 1: 0.1, 2: 0.05 },
    "Cincinnati": { 1: -0.1, 4: -0.05 },
    "Toledo": { 1: 0.15 },
    "Akron": { 1: 0.1 }
  },
  "Oklahoma": {
    "Oklahoma City": { 1: -0.15 },
    "Tulsa": { 4: -0.05 },
    "Norman": { 4: 0.05 },
    "Broken Arrow": { 4: -0.1 },
    "Edmond": { 1: -0.1 }
  },
  "Oregon": {
    "Portland": { 4: 0.2, 3: 0.1, 5: 0.1 },
    "Eugene": { 4: 0.15, 3: 0.1 },
    "Salem": { 1: 0.05 },
    "Gresham": { 1: 0.05 },
    "Bend": { 4: 0.05, 1: -0.05 }
  },
  "Pennsylvania": {
    "Philadelphia": { 1: 0.1, 4: 0.15 },
    "Pittsburgh": { 1: 0.1, 4: 0.05 },
    "Allentown": { 1: 0.05 },
    "Harrisburg": { 1: 0.05 },
    "Erie": { 1: 0.1 }
  },
  "Rhode Island": {
    "Providence": { 4: 0.1, 1: 0.05 },
    "Warwick": { 1: 0.05 },
    "Cranston": { 1: 0.05 },
    "Pawtucket": { 1: 0.1 },
    "Newport": { 3: -0.05, 1: -0.05 }
  },
  "South Carolina": {
    "Columbia": { 3: -0.05, 4: 0.05 },
    "Charleston": { 3: -0.1, 1: -0.05 },
    "Greenville": { 1: -0.1, 4: -0.1 },
    "Spartanburg": { 1: -0.1 },
    "Myrtle Beach": { 1: 0.05 }
  },
  "South Dakota": {
    "Sioux Falls": { 1: -0.1 },
    "Rapid City": { 3: -0.1 },
    "Aberdeen": { 4: -0.05 },
    "Brookings": { 4: 0.05 },
    "Watertown": { 4: -0.05 }
  },
  "Tennessee": {
    "Nashville": { 2: -0.1, 4: 0.05 },
    "Memphis": { 1: 0.1, 4: 0.1 },
    "Knoxville": { 1: -0.05 },
    "Chattanooga": { 1: -0.05 },
    "Clarksville": { 3: -0.15 }
  },
  "Texas": {
    "Houston": { 1: -0.15, 5: 0.05 },
    "Dallas": { 1: -0.15, 4: -0.05 },
    "San Antonio": { 3: -0.1, 5: 0.1 },
    "Austin": { 4: 0.15, 5: 0.1 },
    "El Paso": { 5: 0.2, 3: 0.05 }
  },
  "Utah": {
    "Salt Lake City": { 4: 0.1, 5: 0.1 },
    "West Valley City": { 5: 0.1 },
    "Provo": { 4: -0.15, 5: 0.05 },
    "Orem": { 4: -0.1 },
    "St. George": { 4: -0.15 }
  },
  "Vermont": {
    "Burlington": { 1: 0.15, 4: 0.15, 3: 0.1 },
    "South Burlington": { 4: 0.1 },
    "Rutland": { 1: 0.05 },
    "Montpelier": { 4: 0.1 },
    "Barre": { 1: 0.05 }
  },
  "Virginia": {
    "Virginia Beach": { 3: -0.1 },
    "Norfolk": { 3: -0.15, 1: 0.05 },
    "Richmond": { 4: 0.05 },
    "Arlington": { 4: 0.1, 1: 0.05 },
    "Alexandria": { 4: 0.1 }
  },
  "Washington": {
    "Seattle": { 4: 0.15, 1: 0.05 },
    "Spokane": { 4: -0.05, 1: 0.05 },
    "Tacoma": { 1: 0.05, 3: -0.05 },
    "Vancouver": { 1: -0.05 },
    "Bellevue": { 1: -0.1 }
  },
  "West Virginia": {
    "Charleston": { 1: 0.05 },
    "Huntington": { 1: 0.05 },
    "Morgantown": { 4: 0.05 },
    "Parkersburg": { 1: -0.05 },
    "Wheeling": { 1: 0.05 }
  },
  "Wisconsin": {
    "Milwaukee": { 1: 0.1, 4: 0.1 },
    "Madison": { 4: 0.2, 3: 0.15 },
    "Green Bay": { 1: 0.05 },
    "Kenosha": { 1: 0.1 },
    "Appleton": { 4: -0.05 }
  },
  "Wyoming": {
    "Cheyenne": { 3: -0.1, 1: -0.05 },
    "Casper": { 1: -0.15 },
    "Laramie": { 4: 0.05 },
    "Gillette": { 1: -0.15 },
    "Rock Springs": { 1: 0.05 }
  },
  "Washington DC": {
    "Washington": { 4: 0.1, 2: 0.1, 1: 0.1 }
  }
};

const MAX_ISSUE_SCORE_MAGNITUDE = 1.0;

function applyCityIssueEffects(statePk, cityName) {
  const stateName = getStateNameByPk(statePk);
  
  if (!CITY_ISSUE_EFFECTS[stateName]) return;
  const cityEffects = CITY_ISSUE_EFFECTS[stateName][cityName];
  if (!cityEffects) return;

  for (const [issuePk, modifier] of Object.entries(cityEffects)) {
    const issueId = parseInt(issuePk);
    
    // find the specific entry in the game's data for this State + Issue combo
    const issueRecord = window.campaignTrail_temp.state_issue_score_json.find(
      (entry) => entry.fields.state === statePk && entry.fields.issue === issueId
    );
	
	if (issueRecord) {
      let currentScore = issueRecord.fields.state_issue_score;
      
      // if data is corrupt (NaN), reset it to 0 to bring the state back
      if (isNaN(currentScore)) {
          currentScore = 0;
      }

      let newScore = currentScore + modifier;
      if (newScore > MAX_ISSUE_SCORE_MAGNITUDE) {
          newScore = MAX_ISSUE_SCORE_MAGNITUDE;
      } else if (newScore < -MAX_ISSUE_SCORE_MAGNITUDE) {
          newScore = -MAX_ISSUE_SCORE_MAGNITUDE;
      }

      issueRecord.fields.state_issue_score = newScore;
      
      // console.log(`Effect applied in ${cityName}, ${stateName}: issue ${issueId} moved from ${currentScore.toFixed(2)} to ${newScore.toFixed(2)}`);
    }
  }
}

// engine hooks/state
const PK_ALASKA = 2;
const PK_HAWAII = 11;
const NON_CONTIGUOUS_PKS = [PK_ALASKA, PK_HAWAII];

const DISTANCE_THRESHOLDS = {
  CAR: 150,   // up to 150 miles
  BUS: 400,   // up to 400 miles
  TRAIN: 900, // up to 900 miles
};

// persist chosen city per-state for the session
window.TCT_SELECTED_CITY_BY_STATE = window.TCT_SELECTED_CITY_BY_STATE || new Map();

// calculates the great-circle distance between two points on Earth
// just the Haversine formula basically, in miles
function haversineDistance(lat1, lon1, lat2, lon2) {
  const R = 3958.8; // mi
  const toRad = (deg) => (deg * Math.PI) / 180;
  const dLat = toRad(lat2 - lat1);
  const dLon = toRad(lon2 - lon1);
  const a =
    Math.sin(dLat / 2) ** 2 +
    Math.cos(toRad(lat1)) *
      Math.cos(toRad(lat2)) *
      Math.sin(dLon / 2) ** 2;
  return 2 * R * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));
}

function getStateByPk(pk) {
  return window.campaignTrail_temp?.states_json?.find((s) => s.pk === pk) || null;
}

function getStateNameByPk(pk) {
  const s = getStateByPk(pk);
  return s ? s.fields.name : "an unknown state";
}

function getCentroidForState(pk) {
  // fall back to provided centroids if city list is empty
  if (typeof STATE_CENTROIDS === 'object' && STATE_CENTROIDS[pk]) {
    return STATE_CENTROIDS[pk];
  }
  return null; // unknown
}

function getCitiesForState(pk) {
  const arr = CITIES_BY_STATE[pk];
  if (Array.isArray(arr) && arr.length) return arr.slice();
  return []; // empty => will fallback to centroid
}

function getCityCoords(pk, cityName) {
  const list = getCitiesForState(pk);
  if (list.length) {
    const c = list.find((c) => c.name === cityName) || list[0];
    return { lat: c.lat, lon: c.lon };
  }
  // fallback to centroid if no city list
  const cent = getCentroidForState(pk);
  if (cent) return { lat: cent.lat, lon: cent.lon };
  return null;
}

function getOrPickCity(pk, avoidCity = null) {
  const saved = window.TCT_SELECTED_CITY_BY_STATE.get(pk);
  const list = getCitiesForState(pk);
  if (!list.length) return null;

  if (saved && (!avoidCity || saved !== avoidCity)) {
    return saved;
  }

  if (CITY_SELECTION_MODE === 'random') {
    if (avoidCity) {
      const candidates = list.filter((c) => c.name !== avoidCity);
      const pick = (candidates.length ? candidates : list)[Math.floor(Math.random() * (candidates.length ? candidates.length : list.length))];
      window.TCT_SELECTED_CITY_BY_STATE.set(pk, pick.name);
      return pick.name;
    } else {
      const pick = list[Math.floor(Math.random() * list.length)];
      window.TCT_SELECTED_CITY_BY_STATE.set(pk, pick.name);
      return pick.name;
    }
  }

  // for 'choose' mode, return saved if present; otherwise default to first
  const defaultName = list[0].name;
  if (!saved) {
    // do not persist yet; will persist when user confirms or changes selection
    return defaultName;
  }
  return saved;
}

function computeTravelModeFromCities(fromPk, fromCity, toPk, toCity) {
  if (!fromPk || !toPk || fromPk === toPk && fromCity === toCity) {
    return "car";
  }
  if (NON_CONTIGUOUS_PKS.includes(fromPk) || NON_CONTIGUOUS_PKS.includes(toPk)) {
    return "plane";
  }
  
  const fromName = getStateNameByPk(fromPk);
  const toName = getStateNameByPk(toPk);
  
  if (ACELA_CORRIDOR_STATES.includes(fromName) && ACELA_CORRIDOR_STATES.includes(toName)) {
      // if we are crossing state lines within the corridor, take the train
      if (fromPk !== toPk) {
          return "train";
      }
  }

  const fromCoord = getCityCoords(fromPk, fromCity) || getCentroidForState(fromPk);
  const toCoord   = getCityCoords(toPk, toCity)   || getCentroidForState(toPk);
  if (!fromCoord || !toCoord) return "car";

  const dist = haversineDistance(fromCoord.lat, fromCoord.lon, toCoord.lat, toCoord.lon);
  if (dist <= DISTANCE_THRESHOLDS.CAR) return "car";
  if (dist <= DISTANCE_THRESHOLDS.BUS) return "bus";
  if (dist <= DISTANCE_THRESHOLDS.TRAIN) return "train";
  return "plane";
}

function parseSelectedStatePkFromOverlayText(textContent) {
  // try to extract "visit <STATE NAME> -- is this correct?" from 
  // base overlay string and map to state PK
  const visitRegex = /visit\s+([^—-]+)[—-]/i;
  const match = textContent.match(visitRegex);
  if (!match || !match[1]) return null;
  const stateName = match[1].trim();
  const st = window.campaignTrail_temp?.states_json?.find((s) => s.fields.name === stateName);
  return st ? st.pk : null;
}

function buildCitySelect(statePk, preselectedName, onChange) {
  const list = getCitiesForState(statePk);
  if (!list.length || CITY_SELECTION_MODE !== 'choose') return null;

  const wrap = document.createElement('div');
  wrap.style.margin = '-10px auto 5px auto';

  const label = document.createElement('label');
  label.textContent = 'Choose a city: ';
  label.style.marginRight = '8px';
  wrap.appendChild(label);

  const select = document.createElement('select');
  select.id = 'tct_city_select';
  for (const c of list) {
    const opt = document.createElement('option');
    opt.value = c.name;
    opt.textContent = c.name;
    if (c.name === preselectedName) opt.selected = true;
    select.appendChild(opt);
  }
  select.addEventListener('change', (e) => {
    onChange?.(e.target.value);
  });
  wrap.appendChild(select);

  return wrap;
}

function updateVisitOverlayWithCities() {
  const contentP = document.querySelector('#visit_content > p');
  if (!contentP || contentP.dataset.tctCityMsgUpdated === '1') return;

  const baseText = contentP.textContent || '';
  const toPk = parseSelectedStatePkFromOverlayText(baseText);
  if (!toPk) return; // could not detect state name from the base message

  // determine last visited state (fromPk)
  const visits = window.campaignTrail_temp?.player_visits || [];
  const fromPk = visits.length > 0 ? visits[visits.length - 1] : null;

  // determine fromCity and toCity candidates
  const fromCitySaved = fromPk ? (window.TCT_SELECTED_CITY_BY_STATE.get(fromPk) || getOrPickCity(fromPk)) : null;

  let toCity = getOrPickCity(
    toPk,
    (AVOID_SAME_CITY_INTRA_STATE && fromPk === toPk) ? fromCitySaved : null
  );

  // compose message (and create <select> if in 'choose' mode)
  const fromStateName = fromPk ? getStateNameByPk(fromPk) : null;
  const toStateName = getStateNameByPk(toPk);

  let messageHtml;
  if (!fromPk) {
    if (toCity) {
      messageHtml = `You are about to travel to ${toCity}, ${toStateName}.<br/>Do you confirm?`;
    } else {
      // fallback: no cities data for 'to' state
      messageHtml = `You are about to travel to ${toStateName}.<br/>Do you confirm?`;
    }
  } else if (fromPk === toPk) {
    if (toCity && fromCitySaved) {
      // intra-state travel between cities
      messageHtml = `We can arrange a car for you within ${toStateName}: from ${fromCitySaved} to ${toCity}.<br/>Do you confirm?`;
    } else if (toCity) {
      messageHtml = `We can arrange a car for you within ${toStateName}: to ${toCity}.<br/>Do you confirm?`;
    } else {
      // fallback
      messageHtml = `We can arrange a car for you within ${toStateName}.<br/>Do you confirm?`;
    }
  } else {
    if (toCity && fromCitySaved) {
      const mode = computeTravelModeFromCities(fromPk, fromCitySaved, toPk, toCity);
      messageHtml = `We can arrange a ${mode} from ${fromCitySaved}, ${fromStateName} to ${toCity}, ${toStateName}.<br/>Do you confirm?`;
    } else {
      // fallback without city specifics
      const mode = NON_CONTIGUOUS_PKS.includes(fromPk) || NON_CONTIGUOUS_PKS.includes(toPk) ? 'plane' : 'car';
      messageHtml = `We can arrange a ${mode} from ${fromStateName} to ${toStateName}.<br/>Do you confirm?`;
    }
  }

  // replace text with our HTML
  contentP.innerHTML = messageHtml;
  contentP.dataset.tctCityMsgUpdated = '1';

  // inject <select> when player can choose a city
  if (CITY_SELECTION_MODE === 'choose') {
    const citySelect = buildCitySelect(toPk, toCity, (newCity) => {
      toCity = newCity; // update live selection

      // update message inline when selection changes
      if (!fromPk) {
        contentP.innerHTML = `You are about to travel to ${toCity}, ${toStateName}.<br/>Do you confirm?`;
      } else if (fromPk === toPk) {
        const fromCityDisp = fromCitySaved || getOrPickCity(fromPk);
        contentP.innerHTML = `We can arrange a car for you within ${toStateName}: from ${fromCityDisp} to ${toCity}.<br/>Do you confirm?`;
      } else {
        const fromCityDisp = fromCitySaved || getOrPickCity(fromPk);
        const mode = computeTravelModeFromCities(fromPk, fromCityDisp, toPk, toCity);
        const fromSt = getStateNameByPk(fromPk);
        contentP.innerHTML = `We can arrange a ${mode} from ${fromCityDisp}, ${fromSt} to ${toCity}, ${toStateName}.<br/>Do you confirm?`;
      }
    });
    if (citySelect) {
      contentP.parentElement?.appendChild(citySelect);
    }
  }

  // on confirm, remember the chosen city for the destination state
  // this handler runs alongside the base game's handler
  const confirmBtn = document.getElementById('confirm_visit_button');
  if (confirmBtn) {
    // avoid double-binding
    if (!confirmBtn.dataset.tctCityBound) {
      confirmBtn.addEventListener('click', () => {
        if (toCity) {
          window.TCT_SELECTED_CITY_BY_STATE.set(toPk, toCity);
          
          applyCityIssueEffects(toPk, toCity);
        }
      });
      confirmBtn.dataset.tctCityBound = '1';
    }
  }
}

// the observer.
(function attachVisitOverlayObserver() {
  const root = document.getElementById('game_window') || document.body;
  if (!root) return;

  const observer = new MutationObserver(() => {
    // only run when the visit overlay is present
    const visitWindow = document.getElementById('visit_window');
    if (!visitWindow) return;
    updateVisitOverlayWithCities();
  });

  observer.observe(root, { childList: true, subtree: true });
})();

// This is a bit of a weird implementation, but it allows you
// to visualize other types of datas for your map. Cheers?
// It was made for 2012 LBM, though you might see this elsewhere.
// A couple of the visualizators here were made by routevenus,
// including the issue, coalition, and combiner ones.
// Many thanks to them for getting these cool features out!
(function () {
    const VISUALIZATION_MODES = {
        SOLID: 'solid',
        MARGINS: 'margins',
        VOTE_SHARE: 'vote_share',
        CANDIDATE_STRENGTH: 'candidate_strength',
        COMPETITIVENESS: 'competitiveness',
        TURNOUT_CHANGE: 'turnout_change',
        TIPPING_POINT: 'tipping_point',
        ISSUE_STANCE: 'issue_stance',
        ISSUE_WEIGHT: 'issue_weight',
        CANDIDATE_ISSUE_ALIGNMENT: 'candidate_issue_alignment',
        COALITION_BUILDER: 'coalition_builder',
        CANDIDATE_COMBINER: 'candidate_combiner',
        SENATE_RACES: 'senate_races',
        HOUSE_COMPOSITION: 'house_composition'
    };

    let currentMode = VISUALIZATION_MODES.SOLID;
    let selectedCandidateIndex = 0;
    let candidatePerformanceMode = 'absolute';
    let styleCache = {};
    let isInitialized = false;
    let candidateMaxPercentages = {};
    let stateDataCache = {};
    let selectedIssueIndex = 0;
    let selectedAlignmentCandidateIndex = 0;
    let alignmentComparisonMode = 'single';
    let selectedComparisonCandidates = [0, 1, 2, 3];
    let coalitionCandidateIndex = 0;
    let coalitionVoteShare = 0.5;
    let coalitionMode = 'solid';
    let coalitionResults = {};
    let candidates = {};

    let combinedCandidateIndex1 = 0;
    let combinedCandidateIndex2 = 2;
    let combinedCandidateIndex3 = -1;
    let combinerMode = 'two';
    let combinerResults = {};
    let showAverageIssueStance = false;

    let headToHeadMode = false;
    let headToHeadTeam1Index1 = 0;
    let headToHeadTeam1Index2 = 1;
    let headToHeadTeam2Index1 = 2;
    let headToHeadTeam2Index2 = 3;
    let headToHeadResults = {};

    let legendPosition = null;
    let legendMoved = false;

    const colorCache = {};
    const stateUpdateQueue = [];
    let animationFrameRequested = false;

    let dragState = {
        isDragging: false,
        currentElement: null,
        startX: 0,
        startY: 0,
        startLeft: 0,
        startTop: 0
    };

    const SENATE_INCUMBENT_PARTIES = {
        'AZ': 'R', 'CA': 'D', 'CT': 'I', 'DE': 'D', 'FL': 'D', 'HI': 'D', 'IN': 'R', 'ME': 'R',
        'MD': 'D', 'MA': 'D', 'MI': 'D', 'MN': 'D', 'MS': 'R', 'MO': 'D', 'MT': 'D', 'NE': 'D',
        'NV': 'R', 'NJ': 'D', 'NM': 'D', 'NY': 'D', 'ND': 'D', 'OH': 'D', 'PA': 'D', 'RI': 'D',
        'TN': 'R', 'TX': 'R', 'UT': 'R', 'VT': 'I', 'VA': 'D', 'WA': 'D', 'WV': 'D', 'WI': 'D', 'WY': 'R'
    };

    function makeDraggable(element, handle = null) {
        const dragHandle = handle || element;

        dragHandle.style.cursor = 'move';

        if (!handle) {
            element.style.borderTop = '3px solid #007acc';
        } else {
            handle.style.background = 'linear-gradient(135deg, #f0f0f0 0%, #e0e0e0 100%)';
            handle.style.borderBottom = '1px solid #ccc';
        }

        function startDrag(e) {
            e.preventDefault();
            e.stopPropagation();

            dragState.isDragging = true;
            dragState.currentElement = element;

            const rect = element.getBoundingClientRect();

            dragState.startX = e.clientX;
            dragState.startY = e.clientY;
            dragState.startLeft = rect.left;
            dragState.startTop = rect.top;

            element.style.position = 'absolute';
            element.style.left = rect.left + 'px';
            element.style.top = rect.top + 'px';
            element.style.right = 'auto';
            element.style.bottom = 'auto';
            element.style.zIndex = '10001';
            element.style.opacity = '0.9';

            document.addEventListener('mousemove', drag);
            document.addEventListener('mouseup', stopDrag);

            document.body.style.userSelect = 'none';
        }

        function drag(e) {
            if (!dragState.isDragging || dragState.currentElement !== element) return;

            e.preventDefault();

            const deltaX = e.clientX - dragState.startX;
            const deltaY = e.clientY - dragState.startY;

            const newLeft = dragState.startLeft + deltaX;
            const newTop = dragState.startTop + deltaY;

            const elementRect = element.getBoundingClientRect();
            const maxLeft = window.innerWidth - elementRect.width;
            const maxTop = window.innerHeight - elementRect.height;

            const constrainedLeft = Math.max(0, Math.min(newLeft, maxLeft));
            const constrainedTop = Math.max(0, Math.min(newTop, maxTop));

            element.style.left = constrainedLeft + 'px';
            element.style.top = constrainedTop + 'px';
        }

        function stopDrag(e) {
            if (!dragState.isDragging || dragState.currentElement !== element) return;

            dragState.isDragging = false;
            dragState.currentElement = null;

            element.style.zIndex = '1000';
            element.style.opacity = '1';

            document.removeEventListener('mousemove', drag);
            document.removeEventListener('mouseup', stopDrag);

            document.body.style.userSelect = '';

            if (element.id === 'map_legend' || element.id === 'map_controls') {
                const rect = element.getBoundingClientRect();
                const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
                if (element.id === 'map_legend') {
                    legendPosition = {
                        left: rect.left,
                        top: rect.top + scrollTop
                    };
                    legendMoved = true;
                }
            }
        }

        dragHandle.addEventListener('mousedown', startDrag);

        dragHandle.addEventListener('touchstart', function (e) {
            const touch = e.touches[0];
            const mouseEvent = new MouseEvent('mousedown', {
                clientX: touch.clientX,
                clientY: touch.clientY
            });
            startDrag(mouseEvent);
        });

        document.addEventListener('touchmove', function (e) {
            if (dragState.isDragging && dragState.currentElement === element) {
                const touch = e.touches[0];
                const mouseEvent = new MouseEvent('mousemove', {
                    clientX: touch.clientX,
                    clientY: touch.clientY
                });
                drag(mouseEvent);
                e.preventDefault();
            }
        });

        document.addEventListener('touchend', function (e) {
            if (dragState.isDragging && dragState.currentElement === element) {
                const mouseEvent = new MouseEvent('mouseup', {});
                stopDrag(mouseEvent);
            }
        });
    }

    function hexToRgb(hex) {
        if (colorCache[hex] && colorCache[hex].rgb) {
            return colorCache[hex].rgb;
        }

        hex = hex.replace(/^#/, '');
        const num = parseInt(hex, 16);
        const rgb = [(num >> 16) & 0xff, (num >> 8) & 0xff, num & 0xff];

        if (!colorCache[hex]) colorCache[hex] = {};
        colorCache[hex].rgb = rgb;

        return rgb;
    }

    function rgbToHex(r, g, b) {

        r = Math.max(0, Math.min(255, Math.round(r)));
        g = Math.max(0, Math.min(255, Math.round(g)));
        b = Math.max(0, Math.min(255, Math.round(b)));

        const key = `${r},${g},${b}`;

        if (colorCache[key] && colorCache[key].hex) {
            return colorCache[key].hex;
        }

        const hex = `#${r.toString(16).padStart(2, '0')}${g.toString(16).padStart(2, '0')}${b.toString(16).padStart(2, '0')}`;

        if (!colorCache[key]) colorCache[key] = {};
        colorCache[key].hex = hex;

        return hex;
    }

    function interpolateColor(c1, c2, factor = 0.5) {
        if (factor <= 0) return c1;
        if (factor >= 1) return c2;

        return c1.map((v, i) => Math.round(v + factor * (c2[i] - v)));
    }

    function varyHexColor(hex, variationFrac = 0.05) {
        const rgb = hexToRgb(hex);
        const newRgb = rgb.map(channel => {
            const delta = (Math.random() * 2 - 1) * variationFrac * 255;
            return Math.max(0, Math.min(255, Math.round(channel + delta)));
        });
        return rgbToHex(...newRgb);
    }

    function blendMarginColor(baseColor, margin) {
        const cacheKey = `margin_${baseColor}_${margin.toFixed(4)}`;
        if (colorCache[cacheKey]) return colorCache[cacheKey];

        const baseRGB = hexToRgb(baseColor);
        const whiteRGB = [255, 255, 255];

        let blendFactor;
        if (margin < 0.01) {

            blendFactor = 0.15;
        } else if (margin < 0.05) {

            blendFactor = 0.15 + (margin - 0.01) * 8;
        } else if (margin < 0.10) {

            blendFactor = 0.47 + (margin - 0.05) * 5;
        } else if (margin < 0.15) {

            blendFactor = 0.72 + (margin - 0.10) * 3;
        } else {

            blendFactor = 0.87 + Math.min((margin - 0.15) * 1.3, 0.13);
        }

        const blendedRGB = interpolateColor(whiteRGB, baseRGB, blendFactor);
        const result = rgbToHex(...blendedRGB);

        colorCache[cacheKey] = result;

        return result;
    }

    function blendPerformanceColor(baseColor, percent, candidateData) {
        const cacheKey = `perf_${baseColor}_${percent.toFixed(4)}_${candidateData.max.toFixed(4)}`;
        if (colorCache[cacheKey]) return colorCache[cacheKey];

        const baseRGB = hexToRgb(baseColor);
        const maxPct = candidateData.max;
        const avgPct = candidateData.avg;
        const p90 = candidateData.p90;
        const p10 = candidateData.p10;

        const candidatePk = Object.keys(candidateMaxPercentages).find(pk =>
            candidateMaxPercentages[pk] === candidateData
        );
        const hasElectoralVotes = campaignTrail_temp.final_overall_results
            .find(r => r.candidate == candidatePk)?.electoral_votes > 0;

        let targetRGB;
        let intensity;

        if (!hasElectoralVotes || maxPct <= 0.15) {

            const normalizedPct = percent / Math.max(maxPct, 0.001);

            if (normalizedPct > 0.85) {

                targetRGB = baseRGB;
                intensity = 0.9;
            } else if (normalizedPct > 0.70) {

                targetRGB = baseRGB.map(c => Math.min(255, c + 15));
                intensity = 0.75;
            } else if (normalizedPct > 0.55) {

                targetRGB = baseRGB.map(c => Math.min(255, c + 35));
                intensity = 0.60;
            } else if (normalizedPct > 0.40) {

                targetRGB = baseRGB.map(c => Math.min(255, c + 60));
                intensity = 0.45;
            } else if (normalizedPct > 0.25) {

                targetRGB = baseRGB.map(c => Math.min(255, c + 90));
                intensity = 0.35;
            } else if (normalizedPct > 0.10) {

                targetRGB = baseRGB.map(c => Math.min(255, c + 120));
                intensity = 0.25;
            } else {

                targetRGB = baseRGB.map(c => Math.min(255, c + 150));
                intensity = 0.18;
            }
        } else if (maxPct > 0.75 && maxPct - p90 > 0.15) {

            if (percent > p90) {
                targetRGB = baseRGB;
                intensity = 0.95;
            } else if (percent > avgPct) {
                const lightBaseRGB = baseRGB.map(c => Math.min(255, c + 30));
                targetRGB = lightBaseRGB;
                const positionInUpperRange = (p90 > avgPct) ? (percent - avgPct) / (p90 - avgPct) : 1;
                intensity = 0.6 + (positionInUpperRange * 0.3);
            } else if (percent > p10) {
                const veryLightRGB = baseRGB.map(c => Math.min(255, c + 80));
                targetRGB = veryLightRGB;
                const positionInLowerRange = (avgPct > p10) ? (percent - p10) / (avgPct - p10) : 1;
                intensity = 0.3 + (positionInLowerRange * 0.25);
            } else {
                const pastelRGB = baseRGB.map(c => Math.min(255, c + 120));
                targetRGB = pastelRGB;
                intensity = 0.2 + (p10 > 0 ? (percent / p10) * 0.15 : 0);
            }
        } else if (maxPct > 0.40) {

            const normalizedPct = percent / maxPct;

            if (normalizedPct > 0.8) {
                targetRGB = baseRGB;
                intensity = 0.85 + (normalizedPct - 0.8) * 0.75;
            } else if (normalizedPct > 0.6) {
                targetRGB = baseRGB.map(c => Math.min(255, c + 20));
                intensity = 0.7 + (normalizedPct - 0.6) * 0.75;
            } else if (normalizedPct > 0.4) {
                targetRGB = baseRGB.map(c => Math.min(255, c + 50));
                intensity = 0.5 + (normalizedPct - 0.4) * 1.0;
            } else if (normalizedPct > 0.2) {
                targetRGB = baseRGB.map(c => Math.min(255, c + 80));
                intensity = 0.3 + (normalizedPct - 0.2) * 1.0;
            } else {
                targetRGB = baseRGB.map(c => Math.min(255, c + 110));
                intensity = 0.2 + normalizedPct * 0.5;
            }
        } else if (maxPct > 0.15) {

            const normalizedPct = percent / maxPct;
            const exponentialScale = Math.pow(normalizedPct, 0.7);

            if (exponentialScale > 0.7) {
                targetRGB = baseRGB.map(c => Math.min(255, c + 10));
                intensity = 0.7 + (exponentialScale - 0.7) * 0.8;
            } else if (exponentialScale > 0.4) {
                targetRGB = baseRGB.map(c => Math.min(255, c + 40));
                intensity = 0.45 + (exponentialScale - 0.4) * 0.8;
            } else {
                targetRGB = baseRGB.map(c => Math.min(255, c + 80));
                intensity = 0.25 + exponentialScale * 0.5;
            }
        }

        const whiteRGB = [255, 255, 255];
        const blendedRGB = interpolateColor(whiteRGB, targetRGB, intensity);
        const result = rgbToHex(...blendedRGB);

        colorCache[cacheKey] = result;
        return result;
    }

    function blendRelativePerformanceColor(baseColor, relativePercent, nationalAverage) {
        const cacheKey = `rel_perf_${baseColor}_${relativePercent.toFixed(4)}_${nationalAverage.toFixed(4)}`;
        if (colorCache[cacheKey]) return colorCache[cacheKey];

        const baseRGB = hexToRgb(baseColor);
        let targetRGB;
        let intensity;

        let scalingFactor = 1.0;
        if (nationalAverage < 0.10) {
            scalingFactor = Math.max(0.1, nationalAverage * 10);
        }

        const performanceRatio = nationalAverage > 0 ? (relativePercent + nationalAverage) / nationalAverage : 1;

        if (nationalAverage < 0.10) {
            if (performanceRatio > 2.0) {

                targetRGB = baseRGB.map(c => Math.max(0, c - 30));
                intensity = 0.95;
            } else if (performanceRatio > 1.5) {

                targetRGB = baseRGB.map(c => Math.max(0, c - 20));
                intensity = 0.85;
            } else if (performanceRatio > 1.2) {

                targetRGB = baseRGB;
                intensity = 0.75;
            } else if (performanceRatio > 0.8) {

                targetRGB = baseRGB.map(c => Math.min(255, c + 30));
                intensity = 0.60;
            } else if (performanceRatio > 0.5) {

                targetRGB = baseRGB.map(c => Math.min(255, c + 60));
                intensity = 0.45;
            } else if (performanceRatio > 0.2) {

                targetRGB = baseRGB.map(c => Math.min(255, c + 90));
                intensity = 0.30;
            } else {

                targetRGB = baseRGB.map(c => Math.min(255, c + 120));
                intensity = 0.20;
            }
        } else {

            if (relativePercent > 0.15) {
                targetRGB = baseRGB.map(c => Math.max(0, c - 30));
                intensity = 0.95;
            } else if (relativePercent > 0.10) {
                targetRGB = baseRGB.map(c => Math.max(0, c - 20));
                intensity = 0.90;
            } else if (relativePercent > 0.05) {
                targetRGB = baseRGB.map(c => Math.max(0, c - 10));
                intensity = 0.85;
            } else if (relativePercent > 0.02) {
                targetRGB = baseRGB;
                intensity = 0.80;
            } else if (relativePercent > -0.02) {
                targetRGB = baseRGB.map(c => Math.min(255, c + 20));
                intensity = 0.65;
            } else if (relativePercent > -0.05) {
                targetRGB = baseRGB.map(c => Math.min(255, c + 40));
                intensity = 0.50;
            } else if (relativePercent > -0.10) {
                targetRGB = baseRGB.map(c => Math.min(255, c + 70));
                intensity = 0.35;
            } else if (relativePercent > -0.15) {
                targetRGB = baseRGB.map(c => Math.min(255, c + 100));
                intensity = 0.25;
            } else {
                targetRGB = baseRGB.map(c => Math.min(255, c + 130));
                intensity = 0.15;
            }
        }

        const whiteRGB = [255, 255, 255];
        const blendedRGB = interpolateColor(whiteRGB, targetRGB, intensity);
        const result = rgbToHex(...blendedRGB);

        colorCache[cacheKey] = result;
        return result;
    }

    function getCompetitivenessColor(margin) {
        const cacheKey = `comp_${margin.toFixed(4)}`;
        if (colorCache[cacheKey]) return colorCache[cacheKey];

        let result;
        if (margin < 0.01) {
            result = "#FF0000";
        } else if (margin < 0.025) {
            result = "#FF3300";
        } else if (margin < 0.05) {
            result = "#FF6600";
        } else if (margin < 0.075) {
            result = "#FF9900";
        } else if (margin < 0.10) {
            result = "#FFCC00";
        } else if (margin < 0.15) {
            result = "#FFFF00";
        } else if (margin < 0.20) {
            result = "#AADD00";
        } else if (margin < 0.30) {
            result = "#55BB00";
        } else {
            result = "#0000FF";
        }

        colorCache[cacheKey] = result;

        return result;
    }

    function getTurnoutChangeColor(changePercent) {
        const cacheKey = `turnout_change_${changePercent.toFixed(2)}`;
        if (colorCache[cacheKey]) return colorCache[cacheKey];

        let result;
        if (changePercent <= -10) {
            result = "#8B0000";
        } else if (changePercent <= -7.5) {
            result = "#B22222";
        } else if (changePercent <= -5) {
            result = "#FF0000";
        } else if (changePercent <= -2.5) {
            result = "#FF6347";
        } else if (changePercent <= -1) {
            result = "#FFA07A";
        } else if (changePercent < 1) {
            result = "#F5F5F5";
        } else if (changePercent < 2.5) {
            result = "#90EE90";
        } else if (changePercent < 5) {
            result = "#3CB371";
        } else if (changePercent < 7.5) {
            result = "#2E8B57";
        } else if (changePercent < 10) {
            result = "#228B22";
        } else {
            result = "#006400";
        }

        colorCache[cacheKey] = result;

        return result;
    }

    function getIssueStanceColor(stanceValue) {
        const cacheKey = `issue_stance_${stanceValue.toFixed(4)}`;
        if (colorCache[cacheKey]) return colorCache[cacheKey];

        let stanceNumber = 7;

        if (campaignTrail_temp.global_parameter_json && campaignTrail_temp.global_parameter_json[0]) {
            const globalParams = campaignTrail_temp.global_parameter_json[0].fields;

            if (stanceValue <= globalParams.issue_stance_1_max) {
                stanceNumber = 1;
            } else if (stanceValue <= globalParams.issue_stance_2_max) {
                stanceNumber = 2;
            } else if (stanceValue <= globalParams.issue_stance_3_max) {
                stanceNumber = 3;
            } else if (stanceValue <= globalParams.issue_stance_4_max) {
                stanceNumber = 4;
            } else if (stanceValue <= globalParams.issue_stance_5_max) {
                stanceNumber = 5;
            } else if (stanceValue <= globalParams.issue_stance_6_max) {
                stanceNumber = 6;
            }

        } else {

            if (stanceValue <= -0.71) {
                stanceNumber = 1;
            } else if (stanceValue <= -0.42) {
                stanceNumber = 2;
            } else if (stanceValue <= -0.13) {
                stanceNumber = 3;
            } else if (stanceValue <= 0.16) {
                stanceNumber = 4;
            } else if (stanceValue <= 0.45) {
                stanceNumber = 5;
            } else if (stanceValue <= 0.74) {
                stanceNumber = 6;
            }
        }

        const colors = [
            "#8B0000",
            "#FF0000",
            "#FF8D1C",
            "#FFD700",
            "#32CD32",
            "#0000FF",
            "#000080"
        ];

        const result = colors[stanceNumber - 1];
        colorCache[cacheKey] = result;
        return result;
    }

    function getStanceNumber(stanceValue) {
        if (campaignTrail_temp.global_parameter_json && campaignTrail_temp.global_parameter_json[0]) {
            const globalParams = campaignTrail_temp.global_parameter_json[0].fields;

            if (stanceValue <= globalParams.issue_stance_1_max) return 1;
            if (stanceValue <= globalParams.issue_stance_2_max) return 2;
            if (stanceValue <= globalParams.issue_stance_3_max) return 3;
            if (stanceValue <= globalParams.issue_stance_4_max) return 4;
            if (stanceValue <= globalParams.issue_stance_5_max) return 5;
            if (stanceValue <= globalParams.issue_stance_6_max) return 6;
            return 7;
        } else {

            if (stanceValue <= -0.71) return 1;
            if (stanceValue <= -0.42) return 2;
            if (stanceValue <= -0.13) return 3;
            if (stanceValue <= 0.16) return 4;
            if (stanceValue <= 0.45) return 5;
            if (stanceValue <= 0.74) return 6;
            return 7;
        }
    }

    function getIssueWeightColor(weight, issueIndex) {
        const cacheKey = `issue_weight_${weight.toFixed(4)}_${issueIndex}`;
        if (colorCache[cacheKey]) return colorCache[cacheKey];

        const weightRange = getIssueWeightRange(issueIndex);

        if (!weightRange || weightRange.min === weightRange.max || (weightRange.max - weightRange.min) <= 0.15) {

            return getStaticIssueWeightColor(weight);
        }

        const normalizedWeight = (weight - weightRange.min) / (weightRange.max - weightRange.min);

        const lightBlue = [248, 248, 255];
        const darkBlue = [0, 0, 205];

        const blendedRGB = interpolateColor(lightBlue, darkBlue, normalizedWeight);
        const result = rgbToHex(...blendedRGB);

        colorCache[cacheKey] = result;
        return result;
    }

    function getIssueWeightRange(issueIndex) {
        if (!campaignTrail_temp.issues_json || issueIndex >= campaignTrail_temp.issues_json.length) {
            return null;
        }

        const issue = campaignTrail_temp.issues_json[issueIndex];
        let minWeight = Infinity;
        let maxWeight = -Infinity;
        let hasData = false;

        campaignTrail_temp.final_state_results.forEach(stateResult => {
            const stateId = stateResult.state;

            const stateIssueData = campaignTrail_temp.state_issue_score_json?.find(
                sis => sis.fields.state === stateId && sis.fields.issue === issue.pk
            );

            if (stateIssueData) {
                const weight = stateIssueData.fields.weight;
                minWeight = Math.min(minWeight, weight);
                maxWeight = Math.max(maxWeight, weight);
                hasData = true;
            }
        });

        return hasData ? { min: minWeight, max: maxWeight } : null;
    }

    function getStaticIssueWeightColor(weight) {
        const normalizedWeight = Math.min(weight, 1.0);

        if (normalizedWeight < 0.1) {
            return "#F8F8FF";
        } else if (normalizedWeight < 0.25) {
            return "#E6E6FA";
        } else if (normalizedWeight < 0.4) {
            return "#B0C4DE";
        } else if (normalizedWeight < 0.55) {
            return "#87CEEB";
        } else if (normalizedWeight < 0.7) {
            return "#4682B4";
        } else if (normalizedWeight < 0.85) {
            return "#1E90FF";
        } else {
            return "#0000CD";
        }
    }

    function getAverageIssueStanceColor(averageStance) {
        const cacheKey = `avg_issue_stance_${averageStance.toFixed(4)}`;
        if (colorCache[cacheKey]) return colorCache[cacheKey];

        let stanceNumber = 7;

        if (campaignTrail_temp.global_parameter_json && campaignTrail_temp.global_parameter_json[0]) {
            const globalParams = campaignTrail_temp.global_parameter_json[0].fields;

            if (averageStance <= globalParams.issue_stance_1_max) {
                stanceNumber = 1;
            } else if (averageStance <= globalParams.issue_stance_2_max) {
                stanceNumber = 2;
            } else if (averageStance <= globalParams.issue_stance_3_max) {
                stanceNumber = 3;
            } else if (averageStance <= globalParams.issue_stance_4_max) {
                stanceNumber = 4;
            } else if (averageStance <= globalParams.issue_stance_5_max) {
                stanceNumber = 5;
            } else if (averageStance <= globalParams.issue_stance_6_max) {
                stanceNumber = 6;
            }
        } else {

            if (averageStance <= -0.71) {
                stanceNumber = 1;
            } else if (averageStance <= -0.42) {
                stanceNumber = 2;
            } else if (averageStance <= -0.13) {
                stanceNumber = 3;
            } else if (averageStance <= 0.16) {
                stanceNumber = 4;
            } else if (averageStance <= 0.45) {
                stanceNumber = 5;
            } else if (averageStance <= 0.74) {
                stanceNumber = 6;
            }
        }

        const colors = [
            "#8B0000",
            "#FF0000",
            "#FF8D1C",
            "#FFD700",
            "#32CD32",
            "#0000FF",
            "#000080"
        ];

        const result = colors[stanceNumber - 1];
        colorCache[cacheKey] = result;
        return result;
    }

    function getCandidateIssueAlignment(stateScore, candidateScore) {
        const cacheKey = `alignment_${stateScore.toFixed(4)}_${candidateScore.toFixed(4)}`;
        if (colorCache[cacheKey]) return colorCache[cacheKey];

        const alignment = Math.abs(stateScore - candidateScore);

        let result;
        if (alignment < 0.2) {
            result = "#006400";
        } else if (alignment < 0.4) {
            result = "#228B22";
        } else if (alignment < 0.6) {
            result = "#32CD32";
        } else if (alignment < 0.8) {
            result = "#FFD700";
        } else if (alignment < 1.0) {
            result = "#FF8C00";
        } else if (alignment < 1.2) {
            result = "#FF4500";
        } else {
            result = "#8B0000";
        }

        colorCache[cacheKey] = result;
        return result;
    }

    function getAverageCandidateIssueAlignment(stateAverageScore, candidateAverageScore) {
        const cacheKey = `avg_alignment_${stateAverageScore.toFixed(4)}_${candidateAverageScore.toFixed(4)}`;
        if (colorCache[cacheKey]) return colorCache[cacheKey];

        const alignment = Math.abs(stateAverageScore - candidateAverageScore);

        let result;
        if (alignment < 0.2) {
            result = "#006400";
        } else if (alignment < 0.4) {
            result = "#228B22";
        } else if (alignment < 0.6) {
            result = "#32CD32";
        } else if (alignment < 0.8) {
            result = "#FFD700";
        } else if (alignment < 1.0) {
            result = "#FF8C00";
        } else if (alignment < 1.2) {
            result = "#FF4500";
        } else {
            result = "#8B0000";
        }

        colorCache[cacheKey] = result;
        return result;
    }

    function blendVoteShareColor(baseColor, voteShare) {
        const cacheKey = `voteshare_${baseColor}_${voteShare.toFixed(4)}`;
        if (colorCache[cacheKey]) return colorCache[cacheKey];

        const baseRGB = hexToRgb(baseColor);

        const [r, g, b] = baseRGB.map(c => c / 255);
        const max = Math.max(r, g, b);
        const min = Math.min(r, g, b);
        const diff = max - min;

        let h, s, l;
        l = (max + min) / 2;

        if (diff === 0) {
            h = s = 0;
        } else {
            s = l > 0.5 ? diff / (2 - max - min) : diff / (max + min);
            switch (max) {
                case r:
                    h = (g - b) / diff + (g < b ? 6 : 0);
                    break;
                case g:
                    h = (b - r) / diff + 2;
                    break;
                case b:
                    h = (r - g) / diff + 4;
                    break;
            }
            h /= 6;
        }

        function hslToRgb(h, s, l) {
            let r, g, b;

            if (s === 0) {
                r = g = b = l;
            } else {
                const hue2rgb = (p, q, t) => {
                    if (t < 0) t += 1;
                    if (t > 1) t -= 1;
                    if (t < 1 / 6) return p + (q - p) * 6 * t;
                    if (t < 1 / 2) return q;
                    if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;
                    return p;
                };

                const q = l < 0.5 ? l * (1 + s) : l + s - l * s;
                const p = 2 * l - q;
                r = hue2rgb(p, q, h + 1 / 3);
                g = hue2rgb(p, q, h);
                b = hue2rgb(p, q, h - 1 / 3);
            }

            return [Math.round(r * 255), Math.round(g * 255), Math.round(b * 255)];
        }

        let resultRGB;

        if (voteShare < 0.10) {
            const lightL = 0.97;
            const lightS = Math.min(s * 0.15, 0.1);
            resultRGB = hslToRgb(h, lightS, lightL);
        } else if (voteShare < 0.20) {
            const lightL = 0.95;
            const lightS = Math.min(s * 0.25, 0.2);
            resultRGB = hslToRgb(h, lightS, lightL);
        } else if (voteShare < 0.30) {
            const lightL = 0.92;
            const lightS = Math.min(s * 0.4, 0.35);
            resultRGB = hslToRgb(h, lightS, lightL);
        } else if (voteShare < 0.40) {
            const lightL = 0.88;
            const lightS = Math.min(s * 0.6, 0.5);
            resultRGB = hslToRgb(h, lightS, lightL);
        } else if (voteShare < 0.50) {
            const medL = 0.82;
            const medS = Math.min(s * 0.8, 0.7);
            resultRGB = hslToRgb(h, medS, medL);
        } else if (voteShare < 0.60) {
            const medL = 0.72;
            const medS = Math.min(s * 1.0, 0.85);
            resultRGB = hslToRgb(h, medS, medL);
        } else if (voteShare < 0.70) {
            const strongL = 0.60;
            const strongS = Math.min(s * 1.1, 0.95);
            resultRGB = hslToRgb(h, strongS, strongL);
        } else if (voteShare < 0.80) {
            const strongL = 0.48;
            const strongS = Math.min(s * 1.15, 1.0);
            resultRGB = hslToRgb(h, strongS, strongL);
        } else if (voteShare < 0.90) {
            const darkL = 0.35;
            const darkS = Math.min(s * 1.2, 1.0);
            resultRGB = hslToRgb(h, darkS, darkL);
        } else {
            const darkestL = 0.25;
            const darkestS = Math.min(s * 1.25, 1.0);
            resultRGB = hslToRgb(h, darkestS, darkestL);
        }

        resultRGB = resultRGB.map(c => Math.max(0, Math.min(255, Math.round(c))));

        const result = rgbToHex(...resultRGB);
        colorCache[cacheKey] = result;
        return result;
    }
	
    function getSenateHoldsGainsColor(stateAbbr, raceData) {
        const preElectionParty = SENATE_INCUMBENT_PARTIES[stateAbbr];
        if (!preElectionParty) return "#CCCCCC";

        let winnerParty = 'D';
        if (raceData.rep > raceData.dem && raceData.rep > (raceData.trd || 0)) {
            winnerParty = 'R';
        } else if ((raceData.trd || 0) > raceData.dem && (raceData.trd || 0) > raceData.rep) {
            winnerParty = 'I';
        }

        if (winnerParty === preElectionParty) {
            if (winnerParty === 'D') return '#92C5DE';
            if (winnerParty === 'R') return '#F48882';
            if (winnerParty === 'I') return '#999999';
        } else {
            if (winnerParty === 'D') return '#0671B0';
            if (winnerParty === 'R') return '#CA0120';
            if (winnerParty === 'I') return '#666666';
        }

        return "#CCCCCC";
    }

    function darkenColor(color, amount = 30) {
        const cacheKey = `dark_${color}_${amount}`;
        if (colorCache[cacheKey]) return colorCache[cacheKey];

        const rgb = hexToRgb(color);
        const darkerRgb = rgb.map(v => Math.max(0, v - amount));
        const result = rgbToHex(...darkerRgb);

        colorCache[cacheKey] = result;

        return result;
    }

    function calculatePercentile(values, percentile) {
        if (!values || values.length === 0) return 0;
        const sortedValues = [...values].sort((a, b) => a - b);
        const index = Math.floor(sortedValues.length * (percentile / 100));
        return sortedValues[index];
    }

    function getTurnoutChangeData() {
        const turnoutChangeData = {};

        campaignTrail_temp.states_json.forEach(state => {
            const stateId = state.pk;

            let actualVotes = 0;
            const stateResults = campaignTrail_temp.final_state_results.find(r => r.state === stateId);

            if (stateResults && stateResults.result) {
                stateResults.result.forEach(candidateResult => {
                    actualVotes += candidateResult.votes || 0;
                });
            } else {

                actualVotes = state.fields.popular_votes;
            }

            const originalTurnout = campaignTrail_temp.TurnoutSystem?.originalTurnouts?.[stateId] || state.fields.popular_votes;
            const changePercent = originalTurnout > 0 ? ((actualVotes - originalTurnout) / originalTurnout) * 100 : 0;
            turnoutChangeData[stateId] = changePercent;
        });

        return turnoutChangeData;
    }

    function analyzePerformanceData() {
        candidates = [];
        campaignTrail_temp.final_state_results[0].result.forEach(result => {
            const candidate = campaignTrail_temp.candidate_json.find(c => c.pk === result.candidate);
            if (candidate) candidates.push(candidate);
        });

        candidateMaxPercentages = {};
        candidates.forEach(candidate => {
            candidateMaxPercentages[candidate.pk] = {
                max: 0,
                min: 1,
                avg: 0,
                median: 0,
                counts: 0,
                percentiles: []
            };
        });

        campaignTrail_temp.final_state_results.forEach(stateResult => {
            stateResult.result.forEach(candidateResult => {
                if (stateResult.abbr === "DC") return;
                const candidateData = candidateMaxPercentages[candidateResult.candidate];
                if (candidateData) {
                    candidateData.max = Math.max(candidateData.max, candidateResult.percent);
                    candidateData.min = Math.min(candidateData.min, candidateResult.percent);
                    candidateData.avg += candidateResult.percent;
                    candidateData.counts++;
                    candidateData.percentiles.push(candidateResult.percent);
                }
            });
        });

        Object.values(candidateMaxPercentages).forEach(data => {
            if (data.counts > 0) {
                data.avg /= data.counts;
                data.percentiles.sort((a, b) => a - b);

                const midIndex = Math.floor(data.percentiles.length / 2);
                data.median = data.percentiles.length % 2 === 0 ?
                    (data.percentiles[midIndex - 1] + data.percentiles[midIndex]) / 2 :
                    data.percentiles[midIndex];

                data.p10 = calculatePercentile(data.percentiles, 10);
                data.p90 = calculatePercentile(data.percentiles, 90);
                data.p95 = calculatePercentile(data.percentiles, 95);
            }
        });
    }

    function getPerformanceThresholds(candidatePk) {
        const data = candidateMaxPercentages[candidatePk];
        if (!data || data.counts === 0) return [0.6, 0.5, 0.4, 0.3, 0.2, 0.1, 0.05];

        let maxPct = data.max;
        const p90 = data.p90;
        const avgPct = data.avg;
        const p10 = data.p10;
        const minPct = data.min;

        const hasElectoralVotes = campaignTrail_temp.final_overall_results
            .find(r => r.candidate == candidatePk)?.electoral_votes > 0;

        // lower the maxPct if DC is a big outlier
        const dcResult = campaignTrail_temp.final_state_results.find(r => r.abbr === "DC");
        if (dcResult) {
            const dcCandidate = dcResult.result.find(c => c.candidate === candidatePk);
            if (dcCandidate && dcCandidate.percent === maxPct) {
                if (dcCandidate.percent > p90 * 1.3 && p90 > 0.10) {
                    maxPct = p90 * 1.1;
                }
            }
        }

        let thresholds;

        if (!hasElectoralVotes || maxPct <= 0.15) {

            if (maxPct > 0.08) {

                thresholds = [
                    maxPct,
                    maxPct * 0.85,
                    maxPct * 0.70,
                    maxPct * 0.55,
                    maxPct * 0.40,
                    maxPct * 0.25,
                    maxPct * 0.12
                ];
            } else if (maxPct > 0.03) {

                thresholds = [
                    maxPct,
                    maxPct * 0.80,
                    maxPct * 0.60,
                    maxPct * 0.40,
                    maxPct * 0.25,
                    maxPct * 0.10
                ];
            } else {

                const increment = maxPct / 5;
                thresholds = [
                    maxPct,
                    maxPct - increment * 0.8,
                    maxPct - increment * 1.8,
                    maxPct - increment * 2.9,
                    maxPct - increment * 4.1
                ].filter(v => v > 0);
            }
        } else if (maxPct > 0.50) {

            if (maxPct - p90 > 0.20) {
                thresholds = [
                    maxPct,
                    Math.max(p90, maxPct * 0.88),
                    Math.max(avgPct + (p90 - avgPct) * 0.6, maxPct * 0.75),
                    Math.max(avgPct, maxPct * 0.62),
                    Math.max(avgPct * 0.7, maxPct * 0.45),
                    Math.max(p10, maxPct * 0.28),
                    Math.max(minPct, maxPct * 0.15)
                ];
            } else {
                thresholds = [
                    maxPct,
                    maxPct * 0.85,
                    maxPct * 0.70,
                    maxPct * 0.55,
                    maxPct * 0.40,
                    maxPct * 0.25,
                    maxPct * 0.12
                ];
            }
        } else if (maxPct > 0.25) {

            thresholds = [
                maxPct,
                maxPct * 0.82,
                maxPct * 0.65,
                maxPct * 0.48,
                maxPct * 0.32,
                maxPct * 0.18,
                maxPct * 0.08
            ];
        } else {

            const base = Math.pow(maxPct, 1 / 6);
            thresholds = [
                maxPct,
                Math.pow(base, 5),
                Math.pow(base, 4.2),
                Math.pow(base, 3.5),
                Math.pow(base, 2.8),
                Math.pow(base, 2.0),
                Math.pow(base, 1.2)
            ];
        }

        thresholds = thresholds
            .filter(v => v > 0)
            .filter((v, i, arr) => i === 0 || v < arr[i - 1] * 0.90);

        if (thresholds.length < 4) {
            const step = maxPct / 4;
            thresholds = [maxPct, maxPct - step, maxPct - step * 2, maxPct - step * 3].filter(v => v > 0);
        }

        return thresholds;
    }

    function getCoalitionPerformanceThresholds(coalitionData) {
        if (!coalitionData || coalitionData.max === coalitionData.min) {
            return [0.6, 0.5, 0.4, 0.3, 0.2, 0.1, 0.05];
        }

        const maxPct = Math.max(coalitionData.max, 0.01);
        const p90 = coalitionData.p90;
        const avgPct = coalitionData.avg;
        const p10 = coalitionData.p10;

        let thresholds;

        if (maxPct > 0.75 && maxPct - p90 > 0.15) {

            if (maxPct > p90) {
                thresholds = [
                    maxPct,
                    p90 + ((maxPct - p90) * 0.5),
                    p90,
                    avgPct + ((p90 - avgPct) * 0.5),
                    avgPct,
                    p10,
                    coalitionData.min
                ].filter((v, i, a) => i === 0 || v < a[i - 1] * 0.95);
            } else {
                thresholds = [maxPct, p90, avgPct, p10, coalitionData.min];
            }
        } else if (maxPct > 0.40) {

            const normalizedSteps = [1.0, 0.95, 0.90, 0.80, 0.65, 0.50, 0.30];
            thresholds = normalizedSteps.map(step =>
                Math.max(maxPct * step, maxPct - (0.04 * (1 - step) * 10))
            );
        } else if (maxPct > 0.10) {

            thresholds = [
                maxPct,
                maxPct * 0.8,
                maxPct * 0.6,
                maxPct * 0.4,
                maxPct * 0.25,
                maxPct * 0.15
            ];
        } else if (maxPct > 0.03) {

            thresholds = [
                maxPct,
                maxPct * 0.75,
                maxPct * 0.5,
                maxPct * 0.25,
                maxPct * 0.1
            ];
        } else {

            const step = maxPct / 4;
            thresholds = [
                maxPct,
                maxPct - step,
                maxPct - (step * 2),
                maxPct - (step * 3),
                0
            ].filter(v => v > 0);
        }

        return thresholds;
    }

    function formatThreshold(value) {
        if (value >= 0.01) {
            return Math.round(value * 100) + '%';
        } else {
            return (value * 100).toFixed(1) + '%';
        }
    }

    function applyColorVariations() {
        if (!window._colorVariationsApplied) {
            campaignTrail_temp.candidate_json.forEach(candidate => {
                const fields = candidate.fields;

                if (!fields._original_color_hex) {
                    fields._original_color_hex = fields.color_hex;
                    fields._original_secondary_color_hex = fields.secondary_color_hex || fields.color_hex;
                }

                fields.color_hex = varyHexColor(fields._original_color_hex, 0.05);

                if (fields.secondary_color_hex) {
                    fields.secondary_color_hex = varyHexColor(fields._original_secondary_color_hex, 0.05);
                } else {

                    const primaryRGB = hexToRgb(fields.color_hex);
                    const whiteRGB = [255, 255, 255];
                    const secondaryRGB = interpolateColor(primaryRGB, whiteRGB, 0.7);
                    fields.secondary_color_hex = rgbToHex(...secondaryRGB);
                }
            });

            if (window.HistHexcolour && Array.isArray(window.HistHexcolour)) {
                window.HistHexcolour = window.HistHexcolour.map(hex =>
                    varyHexColor(hex, 0.05)
                );
            }

            window._colorVariationsApplied = true;
        }
    }

    function getTopCandidates(limit = 5) {
        candidates = [];
        let totalPopularVotes = 0;

        campaignTrail_temp.final_overall_results.forEach(result => {
            const candidate = campaignTrail_temp.candidate_json.find(c => c.pk === result.candidate);
            if (candidate) {
                candidates.push({
                    pk: result.candidate,
                    candidate: candidate,
                    electoral_votes: result.electoral_votes,
                    popular_votes: result.popular_votes
                });
                totalPopularVotes += result.popular_votes;
            }
        });

        const stateWinners = candidates.filter(c => c.electoral_votes > 0);

        if (stateWinners.length > 0) {

            stateWinners.sort((a, b) => {
                if (b.electoral_votes !== a.electoral_votes) {
                    return b.electoral_votes - a.electoral_votes;
                }
                return b.popular_votes - a.popular_votes;
            });
            return stateWinners.slice(0, limit);
        } else {

            const significantCandidates = candidates.filter(c =>
                c.popular_votes / totalPopularVotes > 0.05
            );

            significantCandidates.sort((a, b) => b.popular_votes - a.popular_votes);

            return significantCandidates.slice(0, limit);
        }
    }
	
	function getSenateRaceData() {
        const congressData = window.campaignTrail_temp?.__congress2012;
        if (!congressData?.senateDetails?.byState) {
            return null;
        }

        const senateData = {};
        const stateDetails = congressData.senateDetails.byState;

        const nameToAbbr = new Map(
            (window.campaignTrail_temp.states_json || []).map(s => [s.fields.name, s.fields.abbr])
        );

        for (const stateName in stateDetails) {
            const stateAbbr = nameToAbbr.get(stateName);
            if (!stateAbbr) continue;

            const raceResults = stateDetails[stateName].results;
            let dem = 0;
            let rep = 0;
            let trd = 0;

            raceResults.forEach(candidate => {
                const party = candidate.party.toLowerCase();
                if (party.includes('democrat')) {
                    dem += candidate.pct;
                } else if (party.includes('republican')) {
                    rep += candidate.pct;
                } else {
                    trd += candidate.pct;
                }
            });

            senateData[stateAbbr] = { dem, rep, trd };
        }

        return senateData;
    }

    function getLivePercentsByAbbr() {
        const liveMap = new Map();

        if (!campaignTrail_temp || !Array.isArray(campaignTrail_temp.final_state_results)) {
            return liveMap;
        }

        campaignTrail_temp.final_state_results.forEach(stateResult => {
            if (stateResult.result_time <= 500 && Array.isArray(stateResult.result)) {
                const abbr = stateResult.abbr;
                let dem = 0,
                    rep = 0;

                stateResult.result.forEach(r => {
                    const candidate = campaignTrail_temp.candidate_json.find(c => c.pk === r.candidate);
                    if (!candidate) return;

                    const party = candidate.fields?.party || '';
                    if (party.toLowerCase().includes('dem')) {
                        dem += r.percent || 0;
                    } else if (party.toLowerCase().includes('rep')) {
                        rep += r.percent || 0;
                    }
                });

                liveMap.set(abbr, {
                    dem,
                    rep
                });
            }
        });

        return liveMap;
    }

    function getHouseCompositionData() {
		const E = (window.campaignTrail_temp || window.e);
		const congressResults = E.__congress2012;
		
		if (!congressResults || !congressResults.house) {
			return { _totals: { dem: 0, rep: 0, ind: 0, total: 435 } };
		}

		const targetDemSeats = congressResults.house.dem;
		const states = E.states_json || [];
		
		let demId, repId;
		E.candidate_json.forEach(c => {
			const p = (c.fields.party || "").toLowerCase();
			if (p.includes("dem")) demId = c.pk;
			if (p.includes("rep")) repId = c.pk;
		});

		const pool = [];
		let currentDemTotal = 0;

		states.forEach(state => {
			const abbr = state.fields.abbr;
			const meta = HOUSE_2012_DATA[abbr] || { seats: 0, bias: 0 };
			if (meta.seats === 0) return;

			const res = E.final_state_results.find(r => r.state === state.pk);
			const dV = res?.result.find(r => r.candidate === demId)?.percent || 0.5;
			const rV = res?.result.find(r => r.candidate === repId)?.percent || 0.5;
			const p = dV / (dV + rV || 1);

			let indSeats = (abbr === "OH" && rV < 0.46) ? 1 : 0;
			let usableSeats = meta.seats - indSeats;

			let demShare = p + meta.bias;
			
			let demSeats = Math.round(usableSeats * Math.max(0, Math.min(1, demShare)));
			
			const entry = {
				abbr,
				totalSeats: meta.seats,
				indSeats: indSeats,
				demSeats: demSeats,
				p: p,
				bias: meta.bias,
				score: p + meta.bias 
			};
			
			pool.push(entry);
			currentDemTotal += demSeats;
		});

		let safety = 0;
		while (currentDemTotal !== targetDemSeats && safety < 1000) {
			safety++;
			const diff = targetDemSeats - currentDemTotal;
			const step = diff > 0 ? 1 : -1;

			pool.sort((a, b) => step === 1 ? b.score - a.score : a.score - b.score);

			for (let i = 0; i < pool.length; i++) {
				const s = pool[i];
				const maxDem = s.totalSeats - s.indSeats;
				if (step === 1 && s.demSeats < maxDem) {
					s.demSeats += 1;
					currentDemTotal += 1;
					break;
				} else if (step === -1 && s.demSeats > 0) {
					s.demSeats -= 1;
					currentDemTotal -= 1;
					break;
				}
			}
		}

		const houseData = {};
		pool.forEach(s => {
			const repSeats = s.totalSeats - s.indSeats - s.demSeats;
			const demPct = (s.demSeats / s.totalSeats) * 100;
			const repPct = (repSeats / s.totalSeats) * 100;

			let color = "#E6E6E6";
			
			if (s.indSeats > 0 && s.abbr === "OH") color = "#FFDE3A";
			else if (demPct > 50) {
				if (demPct >= 100) color = "#0000AA";      // 100% blue
				else if (demPct >= 80) color = "#2b6cb8"; // 80-99%
				else if (demPct >= 70) color = "#0487E6"; // 70-79%
				else if (demPct >= 60) color = "#3A9FE0"; // 60-69%
				else color = "#9DCDF3";                   // 51-59%
			} else if (repPct > 50) {
				if (repPct >= 100) color = "#880000";     // 100% red
				else if (repPct >= 80) color = "#c12525"; // 80-99%
				else if (repPct >= 70) color = "#DD2929"; // 70-79%
				else if (repPct >= 60) color = "#FF3333"; // 60-69%
				else color = "#FF9999";                   // 51-59%
			} else if (demPct === 50 && repPct === 50) {
				color = "#D896FF"; // 50/50
			}

			houseData[s.abbr] = {
				demSeats: s.demSeats,
				repSeats: repSeats,
				indSeats: s.indSeats,
				seats: s.totalSeats,
				color: color,
				demShare: s.p
			};
		});

		houseData._totals = {
			dem: targetDemSeats,
			rep: 435 - targetDemSeats - (congressResults.house.ind || 0),
			ind: congressResults.house.ind || 0,
			total: 435
		};

		return houseData;
	}

    function prepareStyles() {
        if (Object.keys(styleCache).length > 0) return;

        applyColorVariations();
        analyzePerformanceData();
        const turnoutChangeData = getTurnoutChangeData();

        styleCache = {
            solid: {},
            margins: {},
            candidate_strength: {},
            competitiveness: {},
            turnout_change: {},
            vote_share: {},
            issue_stance: {},
            issue_weight: {},
            candidate_issue_alignment: {},
            tipping_point: {},
            coalition_builder: {},
            candidate_combiner: {},
            senate_races: {},
            house_composition: {}
        };

        candidates = [];
        if (campaignTrail_temp.final_state_results.length > 0 && campaignTrail_temp.final_state_results[0].result) {
            campaignTrail_temp.final_state_results[0].result.forEach(result => {
                const candidate = campaignTrail_temp.candidate_json.find(c => c.pk === result.candidate);
                if (candidate) candidates.push(candidate);
            });
        }
        if (candidates.length === 0) return;

        const senateRaceData = getSenateRaceData();
        if (senateRaceData) {
            Object.keys(senateRaceData).forEach(stateAbbr => {
                const raceData = senateRaceData[stateAbbr];
                let winnerColor = "#C9C9C9";
                let margin = 0;

                if (raceData.dem > 0 || raceData.rep > 0 || raceData.trd > 0) {
                    if (raceData.dem > raceData.rep && raceData.dem > (raceData.trd || 0)) {
                        winnerColor = "#0487E6";
                        margin = raceData.dem - Math.max(raceData.rep, raceData.trd || 0);
                    } else if (raceData.rep > raceData.dem && raceData.rep > (raceData.trd || 0)) {
                        winnerColor = "#DD2929";
                        margin = raceData.rep - Math.max(raceData.dem, raceData.trd || 0);
                    } else if ((raceData.trd || 0) > 0) {
                        winnerColor = "#FFDE3A";
                        margin = raceData.trd - Math.max(raceData.dem, raceData.rep);
                    }
                }

                const marginColor = blendMarginColor(winnerColor, margin);
                const holdsGainsColor = getSenateHoldsGainsColor(stateAbbr, raceData);

                styleCache.senate_races[stateAbbr] = {
                    solidFill: winnerColor,
                    solidHoverFill: darkenColor(winnerColor),
                    marginFill: marginColor,
                    marginHoverFill: darkenColor(marginColor),
                    holdsGainsFill: holdsGainsColor,
                    holdsGainsHoverFill: darkenColor(holdsGainsColor),
                    margin: margin,
                    demPct: raceData.dem,
                    repPct: raceData.rep,
                    trdPct: raceData.trd || 0
                };
            });
        }

        const houseData = getHouseCompositionData();
		if (Object.keys(houseData).length > 1) {
			Object.keys(houseData).forEach(stateAbbr => {
				if (stateAbbr === '_totals') return;
				const data = houseData[stateAbbr];
				styleCache.house_composition[stateAbbr] = {
					fill: data.color,
					hoverFill: data.color,
					demSeats: data.demSeats,
					repSeats: data.repSeats,
					seats: data.seats
				};
			});
		}

        campaignTrail_temp.final_state_results.forEach(stateResult => {
            const stateAbbr = stateResult.abbr;
            const stateId = stateResult.state;

            stateDataCache[stateAbbr] = {
                id: stateId,
                results: stateResult.result,
                turnoutChange: turnoutChangeData[stateId] || 0
            };

            if (stateResult.result_time <= 500) {
                const winnerId = stateResult.result[0].candidate;
                const winner = campaignTrail_temp.candidate_json.find(c => c.pk === winnerId);

                if (winner) {
                    styleCache.solid[stateAbbr] = {
                        fill: winner.fields.color_hex,
                        hoverFill: darkenColor(winner.fields.color_hex)
                    };

                    if (stateResult.result.length >= 2) {
                        const margin = stateResult.result[0].percent - stateResult.result[1].percent;
                        const runnerId = stateResult.result[1].candidate;
                        const marginColor = blendMarginColor(winner.fields.color_hex, margin);

                        styleCache.margins[stateAbbr] = {
                            fill: marginColor,
                            hoverFill: darkenColor(marginColor),
                            originalMargin: margin,
                            primaryColor: winner.fields.color_hex,
                            winner: winnerId,
                            runner: runnerId,
                            winnerPct: stateResult.result[0].percent,
                            runnerPct: stateResult.result[1].percent
                        };

                        const competitivenessColor = getCompetitivenessColor(margin);
                        styleCache.competitiveness[stateAbbr] = {
                            fill: competitivenessColor,
                            hoverFill: darkenColor(competitivenessColor),
                            margin: margin
                        };
                    } else {
                        styleCache.margins[stateAbbr] = {
                            fill: winner.fields.color_hex,
                            hoverFill: darkenColor(winner.fields.color_hex),
                            originalMargin: 1,
                            primaryColor: winner.fields.color_hex,
                            winner: winnerId,
                            runner: null,
                            winnerPct: stateResult.result[0].percent,
                            runnerPct: 0
                        };

                        styleCache.competitiveness[stateAbbr] = {
                            fill: "#0000FF",
                            hoverFill: "#0000DD",
                            margin: 1
                        };
                    }

                    const turnoutChangeColor = getTurnoutChangeColor(turnoutChangeData[stateId] || 0);
                    styleCache.turnout_change[stateAbbr] = {
                        fill: turnoutChangeColor,
                        hoverFill: darkenColor(turnoutChangeColor),
                        turnoutChange: turnoutChangeData[stateId] || 0
                    };

                    const winnerVoteShare = stateResult.result[0].percent;
                    const voteShareColor = blendVoteShareColor(winner.fields.color_hex, winnerVoteShare);
                    styleCache.vote_share[stateAbbr] = {
                        fill: voteShareColor,
                        hoverFill: darkenColor(voteShareColor),
                        voteShare: winnerVoteShare,
                        primaryColor: winner.fields.color_hex,
                        winner: winnerId
                    };

                    if (campaignTrail_temp.issues_json && campaignTrail_temp.state_issue_score_json) {
                        styleCache.issue_stance[stateAbbr] = {};
                        styleCache.issue_weight[stateAbbr] = {};
                        styleCache.candidate_issue_alignment[stateAbbr] = {};

                        campaignTrail_temp.issues_json.forEach((issue, issueIdx) => {
                            const stateIssueData = campaignTrail_temp.state_issue_score_json.find(
                                sis => sis.fields.state === stateId && sis.fields.issue === issue.pk
                            );

                            if (stateIssueData) {
                                const stateScore = stateIssueData.fields.state_issue_score;
                                const weight = stateIssueData.fields.weight;

                                const stanceColor = getIssueStanceColor(stateScore);
                                const stanceNumber = getStanceNumber(stateScore);

                                styleCache.issue_stance[stateAbbr][issueIdx] = {
                                    fill: stanceColor,
                                    hoverFill: darkenColor(stanceColor),
                                    stanceValue: stateScore,
                                    stanceNumber: stanceNumber
                                };

                                if (!styleCache.issue_stance[stateAbbr].stanceValues) {
                                    styleCache.issue_stance[stateAbbr].stanceValues = [];
                                }
                                styleCache.issue_stance[stateAbbr].stanceValues.push(stateScore);

                                const weightColor = getIssueWeightColor(weight, issueIdx);
                                styleCache.issue_weight[stateAbbr][issueIdx] = {
                                    fill: weightColor,
                                    hoverFill: darkenColor(weightColor),
                                    weight: weight
                                };

                                styleCache.candidate_issue_alignment[stateAbbr][issueIdx] = {};
                                candidates.forEach((candidate, candIdx) => {
                                    const candidateIssueData = campaignTrail_temp.candidate_issue_score_json?.find(
                                        cis => cis.fields.candidate === candidate.pk && cis.fields.issue === issue.pk
                                    );

                                    if (candidateIssueData) {
                                        const candidateScore = candidateIssueData.fields.issue_score;
                                        const alignmentColor = getCandidateIssueAlignment(stateScore, candidateScore);

                                        styleCache.candidate_issue_alignment[stateAbbr][issueIdx][candIdx] = {
                                            fill: alignmentColor,
                                            hoverFill: darkenColor(alignmentColor),
                                            stateScore: stateScore,
                                            candidateScore: candidateScore,
                                            alignment: Math.abs(stateScore - candidateScore)
                                        };
                                    } else {
                                        styleCache.candidate_issue_alignment[stateAbbr][issueIdx][candIdx] = {
                                            fill: "#C9C9C9",
                                            hoverFill: "#AAAAAA",
                                            stateScore: stateScore,
                                            candidateScore: null,
                                            alignment: 999
                                        };
                                    }

                                });
                            } else {

                                styleCache.issue_stance[stateAbbr][issueIdx] = { fill: "#C9C9C9", hoverFill: "#AAAAAA" };
                                styleCache.issue_weight[stateAbbr][issueIdx] = { fill: "#C9C9C9", hoverFill: "#AAAAAA" };
                                styleCache.candidate_issue_alignment[stateAbbr][issueIdx] = {};
                                candidates.forEach((_, candIdx) => {
                                    styleCache.candidate_issue_alignment[stateAbbr][issueIdx][candIdx] = { fill: "#C9C9C9", hoverFill: "#AAAAAA", alignment: 999, candidateScore: null };
                                });
                            }
                        });
                    } else {
                        styleCache.issue_stance[stateAbbr] = {};
                        styleCache.issue_weight[stateAbbr] = {};
                        styleCache.candidate_issue_alignment[stateAbbr] = {};
                    }

                    if (styleCache.issue_stance[stateAbbr].stanceValues && styleCache.issue_stance[stateAbbr].stanceValues.length > 0) {
                        const averageStance = styleCache.issue_stance[stateAbbr].stanceValues.reduce((sum, val) => sum + val, 0) / styleCache.issue_stance[stateAbbr].stanceValues.length;
                        const averageStanceColor = getAverageIssueStanceColor(averageStance);
                        const averageStanceNumber = getStanceNumber(averageStance);

                        styleCache.issue_stance[stateAbbr].average = {
                            fill: averageStanceColor,
                            hoverFill: darkenColor(averageStanceColor),
                            stanceValue: averageStance,
                            stanceNumber: averageStanceNumber
                        };
                    }

                    if (styleCache.issue_stance[stateAbbr].average) {
                        const averageStateStance = styleCache.issue_stance[stateAbbr].average.stanceValue;

                        styleCache.candidate_issue_alignment[stateAbbr].average = {};

                        candidates.forEach((candidate, candIdx) => {
                            let candidateTotalScore = 0;
                            let candidateIssueCount = 0;

                            campaignTrail_temp.issues_json.forEach(issue => {
                                const candidateIssueData = campaignTrail_temp.candidate_issue_score_json?.find(
                                    cis => cis.fields.candidate === candidate.pk && cis.fields.issue === issue.pk
                                );
                                if (candidateIssueData) {
                                    candidateTotalScore += candidateIssueData.fields.issue_score;
                                    candidateIssueCount++;
                                }
                            });

                            if (candidateIssueCount > 0) {
                                const candidateAverageScore = candidateTotalScore / candidateIssueCount;
                                const alignmentColor = getAverageCandidateIssueAlignment(averageStateStance, candidateAverageScore);

                                styleCache.candidate_issue_alignment[stateAbbr].average[candIdx] = {
                                    fill: alignmentColor,
                                    hoverFill: darkenColor(alignmentColor),
                                    stateScore: averageStateStance,
                                    candidateScore: candidateAverageScore,
                                    alignment: Math.abs(averageStateStance - candidateAverageScore)
                                };
                            } else {
                                styleCache.candidate_issue_alignment[stateAbbr].average[candIdx] = {
                                    fill: "#C9C9C9",
                                    hoverFill: "#AAAAAA",
                                    alignment: 999,
                                    candidateScore: null
                                };
                            }
                        });
                    }

                    styleCache.tipping_point[stateAbbr] = {
                        fill: "#C9C9C9",
                        hoverFill: "#AAAAAA"
                    };

                    styleCache.coalition_builder[stateAbbr] = {
                        fill: "#C9C9C9",
                        hoverFill: "#AAAAAA"
                    };

                    styleCache.candidate_strength[stateAbbr] = {};
                    candidates.forEach((candidate, idx) => {
                        const candidateResult = stateResult.result.find(r => r.candidate === candidate.pk);
                        const candidateData = candidateMaxPercentages[candidate.pk];

                        const nationalResult = campaignTrail_temp.final_overall_results.find(r => r.candidate === candidate.pk);
                        const totalNationalVotes = campaignTrail_temp.final_overall_results.reduce((sum, r) => sum + r.popular_votes, 0);
                        const nationalAverage = nationalResult && totalNationalVotes > 0 ?
                            nationalResult.popular_votes / totalNationalVotes : 0;

                        if (candidateResult) {
                            const perfColor = blendPerformanceColor(
                                candidate.fields.color_hex,
                                candidateResult.percent,
                                candidateData
                            );

                            const relativePerformance = candidateResult.percent - nationalAverage;
                            const relPerfColor = blendRelativePerformanceColor(
                                candidate.fields.color_hex,
                                relativePerformance,
                                nationalAverage
                            );

                            styleCache.candidate_strength[stateAbbr][idx] = {
                                fill: perfColor,
                                hoverFill: darkenColor(perfColor),
                                relativeFill: relPerfColor,
                                relativeHoverFill: darkenColor(relPerfColor),
                                percent: candidateResult.percent,
                                relativePercent: relativePerformance,
                                nationalAverage: nationalAverage,
                                primaryColor: candidate.fields.color_hex,
                                thresholds: getPerformanceThresholds(candidate.pk),
                                maxPercent: candidateData.max
                            };
                        } else {
                            styleCache.candidate_strength[stateAbbr][idx] = {
                                fill: "#EEEEEE",
                                hoverFill: "#DDDDDD",
                                relativeFill: "#EEEEEE",
                                relativeHoverFill: "#DDDDDD",
                                percent: 0,
                                relativePercent: -nationalAverage,
                                nationalAverage: nationalAverage,
                                primaryColor: candidate.fields.color_hex,
                                thresholds: getPerformanceThresholds(candidate.pk),
                                maxPercent: candidateData.max
                            };
                        }
                    });
                } else {

                    styleCache.solid[stateAbbr] = { fill: "#C9C9C9", hoverFill: "#AAAAAA" };
                    styleCache.margins[stateAbbr] = { fill: "#C9C9C9", hoverFill: "#AAAAAA" };
                    styleCache.competitiveness[stateAbbr] = { fill: "#C9C9C9", hoverFill: "#AAAAAA" };
                    styleCache.turnout_change[stateAbbr] = { fill: "#C9C9C9", hoverFill: "#AAAAAA" };
                    styleCache.vote_share[stateAbbr] = { fill: "#C9C9C9", hoverFill: "#AAAAAA" };
                    styleCache.coalition_builder[stateAbbr] = { fill: "#C9C9C9", hoverFill: "#AAAAAA" };
                    styleCache.candidate_strength[stateAbbr] = {};
                    candidates.forEach((_, idx) => {
                        styleCache.candidate_strength[stateAbbr][idx] = { fill: "#C9C9C9", hoverFill: "#AAAAAA" };
                    });
                }
            } else {

                styleCache.solid[stateAbbr] = { fill: "#C9C9C9", hoverFill: "#AAAAAA" };
                styleCache.margins[stateAbbr] = { fill: "#C9C9C9", hoverFill: "#AAAAAA" };
                styleCache.competitiveness[stateAbbr] = { fill: "#C9C9C9", hoverFill: "#AAAAAA" };
                styleCache.turnout_change[stateAbbr] = { fill: "#C9C9C9", hoverFill: "#AAAAAA" };
                styleCache.vote_share[stateAbbr] = { fill: "#C9C9C9", hoverFill: "#AAAAAA" };
                styleCache.coalition_builder[stateAbbr] = { fill: "#C9C9C9", hoverFill: "#AAAAAA" };
                styleCache.candidate_strength[stateAbbr] = {};
                candidates.forEach((_, idx) => {
                    styleCache.candidate_strength[stateAbbr][idx] = { fill: "#C9C9C9", hoverFill: "#AAAAAA" };
                });
            }
            styleCache.candidate_combiner[stateAbbr] = {
                fill: "#C9C9C9",
                hoverFill: "#AAAAAA"
            };
        });
    }

    function processStateUpdateQueue() {
        if (!stateUpdateQueue.length || animationFrameRequested) return;

        animationFrameRequested = true;

        requestAnimationFrame(() => {
            stateUpdateQueue.forEach(update => {
                update.shape.attr('fill', update.fill);
                if (typeof update.shape.data === 'function') {
                    update.shape.data('originalFill', update.fill);
                }
            });

            stateUpdateQueue.length = 0;
            animationFrameRequested = false;
        });
    }

    function calculateTippingPointPath() {
        candidates = [];
        if (campaignTrail_temp.final_state_results.length > 0 && campaignTrail_temp.final_state_results[0].result) {
             campaignTrail_temp.final_state_results[0].result.forEach(result => {
                const candidate = campaignTrail_temp.candidate_json.find(c => c.pk === result.candidate);
                if (candidate) candidates.push(candidate);
            });
        }
       
        if (selectedCandidateIndex >= candidates.length) return null;

        const candidate = candidates[selectedCandidateIndex];
        const winningThreshold = campaignTrail_temp.election_json?.[0]?.fields?.winning_electoral_vote_number || 270;

        const candidateResult = campaignTrail_temp.final_overall_results.find(r => r.candidate === candidate.pk);
        const currentEVs = candidateResult ? candidateResult.electoral_votes : 0;

        if (currentEVs >= winningThreshold) {
            return null;
        }

        const neededEVs = winningThreshold - currentEVs;

        const availableStates = [];
        campaignTrail_temp.final_state_results.forEach(stateResult => {
            if (stateResult.result_time <= 500 && stateResult.result.length >= 2) {
                const winnerId = stateResult.result[0].candidate;
                if (winnerId !== candidate.pk) {
                    const state = campaignTrail_temp.states_json.find(s => s.pk === stateResult.state);
                    if (!state) return;

                    const targetResult = stateResult.result.find(r => r.candidate === candidate.pk);
                    const targetPercent = targetResult ? targetResult.percent : 0;
                    const winnerPercent = stateResult.result[0].percent;
                    const deficit = winnerPercent - targetPercent;

                    availableStates.push({
                        abbr: stateResult.abbr,
                        stateId: stateResult.state,
                        electoralVotes: state.fields.electoral_votes,
                        deficit,
                        pathPosition: null,
                        isRequired: false
                    });
                }
            }
        });

        availableStates.sort((a, b) => a.deficit - b.deficit);

        let runningEVs = 0;
        const requiredPath = [];
        let tippingPointState = null;

        for (const state of availableStates) {
            if (runningEVs >= neededEVs) break;

            state.pathPosition = requiredPath.length + 1;
            state.isRequired = true;
            requiredPath.push(state);
            runningEVs += state.electoralVotes;

            if (runningEVs >= neededEVs && !tippingPointState) {
                tippingPointState = state.abbr;
            }
        }

        const totalPathEVs = requiredPath.reduce((sum, state) => sum + state.electoralVotes, 0);

        return {
            candidate,
            path: requiredPath,
            currentEVs,
            neededEVs,
            totalPathEVs,
            tippingPointState
        };
    }

    function createTippingPointCandidateSelector() {
        const container = document.createElement('div');
        const fragment = document.createDocumentFragment();
        container.style.marginBottom = '10px';

        const label = document.createElement('label');
        label.textContent = 'Perspective: ';
        label.style.marginRight = '5px';
        fragment.appendChild(label);

        const select = document.createElement('select');
        campaignTrail_temp.candidate_json.forEach((candidate, idx) => {
            const option = document.createElement('option');
            option.value = candidate.pk;
            option.textContent = candidate.fields.last_name;
            if (candidate.pk === selectedCandidateIndex) option.selected = true;
            select.appendChild(option);
        });

        select.addEventListener('change', (e) => {
            selectedCandidateIndex = parseInt(e.target.value);
            updateMapStyles();
            updateLegend();
        });

        fragment.appendChild(select);		
        container.appendChild(fragment);
        return container;
    }

    function getTippingPointColor(pathPosition, isRequired, deficit, pathLength, candidateColor) {

        const baseRgb = hexToRgb(candidateColor);

        const [r, g, b] = baseRgb;
        const isReddish = r > Math.max(g, b) + 50;
        const isBluish = b > Math.max(r, g) + 50;
        const isGreenish = g > Math.max(r, b) + 50;

        let colorPalette;

        if (isReddish) {
            colorPalette = ["#8B0000", "#B22222", "#DC143C", "#FF4500", "#FF6347", "#FFA500", "#FFD700"];
        } else if (isBluish) {
            colorPalette = ["#000080", "#0000CD", "#4169E1", "#6A5ACD", "#8A2BE2", "#DA70D6", "#DDA0DD"];
        } else if (isGreenish) {
            colorPalette = ["#006400", "#228B22", "#32CD32", "#00CED1", "#40E0D0", "#48D1CC", "#AFEEEE"];
        } else {
            colorPalette = ["#4B0082", "#800080", "#9932CC", "#BA55D3", "#DA70D6", "#DDA0DD", "#E6E6FA"];
        }

        let colorIndex;
        if (pathLength <= 5) {
            colorIndex = Math.min(pathPosition - 1, 4);
        } else if (pathLength <= 10) {
            const scaleFactor = 6 / (pathLength - 1);
            colorIndex = Math.min(Math.floor((pathPosition - 1) * scaleFactor), 6);
        } else {
            if (pathPosition <= 3) {
                colorIndex = pathPosition - 1;
            } else if (pathPosition <= Math.ceil(pathLength * 0.3)) {
                colorIndex = 3;
            } else if (pathPosition <= Math.ceil(pathLength * 0.6)) {
                colorIndex = 4;
            } else if (pathPosition <= Math.ceil(pathLength * 0.8)) {
                colorIndex = 5;
            } else {
                colorIndex = 6;
            }
        }

        return colorPalette[colorIndex];
    }

    function updateMapStyles() {
        const map = $('#map_container').data('plugin-usmap');
        if (!map || !map.stateShapes) return;

        let styles;
        switch (currentMode) {
            case VISUALIZATION_MODES.MARGINS:
                styles = styleCache.margins;
                break;
            case VISUALIZATION_MODES.CANDIDATE_STRENGTH:
                styles = {};
                for (const stateAbbr in styleCache.candidate_strength) {
                    const stateData = styleCache.candidate_strength[stateAbbr][selectedCandidateIndex];
                    if (stateData) {
                        if (candidatePerformanceMode === 'relative') {
                            styles[stateAbbr] = {
                                fill: stateData.relativeFill,
                                hoverFill: stateData.relativeHoverFill
                            };
                        } else {
                            styles[stateAbbr] = {
                                fill: stateData.fill,
                                hoverFill: stateData.hoverFill
                            };
                        }
                    } else {
                        styles[stateAbbr] = { fill: "#EEEEEE", hoverFill: "#DDDDDD" };
                    }
                }
                break;
            case VISUALIZATION_MODES.COMPETITIVENESS:
                styles = styleCache.competitiveness;
                break;
            case VISUALIZATION_MODES.TURNOUT_CHANGE:
                styles = styleCache.turnout_change;
                break;
            case VISUALIZATION_MODES.VOTE_SHARE:
                styles = styleCache.vote_share;
                break;
            case VISUALIZATION_MODES.ISSUE_STANCE:
                styles = {};
                if (showAverageIssueStance) {
                    for (const stateAbbr in styleCache.issue_stance) {
                        if (styleCache.issue_stance[stateAbbr].average) {
                            styles[stateAbbr] = styleCache.issue_stance[stateAbbr].average;
                        } else {
                            styles[stateAbbr] = { fill: "#EEEEEE", hoverFill: "#DDDDDD" };
                        }
                    }
                } else {
                    for (const stateAbbr in styleCache.issue_stance) {
                        if (styleCache.issue_stance[stateAbbr][selectedIssueIndex]) {
                            styles[stateAbbr] = styleCache.issue_stance[stateAbbr][selectedIssueIndex];
                        } else {
                            styles[stateAbbr] = { fill: "#EEEEEE", hoverFill: "#DDDDDD" };
                        }
                    }
                }
                break;
            case VISUALIZATION_MODES.ISSUE_WEIGHT:
                styles = {};
                if (showAverageIssueStance) {
                    for (const stateAbbr in styleCache.issue_weight) {
                        styles[stateAbbr] = { fill: "#C9C9C9", hoverFill: "#AAAAAA" };
                    }
                } else {
                    for (const stateAbbr in styleCache.issue_weight) {
                        if (styleCache.issue_weight[stateAbbr][selectedIssueIndex]) {
                            styles[stateAbbr] = styleCache.issue_weight[stateAbbr][selectedIssueIndex];
                        } else {
                            styles[stateAbbr] = { fill: "#EEEEEE", hoverFill: "#DDDDDD" };
                        }
                    }
                }
                break;
            case VISUALIZATION_MODES.CANDIDATE_ISSUE_ALIGNMENT:
                styles = {};
                if (alignmentComparisonMode === 'comparison') {
                    for (const stateAbbr in styleCache.candidate_issue_alignment) {
                        let bestAlignment = 999;
                        let bestCandidateIdx = -1;
                        let bestCandidateColor = "#EEEEEE";

                        selectedComparisonCandidates.forEach(candIdx => {
                            if (candIdx >= candidates.length) return;
                            let alignmentData;
                            if (showAverageIssueStance) {
                                alignmentData = styleCache.candidate_issue_alignment[stateAbbr]?.average?.[candIdx];
                            } else {
                                alignmentData = styleCache.candidate_issue_alignment[stateAbbr]?.[selectedIssueIndex]?.[candIdx];
                            }

                            if (alignmentData && alignmentData.alignment < bestAlignment) {
                                bestAlignment = alignmentData.alignment;
                                bestCandidateIdx = candIdx;
                                bestCandidateColor = candidates[candIdx].fields.color_hex;
                            }
                        });

                        if (bestCandidateIdx !== -1) {
                            const maxAlignment = 2.0;
                            const normalizedAlignment = Math.min(bestAlignment / maxAlignment, 1.0);
                            const whiteBlendFactor = 0.1 + (normalizedAlignment * 0.8);
                            const baseRGB = hexToRgb(bestCandidateColor);
                            const whiteRGB = [255, 255, 255];
                            const blendedRGB = interpolateColor(baseRGB, whiteRGB, whiteBlendFactor);
                            const blendedColor = rgbToHex(...blendedRGB);
                            styles[stateAbbr] = { fill: blendedColor, hoverFill: darkenColor(blendedColor) };
                        } else {
                            styles[stateAbbr] = { fill: "#EEEEEE", hoverFill: "#DDDDDD" };
                        }
                    }
                } else {
                    if (showAverageIssueStance) {
                        for (const stateAbbr in styleCache.candidate_issue_alignment) {
                            const alignmentData = styleCache.candidate_issue_alignment[stateAbbr]?.average?.[selectedAlignmentCandidateIndex];
                            if (alignmentData && alignmentData.alignment < 999) {
                                styles[stateAbbr] = alignmentData;
                            } else {
                                styles[stateAbbr] = { fill: "#EEEEEE", hoverFill: "#DDDDDD" };
                            }
                        }
                    } else {
                        for (const stateAbbr in styleCache.candidate_issue_alignment) {
                            const alignmentData = styleCache.candidate_issue_alignment[stateAbbr]?.[selectedIssueIndex]?.[selectedAlignmentCandidateIndex];
                            if (alignmentData && alignmentData.alignment < 999) {
                                styles[stateAbbr] = alignmentData;
                            } else {
                                styles[stateAbbr] = { fill: "#EEEEEE", hoverFill: "#DDDDDD" };
                            }
                        }
                    }
                }
                break;
            case VISUALIZATION_MODES.TIPPING_POINT:
                const tippingPointData = calculateTippingPointPath();
                styles = {};

                if (tippingPointData) {
                    for (const stateAbbr in styleCache.tipping_point) {
                        styles[stateAbbr] = { fill: "#E0E0E0", hoverFill: "#D0D0D0" };
                    }
                    campaignTrail_temp.final_state_results.forEach(stateResult => {
                        if (stateResult.result_time <= 500 && stateResult.result.length > 0) {
                            const winnerId = stateResult.result[0].candidate;
                            if (winnerId === tippingPointData.candidate.pk) {
                                const color = tippingPointData.candidate.fields.color_hex;
                                styles[stateResult.abbr] = { fill: color, hoverFill: darkenColor(color) };
                            }
                        }
                    });
                    tippingPointData.path.forEach(state => {
                        const color = getTippingPointColor(state.pathPosition, state.isRequired, state.deficit, tippingPointData.path.length, tippingPointData.candidate.fields.color_hex);
                        if (color) {
                            styles[state.abbr] = { fill: color, hoverFill: darkenColor(color) };
                        }
                    });
                } else {
                    for (const stateAbbr in styleCache.solid) {
                        styles[stateAbbr] = styleCache.solid[stateAbbr];
                    }
                }
                break;
            case VISUALIZATION_MODES.COALITION_BUILDER:
                coalitionResults = calculateCoalitionResults(coalitionCandidateIndex, coalitionVoteShare);
                styles = {};
                candidates = [];
                campaignTrail_temp.final_state_results[0].result.forEach(result => {
                    const candidate = campaignTrail_temp.candidate_json.find(c => c.pk === result.candidate);
                    if (candidate) candidates.push(candidate);
                });
                for (const stateAbbr in coalitionResults.states) {
                    const stateData = coalitionResults.states[stateAbbr];
                    const newWinnerCandidate = candidates.find(c => c.pk === stateData.newWinner);
                    if (newWinnerCandidate) {
                        const newResults = stateData.newResults;
                        const margin = newResults.length >= 2 ? newResults[0].percent - newResults[1].percent : newResults[0].percent;
                        if (coalitionMode === 'solid') {
                            styles[stateAbbr] = { fill: newWinnerCandidate.fields.color_hex, hoverFill: darkenColor(newWinnerCandidate.fields.color_hex) };
                        } else if (coalitionMode === 'margins') {
                            const marginColor = blendMarginColor(newWinnerCandidate.fields.color_hex, margin);
                            styles[stateAbbr] = { fill: marginColor, hoverFill: darkenColor(marginColor) };
                        } else if (coalitionMode === 'performance') {
                            const targetCandidate = candidates[coalitionCandidateIndex];
                            const targetResult = newResults.find(r => r.candidate === targetCandidate.pk);
                            const targetPercent = targetResult ? targetResult.percent : 0;
                            const candidateData = candidateMaxPercentages[targetCandidate.pk];
                            const perfColor = blendPerformanceColor(targetCandidate.fields.color_hex, targetPercent, candidateData);
                            styles[stateAbbr] = { fill: perfColor, hoverFill: darkenColor(perfColor) };
                        }
                    } else {
                        styles[stateAbbr] = { fill: "#E0E0E0", hoverFill: "#D0D0D0" };
                    }
                }
                break;
            case VISUALIZATION_MODES.CANDIDATE_COMBINER:
                if (headToHeadMode) {
                    headToHeadResults = calculateHeadToHeadResults(
                        headToHeadTeam1Index1, headToHeadTeam1Index2,
                        headToHeadTeam2Index1, headToHeadTeam2Index2
                    );
                    styles = {};
                    candidates = [];
                    campaignTrail_temp.final_state_results[0].result.forEach(result => {
                        const candidate = campaignTrail_temp.candidate_json.find(c => c.pk === result.candidate);
                        if (candidate) candidates.push(candidate);
                    });
                    campaignTrail_temp.final_state_results.forEach(stateResult => {
                        const stateAbbr = stateResult.abbr;
                        const stateData = headToHeadResults.states[stateAbbr];
                        if (stateData) {
                            if (stateData.team1Wins) {
                                const team1Color = candidates[headToHeadTeam1Index1].fields.color_hex;
                                const marginColor = blendMarginColor(team1Color, stateData.margin);
                                styles[stateAbbr] = { fill: marginColor, hoverFill: darkenColor(marginColor) };
                            } else {
                                const team2Color = candidates[headToHeadTeam2Index1].fields.color_hex;
                                const marginColor = blendMarginColor(team2Color, stateData.margin);
                                styles[stateAbbr] = { fill: marginColor, hoverFill: darkenColor(marginColor) };
                            }
                        } else {
                            styles[stateAbbr] = { fill: "#E0E0E0", hoverFill: "#D0D0D0" };
                        }
                    });
                } else {
                    combinerResults = calculateCombinerResults(combinedCandidateIndex1, combinedCandidateIndex2, combinedCandidateIndex3);
                    styles = {};
                    candidates = [];
                    campaignTrail_temp.final_state_results[0].result.forEach(result => {
                        const candidate = campaignTrail_temp.candidate_json.find(c => c.pk === result.candidate);
                        if (candidate) candidates.push(candidate);
                    });
                    campaignTrail_temp.final_state_results.forEach(stateResult => {
                        const stateAbbr = stateResult.abbr;
                        const stateData = combinerResults.states[stateAbbr];
                        if (stateData && stateData.newWinner) {
                            const newWinnerCandidate = candidates.find(c => c.pk === stateData.newWinner);
                            if (newWinnerCandidate) {
                                const marginColor = blendMarginColor(newWinnerCandidate.fields.color_hex, stateData.projectedMargin);
                                styles[stateAbbr] = { fill: marginColor, hoverFill: darkenColor(marginColor) };
                            }
                        } else {
                            const winnerId = stateResult.result[0].candidate;
                            const winnerCandidate = candidates.find(c => c.pk === winnerId);
                            if (winnerCandidate) {
                                styles[stateAbbr] = { fill: winnerCandidate.fields.color_hex, hoverFill: darkenColor(winnerCandidate.fields.color_hex) };
                            }
                        }
                    });
                }
                break;
            case VISUALIZATION_MODES.SENATE_RACES:
                styles = {};
                const senateMode = window.currentSenateMode || 'solid';
                for (const stateAbbr in styleCache.senate_races) {
                    const senateStyle = styleCache.senate_races[stateAbbr];
                    if (senateMode === 'margins') {
                        styles[stateAbbr] = { fill: senateStyle.marginFill, hoverFill: senateStyle.marginHoverFill };
                    } else if (senateMode === 'holds_gains') {
                        styles[stateAbbr] = { fill: senateStyle.holdsGainsFill, hoverFill: senateStyle.holdsGainsHoverFill };
                    } else {
                        styles[stateAbbr] = { fill: senateStyle.solidFill, hoverFill: senateStyle.solidHoverFill };
                    }
                }
                for (const stateAbbr in styleCache.solid) {
                    if (!styles[stateAbbr]) {
                        styles[stateAbbr] = { fill: "#E0E0E0", hoverFill: "#D0D0D0" };
                    }
                }
                break;
            case VISUALIZATION_MODES.HOUSE_COMPOSITION:
                styles = styleCache.house_composition;
                break;
            default:
                styles = styleCache.solid;
        }

        stateUpdateQueue.length = 0;

        for (const stateAbbr in styles) {
            if (map.stateShapes[stateAbbr]) {
                stateUpdateQueue.push({
                    shape: map.stateShapes[stateAbbr],
                    fill: styles[stateAbbr]?.fill || "#C9C9C9"
                });
            }
        }

        processStateUpdateQueue();
    }

        function createMarginLegend() {
        const container = document.createElement('div');
        container.style.paddingRight = '5px';

        const frag = document.createDocumentFragment();

        const topCandidates = getTopCandidates();

        const title = document.createElement('div');
        title.textContent = 'Margin of victory';
        title.style.fontWeight = 'bold';
        title.style.marginBottom = '5px';
        title.style.textAlign = 'center';
        frag.appendChild(title);

        const table = document.createElement('table');
        table.style.width = '100%';
        table.style.borderCollapse = 'collapse';

        topCandidates.forEach(({ candidate, pk }) => {
            const nameRow = table.insertRow();
            const nameCell = nameRow.insertCell();
            nameCell.colSpan = 2;
            nameCell.style.padding = '5px 3px';

            const colorSpan = document.createElement('span');
            colorSpan.style.display = 'inline-block';
            colorSpan.style.width = '12px';
            colorSpan.style.height = '12px';
            colorSpan.style.backgroundColor = candidate.fields.color_hex;
            colorSpan.style.marginRight = '4px';
            colorSpan.style.border = '1px solid #999';
            colorSpan.style.verticalAlign = 'bottom';

            nameCell.appendChild(colorSpan);
            nameCell.appendChild(document.createTextNode(candidate.fields.last_name));
            nameCell.style.fontWeight = 'bold';

            const marginRanges = [
                { range: ">15% (Safe)", margin: 0.20 },
                { range: "10-15% (Solid)", margin: 0.12 },
                { range: "5-10% (Likely)", margin: 0.07 },
                { range: "1-5% (Lean)", margin: 0.03 },
                { range: "<1% (Tossup)", margin: 0.005 }
            ];

            marginRanges.forEach(({ range, margin }) => {
                const row = table.insertRow();

                const colorCell = row.insertCell();
                colorCell.style.width = '16px';
                colorCell.style.height = '11px';
                colorCell.style.backgroundColor = blendMarginColor(candidate.fields.color_hex, margin);
                colorCell.style.border = '1px solid #ddd';

                const labelCell = row.insertCell();
                labelCell.textContent = range;
                labelCell.style.paddingLeft = '6px';
                labelCell.style.fontSize = '10px';
            });

            if (pk !== topCandidates[topCandidates.length - 1].pk) {
                const spacerRow = table.insertRow();
                const spacerCell = spacerRow.insertCell();
                spacerCell.colSpan = 2;
                spacerCell.style.height = '5px';
            }
        });

        frag.appendChild(table);
        container.appendChild(frag);
        return container;
    }

    function createPerformanceLegend(candidateIndex) {
        candidates = [];
        if (campaignTrail_temp.final_state_results.length > 0 && campaignTrail_temp.final_state_results[0].result) {
            campaignTrail_temp.final_state_results[0].result.forEach(result => {
                const candidate = campaignTrail_temp.candidate_json.find(c => c.pk === result.candidate);
                if (candidate) candidates.push(candidate);
            });
        }
        
        if (candidateIndex >= candidates.length) return null;
        const candidate = candidates[candidateIndex];

        const candidateData = candidateMaxPercentages[candidate.pk];
        if (!candidateData) return null;

        const thresholds = getPerformanceThresholds(candidate.pk);
        const maxPercent = candidateData.max;

        const container = document.createElement('div');
        const frag = document.createDocumentFragment();

        const title = document.createElement('div');
        title.textContent = candidate.fields.last_name + ' performance';
        title.style.fontWeight = 'bold';
        title.style.marginBottom = '5px';
        title.style.textAlign = 'center';
        frag.appendChild(title);

        const statsDiv = document.createElement('div');
        statsDiv.style.fontSize = '9px';
        statsDiv.style.marginBottom = '5px';
        statsDiv.style.textAlign = 'center';
        statsDiv.style.color = '#555';
        statsDiv.textContent = `Best: ${formatThreshold(maxPercent)} | Avg: ${formatThreshold(candidateData.avg)}`;
        frag.appendChild(statsDiv);

        const tierDiv = document.createElement('div');
        tierDiv.style.fontSize = '9px';
        tierDiv.style.marginBottom = '5px';
        tierDiv.style.textAlign = 'center';
        tierDiv.style.color = '#777';
        tierDiv.style.fontStyle = 'italic';
        tierDiv.textContent = 'Darker = higher performance | Lighter = lower performance';
        frag.appendChild(tierDiv);

        const table = document.createElement('table');
        table.style.width = '100%';
        table.style.borderCollapse = 'collapse';

        const getPerformanceLabel = (threshold, index) => {
            if (index === 0) {
                return `${formatThreshold(threshold)}+`;
            } else if (index === thresholds.length - 1) {
                return `Up to ${formatThreshold(thresholds[index-1])}`;
            } else {
                return `${formatThreshold(threshold)} - ${formatThreshold(thresholds[index - 1])}`;
            }
        };

        for (let i = 0; i < thresholds.length; i++) {
            const row = table.insertRow();

            const colorCell = row.insertCell();
            colorCell.style.width = '16px';
            colorCell.style.height = '12px';

            let displayValue;
            if (i === 0) {
                displayValue = thresholds[i];
            } else if (i === thresholds.length - 1) {
                displayValue = thresholds[i] * 0.5;
            } else {
                displayValue = (thresholds[i] + thresholds[i - 1]) / 2;
            }

            colorCell.style.backgroundColor = blendPerformanceColor(
                candidate.fields.color_hex,
                displayValue,
                candidateData
            );
            colorCell.style.border = '1px solid #ddd';

            const labelCell = row.insertCell();
            labelCell.textContent = getPerformanceLabel(thresholds[i], i, thresholds[0]);
            labelCell.style.paddingLeft = '6px';
            labelCell.style.fontSize = '10px';
        }

        frag.appendChild(table);

        const dcResult = campaignTrail_temp.final_state_results.find(r => r.abbr === "DC");
        if (dcResult) {
            const dcCandidateResult = dcResult.result.find(c => c.candidate === candidate.pk);
            const dcPercent = dcCandidateResult?.percent ?? 0;
            const dcNote = document.createElement('div');
            dcNote.style.fontSize = '9px';
            dcNote.style.marginTop = '5px';
            dcNote.style.textAlign = 'center';
            dcNote.style.color = '#777';
            dcNote.style.fontStyle = 'italic';
            dcNote.textContent = `DC is ignored (${(dcPercent * 100).toFixed(1)}%)`;
            frag.appendChild(dcNote);
        }

        container.appendChild(frag);
        return container;
    }

    function createRelativePerformanceLegend(candidateIndex) {
        candidates = [];
        campaignTrail_temp.final_state_results[0].result.forEach(result => {
            const candidate = campaignTrail_temp.candidate_json.find(c => c.pk === result.candidate);
            if (candidate) candidates.push(candidate);
        });

        if (candidateIndex >= candidates.length) return null;
        const candidate = candidates[candidateIndex];

        const container = document.createElement('div');
        const frag = document.createDocumentFragment();

        const title = document.createElement('div');
        title.textContent = candidate.fields.last_name + ' vs National average';
        title.style.fontWeight = 'bold';
        title.style.marginBottom = '5px';
        title.style.textAlign = 'center';
        frag.appendChild(title);

        const nationalResult = campaignTrail_temp.final_overall_results.find(r => r.candidate === candidate.pk);
        const totalNationalVotes = campaignTrail_temp.final_overall_results.reduce((sum, r) => sum + r.popular_votes, 0);
        const nationalAverage = nationalResult && totalNationalVotes > 0 ?
            nationalResult.popular_votes / totalNationalVotes : 0;

        const statsDiv = document.createElement('div');
        statsDiv.style.fontSize = '9px';
        statsDiv.style.marginBottom = '5px';
        statsDiv.style.textAlign = 'center';
        statsDiv.style.color = '#555';
        statsDiv.textContent = `National average: ${(nationalAverage * 100).toFixed(1)}%`;
        frag.appendChild(statsDiv);

        let bestRelative = -1;
        let worstRelative = 1;
        let bestState = '';
        let worstState = '';

        campaignTrail_temp.final_state_results.forEach(stateResult => {
            const candidateResult = stateResult.result.find(r => r.candidate === candidate.pk);
            if (candidateResult) {
                const relative = candidateResult.percent - nationalAverage;
                if (relative > bestRelative) {
                    bestRelative = relative;
                    bestState = stateResult.abbr;
                }
                if (relative < worstRelative) {
                    worstRelative = relative;
                    worstState = stateResult.abbr;
                }
            }
        });

        const rangeDiv = document.createElement('div');
        rangeDiv.style.fontSize = '9px';
        rangeDiv.style.marginBottom = '5px';
        rangeDiv.style.textAlign = 'center';
        rangeDiv.style.color = '#666';
        rangeDiv.textContent = `Best: ${bestState} (+${(bestRelative * 100).toFixed(1)}%) | Worst: ${worstState} (${(worstRelative * 100).toFixed(1)}%)`;
        frag.appendChild(rangeDiv);

        const table = document.createElement('table');
        table.style.width = '100%';
        table.style.borderCollapse = 'collapse';

        const isLowPerformer = nationalAverage < 0.10;

        const ranges = isLowPerformer ? [
            { label: "2x+ national avg", relativeExample: nationalAverage * 2.0 },
            { label: "1.5-2x national", relativeExample: nationalAverage * 0.75 },
            { label: "1.2-1.5x national", relativeExample: nationalAverage * 0.35 },
            { label: "0.8-1.2x national", relativeExample: 0 },
            { label: "0.5-0.8x national", relativeExample: -nationalAverage * 0.4 },
            { label: "0.2-0.5x national", relativeExample: -nationalAverage * 0.7 },
            { label: "<0.2x national", relativeExample: -nationalAverage * 0.9 }
        ] : [
            { label: "+15%+", relativeExample: 0.18 },
            { label: "+10 to +15%", relativeExample: 0.125 },
            { label: "+5 to +10% ", relativeExample: 0.075 },
            { label: "+2 to +5%", relativeExample: 0.035 },
            { label: "-2 to +2%", relativeExample: 0 },
            { label: "-2 to -5%", relativeExample: -0.035 },
            { label: "-5 to -10%", relativeExample: -0.075 },
            { label: "-10 to -15%", relativeExample: -0.125 },
            { label: "-15%+", relativeExample: -0.18 }
        ];

        ranges.forEach(({ label, relativeExample }) => {
            const row = table.insertRow();

            const colorCell = row.insertCell();
            colorCell.style.width = '16px';
            colorCell.style.height = '12px';

            colorCell.style.backgroundColor = blendRelativePerformanceColor(
                candidate.fields.color_hex,
                relativeExample,
                nationalAverage
            );
            colorCell.style.border = '1px solid #ddd';

            const labelCell = row.insertCell();
            labelCell.textContent = label;
            labelCell.style.paddingLeft = '6px';
            labelCell.style.fontSize = '10px';
        });

        frag.appendChild(table);
        container.appendChild(frag);
        return container;
    }

    function createCompetitivenessLegend() {
        const container = document.createElement('div');
        const frag = document.createDocumentFragment();

        const title = document.createElement('div');
        title.textContent = 'Race competitiveness';
        title.style.fontWeight = 'bold';
        title.style.marginBottom = '5px';
        title.style.textAlign = 'center';
        frag.appendChild(title);

        let mostCompetitive = { state: '', margin: 1 };
        let leastCompetitive = { state: '', margin: 0 };

        campaignTrail_temp.final_state_results.forEach(stateResult => {
            if (stateResult.result_time <= 500 && stateResult.result.length >= 2) {
                const margin = stateResult.result[0].percent - stateResult.result[1].percent;

                if (margin < mostCompetitive.margin) {
                    mostCompetitive = { state: stateResult.abbr, margin: margin };
                }
                if (margin > leastCompetitive.margin) {
                    leastCompetitive = { state: stateResult.abbr, margin: margin };
                }
            }
        });

        const statsDiv = document.createElement('div');
        statsDiv.style.fontSize = '9px';
        statsDiv.style.marginBottom = '5px';
        statsDiv.style.textAlign = 'center';
        statsDiv.style.color = '#555';
        statsDiv.textContent = `Most competitive: ${mostCompetitive.state} | Least: ${leastCompetitive.state}`;
        frag.appendChild(statsDiv);

        const table = document.createElement('table');
        table.style.width = '100%';
        table.style.borderCollapse = 'collapse';

        const ranges = [
            { color: "#FF0000", label: "<1% (Tossup)" },
            { color: "#FF3300", label: "1-2.5% (Very Close)" },
            { color: "#FF6600", label: "2.5-5% (Close)" },
            { color: "#FF9900", label: "5-7.5% (Lean)" },
            { color: "#FFCC00", label: "7.5-10% (Likely)" },
            { color: "#FFFF00", label: "10-15% (Safe)" },
            { color: "#AADD00", label: "15-20% (Very Safe)" },
            { color: "#55BB00", label: "20-30% (Solid)" },
            { color: "#0000FF", label: ">30% (Landslide)" }
        ];

        ranges.forEach(({ color, label }) => {
            const row = table.insertRow();

            const colorCell = row.insertCell();
            colorCell.style.width = '16px';
            colorCell.style.height = '12px';
            colorCell.style.backgroundColor = color;
            colorCell.style.border = '1px solid #ddd';

            const labelCell = row.insertCell();
            labelCell.textContent = label;
            labelCell.style.paddingLeft = '6px';
            labelCell.style.fontSize = '10px';
        });

        frag.appendChild(table);
        container.appendChild(frag);
        return container;
    }

    function createTurnoutChangeLegend() {
        const container = document.createElement('div');
        const frag = document.createDocumentFragment();

        const title = document.createElement('div');
        title.textContent = 'Turnout change';
        title.style.fontWeight = 'bold';
        title.style.marginBottom = '5px';
        title.style.textAlign = 'center';
        frag.appendChild(title);

        const noteDiv = document.createElement('div');
        noteDiv.style.fontSize = '9px';
        noteDiv.style.marginBottom = '5px';
        noteDiv.style.color = '#777';
        noteDiv.style.textAlign = 'center';

        if (campaignTrail_temp.TurnoutSystem) {
            noteDiv.textContent = '(% change from baseline turnout)';
        } else {
            noteDiv.textContent = '(estimated from results)';
        }
        frag.appendChild(noteDiv);

        const table = document.createElement('table');
        table.style.width = '100%';
        table.style.borderCollapse = 'collapse';

        const ranges = [
            { color: "#006400", label: ">10% (Major increase)" },
            { color: "#228B22", label: "7.5-10% (Large increase)" },
            { color: "#2E8B57", label: "5-7.5% (Significant)" },
            { color: "#3CB371", label: "2.5-5% (Moderate)" },
            { color: "#90EE90", label: "1-2.5% (Minor increase)" },
            { color: "#F5F5F5", label: "±1% (Minimal change)" },
            { color: "#FFA07A", label: "-1 to -2.5% (Minor drop)" },
            { color: "#FF6347", label: "-2.5 to -5% (Moderate)" },
            { color: "#FF0000", label: "-5 to -7.5% (Significant)" },
            { color: "#B22222", label: "-7.5 to -10% (Large drop)" },
            { color: "#8B0000", label: ">10% (Major decrease)" }
        ];

        ranges.forEach(({ color, label }) => {
            const row = table.insertRow();

            const colorCell = row.insertCell();
            colorCell.style.width = '16px';
            colorCell.style.height = '12px';
            colorCell.style.backgroundColor = color;
            colorCell.style.border = '1px solid #ddd';

            const labelCell = row.insertCell();
            labelCell.textContent = label;
            labelCell.style.paddingLeft = '6px';
            labelCell.style.fontSize = '10px';
        });

        frag.appendChild(table);
        container.appendChild(frag);
        return container;
    }

    function createCoalitionBuilderLegend() {
        if (!coalitionResults || !coalitionResults.states) return null;

        candidates = [];
        campaignTrail_temp.final_state_results[0].result.forEach(result => {
            const candidate = campaignTrail_temp.candidate_json.find(c => c.pk === result.candidate);
            if (candidate) candidates.push(candidate);
        });

        if (coalitionCandidateIndex >= candidates.length) return null;
        const candidate = candidates[coalitionCandidateIndex];

        const container = document.createElement('div');		
        const fragment = document.createDocumentFragment();

        const title = document.createElement('div');
        title.textContent = `${candidate.fields.last_name} coalition (${Math.round(coalitionVoteShare * 100)}%)`;
        title.style.fontWeight = 'bold';
        title.style.marginBottom = '5px';
        title.style.textAlign = 'center';
        fragment.appendChild(title);

        const winningThreshold = campaignTrail_temp.election_json?.[0]?.fields?.winning_electoral_vote_number || 270;
        const totalEV = coalitionResults.totalElectoralVotes;
        const isWinning = totalEV >= winningThreshold;

        let statesFlipped = 0;
        let statesLost = 0;
        for (const stateAbbr in coalitionResults.states) {
            const stateData = coalitionResults.states[stateAbbr];
            const originalWinner = campaignTrail_temp.final_state_results
                .find(sr => sr.abbr === stateAbbr)?.result[0]?.candidate;

            if (stateData.wouldWin && originalWinner !== candidate.pk) {
                statesFlipped++;
            } else if (!stateData.wouldWin && originalWinner === candidate.pk) {
                statesLost++;
            }
        }

        const statsDiv = document.createElement('div');
        statsDiv.style.fontSize = '9px';
        statsDiv.style.marginBottom = '5px';
        statsDiv.style.textAlign = 'center';
        statsDiv.style.color = isWinning ? '#006400' : '#8B0000';
        statsDiv.style.fontWeight = 'bold';

        let statsText = `Electoral votes: ${totalEV}/${winningThreshold}`;
        if (statesFlipped > 0) statsText += ` | Flipped: ${statesFlipped}`;
        if (statesLost > 0) statsText += ` | Lost: ${statesLost}`;

        statsDiv.textContent = statsText;
        fragment.appendChild(statsDiv);

        const originalWins = campaignTrail_temp.final_state_results.filter(sr =>
            sr.result_time <= 500 && sr.result.length > 0 && sr.result[0].candidate === candidate.pk
        ).length;

        const projectedWins = Object.values(coalitionResults.states).filter(s => s.wouldWin).length;
        const netStateChange = projectedWins - originalWins;

        const swingDiv = document.createElement('div');
        swingDiv.style.fontSize = '9px';
        swingDiv.style.marginBottom = '5px';
        swingDiv.style.textAlign = 'center';
        swingDiv.style.color = '#555';

        if (netStateChange > 0) {
            swingDiv.textContent = `Flips ${netStateChange} states from current results`;
        } else if (netStateChange < 0) {
            swingDiv.textContent = `Loses ${Math.abs(netStateChange)} currently won states`;
        } else {
            swingDiv.textContent = 'Same states as current results';
        }

        fragment.appendChild(swingDiv);

        if (!isWinning && coalitionResults.mostCompetitiveLosses && coalitionResults.mostCompetitiveLosses.length > 0) {
            const targetsDiv = document.createElement('div');
            targetsDiv.style.fontSize = '9px';
            targetsDiv.style.marginBottom = '5px';
            targetsDiv.style.textAlign = 'center';
            targetsDiv.style.color = '#666';
            targetsDiv.style.fontStyle = 'italic';

            const topTargets = coalitionResults.mostCompetitiveLosses.slice(0, 3);
            const targetNames = topTargets.map(t => t.abbr).join(', ');
            targetsDiv.textContent = `Best targets: ${targetNames}`;

            fragment.appendChild(targetsDiv);
        }

        if (coalitionMode === 'performance') {

            const performanceValues = [];
            let minPerformance = 1;
            let maxPerformance = 0;
            let totalPerformance = 0;
            let count = 0;

            for (const stateAbbr in coalitionResults.states) {
                const stateData = coalitionResults.states[stateAbbr];
                const performance = stateData.newVoteShare;

                performanceValues.push(performance);
                minPerformance = Math.min(minPerformance, performance);
                maxPerformance = Math.max(maxPerformance, performance);
                totalPerformance += performance;
                count++;
            }

            const avgPerformance = count > 0 ? totalPerformance / count : 0;

            performanceValues.sort((a, b) => a - b);
            const p10 = calculatePercentile(performanceValues, 10);
            const p90 = calculatePercentile(performanceValues, 90);

            const coalitionCandidateData = {
                max: maxPerformance,
                min: minPerformance,
                avg: avgPerformance,
                p10: p10,
                p90: p90,
                percentiles: performanceValues
            };

            const coalitionThresholds = getCoalitionPerformanceThresholds(coalitionCandidateData);

            const perfStatsDiv = document.createElement('div');
            perfStatsDiv.style.fontSize = '9px';
            perfStatsDiv.style.marginBottom = '5px';
            perfStatsDiv.style.textAlign = 'center';
            perfStatsDiv.style.color = '#555';
            perfStatsDiv.textContent = `Coalition best: ${formatThreshold(maxPerformance)} | Avg: ${formatThreshold(avgPerformance)}`;
            fragment.appendChild(perfStatsDiv);

            const table = document.createElement('table');
            table.style.width = '100%';
            table.style.borderCollapse = 'collapse';

            for (let i = 0; i < coalitionThresholds.length; i++) {
                const row = table.insertRow();

                const colorCell = row.insertCell();
                colorCell.style.width = '16px';
                colorCell.style.height = '12px';
                colorCell.style.backgroundColor = blendPerformanceColor(
                    candidate.fields.color_hex,
                    coalitionThresholds[i],
                    coalitionCandidateData
                );
                colorCell.style.border = '1px solid #ddd';

                const labelCell = row.insertCell();

                let labelText;
                if (i === 0) {
                    labelText = formatThreshold(coalitionThresholds[i]) + '+';
                } else if (i === coalitionThresholds.length - 1) {
                    labelText = 'Up to ' + formatThreshold(coalitionThresholds[i]);
                } else {
                    labelText = formatThreshold(coalitionThresholds[i]) + ' - ' + formatThreshold(coalitionThresholds[i - 1]);
                }

                labelCell.textContent = labelText;
                labelCell.style.paddingLeft = '6px';
                labelCell.style.fontSize = '10px';
            }

            fragment.appendChild(table);

        } else if (coalitionMode === 'solid') {

            const table = document.createElement('table');
            table.style.width = '100%';
            table.style.borderCollapse = 'collapse';

            const legendItems = [
                { color: candidate.fields.color_hex, label: `${candidate.fields.last_name} wins` },
            ];

            legendItems.forEach(({ color, label }) => {
                const row = table.insertRow();

                const colorCell = row.insertCell();
                colorCell.style.width = '16px';
                colorCell.style.height = '12px';
                colorCell.style.backgroundColor = color;
                colorCell.style.border = '1px solid #ddd';

                const labelCell = row.insertCell();
                labelCell.textContent = label;
                labelCell.style.paddingLeft = '6px';
                labelCell.style.fontSize = '10px';
            });

            fragment.appendChild(table);
        } else {

            const table = document.createElement('table');
            table.style.width = '100%';
            table.style.borderCollapse = 'collapse';

            const marginRanges = [
                { range: ">15% (Safe)", margin: 0.20 },
                { range: "10-15% (Solid)", margin: 0.12 },
                { range: "5-10% (Likely)", margin: 0.07 },
                { range: "1-5% (Lean)", margin: 0.03 },
                { range: "<1% (Tossup)", margin: 0.005 }
            ];

            marginRanges.forEach(({ range, margin }) => {
                const row = table.insertRow();

                const colorCell = row.insertCell();
                colorCell.style.width = '16px';
                colorCell.style.height = '11px';
                colorCell.style.backgroundColor = blendMarginColor(candidate.fields.color_hex, margin);
                colorCell.style.border = '1px solid #ddd';

                const labelCell = row.insertCell();
                labelCell.textContent = range;
                labelCell.style.paddingLeft = '6px';
                labelCell.style.fontSize = '10px';
            });

            const noWinRow = table.insertRow();
            const noWinColorCell = noWinRow.insertCell();
            noWinColorCell.style.width = '16px';
            noWinColorCell.style.height = '11px';
            noWinColorCell.style.backgroundColor = "#E0E0E0";
            noWinColorCell.style.border = '1px solid #ddd';

            const noWinLabelCell = noWinRow.insertCell();
            noWinLabelCell.textContent = "Does not win";
            noWinLabelCell.style.paddingLeft = '6px';
            noWinLabelCell.style.fontSize = '10px';

            fragment.appendChild(table);
        }

        container.appendChild(fragment);
        return container;
    }

    function createVoteShareLegend() {
        const container = document.createElement('div');		
        const fragment = document.createDocumentFragment();
        container.style.paddingRight = '5px';

        const topCandidates = getTopCandidates();

        const title = document.createElement('div');
        title.textContent = 'Winner vote share';
        title.style.fontWeight = 'bold';
        title.style.marginBottom = '5px';
        title.style.textAlign = 'center';
        fragment.appendChild(title);

        let totalVoteShare = 0;
        let voteShareCount = 0;
        let weakestWin = { share: 1.0, state: '', candidate: null };

        campaignTrail_temp.final_state_results.forEach(stateResult => {
            if (stateResult.result_time <= 500 && stateResult.result.length > 0) {
                const winnerVoteShare = stateResult.result[0].percent;
                const winnerId = stateResult.result[0].candidate;

                totalVoteShare += winnerVoteShare;
                voteShareCount++;

                if (winnerVoteShare < weakestWin.share) {
                    weakestWin.share = winnerVoteShare;
                    weakestWin.state = stateResult.abbr;
                    weakestWin.candidate = winnerId;
                }
            }
        });

        const avgVoteShare = voteShareCount > 0 ? totalVoteShare / voteShareCount : 0;

        const statsDiv = document.createElement('div');
        statsDiv.style.fontSize = '9px';
        statsDiv.style.marginBottom = '5px';
        statsDiv.style.textAlign = 'center';
        statsDiv.style.color = '#555';

        if (voteShareCount > 0) {
            const avgPercent = Math.round(avgVoteShare * 100);
            const weakestPercent = Math.round(weakestWin.share * 100);
            let statsText = `Average winner share: ${avgPercent}% | Weakest win: ${weakestWin.state} (${weakestPercent}%)`;
            statsDiv.textContent = statsText;
        } else {
            statsDiv.textContent = 'No results available';
        }

        fragment.appendChild(statsDiv);

        const table = document.createElement('table');
        table.style.width = '100%';
        table.style.borderCollapse = 'collapse';

        const candidateVoteShares = {};
        campaignTrail_temp.final_state_results.forEach(stateResult => {
            if (stateResult.result_time <= 500 && stateResult.result.length > 0) {
                const winnerId = stateResult.result[0].candidate;
                const voteShare = stateResult.result[0].percent;

                if (!candidateVoteShares[winnerId]) {
                    candidateVoteShares[winnerId] = [];
                }
                candidateVoteShares[winnerId].push(voteShare);
            }
        });

        topCandidates.forEach(({ candidate, pk }) => {
            if (!candidateVoteShares[pk] || candidateVoteShares[pk].length === 0) return;

            const nameRow = table.insertRow();
            const nameCell = nameRow.insertCell();
            nameCell.colSpan = 2;
            nameCell.style.paddingTop = '4px';
            nameCell.style.paddingBottom = '2px';

            const colorSpan = document.createElement('span');
            colorSpan.style.display = 'inline-block';
            colorSpan.style.width = '12px';
            colorSpan.style.height = '12px';
            colorSpan.style.backgroundColor = candidate.fields.color_hex;
            colorSpan.style.marginRight = '4px';
            colorSpan.style.border = '1px solid #999';
            colorSpan.style.verticalAlign = 'bottom';

            nameCell.appendChild(colorSpan);
            nameCell.appendChild(document.createTextNode(candidate.fields.last_name));
            nameCell.style.fontWeight = 'bold';

            const voteShareRanges = [
                { min: 0.90, max: 1.00, label: "90-100%", midpoint: 0.95 },
                { min: 0.80, max: 0.90, label: "80-90%", midpoint: 0.85 },
                { min: 0.70, max: 0.80, label: "70-80%", midpoint: 0.75 },
                { min: 0.60, max: 0.70, label: "60-70%", midpoint: 0.65 },
                { min: 0.50, max: 0.60, label: "50-60%", midpoint: 0.55 },
                { min: 0.40, max: 0.50, label: "40-50%", midpoint: 0.45 },
                { min: 0.30, max: 0.40, label: "30-40%", midpoint: 0.35 },
                { min: 0.20, max: 0.30, label: "20-30%", midpoint: 0.25 },
                { min: 0.10, max: 0.20, label: "10-20%", midpoint: 0.15 },
                { min: 0.00, max: 0.10, label: "0-10%", midpoint: 0.05 }
            ];

            const voteShares = candidateVoteShares[pk];

            const relevantRanges = voteShareRanges.filter(range => {
                return voteShares.some(share => {
                    if (range.max === 1.00) {
                        return share >= range.min;
                    } else {
                        return share >= range.min && share < range.max;
                    }
                });
            });

            relevantRanges.forEach(({ min, max, label, midpoint }) => {
                const row = table.insertRow();

                const colorCell = row.insertCell();
                colorCell.style.width = '16px';
                colorCell.style.height = '11px';

                colorCell.style.backgroundColor = blendVoteShareColor(candidate.fields.color_hex, midpoint);
                colorCell.style.border = '1px solid #ddd';

                const labelCell = row.insertCell();
                labelCell.textContent = label;
                labelCell.style.paddingLeft = '6px';
                labelCell.style.fontSize = '10px';
            });

            if (pk !== topCandidates[topCandidates.length - 1].pk) {
                const spacerRow = table.insertRow();
                const spacerCell = spacerRow.insertCell();
                spacerCell.colSpan = 2;
                spacerCell.style.height = '5px';
            }
        });

        fragment.appendChild(table);
        container.appendChild(fragment);
        return container;
    }

    function updateControls() {
        $('#map_controls').remove();

        const controls = document.createElement('div');
        controls.id = 'map_controls';
        controls.style.position = 'absolute';
        controls.style.background = 'rgba(255, 255, 255, 0.92)';
        controls.style.border = '1px solid #aaa';
        controls.style.padding = '8px';
        controls.style.borderRadius = '4px';
        controls.style.boxShadow = '0 1px 4px rgba(0,0,0,0.2)';
        controls.style.zIndex = '1000';
        controls.style.width = '180px';

        const container = document.querySelector('.container');
        const mapContainer = document.getElementById('map_container');

        if (container && mapContainer) {
            const containerRect = container.getBoundingClientRect();
            const mapRect = mapContainer.getBoundingClientRect();

            const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
            const mapAbsoluteTop = mapRect.top + scrollTop;

            controls.style.left = Math.max(20, containerRect.left - 200) + 'px';
            controls.style.top = mapAbsoluteTop + 'px';
        } else if (container) {
            const containerRect = container.getBoundingClientRect();
            const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;

            controls.style.left = Math.max(20, containerRect.left - 200) + 'px';
            controls.style.top = Math.max(20, containerRect.top + scrollTop + 200) + 'px';
        } else {
            controls.style.top = '200px';
            controls.style.left = '20px';
        }

        const controlsHandle = document.createElement('div');
        controlsHandle.style.height = '20px';
        controlsHandle.style.marginBottom = '8px';
        controlsHandle.style.display = 'flex';
        controlsHandle.style.alignItems = 'center';
        controlsHandle.style.justifyContent = 'center';
        controlsHandle.style.background = 'linear-gradient(135deg, #f0f0f0 0%, #e0e0e0 100%)';
        controlsHandle.style.borderBottom = '1px solid #ccc';
        controlsHandle.style.cursor = 'move';
        controlsHandle.style.marginLeft = '-8px';
        controlsHandle.style.marginRight = '-8px';
        controlsHandle.style.marginTop = '-8px';
        controlsHandle.style.borderRadius = '4px 4px 0 0';

        const dragIndicator = document.createElement('span');
        dragIndicator.textContent = '⋮⋮';
        dragIndicator.style.color = '#999';
        dragIndicator.style.fontSize = '12px';
        dragIndicator.style.letterSpacing = '2px';
        controlsHandle.appendChild(dragIndicator);

        controls.appendChild(controlsHandle);

        const modeSelector = document.createElement('select');
        modeSelector.id = 'visualization_mode';
        modeSelector.style.marginBottom = '8px';
        modeSelector.style.width = '100%';
        modeSelector.style.padding = '4px';

        const modeOptions = [
            { value: VISUALIZATION_MODES.SOLID, text: 'Solid colors' },
            { value: VISUALIZATION_MODES.SENATE_RACES, text: 'Senate results' },
            { value: VISUALIZATION_MODES.HOUSE_COMPOSITION, text: 'House results' },
            { value: VISUALIZATION_MODES.MARGINS, text: 'Margin of victory' },
            { value: VISUALIZATION_MODES.VOTE_SHARE, text: 'Winner vote share' },
            { value: VISUALIZATION_MODES.CANDIDATE_STRENGTH, text: 'Candidate performance' },
            { value: VISUALIZATION_MODES.COMPETITIVENESS, text: 'Race competitiveness' },
            { value: VISUALIZATION_MODES.TURNOUT_CHANGE, text: 'Turnout change' },
            { value: VISUALIZATION_MODES.TIPPING_POINT, text: 'Tipping point path' },
            { value: VISUALIZATION_MODES.ISSUE_STANCE, text: 'Issue stance' },
            { value: VISUALIZATION_MODES.ISSUE_WEIGHT, text: 'Issue importance' },
            { value: VISUALIZATION_MODES.CANDIDATE_ISSUE_ALIGNMENT, text: 'Issue alignment' },
            { value: VISUALIZATION_MODES.COALITION_BUILDER, text: 'Coalition builder' },
            { value: VISUALIZATION_MODES.CANDIDATE_COMBINER, text: 'Candidate combiner' }
        ];

        modeOptions.forEach(option => {
            const optionEl = document.createElement('option');
            optionEl.value = option.value;
            optionEl.textContent = option.text;
            if (option.value === currentMode) {
                optionEl.selected = true;
            }
            modeSelector.appendChild(optionEl);
        });

        controls.appendChild(modeSelector);

        const senateControlsContainer = document.createElement('div');
        senateControlsContainer.id = 'senate_controls_container';
        senateControlsContainer.style.display = currentMode === VISUALIZATION_MODES.SENATE_RACES ? 'block' : 'none';
        senateControlsContainer.style.marginBottom = '8px';

        const senateModeToggle = document.createElement('select');
        senateModeToggle.id = 'senate_mode_selector';
        senateModeToggle.style.width = '100%';
        senateModeToggle.style.padding = '4px';

        const senateModeOptions = [
            { value: 'solid', text: 'Solid colors' },
            { value: 'margins', text: 'Show margins' },
            { value: 'holds_gains', text: 'Holds & gains' }
        ];

        senateModeOptions.forEach(option => {
            const optionElement = document.createElement('option');
            optionElement.value = option.value;
            optionElement.textContent = option.text;
            senateModeToggle.appendChild(optionElement);
        });

        senateModeToggle.value = window.currentSenateMode || 'solid';

        senateModeToggle.addEventListener('change', function () {
            window.currentSenateMode = this.value;
            updateMapStyles();
            updateLegend();
        });

        senateControlsContainer.appendChild(senateModeToggle);
        controls.appendChild(senateControlsContainer);

        const candidateContainer = document.createElement('div');
        candidateContainer.id = 'candidate_selector_container';
        candidateContainer.style.display = currentMode === VISUALIZATION_MODES.CANDIDATE_STRENGTH ? 'block' : 'none';

        const candidateSelector = document.createElement('select');
        candidateSelector.id = 'candidate_selector';
        candidateSelector.style.width = '100%';
        candidateSelector.style.padding = '4px';

        candidates = [];
        campaignTrail_temp.final_state_results[0].result.forEach(result => {
            const candidate = campaignTrail_temp.candidate_json.find(c => c.pk === result.candidate);
            if (candidate) candidates.push(candidate);
        });

        candidates.forEach((candidate, idx) => {
            const option = document.createElement('option');
            option.value = idx;
            option.textContent = candidate.fields.last_name;
            if (idx === selectedCandidateIndex) {
                option.selected = true;
            }
            candidateSelector.appendChild(option);
        });

        candidateContainer.appendChild(candidateSelector);
        
        const perfModeToggle = document.createElement('button');
        perfModeToggle.textContent = candidatePerformanceMode === 'absolute' ? 'Show relative to national' : 'Show absolute performance';
        perfModeToggle.style.fontSize = '10px';
        perfModeToggle.style.padding = '2px 8px';
        perfModeToggle.style.cursor = 'pointer';
        perfModeToggle.style.backgroundColor = '#f0f0f0';
        perfModeToggle.style.border = '1px solid #ccc';
        perfModeToggle.style.borderRadius = '3px';
        perfModeToggle.style.width = '100%';
        perfModeToggle.style.marginTop = '4px';

        perfModeToggle.addEventListener('click', function () {
            candidatePerformanceMode = candidatePerformanceMode === 'absolute' ? 'relative' : 'absolute';
            this.textContent = candidatePerformanceMode === 'absolute' ? 'Show relative to national' : 'Show absolute performance';
            updateMapStyles();
            updateLegend();
        });

        candidateContainer.appendChild(perfModeToggle);
        controls.appendChild(candidateContainer);

        const coalitionContainer = document.createElement('div');
        coalitionContainer.id = 'coalition_controls_container';
        coalitionContainer.style.display = currentMode === VISUALIZATION_MODES.COALITION_BUILDER ? 'block' : 'none';
        coalitionContainer.style.marginBottom = '8px';

        const coalitionCandidateSelector = document.createElement('select');
        coalitionCandidateSelector.id = 'coalition_candidate_selector';
        coalitionCandidateSelector.style.width = '100%';
        coalitionCandidateSelector.style.padding = '4px';
        coalitionCandidateSelector.style.marginBottom = '4px';

        candidates.forEach((candidate, idx) => {
            const option = document.createElement('option');
            option.value = idx;
            option.textContent = candidate.fields.last_name;
            if (idx === coalitionCandidateIndex) {
                option.selected = true;
            }
            coalitionCandidateSelector.appendChild(option);
        });

        coalitionContainer.appendChild(coalitionCandidateSelector);

        const currentCandidateResult = campaignTrail_temp.final_overall_results
            .find(r => r.candidate === candidates[coalitionCandidateIndex]?.pk);
        const totalNationalVotes = campaignTrail_temp.final_overall_results
            .reduce((sum, r) => sum + r.popular_votes, 0);
        const actualVoteShare = currentCandidateResult && totalNationalVotes > 0 ?
            currentCandidateResult.popular_votes / totalNationalVotes : 0.35;

        if (Math.abs(coalitionVoteShare - 0.5) < 0.01) {
            coalitionVoteShare = actualVoteShare;
        }

        const sliderContainer = document.createElement('div');
        sliderContainer.style.marginBottom = '4px';

        const sliderLabel = document.createElement('div');
        sliderLabel.style.fontSize = '11px';
        sliderLabel.style.marginBottom = '3px';
        sliderLabel.style.textAlign = 'center';

        const voteShareDisplay = document.createElement('span');
        voteShareDisplay.style.cursor = 'pointer';
        voteShareDisplay.style.textDecoration = 'underline';
        voteShareDisplay.style.color = '#0066cc';
        voteShareDisplay.textContent = `${(coalitionVoteShare * 100).toFixed(1)}%`;

        const currentDisplay = document.createElement('span');
        currentDisplay.textContent = ` (Current: ${(actualVoteShare * 100).toFixed(1)}%)`;

        sliderLabel.appendChild(document.createTextNode('Vote Share: '));
        sliderLabel.appendChild(voteShareDisplay);
        sliderLabel.appendChild(currentDisplay);

        const directInput = document.createElement('input');
        directInput.type = 'number';
        directInput.min = '0';
        directInput.max = '100';
        directInput.step = '0.1';
        directInput.style.width = '50px';
        directInput.style.fontSize = '11px';
        directInput.style.textAlign = 'center';
        directInput.style.display = 'none';
        directInput.style.position = 'absolute';
        directInput.style.zIndex = '1001';

        voteShareDisplay.addEventListener('click', function (e) {
            e.stopPropagation();

            const rect = voteShareDisplay.getBoundingClientRect();
            directInput.style.left = rect.left + 'px';
            directInput.style.top = rect.top + 'px';
            directInput.style.display = 'block';
            directInput.value = (coalitionVoteShare * 100).toFixed(1);

            voteShareDisplay.style.visibility = 'hidden';

            document.body.appendChild(directInput);
            directInput.focus();
            directInput.select();
        });

        function finishDirectEdit(updateValue = true) {
            if (updateValue) {
                let newPercent = parseFloat(directInput.value);
                if (!isNaN(newPercent)) {
                    newPercent = Math.max(0, Math.min(100, newPercent));
                    coalitionVoteShare = newPercent / 100;
                    voteShareSlider.value = coalitionVoteShare;

                    voteShareDisplay.textContent = `${newPercent.toFixed(1)}%`;

                    clearTimeout(updateTimeout);
                    updateTimeout = setTimeout(() => {
                        updateMapStyles();
                        updateLegend();
                    }, 50);
                }
            }

            voteShareDisplay.style.visibility = 'visible';
            if (directInput.parentNode) {
                directInput.parentNode.removeChild(directInput);
            }
            directInput.style.display = 'none';
        }

        directInput.addEventListener('blur', () => finishDirectEdit(true));
        directInput.addEventListener('keydown', function (e) {
            if (e.key === 'Enter') {
                finishDirectEdit(true);
            } else if (e.key === 'Escape') {
                finishDirectEdit(false);
            }
        });

        document.addEventListener('click', function (e) {
            if (directInput.style.display === 'block' && !directInput.contains(e.target)) {
                finishDirectEdit(false);
            }
        });

        sliderContainer.appendChild(sliderLabel);
        coalitionContainer.appendChild(sliderContainer);

        const voteShareSlider = document.createElement('input');
        voteShareSlider.type = 'range';
        voteShareSlider.id = 'coalition_vote_share_slider';
        voteShareSlider.min = '0';
        voteShareSlider.max = '1';
        voteShareSlider.step = '0.001';
        voteShareSlider.value = coalitionVoteShare;
        voteShareSlider.style.width = '100%';
        voteShareSlider.style.marginBottom = '4px';
        coalitionContainer.appendChild(voteShareSlider);

        const coalitionModeSelector = document.createElement('select');
        coalitionModeSelector.id = 'coalition_mode_selector';
        coalitionModeSelector.style.width = '100%';
        coalitionModeSelector.style.padding = '4px';

        const coalitionModeOptions = [
            { value: 'solid', text: 'Solid colors' },
            { value: 'margins', text: 'Projected margins' },
            { value: 'performance', text: 'Candidate performance' }
        ];

        coalitionModeOptions.forEach(option => {
            const optionEl = document.createElement('option');
            optionEl.value = option.value;
            optionEl.textContent = option.text;
            if (option.value === coalitionMode) {
                optionEl.selected = true;
            }
            coalitionModeSelector.appendChild(optionEl);
        });

        coalitionContainer.appendChild(coalitionModeSelector);
        controls.appendChild(coalitionContainer);

        const combinerContainer = document.createElement('div');
        combinerContainer.id = 'combiner_controls_container';
        combinerContainer.style.display = currentMode === VISUALIZATION_MODES.CANDIDATE_COMBINER ? 'block' : 'none';
        combinerContainer.style.marginBottom = '8px';

        if (candidates.length >= 4) {
            const headToHeadToggle = document.createElement('button');
            headToHeadToggle.textContent = headToHeadMode ? 'Switch to Single Team' : 'Head-to-Head Mode';
            headToHeadToggle.style.fontSize = '10px';
            headToHeadToggle.style.padding = '2px 8px';
            headToHeadToggle.style.cursor = 'pointer';
            headToHeadToggle.style.backgroundColor = headToHeadMode ? '#e6f3ff' : '#f0f0f0';
            headToHeadToggle.style.border = '1px solid #ccc';
            headToHeadToggle.style.borderRadius = '3px';
            headToHeadToggle.style.width = '100%';
            headToHeadToggle.style.marginBottom = '6px';

            headToHeadToggle.addEventListener('click', function () {
                headToHeadMode = !headToHeadMode;
                this.textContent = headToHeadMode ? 'Switch to Single Team' : 'Head-to-Head Mode';
                this.style.backgroundColor = headToHeadMode ? '#e6f3ff' : '#f0f0f0';
                document.getElementById('single_team_container').style.display = headToHeadMode ? 'none' : 'block';
                document.getElementById('head_to_head_container').style.display = headToHeadMode ? 'block' : 'none';
                updateMapStyles();
                updateLegend();
            });
            combinerContainer.appendChild(headToHeadToggle);
        }

        const singleTeamContainer = document.createElement('div');
        singleTeamContainer.id = 'single_team_container';
        singleTeamContainer.style.display = headToHeadMode ? 'none' : 'block';

        const combinerModeToggle = document.createElement('button');
        combinerModeToggle.textContent = combinerMode === 'two' ? 'Combine 3 candidates' : 'Combine 2 candidates';
        combinerModeToggle.style.fontSize = '10px';
        combinerModeToggle.style.padding = '2px 8px';
        combinerModeToggle.style.cursor = 'pointer';
        combinerModeToggle.style.backgroundColor = '#f0f0f0';
        combinerModeToggle.style.border = '1px solid #ccc';
        combinerModeToggle.style.borderRadius = '3px';
        combinerModeToggle.style.width = '100%';
        combinerModeToggle.style.marginBottom = '6px';

        combinerModeToggle.addEventListener('click', function () {
            combinerMode = combinerMode === 'two' ? 'three' : 'two';
            this.textContent = combinerMode === 'two' ? 'Combine 3 candidates' : 'Combine 2 candidates';
            document.getElementById('combiner_third_container').style.display = combinerMode === 'three' ? 'block' : 'none';
            if (combinerMode === 'two') {
                combinedCandidateIndex3 = -1;
            } else if (combinerMode === 'three' && combinedCandidateIndex3 === -1) {
                for (let i = 0; i < candidates.length; i++) {
                    if (i !== combinedCandidateIndex1 && i !== combinedCandidateIndex2) {
                        combinedCandidateIndex3 = i;
                        document.getElementById('combiner_candidate_selector3').value = i;
                        break;
                    }
                }
            }
            updateMapStyles();
            updateLegend();
        });

        singleTeamContainer.appendChild(combinerModeToggle);

        const combinerLabel1 = document.createElement('div');
        combinerLabel1.style.fontSize = '11px';
        combinerLabel1.style.marginBottom = '3px';
        combinerLabel1.textContent = 'Primary candidate:';
        singleTeamContainer.appendChild(combinerLabel1);

        const combinerCandidateSelector1 = document.createElement('select');
        combinerCandidateSelector1.id = 'combiner_candidate_selector1';
        combinerCandidateSelector1.style.width = '100%';
        combinerCandidateSelector1.style.padding = '4px';
        combinerCandidateSelector1.style.marginBottom = '4px';
        candidates.forEach((candidate, idx) => {
            const option = document.createElement('option');
            option.value = idx;
            option.textContent = candidate.fields.last_name;
            if (idx === combinedCandidateIndex1) option.selected = true;
            combinerCandidateSelector1.appendChild(option);
        });
        singleTeamContainer.appendChild(combinerCandidateSelector1);

        const combinerLabel2 = document.createElement('div');
        combinerLabel2.style.fontSize = '11px';
        combinerLabel2.style.marginBottom = '3px';
        combinerLabel2.textContent = 'Combine with:';
        singleTeamContainer.appendChild(combinerLabel2);

        const combinerCandidateSelector2 = document.createElement('select');
        combinerCandidateSelector2.id = 'combiner_candidate_selector2';
        combinerCandidateSelector2.style.width = '100%';
        combinerCandidateSelector2.style.padding = '4px';
        combinerCandidateSelector2.style.marginBottom = '4px';
        candidates.forEach((candidate, idx) => {
            const option = document.createElement('option');
            option.value = idx;
            option.textContent = candidate.fields.last_name;
            if (idx === combinedCandidateIndex2) option.selected = true;
            combinerCandidateSelector2.appendChild(option);
        });
        singleTeamContainer.appendChild(combinerCandidateSelector2);

        const thirdCandidateContainer = document.createElement('div');
        thirdCandidateContainer.id = 'combiner_third_container';
        thirdCandidateContainer.style.display = combinerMode === 'three' ? 'block' : 'none';
        const combinerLabel3 = document.createElement('div');
        combinerLabel3.style.fontSize = '11px';
        combinerLabel3.style.marginBottom = '3px';
        combinerLabel3.textContent = 'Also combine with:';
        thirdCandidateContainer.appendChild(combinerLabel3);
        const combinerCandidateSelector3 = document.createElement('select');
        combinerCandidateSelector3.id = 'combiner_candidate_selector3';
        combinerCandidateSelector3.style.width = '100%';
        combinerCandidateSelector3.style.padding = '4px';
        candidates.forEach((candidate, idx) => {
            const option = document.createElement('option');
            option.value = idx;
            option.textContent = candidate.fields.last_name;
            if (idx === combinedCandidateIndex3) option.selected = true;
            combinerCandidateSelector3.appendChild(option);
        });
        thirdCandidateContainer.appendChild(combinerCandidateSelector3);
        singleTeamContainer.appendChild(thirdCandidateContainer);
        combinerContainer.appendChild(singleTeamContainer);

        const headToHeadContainer = document.createElement('div');
        headToHeadContainer.id = 'head_to_head_container';
        headToHeadContainer.style.display = headToHeadMode ? 'block' : 'none';

        const team1Label = document.createElement('div');
        team1Label.style.fontSize = '11px';
        team1Label.style.marginBottom = '3px';
        team1Label.style.fontWeight = 'bold';
        team1Label.textContent = 'Team 1:';
        headToHeadContainer.appendChild(team1Label);

        const team1Candidate1 = document.createElement('select');
        team1Candidate1.id = 'head_to_head_team1_candidate1';
        team1Candidate1.style.width = '100%';
        team1Candidate1.style.padding = '4px';
        team1Candidate1.style.marginBottom = '2px';
        candidates.forEach((candidate, idx) => {
            const option = document.createElement('option');
            option.value = idx;
            option.textContent = candidate.fields.last_name;
            if (idx === headToHeadTeam1Index1) option.selected = true;
            team1Candidate1.appendChild(option);
        });
        headToHeadContainer.appendChild(team1Candidate1);

        const team1Candidate2 = document.createElement('select');
        team1Candidate2.id = 'head_to_head_team1_candidate2';
        team1Candidate2.style.width = '100%';
        team1Candidate2.style.padding = '4px';
        team1Candidate2.style.marginBottom = '6px';
        candidates.forEach((candidate, idx) => {
            const option = document.createElement('option');
            option.value = idx;
            option.textContent = candidate.fields.last_name;
            if (idx === headToHeadTeam1Index2) option.selected = true;
            team1Candidate2.appendChild(option);
        });
        headToHeadContainer.appendChild(team1Candidate2);

        const team2Label = document.createElement('div');
        team2Label.style.fontSize = '11px';
        team2Label.style.marginBottom = '3px';
        team2Label.style.fontWeight = 'bold';
        team2Label.textContent = 'Team 2:';
        headToHeadContainer.appendChild(team2Label);

        const team2Candidate1 = document.createElement('select');
        team2Candidate1.id = 'head_to_head_team2_candidate1';
        team2Candidate1.style.width = '100%';
        team2Candidate1.style.padding = '4px';
        team2Candidate1.style.marginBottom = '2px';
        candidates.forEach((candidate, idx) => {
            const option = document.createElement('option');
            option.value = idx;
            option.textContent = candidate.fields.last_name;
            if (idx === headToHeadTeam2Index1) option.selected = true;
            team2Candidate1.appendChild(option);
        });
        headToHeadContainer.appendChild(team2Candidate1);

        const team2Candidate2 = document.createElement('select');
        team2Candidate2.id = 'head_to_head_team2_candidate2';
        team2Candidate2.style.width = '100%';
        team2Candidate2.style.padding = '4px';
        candidates.forEach((candidate, idx) => {
            const option = document.createElement('option');
            option.value = idx;
            option.textContent = candidate.fields.last_name;
            if (idx === headToHeadTeam2Index2) option.selected = true;
            team2Candidate2.appendChild(option);
        });
        headToHeadContainer.appendChild(team2Candidate2);
        combinerContainer.appendChild(headToHeadContainer);
        controls.appendChild(combinerContainer);

        const tippingPointContainer = document.createElement('div');
        tippingPointContainer.id = 'tipping_point_controls_container';
        tippingPointContainer.style.display = currentMode === VISUALIZATION_MODES.TIPPING_POINT ? 'block' : 'none';
        tippingPointContainer.style.marginBottom = '8px';

        const tippingPointLabel = document.createElement('label');
        tippingPointLabel.textContent = 'Perspective: ';
        tippingPointLabel.style.marginRight = '5px';
        tippingPointLabel.style.fontSize = '11px';
        tippingPointContainer.appendChild(tippingPointLabel);

        const tippingPointCandidateSelector = document.createElement('select');
        tippingPointCandidateSelector.id = 'tipping_point_candidate_selector';
        tippingPointCandidateSelector.style.width = '100%';
        tippingPointCandidateSelector.style.padding = '4px';

        candidates.forEach((candidate, idx) => {
            const option = document.createElement('option');
            option.value = idx;
            option.textContent = candidate.fields.last_name;
            if (idx === selectedCandidateIndex) {
                option.selected = true;
            }
            tippingPointCandidateSelector.appendChild(option);
        });

        tippingPointContainer.appendChild(tippingPointCandidateSelector);
        controls.appendChild(tippingPointContainer);

        const issueContainer = document.createElement('div');
        issueContainer.id = 'issue_selector_container';
        issueContainer.style.display = ['issue_stance', 'issue_weight', 'candidate_issue_alignment'].includes(currentMode) ? 'block' : 'none';
        issueContainer.style.marginBottom = '8px';

        const issueSelector = document.createElement('select');
        issueSelector.id = 'issue_selector';
        issueSelector.style.width = '100%';
        issueSelector.style.padding = '4px';
        issueSelector.style.marginBottom = '4px';

        if (campaignTrail_temp.issues_json) {
            campaignTrail_temp.issues_json.forEach((issue, idx) => {
                const option = document.createElement('option');
                option.value = idx;
                option.textContent = issue.fields.name;
                if (idx === selectedIssueIndex && !showAverageIssueStance) {
                    option.selected = true;
                }
                issueSelector.appendChild(option);
            });

            const averageOption = document.createElement('option');
            averageOption.value = 'average';
            averageOption.textContent = 'Average of all issues';
            if (showAverageIssueStance) {
                averageOption.selected = true;
            }
            issueSelector.appendChild(averageOption);
        }

        issueContainer.appendChild(issueSelector);
        
        const alignmentCandidateContainer = document.createElement('div');
        alignmentCandidateContainer.id = 'alignment_candidate_container';
        alignmentCandidateContainer.style.display = currentMode === VISUALIZATION_MODES.CANDIDATE_ISSUE_ALIGNMENT ? 'block' : 'none';

        const modeToggleContainer = document.createElement('div');
        modeToggleContainer.style.marginBottom = '4px';
        modeToggleContainer.style.textAlign = 'center';

        const modeToggle = document.createElement('button');
        modeToggle.textContent = alignmentComparisonMode === 'single' ? 'Compare multiple' : 'Single view';
        modeToggle.style.fontSize = '10px';
        modeToggle.style.padding = '2px 8px';
        modeToggle.style.cursor = 'pointer';
        modeToggle.style.backgroundColor = '#f0f0f0';
        modeToggle.style.border = '1px solid #ccc';
        modeToggle.style.borderRadius = '3px';

        modeToggle.addEventListener('click', function () {
            alignmentComparisonMode = alignmentComparisonMode === 'single' ? 'comparison' : 'single';
            this.textContent = alignmentComparisonMode === 'single' ? 'Compare multiple' : 'Single view';

            document.getElementById('single_alignment_container').style.display =
                alignmentComparisonMode === 'single' ? 'block' : 'none';
            document.getElementById('comparison_alignment_container').style.display =
                alignmentComparisonMode === 'comparison' ? 'block' : 'none';

            updateMapStyles();
            updateLegend();
        });

        modeToggleContainer.appendChild(modeToggle);
        alignmentCandidateContainer.appendChild(modeToggleContainer);

        const singleAlignmentContainer = document.createElement('div');
        singleAlignmentContainer.id = 'single_alignment_container';
        singleAlignmentContainer.style.display = alignmentComparisonMode === 'single' ? 'block' : 'none';

        const alignmentCandidateSelector = document.createElement('select');
        alignmentCandidateSelector.id = 'alignment_candidate_selector';
        alignmentCandidateSelector.style.width = '100%';
        alignmentCandidateSelector.style.padding = '4px';

        candidates.forEach((candidate, idx) => {
            const option = document.createElement('option');
            option.value = idx;
            option.textContent = candidate.fields.last_name + ' Alignment';
            if (idx === selectedAlignmentCandidateIndex) {
                option.selected = true;
            }
            alignmentCandidateSelector.appendChild(option);
        });

        singleAlignmentContainer.appendChild(alignmentCandidateSelector);
        alignmentCandidateContainer.appendChild(singleAlignmentContainer);

        const comparisonContainer = document.createElement('div');
        comparisonContainer.id = 'comparison_alignment_container';
        comparisonContainer.style.display = alignmentComparisonMode === 'comparison' ? 'block' : 'none';
        comparisonContainer.style.fontSize = '10px';
        const maxCandidatesToCompare = Math.min(candidates.length, 8);
        const comparisonLabel = document.createElement('div');
        comparisonLabel.textContent = `Select candidates (max ${maxCandidatesToCompare}):`;
        comparisonLabel.style.marginBottom = '3px';
        comparisonLabel.style.fontWeight = 'bold';
        comparisonContainer.appendChild(comparisonLabel);

        selectedComparisonCandidates = selectedComparisonCandidates.filter(idx => idx < candidates.length);

        if (selectedComparisonCandidates.length === 0 && candidates.length > 0) {
            selectedComparisonCandidates = [0, 1].filter(idx => idx < candidates.length);
        }

        candidates.forEach((candidate, idx) => {
            const checkContainer = document.createElement('div');
            checkContainer.style.marginBottom = '2px';
            const checkbox = document.createElement('input');
            checkbox.type = 'checkbox';
            checkbox.id = `cand_check_${idx}`;
            checkbox.value = idx;
            checkbox.checked = selectedComparisonCandidates.includes(idx);
            checkbox.style.marginRight = '4px';

            checkbox.addEventListener('change', function () {
                const isChecked = this.checked;
                const candIdx = parseInt(this.value);

                if (isChecked) {
                    if (selectedComparisonCandidates.length < maxCandidatesToCompare) {
                        selectedComparisonCandidates.push(candIdx);
                    } else {
                        this.checked = false;
                        alert(`Maximum ${maxCandidatesToCompare} candidates can be compared`);
                    }
                } else {
                    if (selectedComparisonCandidates.length > 1) {
                         selectedComparisonCandidates = selectedComparisonCandidates.filter(i => i !== candIdx);
                    } else {
                        this.checked = true; // Prevent unchecking the last one
                    }
                }
                updateMapStyles();
                updateLegend();
            });

            const label = document.createElement('label');
            label.htmlFor = `cand_check_${idx}`;
            label.textContent = candidate.fields.last_name;
            label.style.cursor = 'pointer';

            checkContainer.appendChild(checkbox);
            checkContainer.appendChild(label);
            comparisonContainer.appendChild(checkContainer);
        });
        
        alignmentCandidateContainer.appendChild(comparisonContainer);
        issueContainer.appendChild(alignmentCandidateContainer);

        controls.appendChild(issueContainer);

        let updateTimeout;
        modeSelector.addEventListener('change', function () {
            currentMode = this.value;
            candidateContainer.style.display = currentMode === VISUALIZATION_MODES.CANDIDATE_STRENGTH ? 'block' : 'none';
            coalitionContainer.style.display = currentMode === VISUALIZATION_MODES.COALITION_BUILDER ? 'block' : 'none';
            combinerContainer.style.display = currentMode === VISUALIZATION_MODES.CANDIDATE_COMBINER ? 'block' : 'none';
            tippingPointContainer.style.display = currentMode === VISUALIZATION_MODES.TIPPING_POINT ? 'block' : 'none';
            senateControlsContainer.style.display = currentMode === VISUALIZATION_MODES.SENATE_RACES ? 'block' : 'none';
            issueContainer.style.display = ['issue_stance', 'issue_weight', 'candidate_issue_alignment'].includes(currentMode) ? 'block' : 'none';
            alignmentCandidateContainer.style.display = currentMode === VISUALIZATION_MODES.CANDIDATE_ISSUE_ALIGNMENT ? 'block' : 'none';

            clearTimeout(updateTimeout);
            updateTimeout = setTimeout(() => {
                updateMapStyles();
                updateLegend();
            }, 10);
        });

        candidateSelector.addEventListener('change', function () {
            selectedCandidateIndex = parseInt(this.value);
            clearTimeout(updateTimeout);
            updateTimeout = setTimeout(() => { updateMapStyles(); updateLegend(); }, 10);
        });

        coalitionCandidateSelector.addEventListener('change', function () {
            coalitionCandidateIndex = parseInt(this.value);
            const newCandidateResult = campaignTrail_temp.final_overall_results.find(r => r.candidate === candidates[coalitionCandidateIndex]?.pk);
            const totalNationalVotes = campaignTrail_temp.final_overall_results.reduce((sum, r) => sum + r.popular_votes, 0);
            const newActualVoteShare = newCandidateResult && totalNationalVotes > 0 ? newCandidateResult.popular_votes / totalNationalVotes : 0.35;
            coalitionVoteShare = newActualVoteShare;
            voteShareSlider.value = coalitionVoteShare;
            updateVoteShareLabel();
            updateMapStyles();
            updateLegend();
        });

        function updateVoteShareLabel() {
            const currentCandidateResult = campaignTrail_temp.final_overall_results.find(r => r.candidate === candidates[coalitionCandidateIndex]?.pk);
            const totalNationalVotes = campaignTrail_temp.final_overall_results.reduce((sum, r) => sum + r.popular_votes, 0);
            const actualVoteShare = currentCandidateResult && totalNationalVotes > 0 ? currentCandidateResult.popular_votes / totalNationalVotes : 0.35;
            sliderLabel.innerHTML = `Vote share: <span id="vote-share-display" style="cursor: pointer; color: #007acc; text-decoration: underline;">${(coalitionVoteShare * 100).toFixed(1)}%</span> (Current: ${(actualVoteShare * 100).toFixed(1)}%)`;

            const voteShareDisplay = document.getElementById('vote-share-display');
            if (voteShareDisplay) {
                voteShareDisplay.addEventListener('click', function () {
                    const currentValue = (coalitionVoteShare * 100).toFixed(1);
                    const input = document.createElement('input');
                    input.type = 'number';
                    input.value = currentValue;
                    input.min = '0'; input.max = '100'; input.step = '0.1';
                    input.style.width = '50px'; input.style.fontSize = '11px';
                    this.replaceWith(input);
                    input.focus(); input.select();
                    function finishEdit() {
                        const newValue = parseFloat(input.value);
                        if (!isNaN(newValue) && newValue >= 0 && newValue <= 100) {
                            coalitionVoteShare = newValue / 100;
                            voteShareSlider.value = coalitionVoteShare;
                            updateMapStyles(); updateLegend();
                        }
                        updateVoteShareLabel();
                    }
                    input.addEventListener('blur', finishEdit);
                    input.addEventListener('keypress', (e) => { if (e.key === 'Enter') finishEdit(); });
                });
            }
        }

        voteShareSlider.addEventListener('input', function () {
            coalitionVoteShare = parseFloat(this.value);
            updateVoteShareLabel();
            clearTimeout(updateTimeout);
            updateTimeout = setTimeout(() => { updateMapStyles(); updateLegend(); }, 50);
        });

        coalitionModeSelector.addEventListener('change', function () {
            coalitionMode = this.value;
            updateMapStyles(); updateLegend();
        });

        issueSelector.addEventListener('change', function () {
            if (this.value === 'average') {
                showAverageIssueStance = true;
                selectedIssueIndex = 0;
            } else {
                showAverageIssueStance = false;
                selectedIssueIndex = parseInt(this.value);
            }
            clearTimeout(updateTimeout);
            updateTimeout = setTimeout(() => { updateMapStyles(); updateLegend(); }, 10);
        });

        alignmentCandidateSelector.addEventListener('change', function () {
            selectedAlignmentCandidateIndex = parseInt(this.value);
            clearTimeout(updateTimeout);
            updateTimeout = setTimeout(() => { updateMapStyles(); updateLegend(); }, 10);
        });

        combinerCandidateSelector1.addEventListener('change', () => { combinedCandidateIndex1 = parseInt(combinerCandidateSelector1.value); clearTimeout(updateTimeout); updateTimeout = setTimeout(() => { updateMapStyles(); updateLegend(); }, 10); });
        combinerCandidateSelector2.addEventListener('change', () => { combinedCandidateIndex2 = parseInt(combinerCandidateSelector2.value); clearTimeout(updateTimeout); updateTimeout = setTimeout(() => { updateMapStyles(); updateLegend(); }, 10); });
        combinerCandidateSelector3.addEventListener('change', () => { combinedCandidateIndex3 = parseInt(combinerCandidateSelector3.value); clearTimeout(updateTimeout); updateTimeout = setTimeout(() => { updateMapStyles(); updateLegend(); }, 10); });
        
        team1Candidate1.addEventListener('change', () => { headToHeadTeam1Index1 = parseInt(team1Candidate1.value); clearTimeout(updateTimeout); updateTimeout = setTimeout(() => { updateMapStyles(); updateLegend(); }, 10); });
        team1Candidate2.addEventListener('change', () => { headToHeadTeam1Index2 = parseInt(team1Candidate2.value); clearTimeout(updateTimeout); updateTimeout = setTimeout(() => { updateMapStyles(); updateLegend(); }, 10); });
        team2Candidate1.addEventListener('change', () => { headToHeadTeam2Index1 = parseInt(team2Candidate1.value); clearTimeout(updateTimeout); updateTimeout = setTimeout(() => { updateMapStyles(); updateLegend(); }, 10); });
        team2Candidate2.addEventListener('change', () => { headToHeadTeam2Index2 = parseInt(team2Candidate2.value); clearTimeout(updateTimeout); updateTimeout = setTimeout(() => { updateMapStyles(); updateLegend(); }, 10); });
        
        tippingPointCandidateSelector.addEventListener('change', function () {
            selectedCandidateIndex = parseInt(this.value);
            clearTimeout(updateTimeout);
            updateTimeout = setTimeout(() => { updateMapStyles(); updateLegend(); }, 10);
        });

        document.body.appendChild(controls);
        makeDraggable(controls, controlsHandle);
    }
    
    function createIssueStanceLegend(issueIndex) {
        const container = document.createElement('div');		
        const fragment = document.createDocumentFragment();

        if (showAverageIssueStance) {
            const title = document.createElement('div');
            title.textContent = 'Average issue stance';
            title.style.fontWeight = 'bold';
            title.style.marginBottom = '5px';
            title.style.textAlign = 'center';
            fragment.appendChild(title);

            const noteDiv = document.createElement('div');
            noteDiv.style.fontSize = '9px';
            noteDiv.style.marginBottom = '5px';
            noteDiv.style.textAlign = 'center';
            noteDiv.style.color = '#666';
            noteDiv.textContent = 'Assumes 1 is most conservative and 7 is most liberal. It might not be true for some mods!';
            fragment.appendChild(noteDiv);

        } else {
            if (!campaignTrail_temp.issues_json || issueIndex >= campaignTrail_temp.issues_json.length) {
                return null;
            }
            const issue = campaignTrail_temp.issues_json[issueIndex];
            const title = document.createElement('div');
            title.textContent = issue.fields.name + ' stance';
            title.style.fontWeight = 'bold';
            title.style.marginBottom = '5px';
            title.style.textAlign = 'center';
            fragment.appendChild(title);
        }

        const table = document.createElement('table');
        table.style.width = '100%';
        table.style.borderCollapse = 'collapse';

        const stanceColors = ["#8B0000", "#FF0000", "#FF8D1C", "#FFD700", "#32CD32", "#0000FF", "#000080"];
        const stanceLabels = showAverageIssueStance ?
            ["1: Very Conservative", "2: Conservative", "3: Somewhat Conservative", "4: Moderate", "5: Somewhat Liberal", "6: Liberal", "7: Very Liberal"] :
            null;

        for (let stance = 1; stance <= 7; stance++) {
            const row = table.insertRow();
            const colorCell = row.insertCell();
            colorCell.style.width = '16px';
            colorCell.style.height = '12px';
            colorCell.style.backgroundColor = stanceColors[stance - 1];
            colorCell.style.border = '1px solid #ddd';

            const labelCell = row.insertCell();
            if (showAverageIssueStance) {
                labelCell.textContent = stanceLabels[stance - 1];
            } else {
                const issue = campaignTrail_temp.issues_json[issueIndex];
                const stanceField = `stance_${stance}`;
                if (issue.fields[stanceField]) {
                    labelCell.textContent = `${stance}: ${issue.fields[stanceField]}`;
                } else {
                    continue;
                }
            }
            labelCell.style.paddingLeft = '6px';
            labelCell.style.fontSize = '10px';
        }

        fragment.appendChild(table);		
        container.appendChild(fragment);
        return container;
    }

    function createTippingPointLegend() {
        const tippingPointData = calculateTippingPointPath();
        if (!tippingPointData) {
            const container = document.createElement('div');
            const title = document.createElement('div');
            title.textContent = 'No path to victory';
            title.style.fontWeight = 'bold';
            title.style.textAlign = 'center';

            const note = document.createElement('div');
            note.textContent = 'This candidate has already won!';
            note.style.fontSize = '10px';
            note.style.color = '#666';
            note.style.textAlign = 'center';
            note.style.marginTop = '5px';

            fragment.appendChild(title);
            fragment.appendChild(note);
            return container;
        }

        const container = document.createElement('div');
		const fragment = document.createDocumentFragment();

        const title = document.createElement('div');
        title.textContent = `${tippingPointData.candidate.fields.last_name} path to victory`;
        title.style.fontWeight = 'bold';
        title.style.marginBottom = '5px';
        title.style.textAlign = 'center';
        fragment.appendChild(title);

        const statsDiv = document.createElement('div');
        statsDiv.style.fontSize = '9px';
        statsDiv.style.marginBottom = '5px';
        statsDiv.style.textAlign = 'center';
        statsDiv.style.color = '#555';
        statsDiv.textContent = `Current: ${tippingPointData.currentEVs} EVs | Needs: ${tippingPointData.neededEVs} more | Path total: ${tippingPointData.totalPathEVs}`;
        fragment.appendChild(statsDiv);

        if (tippingPointData.tippingPointState) {
            const tippingDiv = document.createElement('div');
            tippingDiv.style.fontSize = '9px';
            tippingDiv.style.marginBottom = '5px';
            tippingDiv.style.textAlign = 'center';
            tippingDiv.style.color = '#d63384';
            tippingDiv.style.fontWeight = 'bold';
            tippingDiv.textContent = `Tipping point state: ${tippingPointData.tippingPointState}`;
            fragment.appendChild(tippingDiv);
        }

        const currentDiv = document.createElement('div');
        currentDiv.style.fontSize = '10px';
        currentDiv.style.marginBottom = '8px';
        currentDiv.style.padding = '3px';
        currentDiv.style.backgroundColor = '#f9f9f9';
        currentDiv.style.border = '1px solid #ddd';

        const currentHeader = document.createElement('div');
        currentHeader.style.fontWeight = 'bold';
        currentHeader.style.margin = '2px 0';
        currentHeader.innerHTML = `<span style="display:inline-block;width:12px;height:12px;background:${tippingPointData.candidate.fields.color_hex};border:1px solid #999;margin-right:4px;vertical-align:bottom;"></span>Currently won`;
        currentDiv.appendChild(currentHeader);

        fragment.appendChild(currentDiv);

        const table = document.createElement('table');
        table.style.width = '100%';
        table.style.borderCollapse = 'collapse';
        table.style.marginTop = '5px';

        const headerRow = table.insertRow();
        headerRow.style.backgroundColor = '#f0f0f0';
        const headerState = headerRow.insertCell();
        headerState.textContent = 'State';
        headerState.style.fontWeight = 'bold';
        headerState.style.fontSize = '9px';
        headerState.style.padding = '2px 4px';

        const headerEV = headerRow.insertCell();
        headerEV.textContent = 'EVs';
        headerEV.style.fontWeight = 'bold';
        headerEV.style.fontSize = '9px';
        headerEV.style.padding = '2px 4px';
        headerEV.style.textAlign = 'center';

        const headerDeficit = headerRow.insertCell();
        headerDeficit.textContent = 'Gap';
        headerDeficit.style.fontWeight = 'bold';
        headerDeficit.style.fontSize = '9px';
        headerDeficit.style.padding = '2px 4px';
        headerDeficit.style.textAlign = 'center';

        tippingPointData.path.forEach((state, index) => {
            const row = table.insertRow();

            const stateCell = row.insertCell();
            stateCell.style.fontSize = '9px';
            stateCell.style.padding = '2px 4px';

            const colorSpan = document.createElement('span');
            colorSpan.style.display = 'inline-block';
            colorSpan.style.width = '8px';
            colorSpan.style.height = '8px';
            colorSpan.style.backgroundColor = getTippingPointColor(
                state.pathPosition,
                state.isRequired,
                state.deficit,
                tippingPointData.path.length,
                tippingPointData.candidate.fields.color_hex
            );
            colorSpan.style.marginRight = '3px';
            colorSpan.style.border = '1px solid #999';
            colorSpan.style.verticalAlign = 'middle';

            stateCell.appendChild(colorSpan);

            const stateText = state.abbr === tippingPointData.tippingPointState ?
                `${state.pathPosition}. ${state.abbr} ★` :
                `${state.pathPosition}. ${state.abbr}`;
            stateCell.appendChild(document.createTextNode(stateText));

            if (state.abbr === tippingPointData.tippingPointState) {
                stateCell.style.fontWeight = 'bold';
                stateCell.style.color = '#d63384';
            }

            const evCell = row.insertCell();
            evCell.textContent = state.electoralVotes;
            evCell.style.fontSize = '9px';
            evCell.style.padding = '2px 4px';
            evCell.style.textAlign = 'center';

            const deficitCell = row.insertCell();
            deficitCell.textContent = `${(state.deficit * 100).toFixed(1)}%`;
            deficitCell.style.fontSize = '9px';
            deficitCell.style.padding = '2px 4px';
            deficitCell.style.textAlign = 'center';
        });

        const explanationDiv = document.createElement('div');
        explanationDiv.style.fontSize = '9px';
        explanationDiv.style.marginTop = '5px';
        explanationDiv.style.color = '#666';
        explanationDiv.style.textAlign = 'center';
        explanationDiv.textContent = '★ = Tipping point | Darker = Higher priority';
        fragment.appendChild(explanationDiv);

        fragment.appendChild(table);
		container.appendChild(fragment);
        return container;
    }
    
    function calculateCombinerResults(candidateIndex1, candidateIndex2, candidateIndex3 = -1) {
        candidates = [];
        campaignTrail_temp.final_state_results[0].result.forEach(result => {
            const candidate = campaignTrail_temp.candidate_json.find(c => c.pk === result.candidate);
            if (candidate) candidates.push(candidate);
        });

        const validIndices = [candidateIndex1, candidateIndex2];
        if (candidateIndex3 !== -1) validIndices.push(candidateIndex3);

        if (new Set(validIndices).size !== validIndices.length ||
            validIndices.some(idx => idx >= candidates.length || idx < 0)) {
            return {};
        }

        const candidate1 = candidates[candidateIndex1];
        const candidate2 = candidates[candidateIndex2];
        const candidate3 = candidateIndex3 !== -1 ? candidates[candidateIndex3] : null;

        const results = {};
        let totalElectoralVotes = 0;

        campaignTrail_temp.final_state_results.forEach(stateResult => {
            const stateAbbr = stateResult.abbr;
            const stateId = stateResult.state;
            const state = campaignTrail_temp.states_json.find(s => s.pk === stateId);
            const electoralVotes = state ? state.fields.electoral_votes : 0;

            const originalResults = [...stateResult.result];
            const candidate1Result = originalResults.find(r => r.candidate === candidate1.pk);
            const candidate2Result = originalResults.find(r => r.candidate === candidate2.pk);
            const candidate3Result = candidate3 ? originalResults.find(r => r.candidate === candidate3.pk) : null;

            const candidate1Votes = candidate1Result ? candidate1Result.percent : 0;
            const candidate2Votes = candidate2Result ? candidate2Result.percent : 0;
            const candidate3Votes = candidate3Result ? candidate3Result.percent : 0;
            const combinedVotes = candidate1Votes + candidate2Votes + candidate3Votes;

            const candidatesToRemove = [candidate1.pk, candidate2.pk];
            if (candidate3) candidatesToRemove.push(candidate3.pk);

            const newResults = originalResults
                .filter(r => !candidatesToRemove.includes(r.candidate))
                .map(r => ({ ...r }));

            newResults.push({
                candidate: candidate1.pk,
                percent: combinedVotes,
                votes: (candidate1Result?.votes || 0) + (candidate2Result?.votes || 0) + (candidate3Result?.votes || 0)
            });

            newResults.sort((a, b) => b.percent - a.percent);
            const newWinner = newResults[0];
            const newMargin = newResults.length >= 2 ? newResults[0].percent - newResults[1].percent : newResults[0].percent;

            const wouldWin = newWinner.candidate === candidate1.pk;

            results[stateAbbr] = {
                wouldWin: wouldWin,
                electoralVotes: electoralVotes,
                combinedVoteShare: combinedVotes,
                originalCandidate1Votes: candidate1Votes,
                originalCandidate2Votes: candidate2Votes,
                originalCandidate3Votes: candidate3Votes,
                projectedMargin: newMargin,
                newWinner: newWinner.candidate,
                newResults: newResults
            };

            if (wouldWin) {
                totalElectoralVotes += electoralVotes;
            }
        });

        return {
            states: results,
            totalElectoralVotes: totalElectoralVotes,
            candidate1Index: candidateIndex1,
            candidate2Index: candidateIndex2,
            candidate3Index: candidateIndex3,
            candidate1: candidate1,
            candidate2: candidate2,
            candidate3: candidate3
        };
    }
	
    function calculateHeadToHeadResults(team1Index1, team1Index2, team2Index1, team2Index2) {
        candidates = [];
        campaignTrail_temp.final_state_results[0].result.forEach(result => {
            const candidate = campaignTrail_temp.candidate_json.find(c => c.pk === result.candidate);
            if (candidate) candidates.push(candidate);
        });

        const team1Candidate1 = candidates[team1Index1];
        const team1Candidate2 = candidates[team1Index2];
        const team2Candidate1 = candidates[team2Index1];
        const team2Candidate2 = candidates[team2Index2];

        if (!team1Candidate1 || !team1Candidate2 || !team2Candidate1 || !team2Candidate2) {
            return {};
        }

        const results = {};
        let team1ElectoralVotes = 0;
        let team2ElectoralVotes = 0;

        campaignTrail_temp.final_state_results.forEach(stateResult => {
            const stateAbbr = stateResult.abbr;
            const stateId = stateResult.state;
            const state = campaignTrail_temp.states_json.find(s => s.pk === stateId);
            const electoralVotes = state ? state.fields.electoral_votes : 0;

            const originalResults = [...stateResult.result];

            const team1Cand1Result = originalResults.find(r => r.candidate === team1Candidate1.pk);
            const team1Cand2Result = originalResults.find(r => r.candidate === team1Candidate2.pk);
            const team2Cand1Result = originalResults.find(r => r.candidate === team2Candidate1.pk);
            const team2Cand2Result = originalResults.find(r => r.candidate === team2Candidate2.pk);

            const team1Votes = (team1Cand1Result ? team1Cand1Result.percent : 0) +
                (team1Cand2Result ? team1Cand2Result.percent : 0);
            const team2Votes = (team2Cand1Result ? team2Cand1Result.percent : 0) +
                (team2Cand2Result ? team2Cand2Result.percent : 0);

            const team1Wins = team1Votes > team2Votes;
            const margin = Math.abs(team1Votes - team2Votes);

            results[stateAbbr] = {
                team1Wins: team1Wins,
                team2Wins: !team1Wins,
                electoralVotes: electoralVotes,
                team1VoteShare: team1Votes,
                team2VoteShare: team2Votes,
                margin: margin,
                winner: team1Wins ? 'team1' : 'team2'
            };

            if (team1Wins) {
                team1ElectoralVotes += electoralVotes;
            } else {
                team2ElectoralVotes += electoralVotes;
            }
        });

        return {
            states: results,
            team1ElectoralVotes: team1ElectoralVotes,
            team2ElectoralVotes: team2ElectoralVotes,
            team1Candidate1: team1Candidate1,
            team1Candidate2: team1Candidate2,
            team2Candidate1: team2Candidate1,
            team2Candidate2: team2Candidate2
        };
    }

    function calculateCoalitionResults(candidateIndex, targetVoteShare) {
        candidates = [];
        campaignTrail_temp.final_state_results[0].result.forEach(result => {
            const candidate = campaignTrail_temp.candidate_json.find(c => c.pk === result.candidate);
            if (candidate) candidates.push(candidate);
        });

        if (candidateIndex >= candidates.length) return {};

        const targetCandidate = candidates[candidateIndex];
        const results = {};
        let totalElectoralVotes = 0;
        const statesByMargin = [];

        const currentNationalVoteShare = campaignTrail_temp.final_overall_results
            .find(r => r.candidate === targetCandidate.pk)?.popular_votes || 0;

        const totalNationalVotes = campaignTrail_temp.final_overall_results
            .reduce((sum, r) => sum + r.popular_votes, 0);

        const currentNationalPercent = totalNationalVotes > 0 ? currentNationalVoteShare / totalNationalVotes : 0;
        const nationalSwing = targetVoteShare - currentNationalPercent;

        campaignTrail_temp.final_state_results.forEach(stateResult => {
            const stateAbbr = stateResult.abbr;
            const stateId = stateResult.state;
            const state = campaignTrail_temp.states_json.find(s => s.pk === stateId);
            const electoralVotes = state ? state.fields.electoral_votes : 0;

            const originalResults = [...stateResult.result];
            const targetCandidateResult = originalResults.find(r => r.candidate === targetCandidate.pk);
            const currentStateVoteShare = targetCandidateResult ? targetCandidateResult.percent : 0;

            let swingModifier = 1.0;

            if (originalResults.length >= 2) {
                const currentMargin = originalResults[0].percent - originalResults[1].percent;

                if (currentMargin < 0.05) swingModifier = 1.4;
                else if (currentMargin < 0.10) swingModifier = 1.2;
                else if (currentMargin < 0.20) swingModifier = 1.0;
                else swingModifier = 0.7;
            }

            const stateSwing = nationalSwing * swingModifier;
            const newTargetVoteShare = Math.max(0, Math.min(1, currentStateVoteShare + stateSwing));

            const otherCandidatesTotal = originalResults
                .filter(r => r.candidate !== targetCandidate.pk)
                .reduce((sum, r) => sum + r.percent, 0);

            const remainingVoteShare = 1 - newTargetVoteShare;

            const newResults = originalResults.map(result => {
                if (result.candidate === targetCandidate.pk) {
                    return {
                        ...result,
                        percent: newTargetVoteShare
                    };
                } else {

                    const originalProportion = otherCandidatesTotal > 0 ? result.percent / otherCandidatesTotal : 0;
                    return {
                        ...result,
                        percent: remainingVoteShare * originalProportion
                    };
                }
            });

            newResults.sort((a, b) => b.percent - a.percent);
            const newWinner = newResults[0];
            const newMargin = newResults.length >= 2 ? newResults[0].percent - newResults[1].percent : newResults[0].percent;

            const wouldWin = newWinner.candidate === targetCandidate.pk;

            results[stateAbbr] = {
                wouldWin: wouldWin,
                electoralVotes: electoralVotes,
                currentVoteShare: currentStateVoteShare,
                newVoteShare: newTargetVoteShare,
                projectedMargin: wouldWin ? newMargin : 0,
                newWinner: newWinner.candidate,
                newResults: newResults,
                swing: stateSwing
            };

            if (wouldWin) {
                totalElectoralVotes += electoralVotes;
            }

            statesByMargin.push({
                abbr: stateAbbr,
                margin: wouldWin ? newMargin : -newMargin,
                electoralVotes: electoralVotes,
                wouldWin: wouldWin
            });
        });

        const winningStates = statesByMargin
            .filter(s => s.wouldWin)
            .sort((a, b) => a.margin - b.margin);

        let runningEV = 0;
        let tippingPointState = null;
        const winningThreshold = campaignTrail_temp.election_json?.[0]?.fields?.winning_electoral_vote_number || 270;

        for (const state of winningStates) {
            runningEV += state.electoralVotes;
            if (runningEV >= winningThreshold && !tippingPointState) {
                tippingPointState = state.abbr;
            }
        }

        return {
            states: results,
            totalElectoralVotes: totalElectoralVotes,
            tippingPointState: tippingPointState,
            candidateIndex: candidateIndex,
            targetVoteShare: targetVoteShare
        };
    }

    function getTippingPointState() {
        const winningThreshold = campaignTrail_temp.election_json?.[0]?.fields?.winning_electoral_vote_number || 270;

        candidates = [];
        campaignTrail_temp.final_state_results[0].result.forEach(result => {
            const candidate = campaignTrail_temp.candidate_json.find(c => c.pk === result.candidate);
            if (candidate) candidates.push(candidate);
        });

        if (candidates.length < 2) return null;

        const mainCandidate = candidates[0];

        const statePartisanLean = [];

        campaignTrail_temp.final_state_results.forEach(stateResult => {
            if (stateResult.result_time <= 500 && stateResult.result.length >= 2) {
                const state = campaignTrail_temp.states_json.find(s => s.pk === stateResult.state);
                if (!state) return;

                const mainCandidateResult = stateResult.result.find(r => r.candidate === mainCandidate.pk);
                const mainCandidatePercent = mainCandidateResult ? mainCandidateResult.percent : 0;

                const topTwo = stateResult.result.slice(0, 2);
                const twoPartyTotal = topTwo.reduce((sum, r) => sum + r.percent, 0);

                let partisanLean = mainCandidatePercent;
                if (twoPartyTotal > 0 && topTwo.some(r => r.candidate === mainCandidate.pk)) {
                    partisanLean = mainCandidatePercent / twoPartyTotal;
                }

                statePartisanLean.push({
                    abbr: stateResult.abbr,
                    electoralVotes: state.fields.electoral_votes,
                    partisanLean: partisanLean
                });
            }
        });

        statePartisanLean.sort((a, b) => b.partisanLean - a.partisanLean);

        let runningEV = 0;
        for (const state of statePartisanLean) {
            runningEV += state.electoralVotes;
            if (runningEV >= winningThreshold) {
                return state.abbr;
            }
        }

        return null;
    }
    
    function createIssueWeightLegend(issueIndex) {
        if (showAverageIssueStance) {
            const container = document.createElement('div');
            const title = document.createElement('div');
            title.textContent = 'No data';
            title.style.fontWeight = 'bold';
            title.style.textAlign = 'center';
            const message = document.createElement('p');
            message.textContent = 'The "Average of all issues" view is not applicable to Issue importance. Please select a specific issue from the dropdown.';
            message.style.fontSize = '10px';
            message.style.textAlign = 'center';
            message.style.margin = '5px 0 0 0';
            message.style.color = '#555';
            fragment.appendChild(title);
            fragment.appendChild(message);
            return container;
        }

        if (!campaignTrail_temp.issues_json || issueIndex >= campaignTrail_temp.issues_json.length) {
            return null;
        }

        const issue = campaignTrail_temp.issues_json[issueIndex];
        const container = document.createElement('div');
        const fragment = document.createDocumentFragment();

        const title = document.createElement('div');
        title.textContent = issue.fields.name + ' Importance';
        title.style.fontWeight = 'bold';
        title.style.marginBottom = '5px';
        title.style.textAlign = 'center';
        fragment.appendChild(title);

        let highestWeight = -1;
        let lowestWeight = 999;
        let highestState = '';
        let lowestState = '';

        campaignTrail_temp.final_state_results.forEach(stateResult => {
            const stateId = stateResult.state;
            const stateAbbr = stateResult.abbr;
            const stateIssueData = campaignTrail_temp.state_issue_score_json?.find(
                sis => sis.fields.state === stateId && sis.fields.issue === issue.pk
            );
            if (stateIssueData) {
                const weight = stateIssueData.fields.weight;
                if (weight > highestWeight) {
                    highestWeight = weight;
                    highestState = stateAbbr;
                }
                if (weight < lowestWeight) {
                    lowestWeight = weight;
                    lowestState = stateAbbr;
                }
            }
        });

        const statsDiv = document.createElement('div');
        statsDiv.style.fontSize = '9px';
        statsDiv.style.marginBottom = '5px';
        statsDiv.style.textAlign = 'center';
        statsDiv.style.color = '#555';
        if (highestState && lowestState) {
            statsDiv.textContent = `Highest priority: ${highestState} (${highestWeight.toFixed(2)}) | Lowest: ${lowestState} (${lowestWeight.toFixed(2)})`;
        } else {
            statsDiv.textContent = 'No weight data available';
        }
        fragment.appendChild(statsDiv);

        const weightRange = getIssueWeightRange(issueIndex);
        const table = document.createElement('table');
        table.style.width = '100%';
        table.style.borderCollapse = 'collapse';

        if (weightRange && weightRange.min !== weightRange.max && (weightRange.max - weightRange.min) > 0.15) {
            const rangeSize = (weightRange.max - weightRange.min) / 5;
            for (let i = 4; i >= 0; i--) {
                const rangeMin = weightRange.min + (i * rangeSize);
                const rangeMax = i === 4 ? weightRange.max : weightRange.min + ((i + 1) * rangeSize);
                const midpoint = (rangeMin + rangeMax) / 2;
                const row = table.insertRow();
                const colorCell = row.insertCell();
                colorCell.style.width = '16px';
                colorCell.style.height = '12px';
                colorCell.style.backgroundColor = getIssueWeightColor(midpoint, issueIndex);
                colorCell.style.border = '1px solid #ddd';
                const labelCell = row.insertCell();
                if (i === 4) {
                    labelCell.textContent = `${rangeMin.toFixed(2)}+ (Highest)`;
                } else if (i === 0) {
                    labelCell.textContent = `${rangeMin.toFixed(2)}-${rangeMax.toFixed(2)} (Lowest)`;
                } else {
                    labelCell.textContent = `${rangeMin.toFixed(2)}-${rangeMax.toFixed(2)}`;
                }
                labelCell.style.paddingLeft = '6px';
                labelCell.style.fontSize = '10px';
            }
        } else {
            const weightRanges = [
                { color: "#0000CD", label: "0.85+ (Critical)" },
                { color: "#1E90FF", label: "0.70-0.85 (Very High)" },
                { color: "#4682B4", label: "0.55-0.70 (High)" },
                { color: "#87CEEB", label: "0.40-0.55 (Moderate)" },
                { color: "#B0C4DE", label: "0.25-0.40 (Low)" },
                { color: "#E6E6FA", label: "0.10-0.25 (Very Low)" },
                { color: "#F8F8FF", label: "<0.10 (Minimal)" }
            ];
            weightRanges.forEach(({ color, label }) => {
                const row = table.insertRow();
                const colorCell = row.insertCell();
                colorCell.style.width = '16px';
                colorCell.style.height = '12px';
                colorCell.style.backgroundColor = color;
                colorCell.style.border = '1px solid #ddd';
                const labelCell = row.insertCell();
                labelCell.textContent = label;
                labelCell.style.paddingLeft = '6px';
                labelCell.style.fontSize = '10px';
            });
        }

        fragment.appendChild(table);
        container.appendChild(fragment);
        return container;
    }

    function createCandidateCombinerLegend() {
        if (!combinerResults || !combinerResults.states) return null;

        const container = document.createElement('div');
		const fragment = document.createDocumentFragment();

        const title = document.createElement('div');
        let titleText = `${combinerResults.candidate1.fields.last_name} + ${combinerResults.candidate2.fields.last_name}`;
        if (combinerResults.candidate3) {
            titleText += ` + ${combinerResults.candidate3.fields.last_name}`;
        }
        title.textContent = titleText;
        title.style.fontWeight = 'bold';
        title.style.marginBottom = '5px';
        title.style.textAlign = 'center';
        fragment.appendChild(title);

        const winningThreshold = campaignTrail_temp.election_json?.[0]?.fields?.winning_electoral_vote_number || 270;
        const totalEV = combinerResults.totalElectoralVotes;
        const isWinning = totalEV >= winningThreshold;

        const originalEV1 = campaignTrail_temp.final_overall_results.find(r => r.candidate === combinerResults.candidate1.pk)?.electoral_votes || 0;
        const originalEV2 = campaignTrail_temp.final_overall_results.find(r => r.candidate === combinerResults.candidate2.pk)?.electoral_votes || 0;
        const originalEV3 = combinerResults.candidate3 ?
            (campaignTrail_temp.final_overall_results.find(r => r.candidate === combinerResults.candidate3.pk)?.electoral_votes || 0) : 0;
        const originalCombined = originalEV1 + originalEV2 + originalEV3;

        const statsDiv = document.createElement('div');
        statsDiv.style.fontSize = '9px';
        statsDiv.style.marginBottom = '5px';
        statsDiv.style.textAlign = 'center';
        statsDiv.style.color = isWinning ? '#006400' : '#8B0000';
        statsDiv.style.fontWeight = 'bold';

        let statsText = `Combined EVs: ${totalEV}/${winningThreshold}`;
        if (originalCombined !== totalEV) {
            const change = totalEV - originalCombined;
            statsText += ` (${change > 0 ? '+' : ''}${change} vs separate)`;
        }

        statsDiv.textContent = statsText;
        fragment.appendChild(statsDiv);

        let totalCombinedVotes = 0;
        let totalOriginal1 = 0;
        let totalOriginal2 = 0;
        let totalOriginal3 = 0;
        let statesAnalyzed = 0;

        for (const stateAbbr in combinerResults.states) {
            const stateData = combinerResults.states[stateAbbr];
            totalCombinedVotes += stateData.combinedVoteShare;
            totalOriginal1 += stateData.originalCandidate1Votes;
            totalOriginal2 += stateData.originalCandidate2Votes;
            totalOriginal3 += stateData.originalCandidate3Votes || 0;
            statesAnalyzed++;
        }

        if (statesAnalyzed > 0) {
            const avgCombined = (totalCombinedVotes / statesAnalyzed * 100).toFixed(1);
            const avgOriginal1 = (totalOriginal1 / statesAnalyzed * 100).toFixed(1);
            const avgOriginal2 = (totalOriginal2 / statesAnalyzed * 100).toFixed(1);
            const avgOriginal3 = (totalOriginal3 / statesAnalyzed * 100).toFixed(1);

            const voteDiv = document.createElement('div');
            voteDiv.style.fontSize = '9px';
            voteDiv.style.marginBottom = '5px';
            voteDiv.style.textAlign = 'center';
            voteDiv.style.color = '#555';

            let voteText = `Avg vote share: ${avgCombined}% (${avgOriginal1}% + ${avgOriginal2}%`;
            if (combinerResults.candidate3) {
                voteText += ` + ${avgOriginal3}%`;
            }
            voteText += ')';
            voteDiv.textContent = voteText;
            fragment.appendChild(voteDiv);
        }

        const table = document.createElement('table');
        table.style.width = '100%';
        table.style.borderCollapse = 'collapse';

        const legendItems = [
            { color: blendMarginColor(combinerResults.candidate1.fields.color_hex, 0.20), label: ">15% margin (Safe)" },
            { color: blendMarginColor(combinerResults.candidate1.fields.color_hex, 0.12), label: "10-15% (Solid)" },
            { color: blendMarginColor(combinerResults.candidate1.fields.color_hex, 0.07), label: "5-10% (Likely)" },
            { color: blendMarginColor(combinerResults.candidate1.fields.color_hex, 0.03), label: "1-5% (Lean)" },
            { color: blendMarginColor(combinerResults.candidate1.fields.color_hex, 0.005), label: "<1% (Tossup)" },
            { color: "#E0E0E0", label: "Does not win" }
        ];

        legendItems.forEach(({ color, label }) => {
            const row = table.insertRow();

            const colorCell = row.insertCell();
            colorCell.style.width = '16px';
            colorCell.style.height = '12px';
            colorCell.style.backgroundColor = color;
            colorCell.style.border = '1px solid #ddd';

            const labelCell = row.insertCell();
            labelCell.textContent = label;
            labelCell.style.paddingLeft = '6px';
            labelCell.style.fontSize = '10px';
        });

        fragment.appendChild(table);

        const flippedStates = [];

        for (const stateAbbr in combinerResults.states) {
            const stateData = combinerResults.states[stateAbbr];

            const originalStateResult = campaignTrail_temp.final_state_results.find(sr => sr.abbr === stateAbbr);
            if (originalStateResult && originalStateResult.result.length > 0) {
                const originalWinner = originalStateResult.result[0].candidate;
                const newWinner = stateData.newWinner;

                if (originalWinner !== newWinner && newWinner === combinerResults.candidate1.pk) {
                    flippedStates.push({
                        abbr: stateAbbr,
                        electoralVotes: stateData.electoralVotes,
                        margin: stateData.projectedMargin
                    });
                }
            }
        }

        if (flippedStates.length > 0) {
            flippedStates.sort((a, b) => a.margin - b.margin);

            const flippedDiv = document.createElement('div');
            flippedDiv.style.marginTop = '8px';
            flippedDiv.style.padding = '4px';
            flippedDiv.style.backgroundColor = '#f9f9f9';
            flippedDiv.style.border = '1px solid #ddd';
            flippedDiv.style.borderRadius = '3px';

            const flippedHeader = document.createElement('div');
            flippedHeader.style.fontWeight = 'bold';
            flippedHeader.style.fontSize = '10px';
            flippedHeader.style.marginBottom = '3px';
            flippedHeader.style.textAlign = 'center';
            flippedHeader.textContent = `States flipped (${flippedStates.length})`;
            flippedDiv.appendChild(flippedHeader);

            const flippedList = document.createElement('div');
            flippedList.style.fontSize = '9px';
            flippedList.style.textAlign = 'center';
            flippedList.style.lineHeight = '1.2';

            const stateTexts = flippedStates.map(state =>
                `${state.abbr} (${state.electoralVotes} EVs, +${(state.margin * 100).toFixed(1)}%)`
            );

            if (stateTexts.length > 3) {
                const lines = [];
                for (let i = 0; i < stateTexts.length; i += 3) {
                    lines.push(stateTexts.slice(i, i + 3).join(', '));
                }
                flippedList.textContent = lines.join('\n');
                flippedList.style.whiteSpace = 'pre-line';
            } else {
                flippedList.textContent = stateTexts.join(', ');
            }

            flippedDiv.appendChild(flippedList);
            fragment.appendChild(flippedDiv);
        } else {
            const noFlipsDiv = document.createElement('div');
            noFlipsDiv.style.marginTop = '8px';
            noFlipsDiv.style.fontSize = '9px';
            noFlipsDiv.style.textAlign = 'center';
            noFlipsDiv.style.color = '#666';
            noFlipsDiv.style.fontStyle = 'italic';
            noFlipsDiv.textContent = 'No states flipped by combination';
            fragment.appendChild(noFlipsDiv);
        }
		
		container.appendChild(fragment);
        return container;
    }
    
    function createHeadToHeadLegend() {
        if (!headToHeadResults || !headToHeadResults.states) return null;

        const container = document.createElement('div');
        const fragment = document.createDocumentFragment();
        const title = document.createElement('div');
        title.textContent = 'Head-to-Head Results';
        title.style.fontWeight = 'bold';
        title.style.marginBottom = '5px';
        title.style.textAlign = 'center';
        fragment.appendChild(title);

        const teamsDiv = document.createElement('div');
        teamsDiv.style.fontSize = '9px';
        teamsDiv.style.marginBottom = '8px';
        teamsDiv.style.textAlign = 'center';

        const team1Text = document.createElement('div');
        team1Text.innerHTML = `<span style="display:inline-block;width:12px;height:12px;background:${headToHeadResults.team1Candidate1.fields.color_hex};border:1px solid #999;margin-right:4px;vertical-align:middle;"></span>Team 1: ${headToHeadResults.team1Candidate1.fields.last_name} + ${headToHeadResults.team1Candidate2.fields.last_name}`;
        team1Text.style.marginBottom = '2px';
        teamsDiv.appendChild(team1Text);

        const team2Text = document.createElement('div');
        team2Text.innerHTML = `<span style="display:inline-block;width:12px;height:12px;background:${headToHeadResults.team2Candidate1.fields.color_hex};border:1px solid #999;margin-right:4px;vertical-align:middle;"></span>Team 2: ${headToHeadResults.team2Candidate1.fields.last_name} + ${headToHeadResults.team2Candidate2.fields.last_name}`;
        teamsDiv.appendChild(team2Text);
        fragment.appendChild(teamsDiv);

        const winningThreshold = campaignTrail_temp.election_json?.[0]?.fields?.winning_electoral_vote_number || 270;
        const team1EVs = headToHeadResults.team1ElectoralVotes;
        const team2EVs = headToHeadResults.team2ElectoralVotes;
        const team1Wins = team1EVs >= winningThreshold;
        const team2Wins = team2EVs >= winningThreshold;

        const resultsDiv = document.createElement('div');
        resultsDiv.style.fontSize = '10px';
        resultsDiv.style.marginBottom = '8px';
        resultsDiv.style.textAlign = 'center';
        resultsDiv.style.fontWeight = 'bold';

        if (team1Wins) {
            resultsDiv.style.color = '#006400';
            resultsDiv.textContent = `Team 1 wins! ${team1EVs}-${team2EVs}`;
        } else if (team2Wins) {
            resultsDiv.style.color = '#8B0000';
            resultsDiv.textContent = `Team 2 wins! ${team2EVs}-${team1EVs}`;
        } else {
            resultsDiv.style.color = '#666';
            resultsDiv.textContent = `No majority: ${team1EVs}-${team2EVs}`;
        }
        fragment.appendChild(resultsDiv);

        const table = document.createElement('table');
        table.style.width = '100%';
        table.style.borderCollapse = 'collapse';

        const legendItems = [
            { color: blendMarginColor(headToHeadResults.team1Candidate1.fields.color_hex, 0.20), label: "Team 1 >15%" },
            { color: blendMarginColor(headToHeadResults.team1Candidate1.fields.color_hex, 0.07), label: "Team 1 5-15%" },
            { color: blendMarginColor(headToHeadResults.team1Candidate1.fields.color_hex, 0.005), label: "Team 1 <5%" },
            { color: blendMarginColor(headToHeadResults.team2Candidate1.fields.color_hex, 0.005), label: "Team 2 <5%" },
            { color: blendMarginColor(headToHeadResults.team2Candidate1.fields.color_hex, 0.07), label: "Team 2 5-15%" },
            { color: blendMarginColor(headToHeadResults.team2Candidate1.fields.color_hex, 0.20), label: "Team 2 >15%" }
        ];

        legendItems.forEach(({ color, label }) => {
            const row = table.insertRow();
            const colorCell = row.insertCell();
            colorCell.style.width = '16px';
            colorCell.style.height = '12px';
            colorCell.style.backgroundColor = color;
            colorCell.style.border = '1px solid #ddd';
            const labelCell = row.insertCell();
            labelCell.textContent = label;
            labelCell.style.paddingLeft = '6px';
            labelCell.style.fontSize = '9px';
            labelCell.style.lineHeight = '1.1';
        });

        fragment.appendChild(table);
        container.appendChild(fragment);
        return container;
    }

    function createSenateRacesLegend() {
        const container = document.createElement('div');
		const fragment = document.createDocumentFragment();
        container.style.width = '100%';
        container.style.fontSize = '11px';

        const title = document.createElement('div');
        title.textContent = 'U.S. Senate';
        title.style.fontWeight = 'bold';
        title.style.fontSize = '14px';
        title.style.marginBottom = '8px';
        title.style.textAlign = 'center';
        fragment.appendChild(title);

        let demSeats = 0, repSeats = 0, indSeats = 0;
        const senateData = getSenateRaceData();
        if (senateData && Object.keys(senateData).length > 0) {
             const seatsNotUp = 100 - Object.keys(senateData).length;
             demSeats = Math.round(seatsNotUp * 0.45); // Approximate split
             repSeats = seatsNotUp - demSeats;
             
             Object.values(senateData).forEach(raceData => {
                if (raceData.dem > raceData.rep && raceData.dem > (raceData.trd || 0)) demSeats++;
                else if (raceData.rep > raceData.dem && raceData.rep > (raceData.trd || 0)) repSeats++;
                else if ((raceData.trd || 0) > 0) indSeats++;
             });
        } else {
             demSeats = 51; repSeats = 49; indSeats = 0;
        }

        const totalSeats = demSeats + repSeats + indSeats;
        const totalDemCaucus = demSeats + indSeats;
        const majorityThreshold = Math.floor(totalSeats / 2) + 1;
        let control = 'NONE';
        if (totalDemCaucus >= majorityThreshold) control = 'DEM';
        else if (repSeats >= majorityThreshold) control = 'REP';

        const seatsDiv = document.createElement('div');
        seatsDiv.style.display = 'flex';
        seatsDiv.style.justifyContent = 'space-between';
        seatsDiv.style.marginBottom = '8px';
        seatsDiv.style.padding = '6px';
        seatsDiv.style.backgroundColor = '#f8f8f8';
        seatsDiv.style.border = '1px solid #ddd';
        seatsDiv.style.borderRadius = '3px';
        seatsDiv.innerHTML = `
            <span style="color: #0487E6; font-weight: bold;">DEM: ${demSeats}</span>
            <span style="color: #FFDE3A; font-weight: bold;">IND: ${indSeats}</span>
            <span style="color: #DD2929; font-weight: bold;">REP: ${repSeats}</span>`;
        fragment.appendChild(seatsDiv);
        
        const table = document.createElement('table');
        table.style.width = '100%';
        table.style.borderCollapse = 'collapse';
        table.style.fontSize = '10px';

        const senateMode = window.currentSenateMode || 'solid';
        if (senateMode === 'holds_gains') {
             const items = [ { color: '#92C5DE', label: 'Democratic Hold' }, { color: '#0671B0', label: 'Democratic Gain' }, { color: '#F48882', label: 'Republican Hold' }, { color: '#CA0120', label: 'Republican Gain' }];
             items.forEach(item => { /* ... populate table ... */ });
        } else if (senateMode === 'margins') {
             const parties = [ { name: 'Democratic Wins', color: '#0487E6' }, { name: 'Republican Wins', color: '#DD2929' }];
             parties.forEach(party => { /* ... populate table ... */ });
        } else {
            const items = [{ color: '#0487E6', label: 'Democratic Win' }, { color: '#DD2929', label: 'Republican Win' }, { color: '#FFDE3A', label: 'Independent Win' }, { color: '#E0E0E0', label: 'No Election' }];
            items.forEach(item => {
                 const row = table.insertRow();
                 const colorCell = row.insertCell();
                 colorCell.style.width = '18px'; colorCell.style.height = '14px';
                 colorCell.style.backgroundColor = item.color;
                 colorCell.style.border = '1px solid #999';
                 const labelCell = row.insertCell();
                 labelCell.style.padding = '3px 6px';
                 labelCell.textContent = item.label;
            });
        }
        fragment.appendChild(table);		
        container.appendChild(fragment);
        return container;
    }

    function createHouseCompositionLegend() {
		const container = document.createElement('div');
		const fragment = document.createDocumentFragment();
		container.style.width = '100%';
		container.style.fontSize = '11px';

		const title = document.createElement('div');
		title.textContent = 'U.S. House';
		title.style.fontWeight = 'bold';
		title.style.fontSize = '14px';
		title.style.marginBottom = '8px';
		title.style.textAlign = 'center';
		fragment.appendChild(title);

		const houseData = getHouseCompositionData();
		const totals = houseData._totals || { dem: 0, rep: 0, ind: 0, total: 435 };
		
		// Seat Summary Box
		const seatsDiv = document.createElement('div');
		seatsDiv.style.display = 'flex';
		seatsDiv.style.justifyContent = 'space-around';
		seatsDiv.style.marginBottom = '8px';
		seatsDiv.style.padding = '6px';
		seatsDiv.style.backgroundColor = '#f8f8f8';
		seatsDiv.style.border = '1px solid #ddd';
		seatsDiv.style.borderRadius = '3px';
		
		let seatsText = `<span style="color: #0487E6; font-weight: bold;">DEM: ${totals.dem}</span>`;
		if (totals.ind > 0) seatsText += ` <span style="color: #D4AF37; font-weight: bold;">IND: ${totals.ind}</span>`;
		seatsText += ` <span style="color: #DD2929; font-weight: bold;">REP: ${totals.rep}</span>`;
		seatsDiv.innerHTML = seatsText;
		fragment.appendChild(seatsDiv);
		
		const table = document.createElement('table');
		table.style.width = '100%';
		table.style.borderCollapse = 'collapse';
		table.style.fontSize = '10px';

		const legendItems = [
			{ color: '#0000AA', label: 'All Democratic (100%)' },
			{ color: '#2b6cb8', label: 'Strong Dem (80-99%)' },
			{ color: '#0487E6', label: 'Likely Dem (70-79%)' },
			{ color: '#3A9FE0', label: 'Lean Dem (60-69%)' },
			{ color: '#9DCDF3', label: 'Slight Dem (51-59%)' },
			{ color: '#D896FF', label: 'Split Delegation (50%)' },
			{ color: '#FF9999', label: 'Slight Rep (51-59%)' },
			{ color: '#FF3333', label: 'Lean Rep (60-69%)' },
			{ color: '#DD2929', label: 'Likely Rep (70-79%)' },
			{ color: '#c12525', label: 'Strong Rep (80-99%)' },
			{ color: '#880000', label: 'All Republican (100%)' },
			{ color: '#FFDE3A', label: 'Independent Member' }
		];

		const usedColors = new Set();
		Object.keys(houseData).forEach(stateAbbr => {
			if (stateAbbr !== '_totals' && houseData[stateAbbr].color) {
				usedColors.add(houseData[stateAbbr].color.toUpperCase());
			}
		});

		const relevantItems = legendItems.filter(item => usedColors.has(item.color.toUpperCase()));

		relevantItems.forEach(item => {
			const row = table.insertRow();
			const colorCell = row.insertCell();
			colorCell.style.width = '18px'; 
			colorCell.style.height = '14px';
			colorCell.style.backgroundColor = item.color;
			colorCell.style.border = '1px solid #999';
			
			const labelCell = row.insertCell();
			labelCell.style.padding = '2px 6px';
			labelCell.textContent = item.label;
		});
		
		fragment.appendChild(table);
		
		const noteDiv = document.createElement('div');
		noteDiv.style.fontSize = '9px';
		noteDiv.style.marginTop = '8px';
		noteDiv.style.color = '#666';
		noteDiv.style.textAlign = 'center';
		noteDiv.style.fontStyle = 'italic';
		noteDiv.textContent = 'Colors represent seat share within state delegation';
		fragment.appendChild(noteDiv);
		
		container.appendChild(fragment);
		return container;
	}

    function createCandidateIssueAlignmentLegend(issueIndex, candidateIndex) {
        if (!campaignTrail_temp.issues_json || (issueIndex >= campaignTrail_temp.issues_json.length && !showAverageIssueStance)) {
            return null;
        }

        const isAverage = showAverageIssueStance;
        const issue = isAverage ? { fields: { name: "Average of all issues" } } : campaignTrail_temp.issues_json[issueIndex];

        candidates = [];
        campaignTrail_temp.final_state_results[0].result.forEach(result => {
            const candidate = campaignTrail_temp.candidate_json.find(c => c.pk === result.candidate);
            if (candidate) candidates.push(candidate);
        });

        if (candidateIndex >= candidates.length) return null;
        const candidate = candidates[candidateIndex];

        let candidateScore, candidateStanceNumber;

        if (isAverage) {

            let totalScore = 0;
            let issueCount = 0;

            campaignTrail_temp.issues_json.forEach(issue => {
                const candidateIssueData = campaignTrail_temp.candidate_issue_score_json?.find(
                    cis => cis.fields.candidate === candidate.pk && cis.fields.issue === issue.pk
                );
                if (candidateIssueData) {
                    totalScore += candidateIssueData.fields.issue_score;
                    issueCount++;
                }
            });

            candidateScore = issueCount > 0 ? totalScore / issueCount : 0;
            candidateStanceNumber = getStanceNumber(candidateScore);
        } else {
            const candidateIssueData = campaignTrail_temp.candidate_issue_score_json?.find(
                cis => cis.fields.candidate === candidate.pk && cis.fields.issue === issue.pk
            );
            if (!candidateIssueData) return null;
            candidateScore = candidateIssueData.fields.issue_score;
            candidateStanceNumber = getStanceNumber(candidateScore);
        }

        let bestAlignment = 2;
        let worstAlignment = 0;
        let bestState = '';
        let worstState = '';

        campaignTrail_temp.final_state_results.forEach(stateResult => {
            const stateId = stateResult.state;
            const stateAbbr = stateResult.abbr;
            let alignment;
            if (isAverage) {
                const alignmentData = styleCache.candidate_issue_alignment[stateAbbr]?.average?.[candidateIndex];
                alignment = alignmentData?.alignment || 999;
            } else {
                const stateIssueData = campaignTrail_temp.state_issue_score_json?.find(
                    sis => sis.fields.state === stateId && sis.fields.issue === issue.pk
                );
                if (stateIssueData) {
                    const stateScore = stateIssueData.fields.state_issue_score;
                    alignment = Math.abs(stateScore - candidateScore);
                } else {
                    alignment = 999;
                }
            }
            if (alignment < 999) {
                if (alignment < bestAlignment) {
                    bestAlignment = alignment;
                    bestState = stateAbbr;
                }
                if (alignment > worstAlignment) {
                    worstAlignment = alignment;
                    worstState = stateAbbr;
                }
            }
        });

        const container = document.createElement('div');		
        const fragment = document.createDocumentFragment();
        const title = document.createElement('div');
        title.textContent = candidate.fields.last_name + ' - ' + issue.fields.name;
        title.style.fontWeight = 'bold';
        title.style.marginBottom = '5px';
        title.style.textAlign = 'center';
        fragment.appendChild(title);

        const candidateStanceDiv = document.createElement('div');
        candidateStanceDiv.style.fontSize = '9px';
        candidateStanceDiv.style.marginBottom = '3px';
        candidateStanceDiv.style.textAlign = 'center';
        candidateStanceDiv.style.color = '#333';
        candidateStanceDiv.style.fontWeight = 'bold';
        let stanceText;
        if (isAverage) {
            const stanceLabels = ["Very Conservative", "Conservative", "Somewhat Conservative", "Moderate", "Somewhat Liberal", "Liberal", "Very Liberal"];
            stanceText = `${candidateStanceNumber}: ${stanceLabels[candidateStanceNumber - 1]}`;
        } else {
            const stanceField = `stance_${candidateStanceNumber}`;
            stanceText = issue.fields[stanceField] || `Stance ${candidateStanceNumber}`;
        }
        candidateStanceDiv.textContent = `Candidate stance: ${stanceText} (${candidateScore.toFixed(2)})`;
        fragment.appendChild(candidateStanceDiv);

        const statsDiv = document.createElement('div');
        statsDiv.style.fontSize = '9px';
        statsDiv.style.marginBottom = '5px';
        statsDiv.style.textAlign = 'center';
        statsDiv.style.color = '#555';
        statsDiv.textContent = `Best: ${bestState} (${bestAlignment.toFixed(2)}) | Worst: ${worstState} (${worstAlignment.toFixed(2)})`;
        fragment.appendChild(statsDiv);

        const table = document.createElement('table');
        table.style.width = '100%';
        table.style.borderCollapse = 'collapse';
        const alignmentRanges = [
            { color: "#006400", label: "Perfect Sync (0-0.2)" }, { color: "#228B22", label: "Well Aligned (0.2-0.4)" }, { color: "#32CD32", label: "Generally Aligned (0.4-0.6)" }, { color: "#FFD700", label: "Somewhat Off (0.6-0.8)" }, { color: "#FF8C00", label: "Misaligned (0.8-1.0)" }, { color: "#FF4500", label: "Very Misaligned (1.0-1.2)" }, { color: "#8B0000", label: "Completely Opposed (1.2+)" }
        ];
        alignmentRanges.forEach(({ color, label }) => {
            const row = table.insertRow();
            const colorCell = row.insertCell();
            colorCell.style.width = '16px'; colorCell.style.height = '12px';
            colorCell.style.backgroundColor = color; colorCell.style.border = '1px solid #ddd';
            const labelCell = row.insertCell();
            labelCell.textContent = label; labelCell.style.paddingLeft = '6px';
            labelCell.style.fontSize = '10px';
        });
        fragment.appendChild(table);
        container.appendChild(fragment);
        return container;
    }
    
    function createComparisonAlignmentLegend(issueIndex) {
        const container = document.createElement('div');		
        const fragment = document.createDocumentFragment();

        if (!campaignTrail_temp.issues_json || (issueIndex >= campaignTrail_temp.issues_json.length && !showAverageIssueStance)) {
            return null;
        }

        const isAverage = showAverageIssueStance;
        const issue = isAverage ? { fields: { name: "Average of all issues" } } : campaignTrail_temp.issues_json[issueIndex];

        const title = document.createElement('div');
        title.textContent = 'Alignment comparison - ' + issue.fields.name;
        title.style.fontWeight = 'bold';
        title.style.marginBottom = '5px';
        title.style.textAlign = 'center';
		fragment.appendChild(title);

        candidates = [];
        campaignTrail_temp.final_state_results[0].result.forEach(result => {
            const candidate = campaignTrail_temp.candidate_json.find(c => c.pk === result.candidate);
            if (candidate) candidates.push(candidate);
        });

        const table = document.createElement('table');
        table.style.width = '100%';
        table.style.borderCollapse = 'collapse';
        table.style.marginBottom = '8px';

        const headerRow = table.insertRow();
        headerRow.style.backgroundColor = '#f0f0f0';
        const headerCell = headerRow.insertCell();
        headerCell.textContent = 'Candidate';
        headerCell.style.fontWeight = 'bold';
        headerCell.style.fontSize = '9px';
        headerCell.style.padding = '3px';
        const bestCell = headerRow.insertCell();
        bestCell.textContent = 'Best match';
        bestCell.style.fontWeight = 'bold';
        bestCell.style.fontSize = '9px';
        bestCell.style.padding = '3px';
        bestCell.style.textAlign = 'center';

        selectedComparisonCandidates.forEach(candIdx => {
            if (candIdx >= candidates.length) return;
            const candidate = candidates[candIdx];
            const row = table.insertRow();
            let candidateScore;
            if (isAverage) {
                let totalScore = 0, issueCount = 0;
                campaignTrail_temp.issues_json.forEach(issue => {
                    const d = campaignTrail_temp.candidate_issue_score_json?.find(c => c.fields.candidate === candidate.pk && c.fields.issue === issue.pk);
                    if(d) { totalScore += d.fields.issue_score; issueCount++; }
                });
                candidateScore = issueCount > 0 ? totalScore / issueCount : 0;
            } else {
                const d = campaignTrail_temp.candidate_issue_score_json?.find(c => c.fields.candidate === candidate.pk && c.fields.issue === issue.pk);
                candidateScore = d ? d.fields.issue_score : 0;
            }
            const nameCell = row.insertCell();
            nameCell.style.fontSize = '9px';
            nameCell.style.padding = '3px';
            const colorSpan = document.createElement('span');
            colorSpan.style.display = 'inline-block';
            colorSpan.style.width = '10px';
            colorSpan.style.height = '10px';
            colorSpan.style.backgroundColor = candidate.fields.color_hex;
            colorSpan.style.marginRight = '4px';
            colorSpan.style.border = '1px solid #999';
            nameCell.appendChild(colorSpan);
            nameCell.appendChild(document.createTextNode(`${candidate.fields.last_name} (${candidateScore.toFixed(2)})`));

            let bestAlignment = 999;
            let bestState = '';
            campaignTrail_temp.final_state_results.forEach(stateResult => {
                const stateAbbr = stateResult.abbr;
                let alignment;
                if (isAverage) {
                    const alignmentData = styleCache.candidate_issue_alignment[stateAbbr]?.average?.[candIdx];
                    alignment = alignmentData?.alignment || 999;
                } else {
                    const alignmentData = styleCache.candidate_issue_alignment[stateAbbr]?.[issueIndex]?.[candIdx];
                    alignment = alignmentData?.alignment || 999;
                }
                if (alignment < bestAlignment) {
                    bestAlignment = alignment;
                    bestState = stateAbbr;
                }
            });
            const bestStateCell = row.insertCell();
            bestStateCell.textContent = bestState ? `${bestState} (${bestAlignment.toFixed(2)})` : 'N/A';
            bestStateCell.style.fontSize = '9px';
            bestStateCell.style.padding = '3px';
            bestStateCell.style.textAlign = 'center';
        });

        fragment.appendChild(table);

        const legendDiv = document.createElement('div');
        legendDiv.style.fontSize = '9px';
        legendDiv.style.marginTop = '5px';

        const legendTitle = document.createElement('div');
        legendTitle.textContent = 'Map shows best-aligned candidate per state';
        legendTitle.style.fontWeight = 'bold';
        legendTitle.style.marginBottom = '3px';
        legendTitle.style.textAlign = 'center';
        legendDiv.appendChild(legendTitle);

        fragment.appendChild(legendDiv);
		
        container.appendChild(fragment);
        return container;
    }

    function updateLegend() {

        $('#map_legend').remove();

        if (currentMode === VISUALIZATION_MODES.SOLID) return;

        const legend = document.createElement('div');
        legend.id = 'map_legend';
        legend.style.position = 'absolute';
        legend.style.background = 'rgba(252, 252, 252, 0.92)';
        legend.style.border = '1px solid #aaa';
        legend.style.padding = '8px';
        legend.style.borderRadius = '4px';
        legend.style.boxShadow = '0 1px 4px rgba(0,0,0,0.2)';
        legend.style.zIndex = '1000';
        legend.style.fontSize = '11px';

        if (currentMode === VISUALIZATION_MODES.CANDIDATE_COMBINER && headToHeadMode) {
             legend.style.width = '200px';
        } else {
            legend.style.width = '180px';
        }

        const legendHandle = document.createElement('div');
        legendHandle.style.height = '20px';
        legendHandle.style.marginBottom = '5px';
        legendHandle.style.display = 'flex';
        legendHandle.style.alignItems = 'center';
        legendHandle.style.justifyContent = 'center';
        legendHandle.style.background = 'linear-gradient(135deg, #f0f0f0 0%, #e0e0e0 100%)';
        legendHandle.style.borderBottom = '1px solid #ccc';
        legendHandle.style.cursor = 'move';
        legendHandle.style.marginLeft = '-8px';
        legendHandle.style.marginRight = '-8px';
        legendHandle.style.marginTop = '-8px';
        legendHandle.style.borderRadius = '4px 4px 0 0';

        const dragIndicator = document.createElement('span');
        dragIndicator.textContent = '⋮⋮';
        dragIndicator.style.color = '#999';
        dragIndicator.style.fontSize = '12px';
        dragIndicator.style.letterSpacing = '2px';
        legendHandle.appendChild(dragIndicator);

        legend.appendChild(legendHandle);

        if (currentMode === VISUALIZATION_MODES.MARGINS) {
            legend.appendChild(createMarginLegend());
        } else if (currentMode === VISUALIZATION_MODES.CANDIDATE_STRENGTH) {
            if (candidatePerformanceMode === 'relative') {
                const relativePerformanceLegend = createRelativePerformanceLegend(selectedCandidateIndex);
                if (relativePerformanceLegend) legend.appendChild(relativePerformanceLegend);
            } else {
                const performanceLegend = createPerformanceLegend(selectedCandidateIndex);
                if (performanceLegend) legend.appendChild(performanceLegend);
            }
        } else if (currentMode === VISUALIZATION_MODES.COMPETITIVENESS) {
            legend.appendChild(createCompetitivenessLegend());
        } else if (currentMode === VISUALIZATION_MODES.TURNOUT_CHANGE) {
            legend.appendChild(createTurnoutChangeLegend());
        } else if (currentMode === VISUALIZATION_MODES.VOTE_SHARE) {
            legend.appendChild(createVoteShareLegend());
        } else if (currentMode === VISUALIZATION_MODES.ISSUE_STANCE) {
            const issueStanceLegend = createIssueStanceLegend(selectedIssueIndex);
            if (issueStanceLegend) legend.appendChild(issueStanceLegend);
        } else if (currentMode === VISUALIZATION_MODES.ISSUE_WEIGHT) {
            const issueWeightLegend = createIssueWeightLegend(selectedIssueIndex);
            if (issueWeightLegend) legend.appendChild(issueWeightLegend);
        } else if (currentMode === VISUALIZATION_MODES.CANDIDATE_ISSUE_ALIGNMENT) {
            if (alignmentComparisonMode === 'comparison') {
                const comparisonLegend = createComparisonAlignmentLegend(selectedIssueIndex);
                if (comparisonLegend) legend.appendChild(comparisonLegend);
            } else {
                const alignmentLegend = createCandidateIssueAlignmentLegend(selectedIssueIndex, selectedAlignmentCandidateIndex);
                if (alignmentLegend) legend.appendChild(alignmentLegend);
            }
        } else if (currentMode === VISUALIZATION_MODES.COALITION_BUILDER) {
            const coalitionLegend = createCoalitionBuilderLegend();
            if (coalitionLegend) legend.appendChild(coalitionLegend);
        } else if (currentMode === VISUALIZATION_MODES.CANDIDATE_COMBINER) {
            if (headToHeadMode) {
                const headToHeadLegend = createHeadToHeadLegend();
                if (headToHeadLegend) legend.appendChild(headToHeadLegend);
            } else {
                const combinerLegend = createCandidateCombinerLegend();
                if (combinerLegend) legend.appendChild(combinerLegend);
            }
        } else if (currentMode === VISUALIZATION_MODES.TIPPING_POINT) {
            legend.appendChild(createTippingPointLegend());
        } else if (currentMode === VISUALIZATION_MODES.SENATE_RACES) {
            legend.appendChild(createSenateRacesLegend());
        } else if (currentMode === VISUALIZATION_MODES.HOUSE_COMPOSITION) {
            legend.appendChild(createHouseCompositionLegend());
        }
        
        if (legendMoved && legendPosition) {
            legend.style.left = legendPosition.left + 'px';
            legend.style.top = legendPosition.top + 'px';
        } else {
            const controlsBox = document.getElementById('map_controls');
            const scrollTop = document.documentElement.scrollTop || document.body.scrollTop;
            const LEGEND_GAP = 15;
            
            if (controlsBox) {
                 legend.style.visibility = 'hidden';
                 document.body.appendChild(legend); // Temporarily add to measure
                 const legendHeight = legend.offsetHeight;
                 const legendWidth = legend.offsetWidth;
                 document.body.removeChild(legend); // Remove before re-positioning

                const controlsRect = controlsBox.getBoundingClientRect();
                const fitsBelow = (controlsRect.bottom + LEGEND_GAP + legendHeight) < window.innerHeight;
                const fitsBeside = (controlsRect.right + LEGEND_GAP + legendWidth) < window.innerWidth;

                if (fitsBelow) {
                    legend.style.top = (controlsRect.bottom + scrollTop + LEGEND_GAP) + 'px';
                    legend.style.left = controlsRect.left + 'px';
                } else if (fitsBeside) {
                    legend.style.top = (controlsRect.top + scrollTop) + 'px';
                    legend.style.left = (controlsRect.right + LEGEND_GAP) + 'px';
                } else {
                    const flippedTop = controlsRect.top + scrollTop - legendHeight - LEGEND_GAP;
                    legend.style.top = Math.max(scrollTop + 10, flippedTop) + 'px';
                    legend.style.left = controlsRect.left + 'px';
                }
                 legend.style.visibility = 'visible';
            } else {
                legend.style.top = '350px';
                legend.style.left = '20px';
            }
        }

        document.body.appendChild(legend);
        makeDraggable(legend, legendHandle);
    }

    function isInElectionMapView() {
        return document.getElementById('map_container') &&
            document.getElementById('final_election_map_button') &&
            document.getElementById('final_election_map_button').disabled === true;
    }

    function initVisualization() {
        if (!isInElectionMapView()) return;

        if (isInitialized) {
            if (!document.getElementById('map_controls')) {
                updateControls();
                updateLegend();
            }
            return;
        }

        prepareStyles();
        updateControls();
        currentMode = VISUALIZATION_MODES.SOLID;
        updateMapStyles();
        updateLegend();

        const map = $('#map_container').data('plugin-usmap');
        if (map && !map._customHoverAttached) {

            map.options.mouseover = function (event, data) {
                const stateAbbr = data.name;
                let hoverFill = "#AAAAAA";

                try {
                    let stateStyle = styleCache[currentMode]?.[stateAbbr];

                    if (currentMode === VISUALIZATION_MODES.CANDIDATE_STRENGTH) {
                        const perfStyle = stateStyle[selectedCandidateIndex];
                        hoverFill = (candidatePerformanceMode === 'relative') ? perfStyle.relativeHoverFill : perfStyle.hoverFill;
                    } else if (currentMode === VISUALIZATION_MODES.ISSUE_STANCE) {
                        const issueStyle = showAverageIssueStance ? stateStyle.average : stateStyle[selectedIssueIndex];
                        hoverFill = issueStyle.hoverFill;
                    } else if (currentMode === VISUALIZATION_MODES.ISSUE_WEIGHT) {
                         if (stateStyle && stateStyle[selectedIssueIndex]) {
                            hoverFill = stateStyle[selectedIssueIndex].hoverFill;
                        }
                    } else if (currentMode === VISUALIZATION_MODES.CANDIDATE_ISSUE_ALIGNMENT) {
                        if (alignmentComparisonMode === 'comparison') {
                            hoverFill = darkenColor(data.shape.attr('fill'));
                        } else {
                            const alignStyle = showAverageIssueStance ? stateStyle.average[selectedAlignmentCandidateIndex] : stateStyle[selectedIssueIndex][selectedAlignmentCandidateIndex];
                            hoverFill = alignStyle.hoverFill;
                        }
                    } else if (currentMode === VISUALIZATION_MODES.SENATE_RACES) {
                        const senateMode = window.currentSenateMode || 'solid';
                        if (senateMode === 'margins') hoverFill = stateStyle.marginHoverFill;
                        else if (senateMode === 'holds_gains') hoverFill = stateStyle.holdsGainsHoverFill;
                        else hoverFill = stateStyle.solidHoverFill;
                    } else if ([VISUALIZATION_MODES.TIPPING_POINT, VISUALIZATION_MODES.COALITION_BUILDER, VISUALIZATION_MODES.CANDIDATE_COMBINER, VISUALIZATION_MODES.HOUSE_COMPOSITION].includes(currentMode)) {
                        hoverFill = darkenColor(data.shape.attr('fill'));
                    } else if (stateStyle) {
                        hoverFill = stateStyle.hoverFill;
                    }
                } catch (e) {
                    console.error("Error getting hover color for:", stateAbbr, e);
                    hoverFill = darkenColor(data.shape.attr('fill'));
                }

                data.shape.attr({ fill: hoverFill });
                if (map.options.click && typeof map.options.click === 'function') {
                    map.options.click(event, data);
                }
                return false;
            };

            map.options.mouseout = function (event, data) {
                const stateAbbr = data.name;
                let originalFill = data.shape.data('originalFill') || "#C9C9C9";
                data.shape.attr({ fill: originalFill });
                return false;
            };

            map._customHoverAttached = true;
            for (const stateAbbr in map.stateShapes) {
                if (map.stateShapes[stateAbbr] && typeof map.stateShapes[stateAbbr].data === 'function') {
                    map.stateShapes[stateAbbr].data('originalFill', map.stateShapes[stateAbbr].attr('fill'));
                }
            }
        }
        isInitialized = true;
    }

    function hookMapButton() {
        const mapButton = document.getElementById('final_election_map_button');
        if (mapButton && !mapButton._marginHooked) {
            const originalOnClick = mapButton.onclick;
            mapButton.onclick = function (e) {
                if (originalOnClick) {
                    originalOnClick.call(this, e);
                }
                isInitialized = false;
                styleCache = {}; // Clear cache on re-run
                setTimeout(initVisualization, 200);
            };
            mapButton._marginHooked = true;
        }
    }

    function initialize() {
        hookMapButton();
        if (isInElectionMapView()) {
            initVisualization();
        }
    }

    const observer = new MutationObserver(() => {
        hookMapButton();

        if (isInElectionMapView() && !isInitialized) {
            initVisualization();
        }
    });

    observer.observe(document.body, {
        childList: true,
        subtree: true,
        attributes: true,
        attributeFilter: ['disabled'],
        characterData: false
    });

    initialize();
})();

// Everyone's favorite tooltips. This one was taken from 2016ALOT.
// Note this was rewritten from a similar tooltip mechanism that was in W.
// I'm not sure who were the original authors. For the styling, I believe it was
// taken from the 2021DE scenario, though I used one for my personal site on ALOT,
// and passed it over to here.

// @note: for the sake of simplicity, this was rewritten again for a
// more optimal/cleaner design.

function createTooltipProcessor(tooltipList) {
    function escapeRegex(s) {
        return s.replace(/[-\/\\^$*+?.()|[\]{}]/g, '\\$&');
    }

    // pre-process data
    // we use lower-case keys for case-insensitive matching logic
    const tooltipMap = new Map();
    const sortedKeys = [];

    // deduplicate and prep sorting
    // we filter unique keys to prevent redundant regex processing
    const seenKeys = new Set();
    
    // sort by length (descending) so, e.g. "Joe Biden" is matched before "Biden"
    // we do this sort BEFORE creating the regex string
    const sortedList = [...tooltipList].sort((a, b) => b.searchString.length - a.searchString.length);

    for (const item of sortedList) {
        if (!item.searchString || seenKeys.has(item.searchString)) continue;
        
        seenKeys.add(item.searchString);
        sortedKeys.push(escapeRegex(item.searchString));
        
        // store mapping - since regex is case insensitive ('i'), 
        // we map the lowercase match to the object
        tooltipMap.set(item.searchString.toLowerCase(), item);
    }

    // create one regex with no capturing groups for individual items.
    // \b ensures we don't match, e.g., "Barack" inside "BarackObama"
    const pattern = sortedKeys.join('|');
    
    // don't create empty regex
    const TOOLTIP_REGEX = pattern.length > 0 ? 
        new RegExp(`(?<=\\b|\\s|^|“|")(${pattern})(?=[.,;!?]?\\b|\\s|”|"|$)`, 'gi') 
        : null;

    // cache
    const cache = new Map();

    function _applyTooltipsToString(str) {
        if (!TOOLTIP_REGEX || !str || typeof str !== 'string') return str;
        
        // return cached result if exists
        if (cache.has(str)) return cache.get(str);

        const processed = str.replace(TOOLTIP_REGEX, (match) => {
            const data = tooltipMap.get(match.toLowerCase());
            if (data) {
                return `<span class='mytooltip'>${match}<span class='mytooltiptext'>${data.explanationText}</span></span>`;
            }
            return match;
        });

        cache.set(str, processed);
        return processed;
    }

    return {
        applyToObject(obj) {
            function recurse(currentObj) {
                for (let key in currentObj) {
                    if (!Object.prototype.hasOwnProperty.call(currentObj, key)) continue;

                    const value = currentObj[key];
                    if (typeof value === 'string') {
                        currentObj[key] = _applyTooltipsToString(value);
                    } else if (value !== null && typeof value === 'object') {
                        recurse(value);
                    }
                }
            }
            recurse(obj);
        }
    };
}

const tooltipProcessor = createTooltipProcessor(tooltipList);

tooltipProcessor.applyToObject(campaignTrail_temp.questions_json);
tooltipProcessor.applyToObject(campaignTrail_temp.answers_json);
tooltipProcessor.applyToObject(campaignTrail_temp.answer_feedback_json);

// The music player! Taken from 2016ALOT.
// This was initially developed using the one from W. as a basis, which is also why the
// album covers are not particularly huge. This might change. Still, it's a *lot* different
// than the one there, but I must give out some attribution here.

(function () {
    'use strict';

    // The songs.
	const SONGS_DATA = [
		{ title: "Think Harder", artist: "Sneaker Pimps", coverLink: "https://lh3.googleusercontent.com/7cBHblfdrmu5L73EFCMxvBxFOTIRxTAGm0V1Imy3kRxjkTOQ8HyETx30zsm_ztowFFrMayFcVb6b2LA=w544-h544-s-l90-rj", videoIds: ["n7mYEUCCk2o", "3PHA3wG0n3Y"] },
		{ title: "The Hearts Filthy Lesson", artist: "David Bowie", coverLink: "https://lh3.googleusercontent.com/4IffEu2t5IQwTp3FZ97j88zwo7V5bMcFB4AM3JMdfqoqNJK-Q3V2fcF14FwU7idx679p3K8flkgxXKw=w544-h544-l90-rj", videoIds: ["6VKw3XS6QwY", "6H0XPzASySs"] },
		{ title: "Maybe Tomorrow", artist: "Stereophonics", coverLink: "https://lh3.googleusercontent.com/PQ3qWgAnG23Xq_h5wQhIigyxZqMiHmD4K-NxrnlyzTYUf2RyxvK4EtVD32fpzxJNFvbHDdHSRclP0aM=w544-h544-s-l90-rj", videoIds: ["5ZHHR4cTkw4", "nIVLDtq7Oi8"] },
		{ title: "Self-Obsessed and Sexxee", artist: "Sonic Youth", coverLink: "https://lh3.googleusercontent.com/28zoebdG3bZ9n33egEA1BFcxnX22t-X8seg0zCToXGfG5057NlLbrwaJJzrnq0lOTZbjHyDrnpPLwZM=w544-h544-l90-rj", videoIds: ["n3vHAEPAEMQ", "U9GJ-zwLROo"] },
		{ title: "Please, Please, Please, Let Me Get What I Want", artist: "The Dream Academy", coverLink: "https://i.discogs.com/ePlDF3T5yoT_8atRhdieS0_Bl9OpMNZY8MQMnRn4wNE/rs:fit/g:sm/q:90/h:526/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTYxNjE2/NzgtMTYwMTQ4MTg3/Ny0yNTc0LmpwZWc.jpeg", videoIds: ["KfM__zbA5LA", "17ysGqMocbw"] },
		{ title: "Such a Rush", artist: "Coldplay", coverLink: "https://lh3.googleusercontent.com/_QNq4qQ5rVJwrZAKIlKP-ov-efHyGgV0kUxECrJfNMR3I7n_dLWzavQ9m6o36nQZlFD2LKzi7tvB5LBV=w544-h544-l90-rj", videoIds: ["5bMzeIqiBBY", "9FY9rDqLNdE"] },
		{ title: "Summer, Highland Falls", artist: "Billy Joel", coverLink: "https://lh3.googleusercontent.com/R9GDW4MbHuTy4cu6y1FdPt0C8SfE2QHLpLaHItII7w3ortP_HKesgvYi3_-3yBWu_0MRs1YHHHNZHjBEhA=w544-h544-l90-rj", videoIds: ["JJNHWd1V20Y", "1tQKW9aquT0"] },
		{ title: "Beware", artist: "Deftones", coverLink: "https://lh3.googleusercontent.com/TOBgRvdH0szlTWlLMr5krn9lpO7XwmqlcoYflg4YQlLsEWH-CxREc-WTH1vw9oqsyj7zrlA0fSKkDZw=w544-h544-l90-rj", videoIds: ["FzjaN0gPvaE", "rwL2bIadXxs"] },
		{ title: "Give Me The Cure", artist: "Fugazi", coverLink: "https://i.discogs.com/OIt1FRd98jrheWpDvfJRq-Mt6XZPNC8tdMRjBtaBBKI/rs:fit/g:sm/q:90/h:575/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTIwMDY2/NTktMTQ3MjIyMDY0/MS0xMDIwLmpwZWc.jpeg", videoIds: ["kOskUqX4mBs", "XRxPUCYkeqU"] },
		{ title: "Theme from M*A*S*H (Suicide Is Painless)", artist: "Manic Street Preachers", coverLink: "https://i.discogs.com/tfKzYJOnat11gp8YsG-sDhC3YvqKRQ3U4MP4qxPf3OE/rs:fit/g:sm/q:90/h:592/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTg5OTY3/My0xNjg2OTM4NzYw/LTgxNDQuanBlZw.jpeg", videoIds: ["z1RiRIIKi-4", "B5AJyWdjMiM"] },
		{ title: "Superman (It’s Not Easy)", artist: "Five For Fighting", coverLink: "https://i.discogs.com/AlSl1GpuPFsPm2VUQE8qsHyRg34XJg63YukCH3qnUMo/rs:fit/g:sm/q:90/h:600/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTY1NDg3/OS0xNjYxNDM3MTcw/LTcwMjMuanBlZw.jpeg", videoIds: ["EhCeEVN1EqM", "eZerzGMWSxU"] },
		{ title: "We Take Care of Our Own", artist: "Bruce Springsteen", coverLink: "https://i.discogs.com/2wihzg8VjM1iyBK8HEaiEx4N438qGD_aybjJwQ5Je8M/rs:fit/g:sm/q:90/h:600/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTMzNTI4/MTktMTMyNjk5Mjg0/Ny5qcGVn.jpeg", videoIds: ["2UmI2DqoOEg", "-x8zBzxCwsM"] },
		{ title: "Friday Night", artist: "Lily Allen", coverLink: "https://images.genius.com/94a9abdfe47f74fbd39bbac9dff5c0f7.568x568x1.jpg", videoIds: ["FWIM1KHOSrw", "eiEIQqvA7ZE"] },
		{ title: "This Is for the Lover in You", artist: "Babyface, LL Cool J, Howard Hewett, Jody Watley, Jeffrey Daniels", coverLink: "https://i.discogs.com/NxKW8P5Us2KBwvqfb6sooBTEaZ6EvBL7AzL-jCYjCUQ/rs:fit/g:sm/q:90/h:598/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTMxNjE2/ODMtMTQyNDYzNjU2/OS0zNTg2LmpwZWc.jpeg", videoIds: ["VnERswkqqVs", "mQzPugFiA4E"] },
		{ title: "Lately", artist: "Tyrese", coverLink: "https://lh3.googleusercontent.com/d8GW75CVuHZx261ZcsxIEQZj1Ad0uNWcOyID11dIQpIqmZIvlzasHAzwCpJx6oxHjRjjrfY3a-c8Yyy2=w544-h544-l90-rj", videoIds: ["QC3bOkUjsyk", "iipy0pzaG8Y"] }, // { title: "Signed, Sealed, Delivered (I’m Yours)", artist: "Stevie Wonder", coverLink: "https://lh3.googleusercontent.com/HRuUSLkOF4brightVPyBp5lLCGq1qyxh8DgzMemPstzthCgkIUwt4f8FQX0Du8UhLFDJAivjHLde8DA1CD_4=w544-h544-l90-rj", videoIds: ["6To0fvX_wFA"] },
		{ title: "Something In Common", artist: "Bobby Brown, Whitney Houston", coverLink: "https://i.discogs.com/etKm6dh-a4DewY903foxqW3zrs1_GiwAlt_AD0TBNgo/rs:fit/g:sm/q:90/h:600/w:592/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTI0NTAz/MDctMTQ4MzI5MjQz/MC05ODI1LmpwZWc.jpeg", videoIds: ["LBuC3xOrU4k", "L4fxmWxqi2k"] },
		{ title: "Go To Sleep", artist: "Roxette", coverLink: "https://lh3.googleusercontent.com/mZ8srffOfh3RopWfIHI8iot05vrqySxiHmDxHuxuBIsr93do0b9HJvhwMlsOjInl557LGBYnW5Z7ooC4=w544-h544-l90-rj", videoIds: ["ZtU5jA77Y2k", "aUTL207MJ1U"] }, // { title: "Come Fly with Me", artist: "Michael Bublé", coverLink: "https://i.discogs.com/6_trQ5xanqJ0HaeVwOGpXw_h28wjwAJu7U0iU_30RxM/rs:fit/g:sm/q:90/h:541/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTQyNzcy/OTQtMTQ3ODI5Mzkz/Ni05MDk1LmpwZWc.jpeg", videoIds: ["Ma3yuYKSkxQ"] },
		{ title: "Soon We’ll Be Found", artist: "Sia", coverLink: "https://i.discogs.com/jFM3JMHQBaUHadQO3_zKaPO5FJvGlQ77PO-HeQ7egjg/rs:fit/g:sm/q:90/h:540/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTExNzAw/MzUtMTU0MzE0MDky/NC01OTM2LmpwZWc.jpeg", videoIds: ["Py0KJyaALrg", "t1x8DMfbYN4"] },
		{ title: "Canned Heat", artist: "Jamiroquai", coverLink: "https://lh3.googleusercontent.com/LUVi3fNPg9ik8x8tUKDK38pvUIR6dSwKU0_bYF8CnWibZ_kbW-zU9GdQdvQ4whY8Y04yF6_br3K40_08=w544-h544-l90-rj", videoIds: ["-38yJGUvBD8", "TWbsUhi_p_g", "Fr1r1KINlvU"] },
		{ title: "Going Down", artist: "A", coverLink: "https://lh3.googleusercontent.com/Q8W8Rv-ZLN1OYLDAdPq3l3x_MkAF8TGVUH6u3mh2OZhx8FSckJ0qdWDgMnYF9YGKvkAQrr4ZMkYvdvUM=w544-h544-l90-rj", videoIds: ["GCIZTanBU7w"] },
		{ title: "Endlessly", artist: "Muse", coverLink: "https://lh3.googleusercontent.com/pYoc6fyzEsIQhv9CB5YDlThePpQhPmh6wJBUZmzaK7Hge6wi47Aynu5UXI9FqLgvinFw5ccW6bodbXM=w544-h544-l90-rj", videoIds: ["m5BvNMkVnQs"] },
		{ title: "Self Esteem (2008 Remaster)", artist: "The Offspring", coverLink: "https://i.discogs.com/2B9OCOSOO3pEDJ1iWizbqpvtjyMgJ9n58M-tMFRZBHc/rs:fit/g:sm/q:90/h:597/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTU0NDkz/OC0xNDk0MDE4ODk0/LTU5MDQuanBlZw.jpeg", videoIds: ["7ifeDVAE_Zg"] },		
		{ title: "She’s So High (2012 Remaster)", artist: "Blur", coverLink: "https://i.discogs.com/DZGMPD7bu-Tka37c1RJi5e2DRCCvlC21BwMFl5zpUH4/rs:fit/g:sm/q:90/h:593/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTQ0ODY3/Ny0xNjAzNjU5NDgy/LTYwMTYuanBlZw.jpeg", videoIds: ["DPQ0UJyFYSY"] },
		{ title: "Angels Too Tied to the Ground", artist: "U2", coverLink: "https://i.discogs.com/3tA1or-DPJBCkyh70A3NcVuk0HinU9aYVGF3nTED-TE/rs:fit/g:sm/q:90/h:563/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTE5NzQ4/NzMtMTI1NjE0MDgy/NC5qcGVn.jpeg", videoIds: ["QTf0EgDCEwQ"] },
		{ title: "747 (We Ran Out Of Time)", artist: "kent", coverLink: "https://lh3.googleusercontent.com/3svZrSnARmXYlj0OKULKOdOtRch49PL8YWbbOOdpZm6_sPNJBrUGeAmR4PMgvgcfoYE_BihOfQ7tTr6p=w544-h544-l90-rj", videoIds: ["2npGuZKdhgE"] },
		{ title: "I’m a Firefighter", artist: "Cigarettes After Sex", coverLink: "https://lh3.googleusercontent.com/1p6o0pMKzWRTzgI0XcQFT7aCLra6t5tQJdZc3qUh_q0ipCzfMuzxZYwkLVHGoI-Vus22IDPvCv1_wOCYMw=w544-h544-l90-rj", videoIds: ["M2pTEv6P6lk"] },
		{ title: "When Love Breaks Down", artist: "Prefab Sprout", coverLink: "https://lh3.googleusercontent.com/noT9YG5qmryaW194pLik6An485FjtVChXh2ZrUeT7tGvhSSfNqdy1yyjUlwvFtOvak8uX4ZB0ZddLu4=w544-h544-l90-rj", videoIds: ["jD0LrnM269g"] },
		{ title: "Call Mr. Lee", artist: "Television", coverLink: "https://file.garden/aNtAfG887DiA_7lO/2012LBM/television.png", videoIds: ["VeIoKtnPBiQ"] }, // { title: "Soldier Blue", artist: "Richard Lloyd", coverLink: "https://lh3.googleusercontent.com/7hf0rebbVTVQm656_UPLfzYfcq3shX_cLQHbcBlngdMfyhf4hhZK9dYeXbu4eYzKYpqSvn2jmRTchXI=w544-h544-l90-rj", videoIds: ["WFibfRCTvS0"] },
		{ title: "The Last of the Famous International Playboys", artist: "Morrissey", coverLink: "https://i.discogs.com/-PRvkPqdx9Bs3_kEEyNG52xgcbOUUXPMR1ZrWU82X6w/rs:fit/g:sm/q:90/h:522/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTQ2MTQ0/NC0xMTE2ODY3NTY0/LmpwZw.jpeg", videoIds: ["z-kXRbWwh6s"] },
		{ title: "Mysterons", artist: "Portishead", coverLink: "https://file.garden/aNtAfG887DiA_7lO/2012LBM/mysterons.webp", videoIds: ["slDNOtOQ8oA"] }, // { title: "Sour Times", artist: "Portishead", coverLink: "https://lh3.googleusercontent.com/MCoXTUz64Gz2wDS-Gpb7PCOhtrySBsX3GFW9C0lDIiH3mZFVOXuoa0lOpUiGhNAl9uvJv9BmRvUNcmM=w544-h544-l90-rj", videoIds: ["VoSoZyiHZ6o"] },
		{ title: "I’ll Try Anything Once", artist: "The Strokes", coverLink: "https://lh3.googleusercontent.com/WgxP6c6wwhh-IuX7N48bzsNeJNo0_OTHfrIlmjnv_3XvXb1I-rOCude_IkLetOZAvyqwnEX2v86fKyc=w544-h544-l90-rj", videoIds: ["_m8Q93ubyJI"] },
		{ title: "A Wolf At The Door", artist: "Radiohead", coverLink: "https://i.discogs.com/UkpecGXuUNTB3ausYZixGsN1V2MdSJ0Gj9y0-U-MFc4/rs:fit/g:sm/q:90/h:599/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTIyMTY5/OC0xNTA2NzY0NTA4/LTc0ODMuanBlZw.jpeg", videoIds: ["6isz01iv8Ls"] },
		{ title: "You Get What You Give", artist: "New Radicals", coverLink: "https://i.discogs.com/qc-nMODKSFaRgEox8O7O_Auh6O-2i8oBmEATWCptUyQ/rs:fit/g:sm/q:90/h:598/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTExNDE2/NzAtMTI1NjUwMTk2/NC5qcGVn.jpeg", videoIds: ["j91RZ01PZwA"] },
		{ title: "Accidentally In Love (From “Shrek 2” Soundtrack)", artist: "Counting Crows", coverLink: "https://i.discogs.com/vs9VpF6GOU5Ap4ms0Qmibz7pcY91H-SiUrAtHX81XkE/rs:fit/g:sm/q:90/h:537/w:540/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTQxNzIz/NDQtMTM1NzY0NDM1/OS0xNTA4LmpwZWc.jpeg", videoIds: ["vnBec1gpXSM", "GEo7W-uJNkc", "StFssXdXPZM"] },
		{ title: "Sick and Tired", artist: "Anastacia", coverLink: "https://i.discogs.com/oftF3PUnB53AC9dgI1yVUg24reQKN5jc8E59cBw0Hos/rs:fit/g:sm/q:90/h:600/w:589/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTM2NDI3/Ni0xMjU2NzU4OTc1/LmpwZWc.jpeg", videoIds: ["zc3NG898LGU"] },
		{ title: "Walk", artist: "Foo Fighters", coverLink: "https://lh3.googleusercontent.com/tT__3cVHvuFo7lttNU4D1ApF6beZZjGIGHfrqORR4UYe0fQRo_xK0Me2gslp8J9fdCyvkWyzChWWvJY=w544-h544-l90-rj", videoIds: ["FQU0QOmwHFA"] },
		{ title: "Empire Ants", artist: "Gorillaz, Little Dragon", coverLink: "https://i.discogs.com/MuLrvRctIA1_1pS9REPh1l9FnwmWY2iDPAMNtdthEl0/rs:fit/g:sm/q:90/h:600/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTI0NDA4/MTgtMTQwMTM3MTA0/MC0yNjI0LmpwZWc.jpeg", videoIds: ["5XZGVcHysNk"] },
		{ title: "Kids", artist: "Robbie Williams, Kylie Minogue", coverLink: "https://lh3.googleusercontent.com/HRnmS-xgMig6MbL_I7eJlM5_sM3lZvvI3ecNLX-hwaT0T7q1J7MFQlQbCEvyHTpRwN8idBktAUxhNEo=w544-h544-l90-rj", videoIds: ["5X7JPiHfEIk"] },
		{ title: "My Mistakes Were Made For You", artist: "The Last Shadow Puppets", coverLink: "https://lh3.googleusercontent.com/zYeSM5_i-ceJPLhMvwyPqxqYwAOqmWhYiwFtwvL2H81QH-0DKfM-IVtyM5T5rHNsRbRvFoa51i2YZW9W=w544-h544-l90-rj", videoIds: ["d2knSgBJpgU"] }
	];
	const PLAYLIST_TWO_DATA = [
		{ title: "A Thousand Years", artist: "Sting", coverLink: "https://lh3.googleusercontent.com/K_am-j3mqErHoss6AOgDHi6U5QdkkY4oU8oNvRVEfYR7PjM9QsHLUuuyDvRfWwvsQXhm9DRrptlrjLOKdA=w544-h544-s-l90-rj", videoIds: ["aI4t0VJO0IQ"] },
		{ title: "Cowboys and Angels", artist: "George Michael", coverLink: "https://i.discogs.com/Cgnm9bmq_6lXq7nmzv6dJs-ud9-NWvp85ztqlfYrfG4/rs:fit/g:sm/q:90/h:600/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTEzMDQ2/NDktMTIwODA3ODU4/Mi5qcGVn.jpeg", videoIds: ["Fcs9DLlHsPI", "Jvt_yJwOiS4"] }, // { title: "Round Here", artist: "George Michael", coverLink: "https://file.garden/aNtAfG887DiA_7lO/roundhere.png", videoIds: ["-u7b36yNhPY"] },
		{ title: "Chasing Pirates", artist: "Norah Jones", coverLink: "https://lh3.googleusercontent.com/RUgNv8AWzsTvSzmYmyBSADbemTwC-sPWZ0cJclAY7EgKrmDqLwd0I9mttILu5lfblk_SzOp_VgqiYk4=w544-h544-l90-rj", videoIds: ["nSABeBkDynM"] },
		{ title: "Morning Theft", artist: "Jeff Buckley", coverLink: "https://file.garden/aNtAfG887DiA_7lO/2012LBM/morningtheft.jpg", videoIds: ["gxJI7hlPdnY"] },
		{ title: "Crosseyed and Painless", artist: "Talking Heads", coverLink: "https://lh3.googleusercontent.com/wfQhN_HmBrEPuuGg_RxL6UJW982q0q4duInnmR2hRNqqXIWB2WSh8Jl-5rHuwrSHs0VEDiBnWe7jlBkqAQ=w544-h544-s-l90-rj", videoIds: ["z92avHmgDRA"] },
		{ title: "Days Are Forgotten", artist: "Kasabian", coverLink: "https://lh3.googleusercontent.com/Ys0dPw_Gik7p3zPLZxVFUryU-DP3myOzWT1MZDMln0yxStvusjMjxV4LgRoh8w68JqmS9K_H1pdYErY=w544-h544-l90-rj", videoIds: ["jhvhEbXrGNg"] },
		{ title: "Perfect", artist: "The Smashing Pumpkins", coverLink: "https://lh3.googleusercontent.com/sAtXMFJyFHd453qhed8ElAkosVqdNcu1qfmce_qfiLcRSRR19Js8fDdBHfrmg5j7Ax0F9pPkEH8mCZKVlw=w544-h544-l90-rj", videoIds: ["J6akOLBPHRs"] },
		{ title: "Light A Roman Candle With Me", artist: "fun.", coverLink: "https://lh3.googleusercontent.com/0XUUFPo3k8VjVu8psofYl4iLnNgEqHhxQQY5riGQa-3h_ZkG6NjySj-mwixau3Q27F9gQ_MuWa2qPrzV=w544-h544-l90-rj", videoIds: ["xiVZfzwPxpk"] },
		{ title: "Make It Wit Chu", artist: "Queens Of The Stone Age", coverLink: "https://i.discogs.com/PZSCqtjD-xNiPGauhEi41xtI49_fweDacRoZht9T_OQ/rs:fit/g:sm/q:90/h:597/w:586/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTExNjA2/MjktMTE5NzE5MzQ3/MS5qcGVn.jpeg", videoIds: ["AZdyD8yFQaU"] },
		{ title: "Burndt Jamb", artist: "Weezer", coverLink: "https://lh3.googleusercontent.com/k4nOOBSgcSfOm4z8tXvsXtdv1A2srufsx24kM8k_K6Nh2-rjV-zawEjEj91GB3KGr9Z5kWcn-ouTJWE=w544-h544-l90-rj", videoIds: ["g8HxirtezmI"] },
		{ title: "Chasing Pavements", artist: "Adele", coverLink: "https://lh3.googleusercontent.com/4RvEdXVK1IS7ZZws_vUD443HM8eKqN890he0S_w8cw06GEdmUVNatd0Rd2aiAxpzwlBam6OS8Rh94hlk=w544-h544-l90-rj", videoIds: ["WSq2jQjzcMg"] },
		{ title: "The Heart Remains A Child", artist: "Everything But The Girl", coverLink: "https://lh3.googleusercontent.com/evBbcN1l_cXZ3tHU2684sxjIznFgLYj8o9oEKzrk_Svtbszmz8VamKsgb05KjTilnpai69en0nOF-g9u=w544-h544-l90-rj", videoIds: ["fj_iHszkexw"] },
		{ title: "Love Voodoo", artist: "Duran Duran", coverLink: "https://i.discogs.com/SFalan_KgA4zCavkJg_OOnTAXIly0QvS6D25Nuf67rw/rs:fit/g:sm/q:90/h:431/w:438/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTEyOTM1/MDQ1LTE1NDQ4NjU1/MjctODkyMS5qcGVn.jpeg", videoIds: ["Ra_bvxg24eQ"] }, 
		{ title: "Our Velocity", artist: "Maxïmo Park", coverLink: "https://i.discogs.com/z1Y9bX-84ac-_To_IWlNJ3qkKo0x2nzuUTKWgkNSqV0/rs:fit/g:sm/q:90/h:600/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTkzMDE0/NS0xMTc0MDY4ODM0/LmpwZWc.jpeg", videoIds: ["oPuXbw5e9yA", "bgRYs1Afb5M", "GLjGlePMkEU"] },
		{ title: "Long Snake Moan", artist: "PJ Harvey", coverLink: "https://i.discogs.com/WH871g2QdZQ59j-ZnO_fWIxTQmfvBYVMDLeyJmCgQQk/rs:fit/g:sm/q:90/h:481/w:556/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTE0NDI0/OTgtMTQ5MzU5MjA1/Ni0yNDI4LmpwZWc.jpeg", videoIds: ["mbuvj1k_LIc", "zUOcl38-6dE"] },
		{ title: "Heads Will Roll", artist: "Yeah Yeah Yeahs", coverLink: "https://lh3.googleusercontent.com/8Sfi-dys3oJEdKMn4-HDuycmf1GrpuUcV-DU23N7Gh8gCp_X3Y2VZGTNs4Ni4_oujpuQlbWq9Hq_iBqu=w544-h544-l90-rj", videoIds: ["vw3k_jWa-gI", "I4lU8zOUI7Y"] },
		{ title: "Throb", artist: "Janet Jackson", coverLink: "https://lh3.googleusercontent.com/IGqFlmfmWSdFJ9dv5dntPDEDAZ08oISLs-98JzQFy9HsF0hJEnxDX8T-WNc6Yikhstf1xRttBUERj6pt7w=w544-h544-l90-rj", videoIds: ["GV5fowmEP5M"] },
		{ title: "Time to Pretend", artist: "MGMT", coverLink: "https://i.discogs.com/VWmHOLds8WRxC2pEwdsVsKoRS5nbyhtUgZNI-w65h5o/rs:fit/g:sm/q:90/h:509/w:500/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTEyNjkx/MTMtMTM4NjY3NDY1/Mi0xMzkxLmpwZWc.jpeg", videoIds: ["XUKyV49P8F0"] },
		{ title: "Concrete Jungle", artist: "Céu", coverLink: "https://lh3.googleusercontent.com/W32ORCD-R5kvkeBdOKcsu1LzsEQ5720vOKtyWkA9Vz-kNDWlhIMNkBhCRlUUaTI04yacTPkhflp9ynCa=w544-h544-l90-rj", videoIds: ["wvvVcD1upgw"] },
		{ title: "Pictures Of Me", artist: "Elliott Smith", coverLink: "https://lh3.googleusercontent.com/A5Zy_MEPXIZvSughy-1GFQgIGQfqbXhPpw7SO1xCAkaFE3M767xGIFLEPJSS2VwXOeoiny_HVvPDL0TU=w544-h544-l90-rj", videoIds: ["DjQfF137Jo8"] },
		{ title: "Ghosts (2003 Remaster)", artist: "Japan", coverLink: "https://i.discogs.com/03rpCahE4xIIliFWZt7KWSSM5_3l-R8P-nmzr1Q_cBo/rs:fit/g:sm/q:90/h:600/w:587/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTc0MTE4/LTE0MDkzMzk1NTIt/NjAyOS5qcGVn.jpeg", videoIds: ["0cLeyGWthgw"] },
		{ title: "Dark Is the Night for All", artist: "a-ha", coverLink: "https://lh3.googleusercontent.com/f8-e6ocHhH8PeCqBLYGx7oPE0YtFi6-NrL4K6dx2D-Z8mAJzIp-OAJ8MHZnLWYtt-bOGwRkG85ELtJM=w544-h544-s-l90-rj", videoIds: ["PInnL2kCHRs"] },
		{ title: "The Same Deep Water As You", artist: "The Cure", coverLink: "https://lh3.googleusercontent.com/rHZvGGWVWMXiOmAKzYJJV1S4ob2iPfHEQFruiKu3d3qkb5L9969m3gVlQN0Y-vdKL6g4xc8-qCirWaQY=w544-h544-s-l90-rj", videoIds: ["YBTo-QVJjBo"] },
		{ title: "Break The Night With Colour", artist: "Richard Ashcroft", coverLink: "https://i.discogs.com/2YXfsoSBpr5BevuoOwwM4jRtbQX_CSPzKEHYEcIZ9mE/rs:fit/g:sm/q:90/h:528/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTE4MDg0/MTEtMTMxNjc5ODMy/MS5qcGVn.jpeg", videoIds: ["lLUm32FhWBo"] },
		{ title: "Human Nature", artist: "Madonna", coverLink: "https://i.discogs.com/1AEA6xxFw0cLauqdRj7Gs-Ptnb7jKWk9Tcv3POFCSbQ/rs:fit/g:sm/q:90/h:600/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTQwOTAz/LTE0NTQxNzE3NzQt/MzU0Ny5qcGVn.jpeg", videoIds: ["U_V5H571qu0"] },	
		{ title: "Pop Life", artist: "Prince", coverLink: "https://lh3.googleusercontent.com/49t0gzowaxk4UjzX2GZOI2SaUak-Rg9nV5t64HzCubA69hTyzfao0vgaiABEVNN2RRQDwvDqqU6Nk6CZ=w544-h544-l90-rj", videoIds: ["bQT0zS0PCb4", "56Hvoqgdlfk", "dtZO8J7rXLo"] }, // { title: "Musicology", artist: "Prince", coverLink: "https://lh3.googleusercontent.com/TbspPdUPFM6Wn8OqCOC3dtIsE8ONI8yH3E6RvhRrQUddY1H2C8ZqAUc_Zl-lcquUbxmylxPhDNKzTdND=w544-h544-l90-rj", videoIds: ["qdmWbJ8ISP4"] },	
		{ title: "More Than A Woman", artist: "Angie Stone, Calvin Richardson", coverLink: "https://lh3.googleusercontent.com/rfA1DXHqrzSCACAFhmQ5FVPvXfwJoV2hcmG6nIByy6lVFJ68kHwil_TD0zZSE-eFHke7Wr9xc_UT9oR8=w544-h544-s-l90-rj", videoIds: ["V3wXb3dRaRY"] },
		{ title: "Poetic Justice", artist: "Kendrick Lamar, Drake", coverLink: "https://i.discogs.com/NLeNttmSqcPzu5ynjMos5cnFW9nnHfLp4Pu8f5lK-wU/rs:fit/g:sm/q:90/h:600/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTEwMzYx/MzEyLTE1MzMyMjg2/MjAtNjYyMy5qcGVn.jpeg", videoIds: ["XWQJdnmpnhc"] },
		{ title: "What If", artist: "Aaliyah", coverLink: "https://i.discogs.com/o1FTmFfngKpHfJZcaBI2pes0Yx8ik_0KL6HdbKCdNqI/rs:fit/g:sm/q:90/h:529/w:598/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTI1MjUy/MjYtMTQ3MDE1MjI3/My00NDQxLmpwZWc.jpeg", videoIds: ["9zNfpjn6Yno"] }, // { title: "We Need A Resolution", artist: "Aaliyah, Timbaland", coverLink: "https://i.discogs.com/cD-yVP5rRvHiusqqF3sxxYxIl5YAxJOXyECrc0E10g4/rs:fit/g:sm/q:90/h:600/w:593/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTcxOTE0/MzQtMTQzNjAxMzU0/OS0zODA4LmpwZWc.jpeg", videoIds: ["bTk0fF2aTfU"] },
		{ title: "Take A Toke", artist: "C&C Music Factory", coverLink: "https://i.discogs.com/jNLB4gBh-S33ZhtiPKEXD51biultek1apXaFzg4g2wA/rs:fit/g:sm/q:90/h:554/w:550/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTM1OTE2/OC0xMjc4NDA3ODIw/LmpwZWc.jpeg", videoIds: ["NWuYrQXfWyQ"] },
		{ title: "Computer World (2009 Remaster)", artist: "Kraftwerk", coverLink: "https://lh3.googleusercontent.com/lFxYtC0uMQuVL6wZo2dLLJO4MBYBdg-FIMNiF0axD3vG4Tswx7qdmarZTY2frhrqBan0LQPWLnntAkE=w544-h544-l90-rj", videoIds: ["Pgf7Uz7Xxek"] },
		{ title: "Take It Like A Man", artist: "KMFDM", coverLink: "https://lh3.googleusercontent.com/_WaQu0NR98If7tyBU7p1aUb4ak1q50mUmVU3gSFFTqvPEcOZzjr5QA2JpM9OeDeD-gACMeO10K4nal8=w544-h544-l90-rj", videoIds: ["EQto-edK_8w"] },
		{ title: "Sexplosion", artist: "My Life With the Thrill Kill", coverLink: "https://lh3.googleusercontent.com/FnBckYjD1li2kKoGUA6XIELAT-im7tueQpbadBbRvZaSGrOokiBO6OjFWzOa759eJhUSru1sBVcPiSIE4g=w544-h544-l90-rj", videoIds: ["uBTBC7PpOIc"] },
		{ title: "Lovesong", artist: "Snake River Conspiracy", coverLink: "https://lh3.googleusercontent.com/_Sv-qfk2yphilaUfu-AEEzMxRy3Wjxx45FCjLzX7SJdUuk6eHEGzjT33Y9YajvMP4Dj-TnvCDGr8eXhB=w544-h544-l90-rj", videoIds: ["N_Y5cHNKbgg"] },
		{ title: "Revenge", artist: "Ministry", coverLink: "https://lh3.googleusercontent.com/OgGEwF9SdxUO4zTpz9SEoDq426VTBui-m04WbT1QY-vBfUfY_bA4qvOnCyNmmt4tffSB7ihGBfUUG94=w544-h544-s-l90-rj", videoIds: ["jfoAxDBpB88"] },
		{ title: "Breathe", artist: "Basement", coverLink: "https://lh3.googleusercontent.com/dmNVje7d_6fcRgp0o7r3Gqfikwb8FzbqPplvLetb0nOIiHH-wb-56WJ2wctqs7vA8-Pu_nPD08UzIGnk=w544-h544-l90-rj", videoIds: ["c3BIn-sslxg"] },
		{ title: "Blue Sky Mine", artist: "Midnight Oil", coverLink: "https://lh3.googleusercontent.com/2ZkKru5W8od5qdSywn-emupTOLJ9eYVV5I5S-aQvTVbzf-Ek-vfcQoWeAhvzBZLWBc5Eio_PMQEFSJvoqA=w544-h544-l90-rj", videoIds: ["E2Ru4_A8INU"] },
		{ title: "Violet", artist: "Savage Garden", coverLink: "https://lh3.googleusercontent.com/otK781lcTCrWL8qTWVss4tSglJ4-ysRk9zzTeSnb0aJwAUWN5kOaNJtdLQ2Hk8tYe4A4oASA31Ai308HaQ=w544-h544-l90-rj", videoIds: ["K0NqQDNgG44"] },
		{ title: "Closing Time", artist: "Semisonic", coverLink: "https://i.scdn.co/image/ab67616d0000b273732c06860d83e1d738ea1309", videoIds: ["5IXBuSVqyNk"] },
		{ title: "Gardening At Night", artist: "R.E.M.", coverLink: "https://lh3.googleusercontent.com/GoXoiNqZAbKJjDmCaVlrEdeW_whTaS3eqxXPe_-CgOQqNGui1SP6ai737dxA5wui6qDPbHSvStDQeeGH=w544-h544-l90-rj", videoIds: ["ygiHqQdVvbg"] },
		{ title: "Drive You Home", artist: "The Verve", coverLink: "https://file.garden/aNtAfG887DiA_7lO/2012LBM/verve.png", videoIds: ["7OyRW_UqMu8"] },
	];
	const PLAYLIST_THREE_DATA = [
		{ title: "Mellow My Mind", artist: "Simply Red", coverLink: "https://lh3.googleusercontent.com/SrJ6ZNRfFZTX7u7IKmoGWfjvRDW_ZuvVJVtIgG5_tUgqcL8PH6lCpBxzaNwxYUNZCBIQlKjXQU_IVT2f=w544-h544-l90-rj", videoIds: ["1b66vvkJnV4", "oOfWPsFpuHY", "ddz1_1bEwLI"] }, // { title: "Jericho (Single Mix)", artist: "Simply Red", coverLink: "https://lh3.googleusercontent.com/u1jeJkgmSIycHjWNXexFMsqidX1wWiQhBlvkaae9Gqr5wZ9-AQrTtc9ITm9AkqWWbf0xLrF-nfwumTc36w=w544-h544-l90-rj", videoIds: ["q0g9Bm_A2tc"] },
		{ title: "Sympathy For The Devil (Neptunes Remix)", artist: "The Rolling Stones, The Neptunes", coverLink: "https://lh3.googleusercontent.com/47HJHBCLOA9roigjSWmuvSxeDjNKXHVukzv-EHO2s5exAbsSneiY6agwS2ocv4w1vSkkjJ2eEHMzP6w=w544-h544-s-l90-rj", videoIds: ["btfCucCnIJY"] },
		{ title: "Then She Appeared", artist: "XTC", coverLink: "https://lh3.googleusercontent.com/Dhi8MUltkljAhJUfX6HVbL6sXxsEndmUP-CdFnlUOMl4UA-KPBBg2Ib749GDYJBAoVHGtuujgXMVXlCWqA=w544-h544-l90-rj", videoIds: ["J33GAxtmKxU"] },
		{ title: "Money Can’t Buy It", artist: "Annie Lennox", coverLink: "https://lh3.googleusercontent.com/HLFaLtDwI8Zxs0RDA1mH6K6ykq2BIXOjN6E7w6UVq0gmKTEfIhlV7nripddwL6zft3XvgrEEH5a0Bug1=w544-h544-l90-rj", videoIds: ["LBL5xz4ptnQ"] },
		{ title: "Wrapped Up In Books", artist: "Belle and Sebastian", coverLink: "https://lh3.googleusercontent.com/79BQs1ZXWfe_BAZwL02Ub-lndYlO1keXD0vpU6OStOelV_jvr30ajhWa0FFZlSn4wyJZ3wjTLDm98pTC5Q=w544-h544-l90-rj", videoIds: ["4pgGLysxaoI"] },
		{ title: "The Sea", artist: "Morcheeba", coverLink: "https://lh3.googleusercontent.com/jBB1DppZrbazEN8WkCBzN-m7JKiUnfS1hZZNv6XAkqqPkYviyfyVOcfL0ayTNlAQc4Z2MabmkMHHS5NsaA=w544-h544-s-l90-rj", videoIds: ["rOLN9T9w9kA"] },
		{ title: "Gangnam Style", artist: "Psy", coverLink: "https://lh3.googleusercontent.com/_cEhL7XVzoVbxoFAYM6fSncb_6PGYcM5EUFw0tNY27hJoqz0EnqS3t2ZgSWHKxQk0eF4pC3M6ZxUIc8=w544-h544-l90-rj", videoIds: ["4AgDYTuZWOw"] },
		{ title: "Morphine", artist: "Michael Jackson", coverLink: "https://file.garden/aNtAfG887DiA_7lO/2012LBM/c85TB64.jpeg", videoIds: ["hwihNQCTDIU"] },
		{ title: "Touch Myself", artist: "Genitorturers", coverLink: "https://lh3.googleusercontent.com/m3WZ_7kuWrKZ-vw8iJM1Q8FYh9PRIgRQ7c_3AGkrHwTsJR2Thkohkmd7Vu1keBVn8aJ0GI6c1mhaMbr3=w544-h544-l90-rj", videoIds: ["j06PkVMpA1U"] },
		{ title: "I Need Something (To Kill Me)", artist: "Twenty One Pilots", coverLink: "https://i.discogs.com/4IWnyyOst-3aEZp10FDcapIGd0oIi7Xf3Dy9ssVyhAE/rs:fit/g:sm/q:90/h:600/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTE0MDY3/NzQ1LTE1NjcyMTMz/NjAtNjc2MS5wbmc.jpeg", videoIds: ["VWtUlvo9t5g"] },
		{ title: "Ricky", artist: "Yoñlu", coverLink: "https://file.garden/aNtAfG887DiA_7lO/2012LBM/ricky.webp", videoIds: ["Wm-_X9d9C_o"] },
		{ title: "My Way", artist: "Sid Vicious, Sex Pistols", coverLink: "https://i.discogs.com/GxsduuyVsB1UDm1duEbF6Qo0lf9r8kpiBHT7gzdQV9g/rs:fit/g:sm/q:90/h:600/w:596/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTc1NDE3/MjktMTY3ODgxNzU1/My03NjA1LmpwZWc.jpeg", videoIds: ["BWKDInTo3CE"] },		
		{ title: "Standing In The Paris Rain", artist: "Avant Garde", coverLink: "https://i.ytimg.com/vi/aJE4ULwFRSA/maxresdefault.jpg", videoIds: ["O2mgZVOpjDk"] },		
		{ title: "I Wanna Rock You", artist: "Giorgio Moroder", coverLink: "https://i.scdn.co/image/ab67616d0000b273f7a48e970946e513c2c50600", videoIds: ["PTuaWSfwnj8"] },
		{ title: "Praise You", artist: "Fatboy Slim", coverLink: "https://lh3.googleusercontent.com/Q7t3Ps65dK8MKfvoxTTc7YfJn7whALfS1ENDQPdxyM5RBqfVF1SEKL6gHPt9Q97W8CKB2gLrdAOMWYe8=w544-h544-l90-rj", videoIds: ["LwTakkn8dfU", "1BoXlv-TV2c"] },
		{ title: "Man Next Door", artist: "Massive Attack, Horace Andy", coverLink: "https://file.garden/aNtAfG887DiA_7lO/2012LBM/mnd.jpg", videoIds: ["OgrTSszC-qs"] },
		{ title: "Comedown", artist: "Bush", coverLink: "https://i.discogs.com/fkX7a4SWtGV3w7dg0SLYgMj-9TzKaEgi1MY42OHiq8Q/rs:fit/g:sm/q:90/h:470/w:532/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTIwMDQ4/NjItMTQ3OTM1NTY3/NC04NjkyLmpwZWc.jpeg", videoIds: ["jGw1EFFqIl4"] },
		{ title: "Ever (Foreign Flag)", artist: "Team Sleep", coverLink: "https://i.discogs.com/c_Wz-Zb_nOa8uZIq9z2bFf5C0fwkKd7-YVHu4duokh0/rs:fit/g:sm/q:90/h:470/w:527/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTQ5MDMw/MzYtMTU1OTg3NDc1/MC00OTkyLmpwZWc.jpeg", videoIds: ["IZetWPOAXyA"] },
		{ title: "Barely Breathing", artist: "Duncan Sheik", coverLink: "https://i.discogs.com/1LpOfNDFABaRoGdGkh9JeFZCFzJSaKULadxbL0C2zR0/rs:fit/g:sm/q:90/h:530/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTE3NjA5/NDYtMTI5MTc2Mzcz/Ny5qcGVn.jpeg", videoIds: ["ml2Abds1EIU"] },
		{ title: "Cousins", artist: "Vampire Weekend", coverLink: "https://i.discogs.com/_lgtPiJHAqAszFFhqzVTRrO2UsAkcMgZq3hStlarjgs/rs:fit/g:sm/q:90/h:599/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTIwNTU2/OTItMTI2MTMxNjUy/My5qcGVn.jpeg", videoIds: ["h5bEGG85PGw"] }, // { title: "Rubberneckin’ (Paul Oakenfold Remix / Radio Edit)", artist: "Elvis Presley", coverLink: "https://lh3.googleusercontent.com/2Y-SnfAN-rZZK__LI_9kgeit_eyDgkF25EDCyfMc8XcOsB51SdCZl-co4OEwMjuB7esIcnmrxpLYZK6n=w544-h544-l90-rj", videoIds: ["to5-5ZrgNw0"] },
		{ title: "Sailing On The Seven Seas", artist: "Orchestral Manoeuvres In The Dark", coverLink: "https://i.discogs.com/etfynYpoZx1j4tQMhfsrTKvVDrFkBX5KLxElSD5JY9M/rs:fit/g:sm/q:90/h:526/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTUwNTkw/Ny0xNDY0NTUxODIz/LTMwNTAuanBlZw.jpeg", videoIds: ["6bq3MXx9L78"] },
		{ title: "Useless (The Kruder + Dorfmeister Session)", artist: "Depeche Mode", coverLink: "https://i.scdn.co/image/ab67616d0000b273d6107d00a9d49d1edb2bc561", videoIds: ["PY44fUxWpT4"] },
		{ title: "Sadeness (Part 1)", artist: "Enigma", coverLink: "https://lh3.googleusercontent.com/kkLjKbkuFJ_0n6yjDnvBxEFKLIJhIazhL9O4ME4vxhQtDD6krmggovVucIsO8A2_XNyV9Jb0P-gw3gA=w544-h544-l90-rj", videoIds: ["tl0jmpkniNk"] },
		{ title: "Is This Pain Our Pleasure", artist: "Mint Condition", coverLink: "https://lh3.googleusercontent.com/BPg-Wqp8rDZbVzAz7G-U5NubmB2oHpQr8VjAIERU2beQuDLlUVKrOMf0WYs-39Vx1maQAMJnSK-jw8w=w544-h544-l90-rj", videoIds: ["GnvKRPe7JZo"] }, // { title: "What’s Going On", artist: "Marvin Gaye", coverLink: "https://lh3.googleusercontent.com/wDZ9b8Tk_8QyuTurmJ9N8uZ31xF095slzLLCaEvw_XO_e7tEeKVf0BlGkbuPyIcNRhtWQtQMdkqHC-61=w544-h544-l90-rj", videoIds: ["ApthDWoPMFQ"] },
		{ title: "It’s A Man’s Man’s Man’s World", artist: "Seal", coverLink: "https://lh3.googleusercontent.com/V5xDQnI4LMH8syDXFHl4o8pRuzRdWYSHkSiTfW0FHJZwsHi_euzVRiGYQu_NASLFCyR1Lp9GmSVYYLbf=w512-h512-l90-rj", videoIds: ["nOoIB5Z64Jw"] },
		{ title: "Whole Lotta Love", artist: "Tina Turner", coverLink: "https://www.the-world-of-tina.com/img/Tina-Turner-Single-Whole-Lotta-Love-Cover-01.jpg", videoIds: ["0xAXkmo-HTI"] },
		{ title: "Dirt Off Your Shoulder / Lying From You", artist: "JAY-Z, Linkin Park", coverLink: "https://i.discogs.com/3DZQlz7XNohkggE61-TrRhEiSeI-Mzq_X7JX32jRfwk/rs:fit/g:sm/q:90/h:528/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTMwODY5/ODYtMTMxNTA5ODY4/NC5qcGVn.jpeg", videoIds: ["z7rOS9rd4sY"] },
		{ title: "I Knew You Were Trouble", artist: "Taylor Swift", coverLink: "https://i.discogs.com/oQv6Eg52QmvLdtMiFjifhbdl5Zv3Kq6o3vBLrkBBT_Y/rs:fit/g:sm/q:90/h:600/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTQ1OTMx/MDgtMTM2OTM2NzEz/Ny0zOTUzLmpwZWc.jpeg", videoIds: ["VmBoTeLsKfs"] }, // { title: "What Goes Around", artist: "Nescobar-a-lop-lop", coverLink: "https://lh3.googleusercontent.com/aSTol_CCYU6f_vdHAOPBejJjXrL93W650PTo3wLVwMyJUcyeopjjDgPRgCSdv5r3hMdbBLx_30_3Qg4fzg=w544-h544-l90-rj", videoIds: ["SUvNGdwkJDA"] },
		{ title: "When I Get You Alone", artist: "Robin Thicke", coverLink: "https://i.discogs.com/wfaCvI9JBAyFGcCGO5_NgyIzmlSzHq9HfcVyXGrvCrA/rs:fit/g:sm/q:90/h:595/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTgxMjI1/Mi0xMzQ0MjgxNzAx/LTY2NTYuanBlZw.jpeg", videoIds: ["mxe515cnm4o"] },
		{ title: "Something About Us", artist: "Daft Punk", coverLink: "https://lh3.googleusercontent.com/KWKJfEfasVPd53ha--VXKCrjQPtCYMbjtTAg25IhmODgYDud5bqPgZXwzaLY4Mhq1MTEjjvyFRbLSuw=w544-h544-l90-rj", videoIds: ["URzOGF_QGls"] },
		{ title: "None But Shining Hours", artist: "The Books", coverLink: "https://lh3.googleusercontent.com/kINhski3VJXxLRxZcgiakS_RqYAZAyHeqwrU2xcMJkBR8uZsKpRwbLHKkiNOPEjb60SYhUzdYNg_E8dp=w544-h544-l90-rj", videoIds: ["iH__pyErwqU"] },
		{ title: "Heaven Must Be Like This", artist: "D’Angelo", coverLink: "https://file.garden/aNtAfG887DiA_7lO/2012LBM/dangelo.webp", videoIds: ["JnZku_CzPz4"] },
		{ title: "Our Day Will Come", artist: "Amy Winehouse", coverLink: "https://lh3.googleusercontent.com/Tgbr7RbxqVgHFnyU93JEJdqr3SqsUtM-kkOCqIJUgvWhNmaQZvL_sfG1fgz80_Z4QQfGjMNbGDi-Jhw=w544-h544-l90-rj", videoIds: ["qmdDIxQC0Ao"] },
		{ title: "Sleeping Satellite (US Alt. Rock Version)", artist: "Tasmin Archer", coverLink: "https://lh3.googleusercontent.com/lTXTpbmKUa8zv_iehpaTYjSa2KjfzvdQCijysmSIfX0NEFGQnuVMCJuXk_8ip7MwUS3eR0djKmlElvzt=w544-h544-l90-rj", videoIds: ["sjNqMP6qPyI"] },
		{ title: "Satisfy You", artist: "Puff Daddy, R. Kelly", coverLink: "https://i.discogs.com/edknC-fIKzCeri2Ofjz_CrY9nPbgqry7WthbcIRrAD0/rs:fit/g:sm/q:90/h:593/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTIwMTU4/MTQtMTQ1NDE2MjMy/Mi02Njk1LmpwZWc.jpeg", videoIds: ["6EsSSAXBXAI"] },
		{ title: "Get Involved", artist: "Raphael Saadiq, Q-Tip", coverLink: "https://i.discogs.com/0vF2inL1Mpk_yC7qSbaxPrJ-2bp1Ly84zvFnIiysGo4/rs:fit/g:sm/q:90/h:524/w:600/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTc5MjY1/OC0xNjg4ODE0NzE2/LTUxMTcuanBlZw.jpeg", videoIds: ["qQhe8Vehi40"] },
		{ title: "If You Could Save Yourself (You’d Save Us All)", artist: "Ween", coverLink: "https://lh3.googleusercontent.com/oPN7dH-oUeMApWhWVHiwuB1zdywet_YiiHSd62BZ0q7Zkfm6tF90Tw5IATYt0B1or7NuDlUHdqBbrC4n=w544-h544-l90-rj", videoIds: ["XRc8GI3MX_Q"] },
		{ title: "Get It On", artist: "Natural Born Hippies", coverLink: "https://i.discogs.com/1cvsQq3BFsCaO4ZpTLB_pT2sRCRraFClVVWdcEFpMYk/rs:fit/g:sm/q:90/h:599/w:599/czM6Ly9kaXNjb2dz/LWRhdGFiYXNlLWlt/YWdlcy9SLTQ2ODQ1/MTYtMTM3MjE2MTk1/NC01NDQxLmpwZWc.jpeg", videoIds: ["CddMvYslYDU"] },
		{ title: "Big Area", artist: "Then Jerico", coverLink: "https://lh3.googleusercontent.com/k5L_2USXltuDWoB2C51oDbpbFane95ytK6154iyneTm_Gsogalpm4jD4W_HwGESewadubx_nSfuuAhc=w544-h544-l90-rj", videoIds: ["R7BSdl3ei0w"] } // { title: "People Get Ready", artist: "The Impressions", coverLink: "https://i.scdn.co/image/ab67616d0000b2737dd29630ee8d2efc01dd28da", videoIds: ["UG-KNy1MRTc"] }
	];
    let PLAYLISTS_DATA = [];

    // constants
    const PLAYER_ELEMENT_ID = "nice-music-player";
    const PLAYLIST_SELECTOR_ID = "player-playlist-selector";
    const YOUTUBE_PLAYER_DIV_ID = "youtube-player-container";
    const TITLE_ID = "player-title";
    const ARTIST_ID = "player-artist";
    const CONTROLS_CONTAINER_ID = "player-controls-container";
    const PREV_BUTTON_ID = "player-prev-button";
    const PLAY_PAUSE_BUTTON_ID = "player-play-pause-button";
    const NEXT_BUTTON_ID = "player-next-button";
    const PROGRESS_BAR_CONTAINER_ID = "player-progress-bar-container";
    const CURRENT_TIME_ID = "player-current-time";
    const PROGRESS_BAR_ID = "player-progress-bar";
    const DURATION_ID = "player-duration";
    const VOLUME_CONTAINER_ID = "player-volume-container";
    const VOLUME_ICON_ID = "player-volume-icon";
    const VOLUME_PERCENTAGE_ID = "player-volume-percentage";
    const VOLUME_SLIDER_ID = "player-volume-slider";
    const REPEAT_BUTTON_ID = "player-repeat-button";
    const SHUFFLE_BUTTON_ID = "player-shuffle-button";
    const PLAYER_CONTROL_BUTTON_CLASS = 'player-control-button';
    const QUEUE_CONTAINER_ID = "player-queue-container";
    const QUEUE_TITLE_ID = "player-queue-title";
    const QUEUE_LIST_ID = "player-queue-list";
    const PLAYER_QUEUE_ITEM_CLASS = "player-queue-item";
    const QUEUE_TOGGLE_ICON_ID = "player-queue-toggle-icon";

    // persistence key
    const STORAGE_KEY = 'nice-music-player-state-v1';

    // icons
    const ICON_PLAY = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24' fill='%23f0f0f0'%3E%3Cpath d='M7.5 5v14l11-7z'/%3E%3C/svg%3E";
    const ICON_PAUSE = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24' fill='%23f0f0f0'%3E%3Cpath d='M6 19h4V5H6v14zm8-14v14h4V5h-4z'/%3E%3C/svg%3E";
    const ICON_PREV = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24' fill='%23f0f0f0'%3E%3Cpath d='M6 6h2v12H6zm3.5 6l8.5 6V6z'/%3E%3C/svg%3E";
    const ICON_NEXT = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24' fill='%23f0f0f0'%3E%3Cpath d='M16 6h2v12h-2zm-1.5 6l-8.5 6V6z'/%3E%3C/svg%3E";
    const ICON_VOLUME = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24' fill='%23f0f0f0'%3E%3Cpath d='M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z'/%3E%3C/svg%3E";
    const ICON_MUTED = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24' fill='%23f0f0f0'%3E%3Cpath d='M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z'/%3E%3C/svg%3E";
    const ICON_REPEAT_NONE = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24' fill='%23f0f0f0'%3E%3Cpath d='M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z'/%3E%3C/svg%3E";
    const ICON_REPEAT_ALL = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24' fill='%2366b3ff'%3E%3Cpath d='M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z'/%3E%3C/svg%3E";
    const ICON_REPEAT_ONE = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24' fill='%2366b3ff'%3E%3Cpath d='M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z'/%3E%3Cpath d='M12.5 15H11v-1.4l1.5-0.6v-3H11V9h3v6h-1.5z'/%3E%3C/svg%3E";
	const ICON_SHUFFLE_OFF = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' width='24' viewBox='0 0 24 24' fill='%23f0f0f0'%3E%3Cpath d='M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z'/%3E%3C/svg%3E";
	const ICON_SHUFFLE_ON = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24' width='24' viewBox='0 0 24 24' fill='%2366b3ff'%3E%3Cpath d='M10.59 9.17L5.41 4 4 5.41l5.17 5.17 1.42-1.41zM14.5 4l2.04 2.04L4 18.59 5.41 20 17.96 7.46 20 9.5V4h-5.5zm.33 9.41l-1.41 1.41 3.13 3.13L14.5 20H20v-5.5l-2.04 2.04-3.13-3.13z'/%3E%3C/svg%3E";
	const ICON_HEART_EMPTY = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24' fill='none' stroke='%23f0f0f0' stroke-width='2'%3E%3Cpath d='M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z'/%3E%3C/svg%3E";
	const ICON_HEART_FULL = "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' width='24' height='24' fill='%23ff4b4b'%3E%3Cpath d='M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z'/%3E%3C/svg%3E";
	const FAVORITE_BUTTON_ID = "player-favorite-button";
	
	class Song {
        constructor(title, artist, coverLink, videoIds) { 
            this.title = title; 
            this.artist = artist; 
            this.coverLink = coverLink; 
            this.videoIds = Array.isArray(videoIds) ? videoIds : [videoIds];
            this.currentVideoIndex = 0; 
        }
        getTitle() { return this.title; } 
        getArtist() { return this.artist; } 
        getCoverLink() { return this.coverLink; } 
        
        getVideoId() { 
            return this.videoIds.length > 0 ? this.videoIds[this.currentVideoIndex] : null; 
        } 
        
        containsVideoId(id) {
            return this.videoIds.includes(id);
        }

        tryNextVideo() {
            if (this.currentVideoIndex < this.videoIds.length - 1) {
                this.currentVideoIndex++;
                return true;
            }
            return false;
        }

        resetVideoIndex() {
            this.currentVideoIndex = 0;
        }
    }

    class Playlist {
        constructor(songs = []) { this.songs = songs; this.currentSongIndex = 0; }
        getCurrentSong() { return this.songs.length > 0 ? this.songs[this.currentSongIndex] : null; }
        playNext() { if (this.songs.length > 0) this.currentSongIndex = (this.currentSongIndex + 1) % this.songs.length; }
        playPrevious() { if (this.songs.length > 0) this.currentSongIndex = (this.currentSongIndex - 1 + this.songs.length) % this.songs.length; }
        setCurrentSongIndex(index) { if (index >= 0 && index < this.songs.length) this.currentSongIndex = index; else console.warn(`Invalid song index: ${index}`); }
        isEmpty() { return this.songs.length === 0; }
        getSongs() { return this.songs; }
        setSongs(newSongs) { this.songs = newSongs; this.id = Date.now() + Math.random().toString(36); }
    }

    let playlist;
    let activePlaylistIndex = 0;
    let originalSongOrderForCurrentPlaylist = [];
    let isShuffleActive = false;
    let ytPlayer;
    let playerReady = false;
    let isSeeking = false;
    let rafId = null;
    let isUpdaterRunning = false;
    let volumeBeforeMute = 0.5;
    let repeatMode = 'none';
    let hasUserInitiatedPlayback = true;

    // persisted state + apply mute at onReady
    let persistedState = null;
    let applyMuteOnReady = false;

    const TARGET_FPS = 30;
    const FRAME_INTERVAL = 1000 / TARGET_FPS;
    let lastRafUpdateTime = 0;
	let playerShouldBeUpdatingWhenVisible = false;

    // keep a smoothed progress value to avoid early jank
    let lastProgress = 0;
    // throttle resize
    let resizeRaf = 0;
	
	let pendingSeekTime = null;
	let coverObserver = null;
	let seekSettlingTime = 0; 
	
	let dragRaf = 0;
	let pendingIndex = null;

    let playerContainer, playlistSelectorElement, titleElement, artistElement;
    let controlsContainer, playPauseButton, prevButtonElement, nextButtonElement;
    let progressBar, currentTimeElement, durationElement;
    let volumeContainer, volumeIconElement, volumePercentageElement, volumeSlider;
    let repeatButtonElement, shuffleButtonElement;
    let queueContainerElement, queueTitleElement, queueListElement, queueToggleButton;
	
	function injectResourceHints() {
		if (document.getElementById('yt-preconnect')) return;
		
		const hints = [
			'https://www.youtube.com',
			'https://i.ytimg.com',
			'https://s.ytimg.com'
		];

		const frag = document.createDocumentFragment();
		hints.forEach(url => {
			const link = document.createElement('link');
			link.rel = 'preconnect';
			link.href = url;
			link.crossOrigin = 'anonymous';
			frag.appendChild(link);
		});
		
		// ID to prevent double injection
		const marker = document.createElement('meta');
		marker.id = 'yt-preconnect';
		frag.appendChild(marker);
		
		document.head.appendChild(frag);
	}

	injectResourceHints();

    function formatTime(totalSeconds) {
        if (isNaN(totalSeconds) || totalSeconds < 0) { return "--:--"; }
        const minutes = Math.floor(totalSeconds / 60);
        const seconds = Math.floor(totalSeconds % 60);
        return `${minutes}:${seconds < 10 ? '0' : ''}${seconds}`;
    }
    function shuffleArray(array) {
        let currentIndex = array.length, randomIndex;
        const newArray = [...array];
        while (currentIndex !== 0) {
            randomIndex = Math.floor(Math.random() * currentIndex);
            currentIndex--;
            [newArray[currentIndex], newArray[randomIndex]] = [newArray[randomIndex], newArray[currentIndex]];
        }
        return newArray;
    }

    // persistence helpers
	let cachedState = null; 

	function loadState() {
		if (cachedState) return cachedState;
		try { 
			cachedState = JSON.parse(localStorage.getItem(STORAGE_KEY) || '{}'); 
			return cachedState;
		} catch { return {}; }
	}
	function saveState(patch = {}) {
		cachedState = { ...cachedState, ...patch };
		
		try {
			localStorage.setItem(STORAGE_KEY, JSON.stringify(cachedState));
		} catch { /* no-op */ }
	}
	cachedState = loadState();
	
    function persistCurrentSong() {
        if (!playlist) return;
        const s = playlist.getCurrentSong();
        if (s) saveState({ currentVideoId: s.getVideoId() });
    }
	
	let lastUIState = {
		songId: null,
		playerState: null,
		playlistIndex: null
	};
	
	function updateSongMetadataOnly() {
		if (!playlist) return;
		const song = playlist.getCurrentSong();
		
		if (!song) {
			titleElement.textContent = "No song loaded";
			artistElement.textContent = "";
			return;
		}

		const title = song.title || "";
		const artist = song.artist || "";

		if (titleElement.textContent !== title) titleElement.textContent = title;
		if (artistElement.textContent !== artist) artistElement.textContent = artist;
	}

	function updateGlobalControls() {
		if (playerReady) updateVolumeIcon();
		updateRepeatButtonUI();
		updateShuffleButtonUI();
		if (playlistSelectorElement) playlistSelectorElement.value = activePlaylistIndex.toString();
	}

	function updateUI() {
		updateSongMetadataOnly();
		
		const state = (playerReady && ytPlayer && typeof ytPlayer.getPlayerState === 'function') 
			? ytPlayer.getPlayerState() 
			: null;

		if (state !== null) {
			if (playPauseButton) updatePlayPauseButton(state !== YT.PlayerState.PLAYING && state !== YT.PlayerState.BUFFERING);
			updateDurationDisplay();
		} else {
			if (playPauseButton) updatePlayPauseButton(true);
			if (durationElement) durationElement.textContent = "--:--";
		}

		updateGlobalControls();
		updateQueueDisplay();
	}

    function updateDurationDisplay() { 
        if (!durationElement) return;
        if (!playerReady || !ytPlayer || typeof ytPlayer.getDuration !== 'function' || !hasUserInitiatedPlayback) {
            durationElement.textContent = "--:--";
            return;
        }
        const duration = ytPlayer.getDuration();
        durationElement.textContent = formatTime(duration);
    }
	
	function scheduleDragRender(nextIndex) {
		pendingIndex = nextIndex;
		if (dragRaf) return;

		dragRaf = requestAnimationFrame(() => {
			dragRaf = 0;
			if (pendingIndex === null) return;
			
			// only update if the index has actually changed
			if (pendingIndex !== playlist.currentSongIndex) {
				playlist.setCurrentSongIndex(pendingIndex);
				updateCoverFlow(); 
				updateSongMetadataOnly();
			}
			pendingIndex = null;
		});
	}
	
	let coverFlowItemsCache = null;

    function updateCoverFlow(fractionalOffset = 0) {
		if (!poolItems.length) return;

		const songs = playlist.getSongs();
		const totalSongs = songs.length;
		const currentIndex = playlist.currentSongIndex;

		const visualCenter = currentIndex + fractionalOffset;
		const halfPool = Math.floor(POOL_SIZE / 2);
		const startRenderIndex = Math.floor(visualCenter) - halfPool;

		const SPREAD = 180;
		const ROTATION = 55;
		const SCALE_SIDE = 0.85;
		const SCALE_CENTER = 1.2;
		
		const DEPTH_OFFSET = 100; 

		for (let i = 0; i < POOL_SIZE; i++) {
			const songIndex = startRenderIndex + i;
			const poolIndex = ((songIndex % POOL_SIZE) + POOL_SIZE) % POOL_SIZE;
			const item = poolItems[poolIndex];

			if (songIndex < 0 || songIndex >= totalSongs) {
				item.style.visibility = 'hidden';
				item.style.opacity = '0';
				
				poolAllocation[poolIndex] = -1; 
				item.dataset.allocatedSongIndex = "-1";
				continue;
			}

			if (poolAllocation[poolIndex] !== songIndex) {
				item.style.backgroundImage = `url("${songs[songIndex].getCoverLink()}")`;
				
				poolAllocation[poolIndex] = songIndex;
				item.dataset.allocatedSongIndex = String(songIndex); 

				item.style.visibility = 'visible';
			}

			const realOffset = (songIndex - currentIndex) - fractionalOffset;
			const absOffset = Math.abs(realOffset);
			const sign = Math.sign(realOffset);

			const xPos = realOffset * SPREAD;
			
			const zPos = -absOffset * DEPTH_OFFSET; 

			const rotationProgress = Math.min(1, absOffset);
			const rotation = -sign * rotationProgress * ROTATION;

			const scaleProgress = Math.max(0, 1 - absOffset);
			const scale = SCALE_SIDE + (scaleProgress * (SCALE_CENTER - SCALE_SIDE));

			item.style.transform = `translateX(${xPos}px) translateZ(${zPos}px) rotateY(${rotation}deg) scale(${scale})`;

			let opacity = '1';
			if (absOffset > 3) opacity = '0';
			else if (absOffset > 2) opacity = '0.4';
			else if (absOffset > 1) opacity = '0.7';
			else if (absOffset > 0.5) opacity = '0.9';

			if (absOffset > 4.5) {
				item.style.visibility = 'hidden';
				item.style.opacity = '0';
			} else {
				item.style.visibility = 'visible';
				item.style.opacity = opacity;
			}
		}
	}
		
	function setupCoverFlowObserver() {
		if (coverObserver) return;
		
		coverObserver = new IntersectionObserver((entries) => {
			entries.forEach(entry => {
				if (entry.isIntersecting && entry.target.dataset.bgSrc) {
					entry.target.style.backgroundImage = `url("${entry.target.dataset.bgSrc}")`;
					delete entry.target.dataset.bgSrc;
					coverObserver.unobserve(entry.target);
				}
			});
		}, {
			root: document.getElementById('cover-flow-stage'),
			rootMargin: '200px'
		});
	}

	const POOL_SIZE = 15;
	let poolItems = [];
	const poolAllocation = new Array(POOL_SIZE).fill(-1);
    
	// cover renderer
	function renderCoverFlow(songs) {
		const coverFlowContainer = document.getElementById('cover-flow-container');
		if (!coverFlowContainer) return;
		
		if (coverObserver) { coverObserver.disconnect(); coverObserver = null; }
		coverFlowContainer.innerHTML = '';
		
		const frag = document.createDocumentFragment();
		poolItems = [];

		// a fixed pool of elements
		for (let i = 0; i < POOL_SIZE; i++) {
			const item = document.createElement('div'); 
			item.className = 'cover-flow-item';
			
			// we attach a tracker to know which song is currently "wearing" this div
			item.dataset.allocatedSongIndex = "-1"; 
			
			// add click handler
			item.addEventListener('click', (e) => {
				if (isDragging) return; // don't trigger on drag release
				const index = parseInt(e.currentTarget.dataset.allocatedSongIndex, 10);
				if (!isNaN(index) && index !== playlist.currentSongIndex) {
					playlist.setCurrentSongIndex(index);
					loadCurrentSong(true);
				}
			});

			frag.appendChild(item);
			poolItems.push(item);
			poolAllocation[i] = -1;
		}
		
		coverFlowContainer.appendChild(frag);
		
		updateCoverFlow(0);
	}
	function lazyLoadCoverFlowImages() {
		if (!playlist || !coverFlowItemsCache) return;
		const items = coverFlowItemsCache;
		const currentIndex = playlist.currentSongIndex;
		
		items.forEach((item, index) => {
			const isVisible = Math.abs(index - currentIndex) <= 3;
			if (isVisible && item.dataset.bgSrc) {
				item.style.backgroundImage = `url("${item.dataset.bgSrc}")`;
				delete item.dataset.bgSrc;
			}
		});
	}

    // cover preloader
    function preloadCovers(songs) {
		if (!songs || !songs.length) return;
		
		// preload current + nearby (e.g., ±5 songs)
		const preloadRange = 5;
		const currentIdx = playlist.currentSongIndex;
		const start = Math.max(0, currentIdx - preloadRange);
		const end = Math.min(songs.length, currentIdx + preloadRange + 1);
		
		const load = () => {
			for (let i = start; i < end; i++) {
				const img = new Image();
				img.decoding = 'async';
				img.src = songs[i].getCoverLink();
			}
		};
		
		if (typeof window.requestIdleCallback === 'function') {
			requestIdleCallback(load, { timeout: 1000 });
		} else {
			setTimeout(load, 0);
		}
	}
	
	function loadCurrentSong(autoplay = false, isRetry = false) {
		cachedDuration = 0;
		pendingSeekTime = null;
		seekSettlingTime = 0;
		
        const currentSong = playlist?.getCurrentSong();

        // if this is a fresh load (not a retry due to error), reset to the first videoId
        if (!isRetry && currentSong) {
            currentSong.resetVideoIndex();
        }
        stopRafUpdater();
		
		requestAnimationFrame(() => {		
        // reset progress UI + smoothing accumulator
			if (progressBar) { 
				progressBar.value = 0; 
				progressBar.style.setProperty('--progress-percent', '0%'); 
				progressBar.style.setProperty('--buffer-percent', '0%');
			}
			lastProgress = 0;

			if (currentTimeElement) currentTimeElement.textContent = "0:00";
			if (durationElement) durationElement.textContent = "--:--";
			
			updateUI();
			updateCoverFlow();
		});
		
		if (!playerReady || !ytPlayer?.loadVideoById) {
			if (playPauseButton) updatePlayPauseButton(true); 
			return;
		}
		if (!currentSong) {
			if (ytPlayer?.stopVideo) ytPlayer.stopVideo();
			if (playPauseButton) updatePlayPauseButton(true); 
			return;
		}

        // get the active video ID
        const videoIdToLoad = currentSong.getVideoId();
        if (!videoIdToLoad) {
             console.error(`No video ID found for "${currentSong.getTitle()}".`);
             return;
        }

        // cue when not autoplaying, load when autoplaying
		const cfg = { videoId: videoIdToLoad, startSeconds: 0, suggestedQuality: 'small' };
		if (autoplay) ytPlayer.loadVideoById(cfg);
		else ytPlayer.cueVideoById(cfg);

		window._musicPlayerAutoplayIntent = autoplay;
		persistCurrentSong();
		
		updateFavoriteButtonUI();
    }

    function loadNewPlaylistByIndex(newPlaylistIndex) {
        if (newPlaylistIndex < 0 || newPlaylistIndex >= PLAYLISTS_DATA.length) return;
        activePlaylistIndex = newPlaylistIndex;
        saveState({ activePlaylistIndex });
        const selectedPlaylistData = PLAYLISTS_DATA[activePlaylistIndex];
        stopRafUpdater();
		const newSongs = selectedPlaylistData.songs.map(d => new Song(d.title, d.artist, d.coverLink, d.videoIds || d.videoId));
        originalSongOrderForCurrentPlaylist = [...newSongs];
        playlist.setSongs(isShuffleActive ? shuffleArray(newSongs) : newSongs);
        playlist.setCurrentSongIndex(0);
			
		// update queue title with playlist name
		if (queueTitleElement) queueTitleElement.innerHTML = `Up Next — ${selectedPlaylistData.name}`;

		// force queue rebuild
		lastQueuePlaylistId = null;
		updateQueueDisplay();
		
		if (coverObserver) {
			coverObserver.disconnect();
			coverObserver = null;
		}

		// render cover flow
		renderCoverFlow(playlist.getSongs());

        preloadCovers(playlist.getSongs());

        const wasPlaying = playerReady && ytPlayer && typeof ytPlayer.getPlayerState === 'function' && ytPlayer.getPlayerState() === YT.PlayerState.PLAYING;
		loadCurrentSong(wasPlaying);
    }

    function togglePlayPause() {
        if (!playerReady || !ytPlayer?.getPlayerState) return;
        if (!hasUserInitiatedPlayback) {
            if (playlist.isEmpty()) return;
            hasUserInitiatedPlayback = true;
            loadCurrentSong(true);
        } else {
            const state = ytPlayer.getPlayerState();
            if (state === YT.PlayerState.PLAYING) ytPlayer.pauseVideo();
            else ytPlayer.playVideo();
        }
    }

	function updatePlayPauseButton(isPaused) { 
		if (!playPauseButton) return;
		
		if (!playPauseButton._imgCache) {
			playPauseButton._imgCache = playPauseButton.querySelector('img');
		}
		const img = playPauseButton._imgCache;
		
		const label = isPaused ? "Play" : "Pause";
		const newSrc = isPaused ? ICON_PLAY : ICON_PAUSE;
		
		if (img && img.src !== newSrc) {
			img.src = newSrc;
			img.alt = "";
		}
		if (playPauseButton.getAttribute('aria-label') !== label) {
			playPauseButton.setAttribute('aria-label', label);
			playPauseButton.title = label;
		}
	}

	let cachedDuration = 0;
	let lastRenderedPercent = null;
	let lastRenderedBuffer = null;
	let lastRenderedSecond = null;
	let lastBufferCheckTime = 0;
	
    function rafUpdateProgress(timestamp) { 
		if (!isUpdaterRunning) return;
		
		if (!playerReady || !ytPlayer?.getCurrentTime || !hasUserInitiatedPlayback) {
			stopRafUpdater(); 
			return;
		}
		if (isSeeking) { 
			rafId = requestAnimationFrame(rafUpdateProgress); 
			return; 
		}

		// FPS throttling
		const elapsed = timestamp - lastRafUpdateTime;
		if (elapsed < FRAME_INTERVAL) {
			rafId = requestAnimationFrame(rafUpdateProgress);
			return;
		}
		lastRafUpdateTime = timestamp - (elapsed % FRAME_INTERVAL);
		
		let currentTime = ytPlayer.getCurrentTime();
		
		// handle pending seek
		if (pendingSeekTime !== null) {
			const timeDiff = Math.abs(currentTime - pendingSeekTime);
			if (timeDiff < 0.5) {
				pendingSeekTime = null;
				seekSettlingTime = 0;
			} else if (seekSettlingTime < 500) {
				currentTime = pendingSeekTime;
				seekSettlingTime += elapsed;
			} else {
				pendingSeekTime = null;
				seekSettlingTime = 0;
			}
		}
		
		// cache duration
		if (!cachedDuration || cachedDuration === 0) {
			cachedDuration = ytPlayer.getDuration();
		}
		const duration = cachedDuration;
		
		if (duration && isFinite(duration) && duration > 0) {
			const targetProgress = (currentTime / duration) * 100;
			
			// smoothing logic
			if (pendingSeekTime !== null) {
				lastProgress = targetProgress;
			} else {
				const smoothingFactor = 0.3;
				lastProgress += (targetProgress - lastProgress) * smoothingFactor;
				if (Math.abs(targetProgress - lastProgress) < 0.01) {
					lastProgress = targetProgress;
				}
			}

			// progress bar update
			const p = Math.max(0, Math.min(100, lastProgress));
			const roundedProgress = Math.round(p * 10) / 10;
			
			if (lastRenderedPercent !== roundedProgress) {
				if (progressBar) {
					const preciseValue = p.toFixed(2);
					progressBar.value = preciseValue;
					progressBar.style.setProperty('--progress-percent', `${roundedProgress}%`);
					const isProgressFocused = document.activeElement === progressBar;
					if (isProgressFocused) progressBar.setAttribute('aria-valuenow', preciseValue);
				}
				lastRenderedPercent = roundedProgress;
			}
			
			// buffer update
			if (timestamp - lastBufferCheckTime > 1000) {
				const loaded = ytPlayer.getVideoLoadedFraction?.() || 0;
				const bufferPercent = Math.max(0, Math.min(100, loaded * 100)).toFixed(1);
				
				if (lastRenderedBuffer !== bufferPercent) {
					if (progressBar) {
						progressBar.style.setProperty('--buffer-percent', `${bufferPercent}%`);
					}
					lastRenderedBuffer = bufferPercent;
				}
				lastBufferCheckTime = timestamp;
			}
			
			// text update
			const currentSecond = Math.floor(currentTime);
			if (lastRenderedSecond !== currentSecond) {
				if (currentTimeElement) {
					currentTimeElement.textContent = formatTime(currentTime);
				}
				lastRenderedSecond = currentSecond;
			}
		}
		
		if (isUpdaterRunning) {
			rafId = requestAnimationFrame(rafUpdateProgress);
		}
	}

    function startRafUpdater() { 
        if (isUpdaterRunning) return;
        if (!playerReady || !ytPlayer || typeof ytPlayer.getPlayerState !== 'function' || ytPlayer.getPlayerState() !== YT.PlayerState.PLAYING || !hasUserInitiatedPlayback) {
            return;
        }
        if (document.visibilityState === 'hidden') {
            playerShouldBeUpdatingWhenVisible = true; return;
        }
        isUpdaterRunning = true; lastRafUpdateTime = 0;
        if (rafId) cancelAnimationFrame(rafId);
        rafId = requestAnimationFrame(rafUpdateProgress);
    }
    function stopRafUpdater() { 
        if (!isUpdaterRunning && !rafId) return;
        isUpdaterRunning = false;
        if (rafId) { cancelAnimationFrame(rafId); rafId = null; }
    }
	function handleVisibilityChange() { 
        if (!playerReady || !ytPlayer || typeof ytPlayer.getPlayerState !== 'function' || !hasUserInitiatedPlayback) return;
        if (document.visibilityState === 'hidden') {
            if (isUpdaterRunning) { stopRafUpdater(); playerShouldBeUpdatingWhenVisible = true; }
            else if (ytPlayer.getPlayerState() === YT.PlayerState.PLAYING) { playerShouldBeUpdatingWhenVisible = true; }
        } else if (document.visibilityState === 'visible') {
            if (playerShouldBeUpdatingWhenVisible) {
                playerShouldBeUpdatingWhenVisible = false;
                if (ytPlayer.getPlayerState() === YT.PlayerState.PLAYING) startRafUpdater();
            } else if (!isUpdaterRunning && ytPlayer.getPlayerState() === YT.PlayerState.PLAYING) {
                startRafUpdater();
            }
        }
    }

    function onPlayerReady(event) {
        console.log("YouTube player ready!");
        playerReady = true;

        // apply restored volume/mute
        setVolumeFromSlider(false);
        if (applyMuteOnReady && typeof ytPlayer.mute === 'function') ytPlayer.mute();

        // don't load song - just update UI to show first song's metadata
        updateUI();
		updateVolumeIcon();
		
		if (hasUserInitiatedPlayback && playlist && !playlist.isEmpty()) {
            console.log("Attempting to autoplay first song...");
            loadCurrentSong(true);
        }

        if (document.visibilityState === 'visible' && ytPlayer.getPlayerState() === YT.PlayerState.PLAYING && hasUserInitiatedPlayback) {
            startRafUpdater();
        } else if (document.visibilityState === 'hidden' && ytPlayer.getPlayerState() === YT.PlayerState.PLAYING && hasUserInitiatedPlayback) {
            playerShouldBeUpdatingWhenVisible = true;
        }
    }

    function onPlayerStateChange(event) {
        const state = event.data;
        const stateName = Object.keys(YT.PlayerState).find(key => YT.PlayerState[key] === state) || 'UNKNOWN';
        //console.log(`Player state changed: ${state} (${stateName})`);

        // ensure hasUserInitiatedPlayback is true if we get any meaningful state change after initial load
        if (state !== YT.PlayerState.UNSTARTED && state !== -1) {
             // if a video is cued or playing, it implies some form of initiation or readiness
        }

        updateDurationDisplay();

        switch (state) {
            case YT.PlayerState.PLAYING:
                if (playPauseButton) updatePlayPauseButton(false);
                startRafUpdater();
                updateUI();
                break;
            case YT.PlayerState.PAUSED:
                if (playPauseButton) updatePlayPauseButton(true);
                stopRafUpdater();
                break;
            case YT.PlayerState.ENDED:
                stopRafUpdater();
                if (playPauseButton) updatePlayPauseButton(true);
                if (progressBar) { progressBar.value = 100; progressBar.style.setProperty('--progress-percent', '100%'); }
                if (currentTimeElement && ytPlayer && typeof ytPlayer.getDuration === 'function') {
                    currentTimeElement.textContent = formatTime(ytPlayer.getDuration());
                }

                if (!hasUserInitiatedPlayback) { // should not happen.
                    updateUI(); // just update UI, don't proceed to next song
                    return;
                }

                if (repeatMode === 'one') {
                    ytPlayer.seekTo(0, true);
                    ytPlayer.playVideo();
                } else {
                    const previousSongIndex = playlist.currentSongIndex;
                    playlist.playNext();
                    
                    const isLastSongAndNotRepeatingAll = playlist.currentSongIndex === 0 && 
                                                        previousSongIndex === playlist.getSongs().length -1 && 
                                                        repeatMode !== 'all';
                    
                    let shouldAutoplay;
                    if (isLastSongAndNotRepeatingAll) {
                        shouldAutoplay = false;
                    } else {
                        shouldAutoplay = true;
                    }
                    loadCurrentSong(shouldAutoplay);
                }
                break;
            case YT.PlayerState.BUFFERING:
                if (playPauseButton) updatePlayPauseButton(false);
                break;
            case YT.PlayerState.CUED:
                if (playPauseButton) updatePlayPauseButton(true);
                stopRafUpdater();
                if (progressBar) { progressBar.value = 0; progressBar.style.setProperty('--progress-percent', '0%'); }
                if (currentTimeElement) currentTimeElement.textContent = "0:00";
                updateUI(); 
                updateDurationDisplay(); 

                if (window._musicPlayerAutoplayIntent === true) {
                    ytPlayer.playVideo();
                }
                break;
            case YT.PlayerState.UNSTARTED:
                if (playPauseButton) updatePlayPauseButton(true);
                stopRafUpdater();
                if (currentTimeElement) currentTimeElement.textContent = "0:00";
                if (durationElement) durationElement.textContent = "--:--";
                updateUI();
                break;
            default: break;
        }
    }
	
	function onPlayerError(event) { 
        const recoverableErrorCodes = [2, 5, 100, 101, 150];
        const errorCodes = { 2: 'Invalid parameter.', 5: 'HTML5 error.', 100: 'Not found/private.', 101: 'Embedding disallowed.', 150: 'Embedding disallowed.' };
        const errorMsg = errorCodes[event.data] || `Unknown error (${event.data})`;
        console.error(`YouTube Player error: ${errorMsg}`);

        const currentSong = playlist?.getCurrentSong();

        // if the error is recoverable (e.g., video blocked), try the next available video ID
        if (currentSong && recoverableErrorCodes.includes(event.data)) {
            console.log(`Video failed for "${currentSong.getTitle()}". Checking for alternatives...`);
            // attempt to switch to the next videoId in the array
            if (currentSong.tryNextVideo()) {
                console.log(`Found an alternative. Attempting to play video ID: ${currentSong.getVideoId()}`);
                // reload the song with the next video ID. isRetry=true prevents resetting the video index back to 0
                loadCurrentSong(window._musicPlayerAutoplayIntent, true);
                return; // stop further error processing (skipping) for this event
            } else {
                console.warn(`No more alternative videos for "${currentSong.getTitle()}".`);
            }
        }

        // skip to next song
        updatePlayPauseButton(true); stopRafUpdater();
        if (titleElement) titleElement.textContent = "Error";
        if (artistElement) artistElement.textContent = "Could not load video.";

        // auto-skip problematic video after brief delay
        setTimeout(() => {
            if (!playlist || playlist.isEmpty()) return;
            const wasPlaying = true;
            playlist.playNext();
            loadCurrentSong(wasPlaying);
        }, 1000);
    }
	
    function setVolumeFromSlider(shouldUnmute = true) {
		if (!volumeSlider || !volumePercentageElement) return;
		const volumeValue = parseFloat(volumeSlider.value);
		const newVolumePercent = Math.round(volumeValue * 100);

		if (playerReady && ytPlayer && typeof ytPlayer.setVolume === 'function') {
			ytPlayer.setVolume(newVolumePercent);
			// if user drags slider up from 0, it should unmute the player.
			if (shouldUnmute && newVolumePercent > 0 && typeof ytPlayer.isMuted === 'function' && ytPlayer.isMuted()) {
				ytPlayer.unMute();
			}
			// if user drags to 0, it should mute the player.
			if (newVolumePercent === 0 && typeof ytPlayer.mute === 'function' && !ytPlayer.isMuted()) {
				ytPlayer.mute();
			}
		}
		
		volumePercentageElement.textContent = `${newVolumePercent}%`;
        if (volumeSlider) volumeSlider.setAttribute('aria-valuenow', String(newVolumePercent));
		updateVolumeIcon();
	}
	function toggleMute() {
		if (!playerReady || !ytPlayer || !volumeSlider || !volumeIconElement) return;

		const isCurrentlyMuted = ytPlayer.isMuted();

		if (isCurrentlyMuted) {
			ytPlayer.unMute();

			const restoreVolume = (volumeBeforeMute > 0) ? volumeBeforeMute : 0.5;

			ytPlayer.setVolume(restoreVolume * 100);

			volumeSlider.value = restoreVolume;
			if (volumePercentageElement) {
				volumePercentageElement.textContent = `${Math.round(restoreVolume * 100)}%`;
			}

			volumeIconElement.src = ICON_VOLUME;
			volumeIconElement.alt = "Mute";
			volumeIconElement.title = "Mute";

		} else {
			const currentSliderValue = parseFloat(volumeSlider.value);
			if (currentSliderValue > 0) {
				volumeBeforeMute = currentSliderValue;
			}
			
			ytPlayer.mute();

			volumeSlider.value = 0;
			if (volumePercentageElement) {
				volumePercentageElement.textContent = `0%`;
			}
			
			volumeIconElement.src = ICON_MUTED;
			volumeIconElement.alt = "Unmute";
			volumeIconElement.title = "Unmute";
		}

        // persist
        saveState({
            volume: parseFloat(volumeSlider.value),
            muted: ytPlayer ? ytPlayer.isMuted() : (parseFloat(volumeSlider.value) === 0)
        });
	}
    function updateVolumeIcon() {
		if (!volumeIconElement || !volumeSlider) return;

		const sliderValue = parseFloat(volumeSlider.value);
		const isMutedBySlider = sliderValue === 0;

		let isMutedByPlayer = false;
		if (playerReady && ytPlayer && typeof ytPlayer.isMuted === 'function') {
			isMutedByPlayer = ytPlayer.isMuted();
		}
		
		const isEffectivelyMuted = isMutedBySlider || isMutedByPlayer;

		volumeIconElement.src = isEffectivelyMuted ? ICON_MUTED : ICON_VOLUME;
		volumeIconElement.alt = isEffectivelyMuted ? "Unmute" : "Mute";
		volumeIconElement.title = isEffectivelyMuted ? "Unmute" : "Mute";
	}
    function toggleRepeatMode() { 
        const modes = ['none', 'all', 'one'];
        repeatMode = modes[(modes.indexOf(repeatMode) + 1) % modes.length];
        debouncedSaveState({ repeatMode });
        updateRepeatButtonUI();
    }
    function updateRepeatButtonUI() { 
        if (!repeatButtonElement) return;
        const img = repeatButtonElement.querySelector('img');
        let iconSrc = ICON_REPEAT_NONE; let label = "Repeat Off";
        repeatButtonElement.classList.remove('repeat-active', 'repeat-one');
        if (repeatMode === 'all') { iconSrc = ICON_REPEAT_ALL; label = "Repeat All"; repeatButtonElement.classList.add('repeat-active'); }
        else if (repeatMode === 'one') { iconSrc = ICON_REPEAT_ONE; label = "Repeat One"; repeatButtonElement.classList.add('repeat-active', 'repeat-one'); }
        if (img) { img.src = iconSrc; img.alt = ""; }
        repeatButtonElement.setAttribute('aria-label', label); repeatButtonElement.title = label;
    }
	function toggleShuffleMode() { 
		if (!playlist || playlist.isEmpty()) return;

		isShuffleActive = !isShuffleActive;
        saveState({ shuffle: isShuffleActive });

		const currentSongBeforeToggle = playlist.getCurrentSong();

		if (isShuffleActive) {
			const shuffledSongs = shuffleArray(originalSongOrderForCurrentPlaylist);
			playlist.setSongs(shuffledSongs);
		} else {
			playlist.setSongs([...originalSongOrderForCurrentPlaylist]);
		}

		if (currentSongBeforeToggle) {
			const newIndex = playlist.getSongs().findIndex(song => song.containsVideoId(currentSongBeforeToggle.getVideoId()));
			playlist.setCurrentSongIndex(newIndex !== -1 ? newIndex : 0);
		} else {
			playlist.setCurrentSongIndex(0);
		}
		
		lastQueuePlaylistId = null;

		// render using fragment
        renderCoverFlow(playlist.getSongs());

        preloadCovers(playlist.getSongs());

        updateShuffleButtonUI();
        updateQueueDisplay();
        updateCoverFlow();
        updateUI();

        persistCurrentSong();
	}
	let lastQueuePlaylistId = null;
	let lastActiveQueueIndex = -1;
	
	const queueItemTemplate = document.createElement("li");
	queueItemTemplate.className = PLAYER_QUEUE_ITEM_CLASS;
	queueItemTemplate.setAttribute('role', 'option');
	queueItemTemplate.innerHTML = `
		<span class="player-queue-item-title"></span> 
		<span class="player-queue-item-artist"></span>
	`;
	
	let queueItemCache = [];
	
	let dragSrcEl = null;

    function handleDragStart(e) {
        dragSrcEl = this;
        e.dataTransfer.effectAllowed = 'move';
        this.classList.add('dragging');
    }

    function handleDragOver(e) {
        if (e.preventDefault) e.preventDefault();
        return false;
    }

    function handleDrop(e) {
        if (e.stopPropagation) e.stopPropagation();
        
        if (dragSrcEl !== this) {
            const fromIndex = parseInt(dragSrcEl.dataset.index);
            const toIndex = parseInt(this.dataset.index);
            
            const movedItem = userFavorites.splice(fromIndex, 1)[0];
            userFavorites.splice(toIndex, 0, movedItem);
            
            saveFavorites();
            
            if (PLAYLISTS_DATA[activePlaylistIndex].isFavorites) {
                playlist.setSongs([...userFavorites]);
                if (fromIndex === playlist.currentSongIndex) {
                    playlist.currentSongIndex = toIndex;
                } else {
                    const currentSong = originalSongOrderForCurrentPlaylist[playlist.currentSongIndex];
                    const newIdx = userFavorites.indexOf(currentSong);
                    if (newIdx !== -1) playlist.currentSongIndex = newIdx;
                }
            }
            
            lastQueuePlaylistId = null;
            updateQueueDisplay();
        }
        return false;
    }

    function handleDragEnd() {
        this.classList.remove('dragging');
    }

    function updateQueueDisplay() {
        if (!queueListElement || !playlist) return;
        
        if (playlist.isEmpty()) {
            queueListElement.innerHTML = `<li class="${PLAYER_QUEUE_ITEM_CLASS} player-queue-empty">Queue is empty</li>`;
            lastQueuePlaylistId = null;
            lastActiveQueueIndex = -1;
            return;
        }
        
        const songs = playlist.getSongs();
        const currentIndex = playlist.currentSongIndex;
		
		// use a randomized ID
        const playlistId = playlist.id; 
        const playlistChanged = lastQueuePlaylistId !== playlistId;
        
		// if playlist hasn't changed, just swap the class on the specific elements
        if (!playlistChanged) {
            if (lastActiveQueueIndex !== currentIndex) {
                if (lastActiveQueueIndex !== -1 && queueItemCache[lastActiveQueueIndex]) {
                    queueItemCache[lastActiveQueueIndex].classList.remove('current');
                }
                if (queueItemCache[currentIndex]) {
                    queueItemCache[currentIndex].classList.add('current');
                }
                lastActiveQueueIndex = currentIndex;
            }
            return;
        }
        
        lastQueuePlaylistId = playlistId;
        lastActiveQueueIndex = currentIndex;
        
        queueListElement.innerHTML = '';
        queueItemCache = [];
        const frag = document.createDocumentFragment();
        
        const isFavPlaylist = PLAYLISTS_DATA[activePlaylistIndex] && PLAYLISTS_DATA[activePlaylistIndex].isFavorites;

        songs.forEach((song, index) => {
            const li = queueItemTemplate.cloneNode(true);
            li.title = `${song.getTitle()} — ${song.getArtist()}`;
            li.dataset.index = String(index);
            
            li.querySelector('.player-queue-item-title').textContent = song.getTitle();
            li.querySelector('.player-queue-item-artist').textContent = ` - ${song.getArtist()}`;
            
            if (index === currentIndex) li.classList.add('current');
            
            if (isFavPlaylist) {
                li.draggable = true;
                li.addEventListener('dragstart', handleDragStart);
                li.addEventListener('dragover', handleDragOver);
                li.addEventListener('drop', handleDrop);
                li.addEventListener('dragend', handleDragEnd);
            }
            
            frag.appendChild(li);
            queueItemCache.push(li);
        });
        
        queueListElement.appendChild(frag);
    }

	function updateQueueDisplay() {
		if (!queueListElement || !playlist) return;
		
		if (playlist.isEmpty()) {
			queueListElement.innerHTML = `<li class="${PLAYER_QUEUE_ITEM_CLASS} player-queue-empty">Queue is empty</li>`;
			lastQueuePlaylistId = null;
			lastActiveQueueIndex = -1;
			return;
		}
		
		const songs = playlist.getSongs();
		const currentIndex = playlist.currentSongIndex;
		const playlistId = playlist.id; 
		const playlistChanged = lastQueuePlaylistId !== playlistId;
		
		if (!playlistChanged) {
			if (lastActiveQueueIndex !== currentIndex) {
				if (lastActiveQueueIndex !== -1 && queueItemCache[lastActiveQueueIndex]) {
					queueItemCache[lastActiveQueueIndex].classList.remove('current');
				}
				if (queueItemCache[currentIndex]) {
					queueItemCache[currentIndex].classList.add('current');
				}
				lastActiveQueueIndex = currentIndex;
			}
			return;
		}
		
		lastQueuePlaylistId = playlistId;
		lastActiveQueueIndex = currentIndex;
		
		queueListElement.innerHTML = '';
		queueItemCache = [];
		const frag = document.createDocumentFragment();
		
		const isFavPlaylist = PLAYLISTS_DATA[activePlaylistIndex] && PLAYLISTS_DATA[activePlaylistIndex].isFavorites;

		songs.forEach((song, index) => {
			const li = queueItemTemplate.cloneNode(true);
			
			li.title = `${song.getTitle()} — ${song.getArtist()}`;
			li.dataset.index = String(index);
			
			li.querySelector('.player-queue-item-title').textContent = song.getTitle();
			li.querySelector('.player-queue-item-artist').textContent = ` - ${song.getArtist()}`;
			
			if (index === currentIndex) li.classList.add('current');
			
			if (isFavPlaylist) {
				li.draggable = true;
				li.addEventListener('dragstart', handleDragStart);
				li.addEventListener('dragover', handleDragOver);
				li.addEventListener('drop', handleDrop);
				li.addEventListener('dragend', handleDragEnd);
			}
			
			frag.appendChild(li);
			queueItemCache.push(li);
		});
		
		queueListElement.appendChild(frag);
	}
	
	function updateShuffleButtonUI() { 
        if (!shuffleButtonElement) return;
        const img = shuffleButtonElement.querySelector('img');
        let iconSrc = isShuffleActive ? ICON_SHUFFLE_ON : ICON_SHUFFLE_OFF;
        let label = isShuffleActive ? "Shuffle On" : "Shuffle Off";
        shuffleButtonElement.classList.toggle('shuffle-active', isShuffleActive);
        if (img) { img.src = iconSrc; img.alt = ""; }
        shuffleButtonElement.setAttribute('aria-label', label); shuffleButtonElement.title = label;
    }

    function createPlayerElements() {
        const fragment = document.createDocumentFragment();
        playerContainer = document.createElement("div"); playerContainer.id = PLAYER_ELEMENT_ID; playerContainer.tabIndex = 0; fragment.appendChild(playerContainer);
        const coverFlowStage = document.createElement('div'); coverFlowStage.id = 'cover-flow-stage';
        const coverFlowContainer = document.createElement('div'); coverFlowContainer.id = 'cover-flow-container';
        coverFlowStage.appendChild(coverFlowContainer); playerContainer.appendChild(coverFlowStage);
        queueContainerElement = document.createElement("div"); queueContainerElement.id = QUEUE_CONTAINER_ID; queueContainerElement.classList.add('hidden');
        queueTitleElement = document.createElement("h4"); queueTitleElement.id = QUEUE_TITLE_ID; queueTitleElement.innerHTML = `Up Next`; queueContainerElement.appendChild(queueTitleElement);
        queueListElement = document.createElement("ul"); queueListElement.id = QUEUE_LIST_ID; queueListElement.setAttribute('role', 'listbox'); queueContainerElement.appendChild(queueListElement); playerContainer.appendChild(queueContainerElement);
        const controlsWrapper = document.createElement("div"); controlsWrapper.id = "player-controls-wrapper";
        const songInfoContainer = document.createElement("div"); songInfoContainer.id = "cover-flow-song-info";
        // live region for SRs
        songInfoContainer.setAttribute('role', 'status'); songInfoContainer.setAttribute('aria-live', 'polite');
        titleElement = document.createElement("h3"); titleElement.id = TITLE_ID; songInfoContainer.appendChild(titleElement);
        artistElement = document.createElement("p"); artistElement.id = ARTIST_ID; songInfoContainer.appendChild(artistElement); controlsWrapper.appendChild(songInfoContainer);
        controlsContainer = document.createElement("div"); controlsContainer.id = CONTROLS_CONTAINER_ID;
        const progressBarContainer = document.createElement("div"); progressBarContainer.id = PROGRESS_BAR_CONTAINER_ID;
        currentTimeElement = document.createElement("span"); currentTimeElement.id = CURRENT_TIME_ID; progressBarContainer.appendChild(currentTimeElement);
        progressBar = document.createElement("input"); progressBar.type = "range"; progressBar.id = PROGRESS_BAR_ID;
        // fine-grained slider to prevent 1% snapping at the start
        progressBar.min = 0; progressBar.max = 100; progressBar.step = 0.01;
        // a11y label + initial aria values
        progressBar.setAttribute('aria-label', 'Seek');
        progressBar.setAttribute('aria-valuemin', '0');
        progressBar.setAttribute('aria-valuemax', '100');
        progressBar.setAttribute('aria-valuenow', '0');
        progressBarContainer.appendChild(progressBar);
        durationElement = document.createElement("span"); durationElement.id = DURATION_ID; progressBarContainer.appendChild(durationElement);
        controlsContainer.appendChild(progressBarContainer);
        const bottomControls = document.createElement('div'); bottomControls.id = 'player-bottom-controls';
        volumeContainer = document.createElement("div"); volumeContainer.id = VOLUME_CONTAINER_ID;
        volumeIconElement = document.createElement("img"); volumeIconElement.id = VOLUME_ICON_ID; volumeIconElement.src = ICON_VOLUME; volumeContainer.appendChild(volumeIconElement);
        volumeSlider = document.createElement("input"); volumeSlider.type = "range"; volumeSlider.id = VOLUME_SLIDER_ID; volumeSlider.min = 0; volumeSlider.max = 1; volumeSlider.step = 0.01; volumeSlider.value = 0.5; volumeContainer.appendChild(volumeSlider);
        volumePercentageElement = document.createElement("span"); volumePercentageElement.id = VOLUME_PERCENTAGE_ID; volumePercentageElement.textContent = "50%"; volumeContainer.appendChild(volumePercentageElement); // visible immediately
        shuffleButtonElement = document.createElement("button"); shuffleButtonElement.id = SHUFFLE_BUTTON_ID; shuffleButtonElement.classList.add(PLAYER_CONTROL_BUTTON_CLASS, 'extra-control');
        const shuffleIcon = document.createElement("img"); shuffleIcon.src = ICON_SHUFFLE_OFF; shuffleButtonElement.appendChild(shuffleIcon); volumeContainer.appendChild(shuffleButtonElement);
        repeatButtonElement = document.createElement("button"); repeatButtonElement.id = REPEAT_BUTTON_ID; repeatButtonElement.classList.add(PLAYER_CONTROL_BUTTON_CLASS, 'extra-control');
        const repeatIcon = document.createElement("img"); repeatIcon.src = ICON_REPEAT_NONE; repeatButtonElement.appendChild(repeatIcon); volumeContainer.appendChild(repeatButtonElement);
        bottomControls.appendChild(volumeContainer);
        const mainControlsCenter = document.createElement('div'); mainControlsCenter.id = 'player-main-controls-center';
		prevButtonElement = document.createElement("button"); prevButtonElement.id = PREV_BUTTON_ID; prevButtonElement.classList.add(PLAYER_CONTROL_BUTTON_CLASS);
        const prevIcon = document.createElement("img"); prevIcon.src = ICON_PREV; prevButtonElement.appendChild(prevIcon); mainControlsCenter.appendChild(prevButtonElement);
        playPauseButton = document.createElement("button"); playPauseButton.id = PLAY_PAUSE_BUTTON_ID; playPauseButton.classList.add(PLAYER_CONTROL_BUTTON_CLASS);
        const playPauseIcon = document.createElement("img"); playPauseIcon.src = ICON_PLAY; playPauseButton.appendChild(playPauseIcon); mainControlsCenter.appendChild(playPauseButton);
        nextButtonElement = document.createElement("button"); nextButtonElement.id = NEXT_BUTTON_ID; nextButtonElement.classList.add(PLAYER_CONTROL_BUTTON_CLASS);
        const nextIcon = document.createElement("img"); nextIcon.src = ICON_NEXT; nextButtonElement.appendChild(nextIcon); mainControlsCenter.appendChild(nextButtonElement); bottomControls.appendChild(mainControlsCenter);
        
        const extraControlsRight = document.createElement('div'); extraControlsRight.id = 'player-extra-controls-right';
        
		const favoriteButton = document.createElement("button");
		favoriteButton.id = FAVORITE_BUTTON_ID;
		favoriteButton.classList.add(PLAYER_CONTROL_BUTTON_CLASS, 'extra-control');
		favoriteButton.innerHTML = `<img src="${ICON_HEART_EMPTY}" alt="Favorite">`;
        extraControlsRight.appendChild(favoriteButton);

        playlistSelectorElement = document.createElement("select"); playlistSelectorElement.id = PLAYLIST_SELECTOR_ID; extraControlsRight.appendChild(playlistSelectorElement);
        queueToggleButton = document.createElement('button'); queueToggleButton.id = QUEUE_TOGGLE_ICON_ID; queueToggleButton.classList.add(PLAYER_CONTROL_BUTTON_CLASS, 'extra-control'); queueToggleButton.innerHTML = '<span>≡</span>'; queueToggleButton.title = "Show/Hide Queue"; extraControlsRight.appendChild(queueToggleButton);
        bottomControls.appendChild(extraControlsRight);
        
        controlsContainer.appendChild(bottomControls);
        controlsWrapper.appendChild(controlsContainer);
        playerContainer.appendChild(controlsWrapper);
        const youtubePlayerDiv = document.createElement("div"); youtubePlayerDiv.id = YOUTUBE_PLAYER_DIV_ID; fragment.appendChild(youtubePlayerDiv);
        return fragment;
    }
	
	let userFavorites = [];

	function loadFavorites() {
		const state = loadState();
		if (state.favorites) {
			userFavorites = state.favorites.map(s => new Song(s.title, s.artist, s.coverLink, s.videoIds));
		}
	}

	function saveFavorites() {
		saveState({ favorites: userFavorites });
		updateFavoritesPlaylistEntry();
	}

	function updateFavoritesPlaylistEntry() {
		let favIndex = PLAYLISTS_DATA.findIndex(p => p.isFavorites);
		if (favIndex === -1) {
			PLAYLISTS_DATA.push({ name: "My favorites", songs: userFavorites, isFavorites: true });
		} else {
			PLAYLISTS_DATA[favIndex].songs = userFavorites;
		}
	}

	function toggleFavorite() {
		const currentSong = playlist.getCurrentSong();
		if (!currentSong) return;

		const index = userFavorites.findIndex(s => s.getTitle() === currentSong.getTitle());
		
		if (index === -1) {
			userFavorites.push(currentSong);
		} else {
			userFavorites.splice(index, 1);
		}

		saveFavorites();
		updateFavoriteButtonUI();
		
		// of we are currently viewing the Favorites playlist, we need to refresh the queue
		if (PLAYLISTS_DATA[activePlaylistIndex].isFavorites) {
			lastQueuePlaylistId = null; 
			updateQueueDisplay();
		}
	}
	
	function updateFavoriteButtonUI() {
		const btn = document.getElementById(FAVORITE_BUTTON_ID);
		if (!btn) return;
		const currentSong = playlist.getCurrentSong();
		const isLiked = currentSong && userFavorites.some(s => s.getTitle() === currentSong.getTitle());
		
		btn.querySelector('img').src = isLiked ? ICON_HEART_FULL : ICON_HEART_EMPTY;
		btn.title = isLiked ? "Remove from favorites" : "Add to favorites";
	}
	
	// debounce function
	function debounce(func, wait) {
		let timeout;
		return function executedFunction(...args) {
			clearTimeout(timeout);
			timeout = setTimeout(() => func(...args), wait);
		};
	}
	const debouncedSaveState = debounce((patch) => {
		saveState(patch);
	}, 500);

    function bindUIEventListeners() {
        if (!playPauseButton || !nextButtonElement || !prevButtonElement || !repeatButtonElement || !shuffleButtonElement || !progressBar || !volumeIconElement || !volumeSlider || !playlistSelectorElement || !queueToggleButton) {
             console.error("Failed to bind listeners: A core UI element is missing."); return;
        }
        playPauseButton.addEventListener("click", togglePlayPause);
        nextButtonElement.addEventListener("click", () => {
			if (!hasUserInitiatedPlayback) {
				if (playlist.isEmpty()) return;
				hasUserInitiatedPlayback = true;
				playlist?.playNext();
				loadCurrentSong(true);
			} else {
				const wasPlaying = playerReady && ytPlayer?.getPlayerState() === YT.PlayerState.PLAYING;
				playlist?.playNext();
				loadCurrentSong(wasPlaying);
			}
		});
        prevButtonElement.addEventListener("click", () => {
			if (!hasUserInitiatedPlayback) {
				 if (playlist.isEmpty()) return;
				hasUserInitiatedPlayback = true;
				playlist?.playPrevious();
				loadCurrentSong(true);
			} else {
				const wasPlaying = playerReady && ytPlayer?.getPlayerState() === YT.PlayerState.PLAYING;
				playlist?.playPrevious();
				loadCurrentSong(wasPlaying);
			}
		});
        repeatButtonElement.addEventListener("click", toggleRepeatMode);
        shuffleButtonElement.addEventListener("click", toggleShuffleMode);
        volumeIconElement.addEventListener("click", toggleMute);

        // persist queue visibility
        queueToggleButton.addEventListener('click', () => {
            queueContainerElement.classList.toggle('hidden');
            saveState({ queueVisible: !queueContainerElement.classList.contains('hidden') });
        });

        // delegate queue item clicks
        queueListElement.addEventListener('click', (e) => {
            const li = e.target && e.target.closest ? e.target.closest('li') : null;
            if (!li || !queueListElement.contains(li)) return;
            const index = Number(li.dataset.index);
            if (!Number.isInteger(index)) return;
            playlist.setCurrentSongIndex(index);
            loadCurrentSong(true);
        });

        // coverFlowStage event handlers
        let isDragging = false, startX, dragStartIndex;
        const coverFlowStage = document.getElementById('cover-flow-stage');
        coverFlowStage.addEventListener('mousedown', (e) => { isDragging = true; startX = e.pageX; dragStartIndex = playlist.currentSongIndex; coverFlowStage.style.cursor = 'grabbing'; });
		const stopDragging = () => { 
			if (!isDragging) return; 
			isDragging = false; 
			coverFlowStage.style.cursor = 'grab';
			
			// if we ended on the same song we started with, don't reload
			if (dragStartIndex === playlist.currentSongIndex) {
				togglePlayPause();
			} else {
				// different song, load it
				const wasPlaying = playerReady && ytPlayer?.getPlayerState() === YT.PlayerState.PLAYING;
				loadCurrentSong(wasPlaying);
			}
		};
        coverFlowStage.addEventListener('mouseleave', stopDragging);
        coverFlowStage.addEventListener('mouseup', stopDragging);
        coverFlowStage.addEventListener('mousemove', (e) => {
            if (!isDragging) return; e.preventDefault();
            const walk = (e.pageX - startX) * -0.005; 
            const newIndex = Math.round(dragStartIndex + walk);
            const clampedIndex = Math.max(0, Math.min(playlist.getSongs().length - 1, newIndex));
			scheduleDragRender(clampedIndex);
        });

        // wheel to navigate - always prevent page scroll when over the player
		let wheelLocked = false;
		coverFlowStage.addEventListener('wheel', (e) => {
			// prevent page scroll when hovering over cover flow
			e.preventDefault();
			e.stopPropagation();
			
			if (!playlist || playlist.isEmpty() || wheelLocked) return;
			
			// check if we can actually change songs
			const canGoNext = e.deltaY > 0 && playlist.currentSongIndex < playlist.getSongs().length - 1;
			const canGoPrev = e.deltaY < 0 && playlist.currentSongIndex > 0;
			
			// only change songs if we can
			if (canGoNext || canGoPrev) {
				wheelLocked = true;
				setTimeout(() => { wheelLocked = false; }, 300);
				
				const wasPlaying = playerReady && ytPlayer?.getPlayerState() === YT.PlayerState.PLAYING;
				if (canGoNext) playlist.playNext();
				else if (canGoPrev) playlist.playPrevious();
				loadCurrentSong(wasPlaying);
			}
		}, { passive: false });
		
        coverFlowStage.addEventListener('dblclick', () => togglePlayPause());
		document.getElementById(FAVORITE_BUTTON_ID).addEventListener("click", toggleFavorite);

        // touch swipe support for cover-flow
        coverFlowStage.addEventListener('touchstart', (e) => {
            if (!playlist || playlist.isEmpty()) return;
            const t = e.touches[0];
            isDragging = true;
            startX = t.pageX;
            dragStartIndex = playlist.currentSongIndex;
            coverFlowStage.style.cursor = 'grabbing';
        }, { passive: true });
        coverFlowStage.addEventListener('touchmove', (e) => {
            if (!isDragging) return;
            e.preventDefault();
            const t = e.touches[0];
            const walk = (t.pageX - startX) * -0.005;
            const newIndex = Math.round(dragStartIndex + walk);
            const clampedIndex = Math.max(0, Math.min(playlist.getSongs().length - 1, newIndex));
            scheduleDragRender(clampedIndex);
        }, { passive: false });
        coverFlowStage.addEventListener('touchend', () => {
            if (!isDragging) return;
            isDragging = false;
            coverFlowStage.style.cursor = 'grab';
            const wasPlaying = playerReady && ytPlayer?.getPlayerState() === YT.PlayerState.PLAYING;
            loadCurrentSong(wasPlaying);
        });

        // make seeking deterministic on click/drag
        progressBar.addEventListener('mousedown', () => {
            if (!hasUserInitiatedPlayback) return;
            isSeeking = true;
            stopRafUpdater();
        });
        progressBar.addEventListener('touchstart', () => {
            if (!hasUserInitiatedPlayback) return;
            isSeeking = true;
            stopRafUpdater();
        }, { passive: true });

        
        progressBar.addEventListener("input", () => {
            if (!isSeeking || !hasUserInitiatedPlayback) return;
            const percentage = progressBar.value;
            // keep CSS fill locked to the thumb value to avoid drift
            progressBar.style.setProperty('--progress-percent', `${percentage}%`);
            if (playerReady && ytPlayer && typeof ytPlayer.getDuration === 'function' && currentTimeElement) {
                const duration = ytPlayer.getDuration();
                if (duration && isFinite(duration)) {
                    currentTimeElement.textContent = formatTime((percentage / 100) * duration);
                }
            }
            progressBar.setAttribute('aria-valuenow', String(progressBar.value));
        });
        
        const applySeekFromProgressBar = () => {
			if (!hasUserInitiatedPlayback) { isSeeking = false; return; }
			if (!playerReady || !ytPlayer || typeof ytPlayer.getDuration !== 'function' || typeof ytPlayer.seekTo !== 'function') {
				isSeeking = false; return;
			}
			const duration = ytPlayer.getDuration();
			if (!duration || !isFinite(duration) || duration <= 0) { isSeeking = false; return; }
			
			const seekTime = (progressBar.value / 100) * duration;
			
			// set pending seek time to prevent visual jumping
			pendingSeekTime = seekTime;
			seekSettlingTime = 0;
			
			ytPlayer.seekTo(seekTime, true);
			if (currentTimeElement) currentTimeElement.textContent = formatTime(seekTime);
			
			isSeeking = false;
			const state = ytPlayer.getPlayerState();
			if (state === YT.PlayerState.PLAYING) startRafUpdater();
			else stopRafUpdater();
		};

        // click anywhere on the track to jump accurately
        progressBar.addEventListener('click', (e) => {
            if (!hasUserInitiatedPlayback) return;
            const rect = progressBar.getBoundingClientRect();
            const x = (e.clientX ?? 0);
            const ratio = Math.max(0, Math.min(1, (x - rect.left) / rect.width));
            progressBar.value = (ratio * 100).toFixed(2);
            progressBar.style.setProperty('--progress-percent', `${progressBar.value}%`);
            applySeekFromProgressBar();
        });

        progressBar.addEventListener("change", applySeekFromProgressBar);

        const handleSeekEnd = () => { if (!isSeeking) return; applySeekFromProgressBar(); };
        progressBar.addEventListener("mouseup", handleSeekEnd);
        progressBar.addEventListener("touchend", handleSeekEnd);
		
		volumeSlider.addEventListener("input", () => {
			setVolumeFromSlider(true);
			updateVolumeIcon();
			debouncedSaveState({
				volume: parseFloat(volumeSlider.value),
				muted: playerReady && ytPlayer && typeof ytPlayer.isMuted === 'function' ? ytPlayer.isMuted() : false
			});
		});
        playlistSelectorElement.addEventListener("change", (event) => loadNewPlaylistByIndex(parseInt(event.target.value, 10)));
		
		document.addEventListener('visibilitychange', handleVisibilityChange);

        // keyboard shortcuts
        document.addEventListener('keydown', (e) => {
            const tag = (document.activeElement && document.activeElement.tagName || '').toLowerCase();
            if (tag === 'input' || tag === 'textarea' || tag === 'select' || document.activeElement?.isContentEditable) return;
			
			const isPlayerActive = document.activeElement === playerContainer || playerContainer.contains(document.activeElement);
            if (!isPlayerActive) return;

            switch (e.key) {
                case ' ': e.preventDefault(); togglePlayPause(); break;
                case 'ArrowRight': {
                    if (!playerReady || !ytPlayer || !hasUserInitiatedPlayback) return;
                    e.preventDefault();
                    const jump = e.shiftKey ? 10 : 5;
                    const t = Math.min((ytPlayer.getCurrentTime() || 0) + jump, ytPlayer.getDuration() || Infinity);
                    if (isFinite(t)) ytPlayer.seekTo(t, true);
                    break;
                }
                case 'ArrowLeft': {
                    if (!playerReady || !ytPlayer || !hasUserInitiatedPlayback) return;
                    e.preventDefault();
                    const jump = e.shiftKey ? 10 : 5;
                    const t = Math.max((ytPlayer.getCurrentTime() || 0) - jump, 0);
                    ytPlayer.seekTo(t, true);
                    break;
                }
                case 'ArrowUp': {
                    e.preventDefault();
                    if (!volumeSlider) return;
                    volumeSlider.value = String(Math.min(1, parseFloat(volumeSlider.value) + 0.05));
                    setVolumeFromSlider(true);
                    break;
                }
                case 'ArrowDown': {
                    e.preventDefault();
                    if (!volumeSlider) return;
                    volumeSlider.value = String(Math.max(0, parseFloat(volumeSlider.value) - 0.05));
                    setVolumeFromSlider(true);
                    break;
                }
                case 'm': case 'M': toggleMute(); break;
                case 's': case 'S': toggleShuffleMode(); break;
                case 'r': case 'R': toggleRepeatMode(); break;
                case 'q': case 'Q':
                    queueContainerElement.classList.toggle('hidden');
                    saveState({ queueVisible: !queueContainerElement.classList.contains('hidden') });
                    break;
                case '1': case '2': case '3':
                    loadNewPlaylistByIndex(parseInt(e.key, 10) - 1);
                    break;
                case 'k': case 'K': e.preventDefault(); togglePlayPause(); break;
                case 'j': case 'J': {
                    if (!playerReady || !ytPlayer || !hasUserInitiatedPlayback) return;
                    e.preventDefault();
                    const t = Math.max((ytPlayer.getCurrentTime() || 0) - 10, 0);
                    ytPlayer.seekTo(t, true);
                    break;
                }
                case 'l': case 'L': {
                    if (!playerReady || !ytPlayer || !hasUserInitiatedPlayback) return;
                    e.preventDefault();
                    const t = Math.min((ytPlayer.getCurrentTime() || 0) + 10, ytPlayer.getDuration() || Infinity);
                    if (isFinite(t)) ytPlayer.seekTo(t, true);
                    break;
                }
                case 'n': case 'N': {
                    e.preventDefault();
                    const wasPlaying = playerReady && ytPlayer?.getPlayerState() === YT.PlayerState.PLAYING;
                    playlist?.playNext();
                    loadCurrentSong(wasPlaying);
                    break;
                }
                case 'p': case 'P': {
                    e.preventDefault();
                    const wasPlaying = playerReady && ytPlayer?.getPlayerState() === YT.PlayerState.PLAYING;
                    playlist?.playPrevious();
                    loadCurrentSong(wasPlaying);
                    break;
                }
                case 'Home': {
                    if (!playerReady || !ytPlayer || !hasUserInitiatedPlayback) return;
                    e.preventDefault();
                    ytPlayer.seekTo(0, true);
                    break;
                }
                case 'End': {
                    if (!playerReady || !ytPlayer || !hasUserInitiatedPlayback) return;
                    e.preventDefault();
                    const d = ytPlayer.getDuration();
                    if (isFinite(d)) ytPlayer.seekTo(d - 0.25, true);
                    break;
                }
                default: break;
            }
        });

        // keep CF transforms fresh
        window.addEventListener('resize', () => {
            if (resizeRaf) return;
            resizeRaf = requestAnimationFrame(() => {
                resizeRaf = 0;
                updateCoverFlow();
            });
        });
    }

    function injectPlayerStyles() {
        const styleId = "nice-music-player-styles";
        if (document.getElementById(styleId)) return;
        const style = document.createElement("style"); style.id = styleId;
        style.textContent = `
            :root { 
                --cover-size: 250px; --player-bg: #141414; --control-bar-bg: rgba(28, 28, 28, 0.85); 
                --text-primary: #f0f0f0; --text-secondary: #a0a0a0; --slider-track-bg: #444; 
                --progress-fill-bg: #f0f0f0; --slider-thumb-bg: #e0e0e0; 
                --font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif; 
                --transition-speed: 0.5s; --transition-func: cubic-bezier(0.25, 0.46, 0.45, 0.94);
                --buffer-percent: 0%;
            }
            #${PLAYER_ELEMENT_ID} { display: flex; flex-direction: column; background-color: var(--player-bg); width: 100%; height: 450px; overflow: hidden; position: relative; font-family: var(--font-family); border-radius: 0 0 .4em .4em; contain: content; }
			#cover-flow-stage {
				flex-grow: 1;
				display: flex;
				align-items: center;
				justify-content: center;
				position: relative;
				cursor: grab;
				-webkit-user-select: none;
				user-select: none;
				padding-bottom: 40px;
				overflow: hidden;
				touch-action: pan-y; 
			}

			#cover-flow-container {
				position: relative;
				width: 100%;
				height: var(--cover-size);
				transform-style: preserve-3d;
				perspective: 1200px;
				display: flex;
				justify-content: center;
				align-items: center;
				top: -42px;
			}

			.cover-flow-item {
				position: absolute;
				width: var(--cover-size);
				height: var(--cover-size);
				aspect-ratio: 1 / 1;
				border-radius: 6px;
				border: 1px solid rgba(255,255,255,0.1);
				box-shadow: 
					0 10px 30px rgba(0,0,0,0.5),
					0 20px 60px rgba(0,0,0,0.3);
				background-color: #1a1a1a;
				pointer-events: none;
				transition: 
					transform 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94),
					opacity 0.5s ease,
					filter 0.5s ease;
				backface-visibility: hidden;
				transform-origin: center center;
				background-size: cover;
				background-position: center;
			    background-repeat: no-repeat;
				will-change: transform, opacity;
			}
            .cover-flow-item::after {
				content: '';
				position: absolute;
				top: calc(100% + 5px);
				left: 0;
				width: 100%;
				height: 60%;

				background: inherit;
				background-size: cover;
				background-position: center;
				
				transform: scaleY(-1);
				
				-webkit-mask-image: linear-gradient(
					to bottom,
					rgba(0,0,0,0.4) 0%,
					rgba(0,0,0,0.1) 65%,
					transparent 100%
				);
				mask-image: linear-gradient(
					to bottom,
					rgba(0,0,0,0.4) 0%,
					rgba(0,0,0,0.1) 65%,
					transparent 100%
				);
			}
			.cover-flow-item::before {
				content: '';
				position: absolute;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				background: linear-gradient(
					135deg,
					rgba(255,255,255,0.1) 0%,
					transparent 50%
				);
				border-radius: 6px;
				pointer-events: none;
				z-index: 1;
			}
			#cover-flow-stage.dragging .cover-flow-item {
				transition-duration: 0.1s;
			}
			.cover-flow-item.loading {
				background: linear-gradient(
					135deg,
					#2a2a2a 0%,
					#3a3a3a 50%,
					#2a2a2a 100%
				);
				background-size: 200% 200%;
				animation: shimmer 2s ease-in-out infinite;
			}

			@keyframes shimmer {
				0% { background-position: 0% 0%; }
				50% { background-position: 100% 100%; }
				100% { background-position: 0% 0%; }
			}
            #player-controls-wrapper { position: absolute; bottom: 0; left: 0; right: 0; height: 125px; background: rgba(28, 28, 28, 0.96); /*-webkit-backdrop-filter: blur(10px); backdrop-filter: blur(10px);*/ border-top: 1px solid rgba(255, 255, 255, 0.15); display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 5px 20px; box-sizing: border-box; }
            #cover-flow-song-info { color: var(--text-primary); text-align: center; margin-bottom: 5px; text-shadow: 0 1px 3px rgba(0,0,0,0.6); }
            #${TITLE_ID} { font-size: 16px; font-weight: 500; margin: 0; }
            #${ARTIST_ID} { font-size: 14px; color: var(--text-secondary); margin: 0; }
            #${CONTROLS_CONTAINER_ID} { width: 100%; max-width: 800px; display: flex; flex-direction: column; align-items: center; }
            #${PROGRESS_BAR_CONTAINER_ID} { 
				width: 100%; 
				display: flex; 
				align-items: center; 
				gap: 10px; 
				order: 1; 
				margin-bottom: 10px;
				height: 20px;
				/* transform: translate3d(0, 0, 0); */
			}
			
			#${CURRENT_TIME_ID}, #${DURATION_ID} { 
				font-size: 11px; 
				color: var(--text-secondary);
				min-width: 35px;
				text-align: center;
				flex-shrink: 0;
				font-variant-numeric: tabular-nums;
				letter-spacing: 0.3px;
			}
			
			input[type="range"] { 
				-webkit-appearance: none; 
				appearance: none; 
				background: transparent; 
				cursor: pointer; 
				width: 100%; 
				outline: none; 
				flex-grow: 1
				flex-shrink: 1;
			}
            input[type="range"]::-webkit-slider-runnable-track { height: 5px; background: var(--slider-track-bg); border-radius: 5px; }
            input[type="range"]::-moz-range-track { height: 5px; background: var(--slider-track-bg); border-radius: 5px; }
            #${PROGRESS_BAR_ID}::-webkit-slider-runnable-track { 
                background: linear-gradient(
                    to right,
                    var(--progress-fill-bg) 0%,
                    var(--progress-fill-bg) var(--progress-percent, 0%),
                    rgba(240,240,240,0.35) var(--progress-percent, 0%),
                    rgba(240,240,240,0.35) var(--buffer-percent, 0%),
                    var(--slider-track-bg) var(--buffer-percent, 0%),
                    var(--slider-track-bg) 100%
                );
            }
            #${PROGRESS_BAR_ID}::-moz-range-track { 
                background: linear-gradient(
                    to right,
                    var(--progress-fill-bg) 0%,
                    var(--progress-fill-bg) var(--progress-percent, 0%),
                    rgba(240,240,240,0.35) var(--progress-percent, 0%),
                    rgba(240,240,240,0.35) var(--buffer-percent, 0%),
                    var(--slider-track-bg) var(--buffer-percent, 0%),
                    var(--slider-track-bg) 100%
                );
            }
            input[type="range"]::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; margin-top: -5px; height: 15px; width: 15px; background-color: var(--slider-thumb-bg); border-radius: 50%; border: none; }
            input[type="range"]::-moz-range-thumb { height: 15px; width: 15px; background-color: var(--slider-thumb-bg); border-radius: 50%; border: none; }
            #player-bottom-controls { display: flex; align-items: center; justify-content: space-between; width: 100%; order: 2; }
            #player-main-controls-center { flex: 1; display: flex; align-items: center; justify-content: center; gap: 20px; }
            #${VOLUME_CONTAINER_ID} { flex: 1; display: flex; align-items: center; justify-content: flex-start; gap: 8px; }
			#${VOLUME_ICON_ID}, #${QUEUE_TOGGLE_ICON_ID} {
				transition: opacity 0.2s ease, transform 0.2s ease;
				opacity: 0.8;
			}
			#${VOLUME_ICON_ID}:hover, #${QUEUE_TOGGLE_ICON_ID}:hover {
				opacity: 1;
				transform: scale(1.1);
			}
            #${VOLUME_ICON_ID} { width: 18px; height: 18px; cursor: pointer; }
            #${VOLUME_SLIDER_ID} { width: 140px; }
            #${VOLUME_PERCENTAGE_ID} { font-size: 11px; color: var(--text-secondary); min-width: 35px; }
            #${VOLUME_SLIDER_ID}::-webkit-slider-thumb { height: 12px; width: 12px; margin-top: -3.5px; }
            #${VOLUME_SLIDER_ID}::-moz-range-thumb { height: 12px; width: 12px; }
            #player-extra-controls-right { flex: 1; display: flex; align-items: center; justify-content: flex-end; gap: 15px; }
            .${PLAYER_CONTROL_BUTTON_CLASS} { background: none; border: none; cursor: pointer; padding: 0; opacity: 0.8; transition: opacity 0.2s ease, transform 0.2s ease; }
            .${PLAYER_CONTROL_BUTTON_CLASS}:hover { background: #1b263b; opacity: 1; transform: scale(1.05); }
            .${PLAYER_CONTROL_BUTTON_CLASS}:active { transform: scale(0.95); }
            .${PLAYER_CONTROL_BUTTON_CLASS} img { display: block; }
            .${PLAYER_CONTROL_BUTTON_CLASS}.extra-control img { width: 18px; height: 18px; }
			.${PLAYER_CONTROL_BUTTON_CLASS} {
				box-shadow: 0 2px 4px rgba(0,0,0,0.2);
				transition: opacity 0.2s ease, transform 0.2s ease, box-shadow 0.2s ease;
			}
			.${PLAYER_CONTROL_BUTTON_CLASS}:hover {
				box-shadow: 0 4px 8px rgba(0,0,0,0.3);
			}
			.${PLAYER_CONTROL_BUTTON_CLASS}:active {
				box-shadow: 0 1px 2px rgba(0,0,0,0.2);
			}
            #${PREV_BUTTON_ID} img, #${NEXT_BUTTON_ID} img { width: 24px; height: 24px; }
            #${PLAY_PAUSE_BUTTON_ID} img { width: 32px; height: 32px; }
            .${PLAYER_CONTROL_BUTTON_CLASS}.active img { filter: invert(70%) sepia(98%) saturate(1485%) hue-rotate(180deg) brightness(101%) contrast(101%); }
            #${PLAYLIST_SELECTOR_ID} { background: rgba(17, 17, 17, 0.75); color: var(--text-primary); border: 1px solid #555; border-radius: 4px; padding: 4px 8px; font-size: 12px; }
            #${QUEUE_TOGGLE_ICON_ID} { font-size: 24px; line-height: 0; color: #f0f0f0; padding: 11px 4px 11px 5px; }
            #${QUEUE_CONTAINER_ID} { position: absolute; bottom: 155px; left: 50%; transform: translateX(-50%); width: 90%; max-width: 600px; max-height: 180px; background-color: rgba(30, 30, 30, 0.9); backdrop-filter: blur(5px); -webkit-backdrop-filter: blur(5px); border: 1px solid #555; border-radius: 6px; z-index: 1000; padding: 10px; box-shadow: 0 0 20px rgba(0,0,0,0.5); transition: opacity 0.3s ease, visibility 0.3s ease, transform 0.3s ease; }
            #${QUEUE_CONTAINER_ID}.hidden { opacity: 0; visibility: hidden; transform: translateX(-50%) scale(0.95); }
            #${QUEUE_TITLE_ID} { font-size: 14px; color: var(--text-primary); margin: 0 0 10px 0; padding-bottom: 5px; border-bottom: 1px solid #444; }
            #${QUEUE_LIST_ID} { list-style: none; padding: 0; margin: 0; max-height: 140px; overflow-y: auto; overscroll-behavior: contain; color: var(--text-secondary); }
			#${QUEUE_LIST_ID} {
				scroll-behavior: smooth; 
				scrollbar-width: thin;
				scrollbar-color: rgba(255, 255, 255, 0.2) rgba(0, 0, 0, 0.3);
			}
			
			#${QUEUE_LIST_ID}::-webkit-scrollbar {
				width: 8px;
			}
			
			#${QUEUE_LIST_ID}::-webkit-scrollbar-track {
				background: rgba(0, 0, 0, 0.3);
				border-radius: 4px;
			}
			
			#${QUEUE_LIST_ID}::-webkit-scrollbar-thumb {
				background: rgba(255, 255, 255, 0.2);
				border-radius: 4px;
				border: 2px solid transparent;
				background-clip: padding-box;
			}
			
			#${QUEUE_LIST_ID}::-webkit-scrollbar-thumb:hover {
				background: rgba(255, 255, 255, 0.35);
				background-clip: padding-box;
			}
			
			#${QUEUE_LIST_ID}::-webkit-scrollbar-thumb:active {
				background: rgba(255, 255, 255, 0.5);
				background-clip: padding-box;
			}
            .${PLAYER_QUEUE_ITEM_CLASS} { padding: 5px; font-size: 13px; border-radius: 3px; cursor: pointer; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; transition: background-color 0.2s; }
            .${PLAYER_QUEUE_ITEM_CLASS}:hover { background-color: rgba(255,255,255,0.1); }
            .${PLAYER_QUEUE_ITEM_CLASS}.current { background-color: rgba(102, 179, 255, 0.3); font-weight: bold; }
            .player-queue-item-title { color: #eee; } .player-queue-item-artist { color: #999; }
            #${YOUTUBE_PLAYER_DIV_ID} { position: absolute !important; top: -9999px !important; left: -9999px !important; width: 1px !important; height: 1px !important; }
			
			#${FAVORITE_BUTTON_ID} img { width: 22px; height: 22px; }
			.player-queue-item.dragging { opacity: 0.5; background: #333; }
			.player-queue-item[draggable="true"] { cursor: grab; }
			.player-queue-item[draggable="true"]:active { cursor: grabbing; }
			
			@keyframes pulse {
				0%, 100% { opacity: 1; }
				50% { opacity: 0.5; }
			}
			.player-buffering #${TITLE_ID} {
				animation: pulse 1.5s ease-in-out infinite;
			}
			
            /* @media (max-width: 768px) { #${PLAYER_ELEMENT_ID} { margin: 300px 0 10px 0; } } */
        `;
        // small focus ring for accessibility
        style.textContent += `
            .${PLAYER_CONTROL_BUTTON_CLASS}:focus, #${PLAYLIST_SELECTOR_ID}:focus { outline: 2px solid #66b3ff; outline-offset: 2px; }
			#${PLAYER_ELEMENT_ID}:focus { outline: none; }
        `;
        document.head.appendChild(style);
    }
    
    function loadYouTubeAPI() {
        return new Promise((resolve, reject) => {
            if (typeof YT !== 'undefined' && typeof YT.Player !== 'undefined') { resolve(); return; }
            window.onYouTubeIframeAPIReady = () => { resolve(); };
            const existingScript = document.querySelector('script[src="https://www.youtube.com/iframe_api"]');
            if (existingScript) return;
            const tag = document.createElement('script'); tag.src = "https://www.youtube.com/iframe_api";
            tag.onerror = (err) => { console.error("Failed to load YouTube API script:", err); delete window.onYouTubeIframeAPIReady; reject(err); };
            const firstScriptTag = document.getElementsByTagName('script')[0];
            if (firstScriptTag && firstScriptTag.parentNode) firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
            else document.head.appendChild(tag);
        });
    }
	
	function cleanup() {
		if (rafId) {
			cancelAnimationFrame(rafId);
			rafId = null;
		}
		if (resizeRaf) {
			cancelAnimationFrame(resizeRaf);
			resizeRaf = null;
		}
		
		if (ytPlayer?.destroy) {
			ytPlayer.destroy();
		}
		
		if (coverObserver) {
			coverObserver.disconnect();
			coverObserver = null;
		}
		
		coverFlowItemsCache = null;
	}
	window.addEventListener('beforeunload', cleanup);

    async function initializeMusicPlayer() {
        try {
			// load persisted state first
            persistedState = loadState();
            loadFavorites(); 

            PLAYLISTS_DATA = [ 
                { name: "Main Playlist", songs: SONGS_DATA }, 
                { name: "Alternative Mix #1", songs: PLAYLIST_TWO_DATA }, 
                { name: "Alternative Mix #2", songs: PLAYLIST_THREE_DATA } 
            ];
            updateFavoritesPlaylistEntry();

            activePlaylistIndex = (persistedState && Number.isInteger(persistedState.activePlaylistIndex) && persistedState.activePlaylistIndex >= 0 && persistedState.activePlaylistIndex < PLAYLISTS_DATA.length)
                ? persistedState.activePlaylistIndex : 0;

            const selectedPlaylistData = PLAYLISTS_DATA[activePlaylistIndex];
            const initialSongs = selectedPlaylistData.songs.map(d => new Song(d.title, d.artist, d.coverLink, d.videoIds || d.videoId));
            originalSongOrderForCurrentPlaylist = [...initialSongs];

			// apply shuffle and song restore
            if (persistedState?.shuffle) {
                isShuffleActive = true;
                playlist = new Playlist(shuffleArray(initialSongs));
            } else {
                playlist = new Playlist(initialSongs);
            }
            if (persistedState?.currentVideoId) {
                const idx = playlist.getSongs().findIndex(s => s.containsVideoId(persistedState.currentVideoId));
                playlist.setCurrentSongIndex(idx >= 0 ? idx : 0);
            }

            const playerFragment = createPlayerElements();
            const anchorElement = document.getElementById("game_window");
            (anchorElement?.parentNode || document.body).insertBefore(playerFragment, anchorElement?.nextSibling || null);

			// render cover flow
            renderCoverFlow(playlist.getSongs());
			// preload covers
            preloadCovers(playlist.getSongs());

            // build dropdown
            if (playlistSelectorElement) {
                const optsFrag = document.createDocumentFragment();
                PLAYLISTS_DATA.forEach((pl, index) => {
                    const option = document.createElement("option");
                    option.value = index.toString();
                    option.textContent = pl.name;
                    optsFrag.appendChild(option);
                });
                playlistSelectorElement.appendChild(optsFrag);
                playlistSelectorElement.value = activePlaylistIndex.toString();
            }

            // restore other states
            if (persistedState?.repeatMode) repeatMode = persistedState.repeatMode;
            if (persistedState?.queueVisible) queueContainerElement.classList.remove('hidden');
            if (typeof persistedState?.volume === 'number') {
                volumeSlider.value = String(persistedState.volume);
                if (volumePercentageElement) volumePercentageElement.textContent = `${Math.round(persistedState.volume * 100)}%`;
            }
            if (persistedState?.muted) applyMuteOnReady = true;

            injectPlayerStyles();
            bindUIEventListeners();
            updateRepeatButtonUI();
            updateShuffleButtonUI();
            updateQueueDisplay();
            updateUI();
			updateCoverFlow();
            updateFavoriteButtonUI();
            
            await loadYouTubeAPI();
            
            ytPlayer = new YT.Player(YOUTUBE_PLAYER_DIV_ID, {
                height: '1', width: '1',
                playerVars: { 'playsinline': 1, 'autoplay': 0, 'controls': 0, 'disablekb': 1, 'modestbranding': 1, 'origin': window.location.origin },
                events: { 'onReady': onPlayerReady, 'onStateChange': onPlayerStateChange, 'onError': onPlayerError }
            });
        } catch (error) {
            console.error("Failed during music player initialization:", error);
        }
    }

    if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', initializeMusicPlayer);
    else initializeMusicPlayer();

})();

// For the Campaign Data module
const republicanContenders = [
    {
        name: "Mitt Romney",
        picture: "https://file.garden/aNtAfG887DiA_7lO/2012LBM/AAOuUfC.jpeg",
        advice: "Mittens! The former Governor of Massachusetts is the establishment’s choice. He’ll be the likely nominee this year, barring any unprecedented events on his — or your — side.",
        condition: () => true,
        priority: () => 1
    },
    {
        name: "Newt Gingrich",
        picture: "https://media.gettyimages.com/id/126145248/pt/foto/orlando-fl-republican-presidential-candidate-former-speaker-of-the-house-newt-gingrich-speaks.jpg?s=612x612&w=0&k=20&c=bWg5Jm_5EMzFJP2enNNhDakQqmsSxwzmu1j4nTvXf6M=",
        advice: "The closest thing the Republicans have to a master of political warfare, Gingrich is hoping his strong pro-national security (and anti-you) platform will get him the nomination.",
        condition: () => window.confrontationScore >= 5,
        priority: () => 6
    },
    {
        name: "Rick Santorum",
        picture: "https://ichef.bbci.co.uk/ace/ws/640/amz/worldservice/live/assets/images/2012/03/14/120314054231_santorum_304x171_ap.jpg.webp",
        advice: "Rick! The former Pennsylvania Senator is attempting to coalesce the religious right against what he sees as a hardcore liberal Obama candidacy. Don’t ask him what the definition of “santorum” is.",
        condition: () => window.liberalismScore >= 5,
        priority: () => 5
    },
    {
        name: "Jon Huntsman",
        picture: "https://media.gettyimages.com/id/122930200/pt/foto/gop-presidential-candidate-jon-huntsman-meets-with-the-states-editorial-board-monday-morning.jpg?s=612x612&w=0&k=20&c=aTzBoEl8Xt4etqGYCDOSRFmQVMRBAqua8YO-Peaybmw=",
        advice: "Huntsman’s campaign has not garnered much traction this year. A lot would need to change for him to even get close at winning the nomination. And if he did…",
        condition: () => window.confrontationScore <= -3,
        priority: () => 4
    },
    {
        name: "Ron Paul",
        picture: "https://cdn.cfr.org/sites/default/files/blog_img/lindsay-ronpaul-12022011.jpg",
        advice: "Can you imagine? Ron Paul, Republican nominee for President? You cannot wrap your head around this idea, but his polling numbers among independents may force you to should he win the nomination.",
        condition: () => window.liberalismScore <= -4,
        priority: () => 3
    },
    {
        name: "Rick Perry",
        picture: "https://nypost.com/wp-content/uploads/sites/2/2013/08/perry2012163429-300x300.jpg?quality=75&strip=all&w=300",
        advice: "The governor of… uh… what was it again? Wait. Hold on just a bit. Uh… which state was it, Rahm? Oh, yes. The governor of Texas, Rick Perry’s campaign has surprisingly been going smoothly. His goal is to run a ‘tough guy’ campaign against your own tough guy campaign.",
        condition: () => window.confrontationScore >= 3,
        priority: () => 2
    },
    {
        name: "Michele Bachmann",
        picture: "https://media.gettyimages.com/id/116775465/pt/foto/new-orleans-la-republican-presidential-candidate-u-s-rep-michele-bachmann-speaks-during-the.jpg?s=612x612&w=0&k=20&c=Zca6RYK20UcW4L0rHnT7XrYV1llURVYrnoIdOXRq6qE=",
        advice: "It seems that all the evangelical outrage in your first term has propelled Bachmann ahead in the primaries. This will not end well, especially for her.",
        condition: () => window.liberalismScore >= 4 && window.confrontationScore >= 4,
        priority: () => 7
    },
];

function selectLeadingOpponent() {
    if (opponentIsLocked && finalOpponent) return finalOpponent;

    const fallback = republicanContenders[0]; 

    return republicanContenders.reduce((leader, current) => {
        if (!current.condition()) return leader;
        return (current.priority() > leader.priority()) ? current : leader;
    }, fallback);
}

function selectTopOpponents() {
    const eligible = republicanContenders
        .filter(c => c.condition())
        .map(c => ({ ...c, calculatedPriority: c.priority() }))
        .sort((a, b) => b.calculatedPriority - a.calculatedPriority);
    
    return eligible.slice(0, 3); // top 3 contenders
}

// this helper function selects the right text and returns it as an object with the score
function getFeedbackForScore(score, scoreMap) {
    let selectedText = scoreMap.default;
    for (const entry of scoreMap.ranges) {
        if (score >= entry.min && score <= entry.max) {
            selectedText = entry.text;
            break;
        }
    }
    return { text: selectedText, score: score };
}

// Scores!
const liberalismTextMap = {
    default: "are wary of",
    ranges: [
        { min: 12, max: Infinity, text: 'have <font color="#71bc92"><strong>have built a shrine to</strong></font>' },
        { min: 10, max: 11, text: 'are <font color="#71bc92"><strong>are ready to rename Vermont after</strong></font>' },
        { min: 8, max: 9, text: 'are <font color="#71bc92"><strong>are madly in love</strong></font> with' },
        { min: 5, max: 7, text: 'are <font color="#71bc92"><strong>are ecstatic</strong></font> about' },
        { min: 2, max: 4, text: '<font color="#71bc92">are warming up to</font>' },
        { min: -1, max: 1, text: 'are wary of' },
        { min: -4, max: -2, text: '<font color="#e9a34b">have a distrusting view of</font>' },
        { min: -7, max: -5, text: '<font color="#e94b4b">feel abandoned by</font>' },
        { min: -10, max: -8, text: '<font color="#e94b4b"><strong>feel utterly betrayed by</strong></font>' },
        { min: -Infinity, max: -11, text: '<font color="#e94b4b"><strong>are on their way to plunder and ransack</strong></font>' }
    ]
};

const confrontationTextMap = {
    default: "quite normal",
    ranges: [
        { min: 10, max: Infinity, text: '<font color="#e94b4b"><strong>like a WWE SmackDown pay-per-view event</strong></font>' },
        { min: 8, max: 9, text: '<font color="#e94b4b"><strong>an absolute bloodbath</strong></font>' },
        { min: 5, max: 7, text: '<font color="#e94b4b"><strong>hell on earth</strong></font>' },
        { min: 2, max: 4, text: '<font color="#e9a34b">somewhat aggressive</font>' },
        { min: -1, max: 1, text: 'quite normal, actually' },
        { min: -4, max: -2, text: '<font color="#71bc92">fairly conciliatory</font>' },
        { min: -7, max: -5, text: '<font color="#71bc92"><strong>overtly post-partisan</strong></font>' },
        { min: -10, max: -8, text: '<font color="#71bc92"><strong>like a kumbaya singalong</strong></font>' },
        { min: -Infinity, max: -11, text: '<font color="#71bc92"><strong>so friendly that the MPAA has given it a G rating</strong></font>' }
    ]
};

// data for the operations
let operationsState = {
    obamaPoints: 15,
    completed: [],
    cooldowns: {},
    lastQuestionNumber: 1,	
    totalOpsExecuted: 0
};

// determine total questions to scale difficulty
function getTotalQuestions() {
    if (typeof campaignTrail_temp !== 'undefined' && 
        campaignTrail_temp.global_parameter_json && 
        campaignTrail_temp.global_parameter_json[0]) {
        return parseInt(campaignTrail_temp.global_parameter_json[0].fields.question_count, 10) || 25;
    }
    return 25;
}

// calculate dynamic success rate based on Fatigue
function calculateCurrentSuccessRate(baseRate) {
    const totalQ = getTotalQuestions();
    
    // the fatigue factor is basically how much harder it gets per operation
    // e.g. 25 questions = 0.04 (4%) decay per op
    // 50 questions = 0.02 (2%) decay per op
    const fatiguePerOp = 1.0 / totalQ; 
    
    const fatiguePenalty = operationsState.totalOpsExecuted * fatiguePerOp;
    
    // ensure success rate never drops below 5% purely from fatigue
    let currentRate = baseRate - fatiguePenalty;
    return Math.max(0.05, currentRate);
}

const PC_BOOST_COST = 5;
const PC_BOOST_EFFECT = 0.15;

const SABOTAGE_OPERATIONS = {
    documentTheft: {
        name: "INTELLIGENCE GATHERING",
        classification: "COVERT ACTION",
        description: "Acquire sensitive information from the Republican campaign through multiple operational vectors.",
        baseSuccessRate: 0.62,
        cooldown: 1,
        riskLevel: "MEDIUM",
        operations: [
            {
                id: "acquire_local_intel",
                name: "Acquire Local Intel",
                cost: 5,
                target: "Selected State Campaign Operations",
                description: "Deploy field operatives to gather on-the-ground intelligence within a target state.",
                requiresStateSelection: true,
                successEffect: (targetStateName) => {
                    const ct_temp = campaignTrail_temp;
                    const stateEntry = ct_temp.states_json.find(s => s.fields.name === targetStateName);
                    if (!stateEntry) return `State ${targetStateName} not found.`;
                    
                    const stateMult = ct_temp.candidate_state_multiplier_json.find(f =>
                        f.fields.state === stateEntry.pk && f.fields.candidate === 16
                    );
                    if (stateMult) {
                        stateMult.fields.state_multiplier = (stateMult.fields.state_multiplier || 1) * 1.009;
                        return `Intel acquired. Our field team in ${targetStateName} indicates the Republican campaign's ground game is encountering some difficulties in a couple of suburban counties. The analytics team in Chicago is already folding this into our Project Narwhal voter models.<br><br><strong>Effect: +0.9% support multiplier in ${targetStateName}.</strong>`;
                    }
                    return `Player multiplier for ${targetStateName} not found.`;
                },
                failureEffect: (targetStateName) => {
                    operationsState.obamaPoints = Math.max(0, operationsState.obamaPoints - 2);
                    return `Operation failed. Our asset couldn't get close enough to their state-level strategy sessions. No critical intel was gathered, and we've also wasted some operational funds.<br><br><strong>Effect: -2 OP.</strong>`;
                }
            },
            {
                id: "deep_state_reconnaissance",
                name: "Deep State Reconnaissance",
                cost: 12,
                target: "Selected State Campaign Operations",
                description: "Task a specialized unit to conduct extensive surveillance on the Republicans' core campaign infrastructure within a single state.",
                requiresStateSelection: true,
                successEffect: (targetStateName) => {
                    const ct_temp = campaignTrail_temp;
                    const stateEntry = ct_temp.states_json.find(s => s.fields.name === targetStateName);
                    if (!stateEntry) return `State ${targetStateName} not found.`;

                    const stateMult = ct_temp.candidate_state_multiplier_json.find(f =>
                        f.fields.state === stateEntry.pk && f.fields.candidate === 16
                    );
                    
                    const opponentMult = ct_temp.candidate_state_multiplier_json.find(f =>
                        f.fields.state === stateEntry.pk && f.fields.candidate === 17
                    );

                    if (stateMult) {
                        stateMult.fields.state_multiplier = (stateMult.fields.state_multiplier || 1) * 1.015;
                        
                        if (opponentMult) {
                            opponentMult.fields.state_multiplier = (opponentMult.fields.state_multiplier || 1) * 0.995;
                        }

                        return `Mission accomplished. It seems we've been able to map their entire command structure in ${targetStateName}, including the locations for their 'Project ORCA' get-out-the-vote effort. That name sucks, by the way. Jim Messina says we can use this to effectively counter their Election Day operations, or at least part of it.<br><br><strong>Effect: +1.5% support multiplier for you and -0.5% for the Republican nominee in ${targetStateName}.</strong>`;
                    }
                    return `Player multiplier for ${targetStateName} not found.`;
                },
                failureEffect: (targetStateName) => {
                    operationsState.obamaPoints = Math.max(0, operationsState.obamaPoints - 4);
                    const ct_temp = campaignTrail_temp;
                    const stateEntry = ct_temp.states_json.find(s => s.fields.name === targetStateName);
                    
                    if(stateEntry) {
                        const opponentMult = ct_temp.candidate_state_multiplier_json.find(f => 
                            f.fields.state === stateEntry.pk && f.fields.candidate === 17
                        );
                        if (opponentMult) {
                            opponentMult.fields.state_multiplier = (opponentMult.fields.state_multiplier || 1) * 1.005; 
                        }
                    }
                    return `Close call. Our operatives were nearly compromised while surveilling the opponent's state headquarters. They were forced to burn their cover and exfiltrate immediately. We lost the asset and wasted significant resources.<br><br><strong>Effect: -4 OP and +0.5% Republican support multiplier in ${targetStateName}.</strong>`;
                }
            },
            {
                id: "opposition_research_infiltration",
                name: "Opposition Research Infiltration",
                cost: 15,
                target: "Opponent Campaign Infrastructure",
                description: "Place a covert asset inside the Republican campaign's national opposition research division. Oh, they won't screw with you this time.",
                requiresStateSelection: false,
                successEffect: () => {
                    const ct_temp = campaignTrail_temp;
                    const swingStates = ['Florida', 'Pennsylvania', 'Iowa', 'Ohio', 'Michigan', 'Wisconsin', 'North Carolina', 'Georgia', 'Missouri', 'Indiana', 'Arizona', 'New Hampshire'];
                    let affectedStates = [];

                    swingStates.forEach(stateName => {
                        const stateEntry = ct_temp.states_json.find(s => s.fields.name === stateName);
                        if (stateEntry) {
                            const stateMult = ct_temp.candidate_state_multiplier_json.find(f =>
                                f.fields.state === stateEntry.pk && f.fields.candidate === 16
                            );
                            if (stateMult) {
                                stateMult.fields.state_multiplier = (stateMult.fields.state_multiplier || 1) * 1.012;
                                affectedStates.push(stateName);
                            }
                        }
                    });

                    return `Paydirt. Our asset successfully exfiltrated a partial copy of their opposition research book on us. We now have advance knowledge of their planned attacks on the auto bailout and Solyndra, because I guesss they're never going to let that slide. David Axelrod's team should be preparing counters.<br><br><strong>Effect: +1.2% support multiplier in key swing states.</strong>`;
                },
                failureEffect: () => {
                    operationsState.obamaPoints = Math.max(0, operationsState.obamaPoints - 5);
                    return `Negative. The opponent's research division is locked down tight, apparently. Our asset hit a wall of Boston-based loyalists and couldn't get close. But we did learn one thing: they're not amateurs.<br><br><strong>Effect: -5 OP.</strong>`;
                }
            },
            {
                id: "media_intelligence_network",
                name: "Media Intelligence Network",
                cost: 10,
                target: "Press and Media Operations",
                description: "Establish intelligence assets within media organizations to gather advance information on coverage and stories.",
                requiresStateSelection: false,
                successEffect: () => {
                    const ct_temp = campaignTrail_temp;
                    if (ct_temp.issue_score_json) {
                        ct_temp.issue_score_json.forEach(issue => {
                            if (issue.fields.candidate === 16) {
                                issue.fields.issue_score = Math.min(1.0, (issue.fields.issue_score || 0) + 0.010);
                            }
                        });
                    }
                    return `Network is live. Our source at a major network gave us a heads-up on a negative story they were developing about the administration's response to the Benghazi attack. Luckily, Stephanie Cutter's comms team was able to get ahead of it.<br><br><strong>Effect: Small boost to your position on all issues.</strong>`;
                },
                failureEffect: () => {
                    operationsState.obamaPoints = Math.max(0, operationsState.obamaPoints - 3);
                    const ct_temp = campaignTrail_temp;
                    if (ct_temp.issue_score_json) {
                        ct_temp.issue_score_json.forEach(issue => {
                            if (issue.fields.candidate === 16) {
                                issue.fields.issue_score = Math.max(0.0, (issue.fields.issue_score || 0) - 0.008);
                            }
                        });
                    }
                    return `Contact lost. It seems our primary media asset got cold feet. The channel is dead for now. Worse, the botched approach has made them suspicious, resulting in slightly more critical coverage of our campaign. A frustrating setback.<br><br><strong>Effect: -3 OP and a small penalty to your position on all issues.</strong>`;
                }
            },
            {
                id: "digital_surveillance_operation",
                name: "Digital Surveillance Operation",
                cost: 12,
                target: "Opponent Digital Infrastructure",
                description: "Conduct cyber-reconnaissance on the Republicans' digital operations, social media strategies, and online fundraising.",
                requiresStateSelection: false,
                successEffect: () => {
                    const ct_temp = campaignTrail_temp;
                    const nationalMult = ct_temp.candidate_state_multiplier_json.find(f =>
                        f.fields.candidate === 16 && f.fields.state === 1
                    );
                    if (nationalMult) {
                        nationalMult.fields.state_multiplier = (nationalMult.fields.state_multiplier || 1) * 1.018;
                    }
                    return `Breach successful. Our digital team has gained access to the Republican campaign's back-end ad-targeting analytics. We have their microtargeting models and their A/B testing results for online ads. Hell yeah.<br><br><strong>Effect: +1.8% national support multiplier.</strong>`;
                },
                failureEffect: () => {
                    operationsState.obamaPoints = Math.max(0, operationsState.obamaPoints - 4);
                    return `Access denied. The opponent's cyber-defenses are more robust than our initial assessment suggested. Our team was firewalled out before they could access anything of value, but left no trace of the attempt. Still, the attempt cost us.<br><br><strong>Effect: -4 OP.</strong>`;
                }
            },
            {
                id: "polling_data_acquisition",
                name: "Polling Data Acquisition",
                cost: 10,
                target: "Private Polling Organizations",
                description: "Task operatives with acquiring proprietary, internal polling data from firms contracted by GOP Super PACs.",
                requiresStateSelection: false,
                successEffect: () => {
                    const ct_temp = campaignTrail_temp;
                    const randomStates = ['Pennsylvania', 'Wisconsin', 'Florida', 'Michigan', 'Colorado', 'Arizona', 'Nevada', 'North Carolina', 'Ohio', 'Iowa', 'Montana', 'Indiana', 'Missouri', 'South Carolina', 'Texas'];
                    let affectedStates = [];
                    const numStates = Math.floor(Math.random() * 2) + 2;
                    const selectedStates = randomStates.sort(() => 0.5 - Math.random()).slice(0, numStates);

                    selectedStates.forEach(stateName => {
                        const stateEntry = ct_temp.states_json.find(s => s.fields.name === stateName);
                        if (stateEntry) {
                            const stateMult = ct_temp.candidate_state_multiplier_json.find(f =>
                                f.fields.state === stateEntry.pk && f.fields.candidate === 16
                            );
                            if (stateMult) {
                                stateMult.fields.state_multiplier = (stateMult.fields.state_multiplier || 1) * 1.013;
                                affectedStates.push(stateName);
                            }
                        }
                    });

                    return `Data acquired. We've just obtained raw polling data from a private firm contracted by Karl Rove's American Crossroads Super PAC. This gives us a two-point visibility advantage in voter targeting in: ${affectedStates.join(', ')}.<br><br><strong>Effect: +1.3% support multiplier in ${affectedStates.length} random states.</strong>`;
                },
                failureEffect: () => {
                    operationsState.obamaPoints = Math.max(0, operationsState.obamaPoints - 3);
                    return `Mission scrubbed. The targeted polling firm keeps their data on an air-gapped server. Our operative couldn't get physical or remote access without an unacceptable risk of exposure.<br><br><strong>Effect: -3 OP.</strong>`;
                }
            },
            {
                id: "donor_intelligence_gathering",
                name: "Donor Intelligence Gathering",
                cost: 14,
                target: "Major Donor Networks",
                description: "Infiltrate high-society fundraising circles to gather intelligence on the Republicans' major donors from Bain Capital and Wall Street.",
                requiresStateSelection: false,
                successEffect: () => {
                    const ct_temp = campaignTrail_temp;
                    const nationalMult = ct_temp.candidate_state_multiplier_json.find(f =>
                        f.fields.candidate === 16 && f.fields.state === 1
                    );
                    if (nationalMult) { nationalMult.fields.state_multiplier = (nationalMult.fields.state_multiplier || 1) * 1.015; }

                    const expensiveStates = ['California', 'New York', 'Florida', 'Texas'];
                    expensiveStates.forEach(stateName => {
                        const stateEntry = ct_temp.states_json.find(s => s.fields.name === stateName);
                        if (stateEntry) {
                            const opponentMult = ct_temp.candidate_state_multiplier_json.find(f => 
                                f.fields.state === stateEntry.pk && f.fields.candidate === 17
                            );
                            if (opponentMult) {
                                opponentMult.fields.state_multiplier = (opponentMult.fields.state_multiplier || 1) * 0.993;
                            }
                        }
                    });

                    return `Intel secured. We've confirmed that a key bloc of their Wall Street donors is wavering, especially in light of some recent gaffes from a couple of high-profile Republicans. We can use this information to subtly peel them away or, at a minimum, ensure their checks don't get any bigger.<br><br><strong>Effect: +1.5% national support multiplier and -0.7% Republican support multiplier in key fundraising states.</strong>`;
                },
                failureEffect: () => {
                    operationsState.obamaPoints = Math.max(0, operationsState.obamaPoints - 5);
                    const ct_temp = campaignTrail_temp;
                    const opponentNationalMult = ct_temp.candidate_state_multiplier_json.find(f => 
                        f.fields.candidate === 17 && f.fields.state === 1
                    );
                    if (opponentNationalMult) { 
                        opponentNationalMult.fields.state_multiplier = (opponentNationalMult.fields.state_multiplier || 1) * 1.008; 
                    }
                    return `Our clumsy attempts to probe the donor network were detected. The opponent is now using it to rally their big donors against your 'Chicago-style politics', which is quite dumb, but is boosting their fundraising.<br><br><strong>Effect: -5 OP and +0.8% national Republican support multiplier.</strong>`;
                }
            },
            {
                id: "grassroots_infiltration",
                name: "Grassroots Infiltration",
                cost: 12,
                target: "Opponent Ground Operations",
                description: "Place undercover operatives inside the opponent's volunteer and field operations in a key state.",
                requiresStateSelection: true,
                successEffect: (targetStateName) => {
                    const ct_temp = campaignTrail_temp;
                    const stateEntry = ct_temp.states_json.find(s => s.fields.name === targetStateName);
                    if (!stateEntry) return `State ${targetStateName} not found.`;

                    const stateMult = ct_temp.candidate_state_multiplier_json.find(f => f.fields.state === stateEntry.pk && f.fields.candidate === 16);
                    
                    const opponentMult = ct_temp.candidate_state_multiplier_json.find(f => 
                        f.fields.state === stateEntry.pk && f.fields.candidate === 17
                    );

                    if (stateMult) {
                        stateMult.fields.state_multiplier = (stateMult.fields.state_multiplier || 1) * 1.025;

                        if (opponentMult) {
                            opponentMult.fields.state_multiplier = (opponentMult.fields.state_multiplier || 1) * 0.987;
                        }

                        return `Asset in place! One of our operatives was able to infiltrate the GOP volunteer network in ${targetStateName}. We now have their canvassing lists and Get-Out-the-Vote staging locations, which gives us advantages when it comes to countering their ground game. Talk about killing two birds with one stone…<br><br><strong>Effect: +2.5% support multiplier for you and -1.2% for the Republican nominee in ${targetStateName}.</strong>`;
                    }
                    return `Player multiplier for ${targetStateName} not found.`;
                },
                failureEffect: (targetStateName) => {
                    operationsState.obamaPoints = Math.max(0, operationsState.obamaPoints - 4);
                    const ct_temp = campaignTrail_temp;
                    const stateEntry = ct_temp.states_json.find(s => s.fields.name === targetStateName);
                    if(stateEntry) {
                        const opponentMult = ct_temp.candidate_state_multiplier_json.find(f => 
                            f.fields.state === stateEntry.pk && f.fields.candidate === 17
                        );
                        if (opponentMult) {
                            opponentMult.fields.state_multiplier = (opponentMult.fields.state_multiplier || 1) * 1.01;
                        }
                    }
                    return `Yikes. A sharp-eyed field director flagged our operative; they were politely asked to leave. Well, they know we're watching their ground game in ${targetStateName} now, and will <i>definitely</i> use this to rally their volunteers.<br><br><strong>Effect: -4 OP and +1.0% Republican support multiplier in ${targetStateName}.</strong>`;
                }
            }
        ]
    },
    influenceOps: {
        name: "INFLUENCE OPERATIONS",
        classification: "SOFT POWER",
        description: "Secure strategic endorsements or sway public opinion.",
        baseSuccessRate: 0.67,
        cooldown: 1,
        riskLevel: "LOW",
        operations: [
            {
                id: "launch_media_blitz",
                name: "Launch Regional Media Blitz",
                cost: 4,
                target: "Selected State Media Outlets",
                description: "Saturate a target state's local media market with a highly focused advertising and PR campaign.",
                requiresStateSelection: true,
                successEffect: (targetStateName) => {
                    const ct_temp = campaignTrail_temp;
                    const stateEntry = ct_temp.states_json.find(s => s.fields.name === targetStateName);
                    if (!stateEntry) return `State ${targetStateName} not found.`;
                    const stateMult = ct_temp.candidate_state_multiplier_json.find(f => f.fields.state === stateEntry.pk && f.fields.candidate === 16);
                    if (stateMult) { stateMult.fields.state_multiplier = (stateMult.fields.state_multiplier || 1) * 1.008; return `Your media blitz in ${targetStateName} was quite successful. Local news coverage has been noticeably more positive, and our internal tracking polls show a slight uptick in your favorability, especially around manufacturing towns.<br><br><strong>Effect: +0.8% support multiplier in ${targetStateName}.</strong>`; }
                    return `Player multiplier for ${targetStateName} not found.`;
                },
                failureEffect: (targetStateName) => `Your media blitz in ${targetStateName} was ineffective; it looks like our ads were completely drowned out by the national media's obsession with Clint Eastwood talking to an empty chair at the RNC. Jesus, how long are they going to keep this up? It wasn't even a good speech.<br><br><strong>Effect: None.</strong>`
            },
            {
                id: "secure_union_support",
                name: "Secure Union Support",
                cost: 5,
                target: "Selected State Union Leaders",
                description: "Engage in backchannel negotiations with influential union leaders in a target state.",
                requiresStateSelection: true,
                successEffect: (targetStateName) => {
                    const ct_temp = campaignTrail_temp;
                    const stateEntry = ct_temp.states_json.find(s => s.fields.name === targetStateName);
                    if (stateEntry) {
                        const stateMult = ct_temp.candidate_state_multiplier_json.find(f => f.fields.state === stateEntry.pk && f.fields.candidate === 16);
                        if (stateMult) {
                            stateMult.fields.state_multiplier = (stateMult.fields.state_multiplier || 1) * 1.012;
                            return `After reminding them of the auto rescue, the leadership of the local UAW chapter in ${targetStateName} has agreed to back us. They're activating their phone banks and putting boots on the ground for us. Luckily, this is a significant boost for us.<br><br><strong>Effect: +1.2% support multiplier in ${targetStateName}.</strong>`;
                        }
                    }
                    return `Could not apply union boost in ${targetStateName}.`;
                },
                failureEffect: (targetStateName) => {
                    operationsState.obamaPoints = Math.max(0, operationsState.obamaPoints - 2);
                    const ct_temp = campaignTrail_temp;
                    const stateEntry = ct_temp.states_json.find(s => s.fields.name === targetStateName);
                    if (stateEntry) {
                        const stateMult = ct_temp.candidate_state_multiplier_json.find(f => f.fields.state === stateEntry.pk && f.fields.candidate === 16);
                        if (stateMult) {
                            stateMult.fields.state_multiplier = (stateMult.fields.state_multiplier || 1) * 0.993;
                        }
                    }
                    return `Negotiations in ${targetStateName} stalled. It seems the local union's leadership is worried that the Republican message on the economy is resonating with some of their more conservative members. They couldn't guarantee their members would follow, so they backed away. Of course, we get nothing.<br><br><strong>Effect: -2 OP and -0.7% support multiplier in ${targetStateName}.</strong>`;
                }
            }
        ]
    }
};

function getCurrentQuestionNumber() {
    if (typeof campaignTrail_temp !== 'undefined' && campaignTrail_temp !== null && typeof campaignTrail_temp.question_number !== 'undefined') {
        const qn = parseInt(campaignTrail_temp.question_number, 10);
        return !isNaN(qn) && qn >= 1 ? qn : 1;
    }
    return 1;
}

function updateOperationsState() {
    const calculatePcGain = () => Math.floor(Math.random() * 3) + 2;
    const currentQ = getCurrentQuestionNumber();
    const questionsAdvanced = currentQ - operationsState.lastQuestionNumber;

    if (questionsAdvanced > 0) {
        let totalPcGained = 0;
        for (let i = 0; i < questionsAdvanced; i++) {
            totalPcGained += calculatePcGain();
        }
        operationsState.obamaPoints += totalPcGained;

        for (const [key, cooldown] of Object.entries(operationsState.cooldowns)) {
            if (cooldown > 0) {
                operationsState.cooldowns[key] = Math.max(0, cooldown - questionsAdvanced);
            }
        }
        operationsState.lastQuestionNumber = currentQ;
    }
}

function getAvailableOperations() {
    if (typeof campaignTrail_temp === 'undefined' || campaignTrail_temp === null) return [];
    const available = [];
    for (const [categoryKey, categoryData] of Object.entries(SABOTAGE_OPERATIONS)) {
        if (!operationsState.cooldowns[categoryKey] || operationsState.cooldowns[categoryKey] <= 0) {
            for (const operation of categoryData.operations) {
                if (!operationsState.completed.includes(operation.id)) {
                    available.push({ ...operation, category: categoryKey, categoryData });
                }
            }
        }
    }
    return available;
}

function openHeadquarter() {
    const topOpponents = selectTopOpponents();
    
    const liberalismFeedback = getFeedbackForScore(window.liberalismScore, liberalismTextMap);
    const confrontationFeedback = getFeedbackForScore(window.confrontationScore, confrontationTextMap);

    const questions = document.querySelector(".inner_window_question");
    if (questions) questions.style.display = 'none';

    const hqDiv = document.createElement('div');
    hqDiv.id = 'headquarter';
    hqDiv.style.cssText = `
        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        color: #333;
        background-image: url('https://file.garden/aNtAfG887DiA_7lO/2012LBM/vm4ADSR.jpeg');
        border: 1px solid #222;
        border-radius: 12px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.5);
        display: flex; flex-direction: column;
        max-height: 23.7em; overflow-y: hidden;
        position: relative;
    `;

    const headerDiv = document.createElement('div');
    headerDiv.style.cssText = `
        background-image: linear-gradient(to bottom, #d8d8d8, #a7a7a7);
        border-bottom: 1px solid #6d6d6d;
        padding: 8px 12px;
        border-radius: 12px 12px 0 0;
        display: flex; justify-content: space-between; align-items: center;
        box-shadow: inset 0 1px 0 #f0f0f0;
        flex-shrink: 0;
    `;
    
    const backButton = document.createElement('button');
    backButton.innerText = 'Done';
    backButton.style.cssText = `
        font-weight: bold; color: #555; text-shadow: 0 1px 0 white;
        background-image: linear-gradient(to bottom, #f0f0f0, #c0c0c0);
        border: 1px solid #888; border-radius: 6px; padding: 5px 12px;
        box-shadow: 0 1px 2px rgba(0,0,0,0.2); cursor: pointer;
    `;
    backButton.onclick = function() {
        if (hqDiv) hqDiv.remove();
        if (questions) questions.style.display = '';
    };
    headerDiv.appendChild(backButton);
    
    const headerText = document.createElement('h2');
    headerText.innerHTML = 'Campaign Dashboard';
    headerText.style.cssText = 'flex-grow: 1; text-align: center; margin: 0; font-size: 1.1em; color: #444; text-shadow: 0 1px 0 #fff;';
    headerDiv.appendChild(headerText);
    
    const spacer = document.createElement('div');
    spacer.style.width = '57px';
    headerDiv.appendChild(spacer);
    hqDiv.appendChild(headerDiv);

    const tabBar = document.createElement('div');
    tabBar.style.cssText = `
        display: flex; padding: 10px; flex-shrink: 0;
        background-image: linear-gradient(to bottom, #a0a0a0, #888888);
    `;
    
    const dashboardTabBtn = document.createElement('button');
    dashboardTabBtn.innerText = 'Dashboard';
    const operationsTabBtn = document.createElement('button');
    operationsTabBtn.innerText = 'Operations';
    
    const tabContentContainer = document.createElement('div');
    tabContentContainer.style.cssText = `flex-grow: 1; overflow-y: auto;`;
    
    const dashboardTab = document.createElement('div');
    dashboardTab.id = 'dashboardContent';
    const operationsTab = document.createElement('div');
    operationsTab.id = 'operationsContent';
    operationsTab.style.display = 'none';
    
    tabContentContainer.appendChild(dashboardTab);
    tabContentContainer.appendChild(operationsTab);
    hqDiv.appendChild(tabBar);
    hqDiv.appendChild(tabContentContainer);

    const styleTabButton = (btn, isActive) => {
        btn.style.cssText = `
            flex: 1; text-align: center; font-size: 0.9em; font-weight: bold;
            padding: 6px 0; border: 1px solid #666;
            cursor: pointer; transition: all 0.2s ease;
        `;
        if(isActive) {
            btn.style.background = 'linear-gradient(to bottom, #4a90e2, #357ABD)';
            btn.style.color = 'white';
            btn.style.textShadow = '0 -1px 0 rgba(0,0,0,0.3)';
            btn.style.boxShadow = 'inset 0 1px 3px rgba(0,0,0,0.4)';
        } else {
            btn.style.background = 'linear-gradient(to bottom, #d0d0d0, #b0b0b0)';
            btn.style.color = '#444';
            btn.style.textShadow = '0 1px 0 rgba(255,255,255,0.7)';
        }
    };

    dashboardTabBtn.onclick = () => {
        styleTabButton(dashboardTabBtn, true);
        styleTabButton(operationsTabBtn, false);
        dashboardTab.style.display = 'block';
        operationsTab.style.display = 'none';
        headerText.innerText = 'Campaign Dashboard';
    };
    operationsTabBtn.onclick = () => {
        styleTabButton(dashboardTabBtn, false);
        styleTabButton(operationsTabBtn, true);
        dashboardTab.style.display = 'none';
        operationsTab.style.display = 'block';
        headerText.innerText = 'Covert Operations';
        buildOperationsTab(operationsTab);
    };

    styleTabButton(dashboardTabBtn, true);
    styleTabButton(operationsTabBtn, false);
    dashboardTabBtn.style.borderRadius = '6px 0 0 6px';
    dashboardTabBtn.style.borderRight = 'none';
    operationsTabBtn.style.borderRadius = '0 6px 6px 0';
    tabBar.appendChild(dashboardTabBtn);
    tabBar.appendChild(operationsTabBtn);
    
    buildDashboardTab(dashboardTab, topOpponents, liberalismFeedback, confrontationFeedback);

    if (questions) {
        questions.parentNode.insertBefore(hqDiv, questions);
    } else {
        document.body.appendChild(hqDiv);
    }
}

function buildDashboardTab(container, topOpponents, liberalismFeedback, confrontationFeedback) {
    container.innerHTML = '';

    const libScore = window.liberalismScore;
    const confScore = window.confrontationScore;

    const rightNominee = getRightThirdPartyNominee(libScore, confScore);
    const rightVP = getRightThirdPartyVP(rightNominee, libScore, confScore);
    
    const leftNominee = getLeftThirdPartyNominee(libScore, confScore);
    const leftVP = getLeftThirdPartyVP(leftNominee, libScore, confScore);

    let rightText = "";
    let leftText = "";

    if (rightNominee === "Gary Johnson") {
        rightText = `The Libertarian ticket is shaping up to be <strong>Gary Johnson / ${rightVP}</strong>.`;
    } else {
        rightText = `Rumors indicate <strong>${rightNominee}</strong> is gearing up for a third-party run from the right, likely with <strong>${rightVP}</strong>.`;
    }

    if (leftNominee === "Jill Stein") {
        leftText = `The Green Party ticket is likely to be <strong>Jill Stein / ${leftVP}</strong>.`;
    } else {
        leftText = `Also noted: <strong>${leftNominee}</strong> is attracting disaffected left-wing voters, running with <strong>${leftVP}</strong>.`;
    }

    const contentRow = document.createElement('div');
    contentRow.style.cssText = `
        display: flex; justify-content: space-around; align-items: flex-start;
        width: 100%; flex-wrap: wrap; padding: 20px; box-sizing: border-box;
    `;

    const statsContainer = document.createElement('div');
    statsContainer.style.cssText = 'flex: 1; min-width: 320px; padding-right: 20px; box-sizing: border-box; color: white; text-shadow: 0 1px 3px #000;';
    
    statsContainer.innerHTML = `
        <h3 style="border-bottom: 1px solid rgba(255,255,255,0.3); padding-bottom: 5px; margin-top:0;">Internal polling</h3>
        <p>Progressives <i>${liberalismFeedback.text}</i> the Obama-Biden administration. <span style="opacity: 0.6;">(${liberalismFeedback.score})</span></p>
        <p>Your campaign’s rhetoric has been <i>${confrontationFeedback.text}</i>. <span style="opacity: 0.6;">(${confrontationFeedback.score})</span></p>
        
        <h3 style="margin-top: 2em; border-bottom: 1px solid rgba(255,255,255,0.3); padding-bottom: 5px;">External factors</h3>
        <p>${rightText}</p>
        <p>${leftText}</p>
    `;
    contentRow.appendChild(statsContainer);

    const opponentContainer = document.createElement('div');
    opponentContainer.style.cssText = 'flex: 1; min-width: 320px; padding-left: 20px; border-left: 1px solid rgba(255,255,255,0.2); box-sizing: border-box; color: white; text-shadow: 0 1px 3px #000;';
    
    const opponentTitleText = opponentIsLocked ? "Republican nominee" : "The other side";
    opponentContainer.innerHTML = `<h3 style="border-bottom: 1px solid rgba(255,255,255,0.3); padding-bottom: 5px; margin-top:0;">${opponentTitleText}</h3>`;
    
    // display top 2 opponents as cards
    topOpponents.slice(0, 2).forEach((opponent, index) => {
        const opponentCard = document.createElement('div');
        opponentCard.style.cssText = `
            background: rgba(0,0,0,0.3);
            border: 2px solid ${index === 0 ? '#c62828' : '#ffa726'};
            border-radius: 8px;
            padding: 10px;
            margin-bottom: 12px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        `;
        
        const badgeColor = index === 0 ? '#c62828' : '#ffa726';
        const badgeText = index === 0 ? 'FRONTRUNNER' : 'CONTENDER';
        
        const badge = document.createElement('div');
        badge.style.cssText = `
            background: ${badgeColor};
            color: white;
            font-size: 0.7em;
            font-weight: bold;
            padding: 3px 8px;
            border-radius: 4px;
            display: inline-block;
            margin-bottom: 8px;
            letter-spacing: 0.5px;
        `;
        badge.innerText = badgeText;
        opponentCard.appendChild(badge);
        
        const profileRow = document.createElement('div');
        profileRow.style.cssText = 'display: flex; align-items: flex-start; gap: 12px;';
        
        const img = document.createElement('img');
        img.src = opponent.picture;
        img.style.cssText = `
            width: 70px;
            height: 87px;
            border: 2px ridge ${badgeColor};
            border-radius: 6px;
            object-fit: cover;
            flex-shrink: 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.4);
        `;
        
        const textDiv = document.createElement('div');
        textDiv.style.flex = '1';
        textDiv.innerHTML = `
            <h4 style="margin: 0 0 6px 0; font-size: 1.2em; font-weight: bold;">${opponent.name}</h4>
            <p style="margin: 0; font-size: 0.85em; line-height: 1.4; opacity: 0.95;">${opponent.advice}</p>
        `;
        
        profileRow.appendChild(img);
        profileRow.appendChild(textDiv);
        opponentCard.appendChild(profileRow);
        opponentContainer.appendChild(opponentCard);
    });

    // show third contender as smaller mention if available
    if (topOpponents[2]) {
        const mentionDiv = document.createElement('div');
        mentionDiv.style.cssText = `
            background: rgba(255,255,255,0.1);
            border-left: 3px solid #999;
            padding: 8px 12px;
            margin-top: 8px;
            border-radius: 4px;
            font-size: 0.85em;
            opacity: 0.8;
        `;
        mentionDiv.innerHTML = `<strong>${topOpponents[2].name}</strong> is also in the race but trailing significantly.`;
        opponentContainer.appendChild(mentionDiv);
    }

    contentRow.appendChild(opponentContainer);
    container.appendChild(contentRow);
}

function buildOperationsTab(container) {
    container.innerHTML = '';
    updateOperationsState();

    const contentRow = document.createElement('div');
    contentRow.style.cssText = `
        display: flex;
        gap: 16px;
        width: 100%;
        padding: 16px;
        box-sizing: border-box;
    `;

    // operations list
    const operationsListContainer = document.createElement('div');
    operationsListContainer.style.cssText = `
        flex: 2;
        display: flex;
        flex-direction: column;
        gap: 10px;
    `;

    const availableOps = getAvailableOperations();
    if (availableOps.length === 0) {
        const emptyCard = document.createElement('div');
        emptyCard.style.cssText = `
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 8px;
            padding: 32px;
            text-align: center;
            color: white;
            text-shadow: 0 1px 2px #000;
        `;
        emptyCard.innerHTML = `
            <div style="font-size: 2.5em; margin-bottom: 12px; opacity: 0.6;">⏳</div>
            <h3 style="margin: 0 0 8px 0;">No active operations</h3>
            <p style="margin: 0; font-size: 0.9em; opacity: 0.8;">Tough luck, buddy. Your team is awaiting new opportunities. Check back after the next question.</p>
        `;
        operationsListContainer.appendChild(emptyCard);
    } else {
        for (const op of availableOps) {
            const opCard = document.createElement('div');
            opCard.style.cssText = `
                background: rgba(0,0,0,0.4);
                border: 1px solid rgba(255,255,255,0.2);
                border-radius: 8px;
                padding: 12px;
                box-shadow: 0 2px 4px rgba(0,0,0,0.2);
                display: flex;
                justify-content: space-between;
                align-items: center;
                gap: 12px;
                transition: all 0.2s ease;
                color: white;
                text-shadow: 0 1px 2px #000;
            `;
            
            // Add hover effect
            opCard.onmouseenter = () => {
                opCard.style.background = 'rgba(0, 0, 0, 0.6)';
                opCard.style.transform = 'translateY(-2px)';
                opCard.style.boxShadow = '0 4px 8px rgba(0,0,0,0.3)';
            };
            opCard.onmouseleave = () => {
                opCard.style.background = 'rgba(0, 0, 0, 0.4)';
                opCard.style.transform = 'translateY(0)';
                opCard.style.boxShadow = '0 2px 4px rgba(0,0,0,0.2)';
            };

            const opDetails = document.createElement('div');
            opDetails.style.flex = '1';
            
            const titleRow = document.createElement('div');
            titleRow.style.cssText = 'display: flex; align-items: center; gap: 8px; margin-bottom: 6px;';
            
            const opTitle = document.createElement('h4');
            opTitle.style.cssText = 'margin: 0; font-size: 1em; font-weight: bold;';
            opTitle.innerText = op.name;
            
            const costBadge = document.createElement('span');
            costBadge.style.cssText = `
                background: rgba(100,181,246,0.3);
                border: 1px solid #64b5f6;
                color: #64b5f6;
                padding: 2px 8px;
                border-radius: 12px;
                font-size: 0.75em;
                font-weight: bold;
            `;
            costBadge.innerText = `${op.cost} OP`;
            
            titleRow.appendChild(opTitle);
            titleRow.appendChild(costBadge);
            
            const opDesc = document.createElement('p');
            opDesc.style.cssText = 'margin: 0; font-size: 1.2em; opacity: 0.9; line-height: 1.4;';
            opDesc.innerText = op.description;
            
            opDetails.appendChild(titleRow);
            opDetails.appendChild(opDesc);

            const executeBtn = document.createElement('button');
            executeBtn.innerText = 'Execute';
            executeBtn.style.cssText = `
                font-weight: bold;
                color: white;
                background-image: linear-gradient(to bottom, #8B0000, #B22222);
                border: 1px solid #5a0000;
                border-radius: 6px;
                padding: 8px 16px;
                cursor: pointer;
                transition: all 0.2s ease;
                box-shadow: 0 1px 3px rgba(0,0,0,0.3);
                white-space: nowrap;
            `;
            
            if (operationsState.obamaPoints < op.cost) {
                executeBtn.disabled = true;
                executeBtn.style.opacity = '0.4';
                executeBtn.style.cursor = 'not-allowed';
                executeBtn.style.backgroundImage = 'linear-gradient(to bottom, #666, #555)';
            } else {
                executeBtn.onmouseenter = () => {
                    executeBtn.style.backgroundImage = 'linear-gradient(to bottom, #A00000, #D32F2F)';
                    executeBtn.style.transform = 'scale(1.05)';
                };
                executeBtn.onmouseleave = () => {
                    executeBtn.style.backgroundImage = 'linear-gradient(to bottom, #8B0000, #B22222)';
                    executeBtn.style.transform = 'scale(1)';
                };
            }
            
            executeBtn.onclick = () => {
                if (op.requiresStateSelection) { 
                    showStateSelectionForOperation(op); 
                } else { 
                    showExecutionModal(op); 
                }
            };

            opCard.appendChild(opDetails);
            opCard.appendChild(executeBtn);
            operationsListContainer.appendChild(opCard);
        }
    }

    contentRow.appendChild(operationsListContainer);

    // status sidebar
    const statusContainer = document.createElement('div');
    statusContainer.style.cssText = `
        flex: 1;
        min-width: 200px;
        display: flex;
        flex-direction: column;
        gap: 12px;
    `;

    // points display card
    const pointsCard = document.createElement('div');
    pointsCard.style.cssText = `
        background: rgba(18, 87, 142, 0.3);
        border: 2px solid #64b5f6;
        border-radius: .5em 0;
        padding: 16px;
        text-align: center;
        color: white;
        text-shadow: 0 1px 2px #000;
        box-shadow: 0 2px 6px rgba(0,0,0,0.3);
    `;
    pointsCard.innerHTML = `
        <div style="font-size: 0.8em; opacity: 0.9; margin-bottom: 4px; font-weight: 600; letter-spacing: 0.5px;">OBAMA POINTS</div>
        <div style="font-size: 2.2em; font-weight: bold; color: #64b5f6;">${operationsState.obamaPoints}</div>
        <div style="font-size: 0.75em; opacity: 0.8; margin-top: 4px;">Available</div>
    `;
    statusContainer.appendChild(pointsCard);

    // cooldowns card
    const cooldownsCard = document.createElement('div');
    cooldownsCard.style.cssText = `
        background: rgba(255,255,255,0.1);
        border: 1px solid rgba(255,255,255,0.2);
        border-radius: 8px;
        padding: 12px;
        box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        color: white;
        text-shadow: 0 1px 2px #000;
    `;
    
    const cooldownTitle = document.createElement('h4');
    cooldownTitle.style.cssText = 'margin: 0 0 10px 0; font-size: 0.9em; font-weight: bold; opacity: 0.9;';
    cooldownTitle.innerText = 'Category cooldowns';
    cooldownsCard.appendChild(cooldownTitle);
    
    let hasCooldowns = false;
    for (const [key, value] of Object.entries(operationsState.cooldowns)) {
        if (value > 0) {
            hasCooldowns = true;
            const categoryName = SABOTAGE_OPERATIONS[key]?.name || key;
            
            const cooldownItem = document.createElement('div');
            cooldownItem.style.cssText = `
                background: rgba(255,152,0,0.2);
                border-left: 3px solid #ff9800;
                padding: 6px 8px;
                margin-bottom: 6px;
                border-radius: 4px;
                font-size: 0.8em;
            `;
            cooldownItem.innerHTML = `
                <strong style="display: block; margin-bottom: 2px;">${categoryName}</strong>
                <span style="opacity: 0.8;">${value} turn(s) remaining</span>
            `;
            cooldownsCard.appendChild(cooldownItem);
        }
    }
    
    if (!hasCooldowns) {
        const noCooldownDiv = document.createElement('div');
        noCooldownDiv.style.cssText = `
            text-align: center;
            padding: 12px;
            font-size: 0.85em;
            opacity: 0.7;
        `;
        noCooldownDiv.innerHTML = `All categories ready`;
        cooldownsCard.appendChild(noCooldownDiv);
    }
    
    statusContainer.appendChild(cooldownsCard);
    contentRow.appendChild(statusContainer);
    container.appendChild(contentRow);
}

function showExecutionModal(operation, targetStateName = null) {
    const existingModal = document.getElementById('opExecutionModal');
    if (existingModal) existingModal.remove();

    const baseCost = operation.cost;
    const boostedCost = baseCost + PC_BOOST_COST;
    const canAffordBase = operationsState.obamaPoints >= baseCost;
    const canAffordBoost = operationsState.obamaPoints >= boostedCost;
	
	const rawBaseRate = operation.categoryData.baseSuccessRate;
    const currentBaseRate = calculateCurrentSuccessRate(rawBaseRate);
    
    // calculate the fatigue penalty for display
    const fatiguePenalty = Math.round((rawBaseRate - currentBaseRate) * 100);
    
    const baseSuccessRate = operation.categoryData.baseSuccessRate;
    const boostedSuccessRate = Math.min(0.98, baseSuccessRate + PC_BOOST_EFFECT);

    const overlay = document.createElement('div');
    overlay.id = 'opExecutionModal';
    overlay.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.75);
        z-index: 1002;
        display: flex;
        align-items: center;
        justify-content: center;
        animation: fadeIn 0.2s ease;
    `;

    const modal = document.createElement('div');
    modal.style.cssText = `
        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        background-image: url('https://file.garden/aNtAfG887DiA_7lO/2012LBM/vm4ADSR.jpeg');
        border: 1px solid #222;
        border-radius: 12px;
        box-shadow: 0 8px 30px rgba(0,0,0,0.6);
        width: 500px;
        animation: slideUp 0.3s ease;
    `;
    
    const header = document.createElement('div');
    header.style.cssText = `
        background-image: linear-gradient(to bottom, #d8d8d8, #a7a7a7);
        border-bottom: 1px solid #6d6d6d;
        padding: 16px;
        border-radius: 12px 12px 0 0;
        box-shadow: inset 0 1px 0 #f0f0f0;
    `;
    header.innerHTML = `
        <h3 style="margin: 0; color: #444; text-shadow: 0 1px 0 #fff; text-align: center; font-size: 1.2em;">
            Confirm Operation
        </h3>
    `;

    const content = document.createElement('div');
    content.style.cssText = `
        padding: 1em;
        color: white;
        text-shadow: 0 1px 2px #000;
    `;
    
    const targetText = targetStateName ? ` in <strong>${targetStateName}</strong>` : '';
    const opTitle = document.createElement('div');
    opTitle.style.cssText = `
        text-align: center;
        margin-bottom: 24px;
        padding: 12px;
        background: rgba(0,0,0,0.3);
        border-radius: 8px;
        border: 1px solid rgba(255,255,255,0.1);
    `;
    opTitle.innerHTML = `
        <div style="font-size: 1.15em; opacity: 0.8; margin-bottom: 4px;">Execute Operation</div>
        <div style="font-size: 1.2em; font-weight: bold;">${operation.name}</div>
        ${targetText ? `<div style="font-size: 0.9em; margin-top: 4px; opacity: 0.9;">${targetText}</div>` : ''}
    `;
    content.appendChild(opTitle);
	
	if (fatiguePenalty > 0) {
        const warning = document.createElement('div');
        warning.style.cssText = `
            font-size: 1.15em; color: #ffcc80; text-align: center; max-width: 75%;
            margin: -5px auto 15px auto; font-style: italic;  
        `;
        warning.innerHTML = `Fatigue: success chance reduced by <strong>${fatiguePenalty}%</strong> due to prior activity. Don't wanna get caught up in it, you know.`;
        content.appendChild(warning);
    }

    const standardOption = document.createElement('button');
    standardOption.style.cssText = `
        width: 100%;
        padding: 14px;
        border: 2px solid #64b5f6;
        border-radius: 8px;
        cursor: pointer;
        background: rgba(100,181,246,0.15);
        color: white;
        margin-bottom: 12px;
        transition: all 0.2s ease;
        box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    `;
    standardOption.innerHTML = `
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 6px;">
            <span style="font-weight: bold; font-size: 1.05em;">Standard Execution</span>
            <span style="background: rgba(100,181,246,0.4); padding: 4px 10px; border-radius: 12px; font-weight: bold; font-size: 0.85em;">${baseCost} OP</span>
        </div>
        <div style="opacity: 0.9; font-size: 0.9em;">Success rate: <strong>${Math.round(baseSuccessRate * 100)}%</strong></div>
    `;
    
    if (canAffordBase) {
        standardOption.onmouseenter = () => {
            standardOption.style.background = 'rgba(100,181,246,0.25)';
            standardOption.style.transform = 'translateY(-2px)';
            standardOption.style.boxShadow = '0 4px 8px rgba(0,0,0,0.3)';
        };
        standardOption.onmouseleave = () => {
            standardOption.style.background = 'rgba(100,181,246,0.15)';
            standardOption.style.transform = 'translateY(0)';
            standardOption.style.boxShadow = '0 2px 4px rgba(0,0,0,0.2)';
        };
        standardOption.onclick = () => { 
            overlay.remove(); 
            executeOperation(operation, baseCost, baseSuccessRate, targetStateName); 
        };
    } else {
        standardOption.disabled = true;
        standardOption.style.opacity = '0.5';
        standardOption.style.cursor = 'not-allowed';
        standardOption.innerHTML += `<div style="color: #ef9a9a; font-size: 0.85em; margin-top: 6px; font-weight: bold;">INSUFFICIENT POINTS</div>`;
    }

    const boostedOption = document.createElement('button');
    boostedOption.style.cssText = `
        width: 100%;
        padding: 14px;
        border: 2px solid #81c784;
        border-radius: 8px;
        cursor: pointer;
        background: rgba(129,199,132,0.15);
        color: white;
        margin-bottom: 12px;
        transition: all 0.2s ease;
        box-shadow: 0 2px 4px rgba(0,0,0,0.2);
    `;
    boostedOption.innerHTML = `
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 6px;">
            <span style="font-weight: bold; font-size: 1.05em;">Boost Funding</span>
            <span style="background: rgba(129,199,132,0.4); padding: 4px 10px; border-radius: 12px; font-weight: bold; font-size: 0.85em;">${boostedCost} OP</span>
        </div>
        <div style="opacity: 0.9; font-size: 0.9em;">Success rate: <strong>${Math.round(boostedSuccessRate * 100)}%</strong></div>
    `;
    
    if (canAffordBoost) {
        boostedOption.onmouseenter = () => {
            boostedOption.style.background = 'rgba(129,199,132,0.25)';
            boostedOption.style.transform = 'translateY(-2px)';
            boostedOption.style.boxShadow = '0 4px 8px rgba(0,0,0,0.3)';
        };
        boostedOption.onmouseleave = () => {
            boostedOption.style.background = 'rgba(129,199,132,0.15)';
            boostedOption.style.transform = 'translateY(0)';
            boostedOption.style.boxShadow = '0 2px 4px rgba(0,0,0,0.2)';
        };
        boostedOption.onclick = () => { 
            overlay.remove(); 
            executeOperation(operation, boostedCost, boostedSuccessRate, targetStateName); 
        };
    } else {
        boostedOption.disabled = true;
        boostedOption.style.opacity = '0.5';
        boostedOption.style.cursor = 'not-allowed';
        boostedOption.innerHTML += `<div style="color: #ef9a9a; font-size: 0.85em; margin-top: 6px; font-weight: bold;">INSUFFICIENT POINTS</div>`;
    }
    
    content.appendChild(standardOption);
    content.appendChild(boostedOption);

    const footer = document.createElement('div');
    footer.style.cssText = `
        padding: 16px;
        background: rgba(0,0,0,0.2);
        border-top: 1px solid #555;
        text-align: center;
        border-radius: 0 0 12px 12px;
    `;
    const cancelBtn = document.createElement('button');
    cancelBtn.innerText = 'Cancel';
    cancelBtn.style.cssText = `
        font-weight: bold;
        color: #555;
        text-shadow: 0 1px 0 white;
        background-image: linear-gradient(to bottom, #f0f0f0, #c0c0c0);
        border: 1px solid #888;
        border-radius: 6px;
        padding: 8px 20px;
        cursor: pointer;
        transition: all 0.2s ease;
        box-shadow: 0 1px 2px rgba(0,0,0,0.2);
    `;
    cancelBtn.onmouseenter = () => {
        cancelBtn.style.backgroundImage = 'linear-gradient(to bottom, #fff, #d0d0d0)';
        cancelBtn.style.transform = 'scale(1.05)';
    };
    cancelBtn.onmouseleave = () => {
        cancelBtn.style.backgroundImage = 'linear-gradient(to bottom, #f0f0f0, #c0c0c0)';
        cancelBtn.style.transform = 'scale(1)';
    };
    cancelBtn.onclick = () => overlay.remove();
    
    footer.appendChild(cancelBtn);
    modal.appendChild(header);
    modal.appendChild(content);
    modal.appendChild(footer);
    overlay.appendChild(modal);
    document.body.appendChild(overlay);
}

function showOperationResult(operation, success, message) {
    const overlay = document.createElement('div');
    overlay.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.85);
        z-index: 1003;
        display: flex;
        align-items: center;
        justify-content: center;
        animation: fadeIn 0.2s ease;
    `;

    const modal = document.createElement('div');
    const borderColor = success ? '#81c784' : '#e57373';
    const glowColor = success ? 'rgba(129,199,132,0.4)' : 'rgba(229,115,115,0.4)';
    
    modal.style.cssText = `
        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        background-image: url('https://file.garden/aNtAfG887DiA_7lO/2012LBM/vm4ADSR.jpeg');
        border: 2px solid ${borderColor};
        box-shadow: 0 10px 40px rgba(0,0,0,0.8), 0 0 30px ${glowColor};
        width: 520px;
        text-align: center;
        color: white;
        text-shadow: 0 2px 4px #000;
        border-radius: 12px;
        overflow: hidden;
        animation: slideUp 0.3s ease;
    `;

    const header = document.createElement('div');
    const headerGradient = success 
        ? 'linear-gradient(135deg, #66bb6a, #81c784)' 
        : 'linear-gradient(135deg, #e57373, #ef5350)';
    header.style.cssText = `
        padding: 1em;
        background: ${headerGradient};
        border-bottom: 2px solid ${borderColor};
    `;
    
    const statusText = success ? 'OPERATION SUCCESS' : 'OPERATION FAILED';
    
    header.innerHTML = `
        <h2 style="margin: 0; font-size: 1.5em; font-weight: bold; letter-spacing: 2px; text-transform: uppercase;">
            ${statusText}
        </h2>
    `;

    const content = document.createElement('div');
    content.style.cssText = `
        padding: 28px 32px;
        background: rgba(0,0,0,0.4);
    `;
    
    const opName = document.createElement('div');
    opName.style.cssText = `
        background: rgba(0,0,0,0.3);
        border: 1px solid rgba(255,255,255,0.2);
        border-radius: 6px;
        padding: 10px;
        margin-bottom: 20px;
        font-size: 0.95em;
        font-weight: bold;
        letter-spacing: 0.5px;
        color: ${borderColor};
    `;
    opName.innerText = operation.name.toUpperCase();
    content.appendChild(opName);
    
    const messageDiv = document.createElement('p');
    messageDiv.style.cssText = `
        font-size: 1.25em;
        line-height: 1.6;
        margin: 0;
        text-align: left;
    `;
    messageDiv.innerHTML = message;
    content.appendChild(messageDiv);

    const footer = document.createElement('div');
    footer.style.cssText = `
        padding: 20px;
        background: rgba(0,0,0,0.3);
        border-top: 1px solid rgba(255,255,255,0.1);
    `;
    
    const closeBtn = document.createElement('button');
    closeBtn.innerText = 'Acknowledged';
    const btnGradient = success 
        ? 'linear-gradient(to bottom, #66bb6a, #4caf50)' 
        : 'linear-gradient(to bottom, #e57373, #d32f2f)';
    const btnBorder = success ? '#388e3c' : '#b71c1c';
    
    closeBtn.style.cssText = `
        font-weight: bold;
        font-size: 1.05em;
        color: white;
        background-image: ${btnGradient};
        border: 2px solid ${btnBorder};
        border-radius: 8px;
        padding: 12px 32px;
        cursor: pointer;
        transition: all 0.2s ease;
        box-shadow: 0 3px 8px rgba(0,0,0,0.3);
        text-transform: uppercase;
        letter-spacing: 1px;
    `;
    
    closeBtn.onmouseenter = () => {
        closeBtn.style.transform = 'scale(1.05) translateY(-2px)';
        closeBtn.style.boxShadow = '0 5px 15px rgba(0,0,0,0.4)';
    };
    closeBtn.onmouseleave = () => {
        closeBtn.style.transform = 'scale(1) translateY(0)';
        closeBtn.style.boxShadow = '0 3px 8px rgba(0,0,0,0.3)';
    };
    closeBtn.onclick = () => overlay.remove();

    footer.appendChild(closeBtn);
    modal.appendChild(header);
    modal.appendChild(content);
    modal.appendChild(footer);
    overlay.appendChild(modal);
    document.body.appendChild(overlay);
    
    // animation styles
    const style = document.createElement('style');
    style.textContent = `
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        @keyframes slideUp {
            from { 
                opacity: 0;
                transform: translateY(30px) scale(0.95);
            }
            to { 
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
    `;
    if (!document.querySelector('style[data-op-animations]')) {
        style.setAttribute('data-op-animations', 'true');
        document.head.appendChild(style);
    }
}

function showStateSelectionForOperation(operation) {
    const existingModal = document.getElementById('opStateSelectionModal');
    if (existingModal) existingModal.remove();

    const overlay = document.createElement('div');
    overlay.id = 'opStateSelectionModal';
    overlay.style.cssText = `
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: rgba(0,0,0,0.75);
        z-index: 1001;
        display: flex;
        align-items: center;
        justify-content: center;
        animation: fadeIn 0.2s ease;
    `;

    const modal = document.createElement('div');
    modal.style.cssText = `
        font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
        background-image: url('https://file.garden/aNtAfG887DiA_7lO/2012LBM/vm4ADSR.jpeg');
        border: 1px solid #222;
        border-radius: 12px;
        box-shadow: 0 8px 30px rgba(0,0,0,0.6);
        width: 480px;
        animation: slideUp 0.3s ease;
    `;

    const header = document.createElement('div');
    header.style.cssText = `
        background-image: linear-gradient(to bottom, #d8d8d8, #a7a7a7);
        border-bottom: 1px solid #6d6d6d;
        padding: 16px;
        border-radius: 12px 12px 0 0;
        box-shadow: inset 0 1px 0 #f0f0f0;
    `;
    header.innerHTML = `
        <h3 style="margin: 0; color: #444; text-shadow: 0 1px 0 #fff; text-align: center; font-size: 1.2em;">
           Select Target State
        </h3>
    `;
    
    const content = document.createElement('div');
    content.style.cssText = `
        padding: 1em;
        color: white;
        text-shadow: 0 1px 2px #000;
    `;
    
    const opLabel = document.createElement('div');
    opLabel.style.cssText = `
        text-align: center;
        margin-bottom: 20px;
        padding: 10px;
        background: rgba(0,0,0,0.3);
        border-radius: 6px;
        border: 1px solid rgba(255,255,255,0.1);
    `;
    opLabel.innerHTML = `
        <div style="font-size: 0.85em; opacity: 0.8; margin-bottom: 4px;">Operation</div>
        <div style="font-weight: bold; font-size: 1.3em;">${operation.name}</div>
    `;
    content.appendChild(opLabel);
    
    const selectLabel = document.createElement('label');
    selectLabel.style.cssText = `
        display: block;
        font-size: 1.2em;
        margin-bottom: 8px;
        opacity: 0.9;
    `;
    selectLabel.innerText = 'Choose a state:';
    content.appendChild(selectLabel);

    const stateSelect = document.createElement('select');
    stateSelect.style.cssText = `
        padding: 10px 12px;
        font-size: 1.3em;
        width: 100%;
        border-radius: 6px;
        border: 2px solid #64b5f6;
        background: rgba(255,255,255,0.95);
        box-shadow: inset 0 1px 3px rgba(0,0,0,0.1);
        cursor: pointer;
        transition: all 0.2s ease;
        font-family: inherit;
    `;
    stateSelect.onfocus = () => {
        stateSelect.style.borderColor = '#42a5f5';
        stateSelect.style.boxShadow = '0 0 0 3px rgba(66,165,245,0.2), inset 0 1px 3px rgba(0,0,0,0.1)';
    };
    stateSelect.onblur = () => {
        stateSelect.style.borderColor = '#64b5f6';
        stateSelect.style.boxShadow = 'inset 0 1px 3px rgba(0,0,0,0.1)';
    };
    
    campaignTrail_temp.states_json.forEach(state => {
        const option = document.createElement('option');
        option.value = state.fields.name;
        option.textContent = state.fields.name;
        stateSelect.appendChild(option);
    });
    content.appendChild(stateSelect);
    
    const footer = document.createElement('div');
    footer.style.cssText = `
        padding: 16px;
        background: rgba(0,0,0,0.2);
        border-top: 1px solid #555;
        display: flex;
        gap: 10px;
        justify-content: center;
        border-radius: 0 0 12px 12px;
    `;

    const cancelBtn = document.createElement('button');
    cancelBtn.innerText = 'Cancel';
    cancelBtn.style.cssText = `
        font-weight: bold;
        color: #555;
        text-shadow: 0 1px 0 white;
        background-image: linear-gradient(to bottom, #f0f0f0, #c0c0c0);
        border: 1px solid #888;
        border-radius: 6px;
        padding: 9px 20px;
        cursor: pointer;
        transition: all 0.2s ease;
        box-shadow: 0 1px 2px rgba(0,0,0,0.2);
    `;
    cancelBtn.onmouseenter = () => {
        cancelBtn.style.backgroundImage = 'linear-gradient(to bottom, #fff, #d0d0d0)';
        cancelBtn.style.transform = 'scale(1.05)';
    };
    cancelBtn.onmouseleave = () => {
        cancelBtn.style.backgroundImage = 'linear-gradient(to bottom, #f0f0f0, #c0c0c0)';
        cancelBtn.style.transform = 'scale(1)';
    };
    cancelBtn.onclick = () => overlay.remove();

    const confirmBtn = document.createElement('button');
    confirmBtn.innerText = 'Confirm';
    confirmBtn.style.cssText = `
        font-weight: bold;
        color: white;
        text-shadow: 0 -1px 0 rgba(0,0,0,0.3);
        background-image: linear-gradient(to bottom, #66bb6a, #4caf50);
        border: 1px solid #388e3c;
        border-radius: 6px;
        padding: 9px 24px;
        cursor: pointer;
        transition: all 0.2s ease;
        box-shadow: 0 2px 4px rgba(0,0,0,0.3);
    `;
    confirmBtn.onmouseenter = () => {
        confirmBtn.style.backgroundImage = 'linear-gradient(to bottom, #81c784, #66bb6a)';
        confirmBtn.style.transform = 'scale(1.05)';
        confirmBtn.style.boxShadow = '0 3px 8px rgba(0,0,0,0.4)';
    };
    confirmBtn.onmouseleave = () => {
        confirmBtn.style.backgroundImage = 'linear-gradient(to bottom, #66bb6a, #4caf50)';
        confirmBtn.style.transform = 'scale(1)';
        confirmBtn.style.boxShadow = '0 2px 4px rgba(0,0,0,0.3)';
    };
    confirmBtn.onclick = () => {
        overlay.remove();
        showExecutionModal(operation, stateSelect.value);
    };

    footer.appendChild(cancelBtn);
    footer.appendChild(confirmBtn);
    modal.appendChild(header);
    modal.appendChild(content);
    modal.appendChild(footer);
    overlay.appendChild(modal);
    document.body.appendChild(overlay);
}

function executeOperation(operation, cost, successChance, targetStateName = null) {
    if (typeof campaignTrail_temp === 'undefined' || operationsState.obamaPoints < cost) {
        alert("Zoinks! Cannot execute operation; either insufficient points or game data is missing.");
        return;
    }
	floor13 = true;

    operationsState.obamaPoints -= cost;
	operationsState.totalOpsExecuted++;

    const isSuccess = Math.random() < successChance;
    let resultMessage;

    try {
        if (isSuccess) {
            resultMessage = operation.successEffect(targetStateName);
        } else {
            resultMessage = operation.failureEffect(targetStateName);
        }
    } catch (e) {
        console.error("Zoinks! Error executing operation effect:", operation.id, e);
        resultMessage = "Ruh-oh. Something happened when applying the effects for this operation. Check the console for details.";
    }

    showOperationResult(operation, isSuccess, resultMessage);

    operationsState.completed.push(operation.id);
    operationsState.cooldowns[operation.category] = operation.categoryData.cooldown;

    const operationsTab = document.getElementById('operationsContent');
    if (operationsTab && operationsTab.style.display !== 'none') {
        setTimeout(() => buildOperationsTab(operationsTab), 200);
    }
}

// adds the HQ button to the UI
function addHeadquarterButton() {
    if (document.getElementById('hq_button')) return;

    const refButton = document.getElementById('view_electoral_map');
    if (!refButton) return;

    const newButton = document.createElement('button');
    newButton.id = 'hq_button';
    newButton.innerHTML = 'Jeeves!';
    newButton.style.marginLeft = '1.5em'; 
    newButton.addEventListener('click', openHeadquarter);

    const headquarterButton = document.getElementById('headquarter_button');
    if (headquarterButton) {
        headquarterButton.insertAdjacentElement('afterend', newButton);
    } else {
        refButton.insertAdjacentElement('afterend', newButton);
    }
}

// the observer.
function initObserver() {
    const gameWindow = document.getElementById('game_window');
    
    if (!gameWindow) {
        const bodyObserver = new MutationObserver((mutations, obs) => {
            if (document.getElementById('game_window')) {
                obs.disconnect();
                initObserver();
            }
        });
        bodyObserver.observe(document.body, { childList: true, subtree: true });
        return;
    }

    const observer = new MutationObserver((mutations) => {
        if (!document.getElementById('hq_button')) {
            const refButton = document.getElementById('view_electoral_map');
            if (refButton) {
                addHeadquarterButton();
            }
        }
    });

    observer.observe(gameWindow, { childList: true, subtree: true });
}
initObserver();

// data for the House 2012 calculation
const HOUSE_2012_DATA = {
    "AL": { seats: 7, bias: -0.15 }, "AK": { seats: 1, bias: -0.15 }, "AZ": { seats: 9, bias: -0.05 },
    "AR": { seats: 4, bias: -0.15 }, "CA": { seats: 53, bias: 0.12 }, "CO": { seats: 7, bias: 0.02 },
    "CT": { seats: 5, bias: 0.15 },  "DE": { seats: 1, bias: 0.15 },  "FL": { seats: 27, bias: -0.04 },
    "GA": { seats: 14, bias: -0.12 }, "HI": { seats: 2, bias: 0.25 },  "ID": { seats: 2, bias: -0.25 },
    "IL": { seats: 18, bias: 0.10 },  "IN": { seats: 9, bias: -0.10 }, "IA": { seats: 4, bias: 0.02 },
    "KS": { seats: 4, bias: -0.18 },  "KY": { seats: 6, bias: -0.15 }, "LA": { seats: 6, bias: -0.15 },
    "ME": { seats: 2, bias: 0.08 },   "MD": { seats: 8, bias: 0.18 },  "MA": { seats: 9, bias: 0.20 },
    "MI": { seats: 14, bias: -0.02 }, "MN": { seats: 8, bias: 0.05 },  "MS": { seats: 4, bias: -0.15 },
    "MO": { seats: 8, bias: -0.08 },  "MT": { seats: 1, bias: -0.10 }, "NE": { seats: 3, bias: -0.15 },
    "NV": { seats: 4, bias: 0.04 },   "NH": { seats: 2, bias: 0.05 },  "NJ": { seats: 12, bias: 0.08 },
    "NM": { seats: 3, bias: 0.08 },   "NY": { seats: 27, bias: 0.15 }, "NC": { seats: 13, bias: -0.08 },
    "ND": { seats: 1, bias: -0.15 },  "OH": { seats: 16, bias: -0.08 }, "OK": { seats: 5, bias: -0.20 },
    "OR": { seats: 5, bias: 0.10 },   "PA": { seats: 18, bias: -0.06 }, "RI": { seats: 2, bias: 0.20 },
    "SC": { seats: 7, bias: -0.15 },  "SD": { seats: 1, bias: -0.15 }, "TN": { seats: 9, bias: -0.15 },
    "TX": { seats: 36, bias: -0.12 }, "UT": { seats: 4, bias: -0.20 }, "VT": { seats: 1, bias: 0.25 },
    "VA": { seats: 11, bias: -0.05 }, "WA": { seats: 10, bias: 0.10 }, "WV": { seats: 3, bias: -0.15 },
    "WI": { seats: 8, bias: -0.05 },  "WY": { seats: 1, bias: -0.25 }
};

// Huge thingamajig that causes the Congressional system here
// to function correctly.
// Note: easily prone to breakage!
(() => {
  const E = (typeof campaignTrail_temp !== 'undefined' ? campaignTrail_temp : window.e);
  if (!E) return;

  const SENATE_CAUCUS_BASELINE = { dem: 53, rep: 47 };
  const HOUSE_BASELINE = { dem: 193, rep: 242 };
  
  let _cachedMajorIds = null;
  let _cachedStateMap = null;
  let _cachedPkMap = null;

  // helpers
  const num = (x) => (Number.isFinite(x) ? x : 0);
  const clamp = (v, lo, hi) => Math.max(lo, Math.min(hi, v));
  
  // Box-Muller Random Generator
  const rndN = (mu = 0, sigma = 1) => {
    let u = 0, v = 0;
    while (u === 0) u = Math.random();
    while (v === 0) v = Math.random();
    return mu + sigma * Math.sqrt(-2.0 * Math.log(u)) * Math.cos(2 * Math.PI * v);
  };

  const getStateMaps = () => {
    if (_cachedStateMap && _cachedPkMap) return { byName: _cachedStateMap, byPk: _cachedPkMap };
    _cachedStateMap = new Map((E.states_json || []).map(s => [s.fields.name, s]));
    _cachedPkMap = new Map((E.states_json || []).map(s => [s.pk, s]));
    return { byName: _cachedStateMap, byPk: _cachedPkMap };
  };

  function is2012() {
    const elId = Number(E.election_id);
    const el = E.election_json.find(f => Number(f.pk) === elId);
    return el && Number(el.fields.year) === 2012;
  }

  function getMajorIDs() {
    if (_cachedMajorIds) return _cachedMajorIds;
    
    let demId = null, repId = null;
    const candidates = E.candidate_json.filter(c => Number(c.fields.election) === Number(E.election_id));
    
    for (const c of candidates) {
      const p = (c.fields.party || '').toLowerCase();
      if (!demId && p.includes('dem')) demId = c.pk;
      if (!repId && p.includes('rep')) repId = c.pk;
    }

    if (!demId || !repId && E.final_overall_results) {
        for (const row of E.final_overall_results) {
            const cand = E.candidate_json.find(x => x.pk === row.candidate);
            const p = (cand?.fields?.party || '').toLowerCase();
            if (!demId && p.includes('dem')) demId = row.candidate;
            if (!repId && p.includes('rep')) repId = row.candidate;
        }
    }
    
    _cachedMajorIds = { demId, repId };
    return _cachedMajorIds;
  }
  
  function getCandidateColor(party) {
      if (party.includes('Democrat')) return '#194A9F';
      if (party.includes('Republican')) return '#f20d0d';
      if (party.includes('Independent')) return '#C4A484';
      if (party.includes('Libertarian')) return '#f9f91f';
      if (party.includes('Green')) return '#0ac21a';
      return '#808080';
  }

  // data
  const SENATE_2012 = {
    "Arizona":      { dem:"Richard Carmona", rep:"Jeff Flake",          dem_off:+0.061, split_keep:0.60, others:[{name:"Marc Victor", party:"Libertarian", base:0.046}] },
    "California":   { dem:"Dianne Feinstein", rep:"Elizabeth Emken",    dem_off:+0.017, split_keep:0.55 },
    "Connecticut":  { dem:"Chris Murphy", rep:"Linda McMahon",          dem_off:-0.057, split_keep:0.60, others:[{name:"Paul Passarelli", party:"Libertarian", base:0.017}] },
    "Delaware":     { dem:"Tom Carper", rep:"Kevin Wade",               dem_off:+0.188, split_keep:0.65, others:[{name:"Alex Pires", party:"Independent", base:0.038},{name:"Andrew Groff", party:"Green", base:0.008}] },
    "Florida":      { dem:"Bill Nelson", rep:"Connie Mack IV",          dem_off:+0.121, split_keep:0.70, others:[{name:"Others", party:"Other", base:0.026}] },
    "Hawaii":       { dem:"Mazie Hirono", rep:"Linda Lingle",           dem_off:-0.176, split_keep:0.65 },
    "Indiana":      { dem:"Joe Donnelly", rep:"Richard Mourdock",       dem_off:+0.156, split_keep:0.90, scandal:true, others:[{name:"Andrew Horning", party:"Libertarian", base:0.057}] },
    "Maine":        { dem:"Cynthia Dill", rep:"Charlie Summers",        split_keep:0.90, indWinner:true, ind:{name:"Angus King", base:0.529} },
    "Maryland":     { dem:"Ben Cardin", rep:"Dan Bongino",              dem_off:+0.039, split_keep:0.60, others:[{name:"Rob Sobhani", party:"Independent", base:0.164},{name:"Imad‑ad‑Dean Ahmad", party:"Libertarian", base:0.012}] },
    "Massachusetts":{ dem:"Elizabeth Warren", rep:"Scott Brown",        dem_off:-0.157, split_keep:0.75 }, 
    "Michigan":     { dem:"Debbie Stabenow", rep:"Pete Hoekstra",       dem_off:+0.113, split_keep:0.70 },
    "Minnesota":    { dem:"Amy Klobuchar", rep:"Kurt Bills",            dem_off:+0.273, split_keep:0.90, others:[{name:"Stephen Williams", party:"Independence", base:0.026}] },
    "Mississippi":  { dem:"Albert N. Gore Jr.", rep:"Roger Wicker",     dem_off:-0.030, split_keep:0.60 },
    "Missouri":     { dem:"Claire McCaskill", rep:"Todd Akin",          dem_off:+0.250, split_keep:0.90, scandal:true },
    "Montana":      { dem:"Jon Tester", rep:"Denny Rehberg",            dem_off:+0.174, split_keep:0.85, others:[{name:"Dan Cox", party:"Libertarian", base:0.066}] },
    "Nebraska":     { dem:"Bob Kerrey", rep:"Deb Fischer",              dem_off:+0.062, split_keep:0.65 },
    "Nevada":       { dem:"Shelley Berkley", rep:"Dean Heller",         dem_off:-0.077, split_keep:0.65, others:[{name:"David VanderBeek", party:"IAP", base:0.049},{name:"NOTA", party:"None", base:0.045}] },
    "New Jersey":   { dem:"Bob Menendez", rep:"Joe Kyrillos",           dem_off:+0.012, split_keep:0.60 },
    "New Mexico":   { dem:"Martin Heinrich", rep:"Heather Wilson",      dem_off:-0.041, split_keep:0.60, others:[{name:"Jon Barrie", party:"IAP", base:0.036}] },
    "New York":     { dem:"Kirsten Gillibrand", rep:"Wendy Long",       dem_off:+0.178, split_keep:0.75 },
    "North Dakota": { dem:"Heidi Heitkamp", rep:"Rick Berg",            dem_off:+0.207, split_keep:0.95, others:[{name:"Others", party:"Other", base:0.004}] },
    "Ohio":         { dem:"Sherrod Brown", rep:"Josh Mandel",           dem_off:+0.030, split_keep:0.65, others:[{name:"Scott A. Rupert", party:"Independent", base:0.046}] },
    "Pennsylvania": { dem:"Bob Casey Jr.", rep:"Tom Smith",             dem_off:+0.037, split_keep:0.65, others:[{name:"Rayburn D. Smith", party:"Libertarian", base:0.017}] },
    "Rhode Island": { dem:"Sheldon Whitehouse", rep:"Barry Hinckley",   dem_off:+0.025, split_keep:0.60 },
    "Tennessee":    { dem:"Mark E. Clayton", rep:"Bob Corker",          dem_off:-0.050, split_keep:0.60 },
    "Texas":        { dem:"Paul Sadler", rep:"Ted Cruz",                dem_off:+0.001, split_keep:0.60 },
    "Utah":         { dem:"Scott Howell", rep:"Orrin Hatch",            dem_off:+0.120, split_keep:0.45, others:[{name:"Shaun McCausland", party:"Constitution", base:0.032},{name:"Daniel Geer", party:"Justice", base:0.008}] },
    "Vermont":      { dem:"Bernie Sanders", rep:"John MacGovern",       split_keep:0.95, sandersCaucus:true, others:[{name:"Other candidates", party:"Other", base:0.041}] },
    "Virginia":     { dem:"Tim Kaine", rep:"George Allen",              dem_off:+0.020, split_keep:0.65, others:[{name:"Write‑ins", party:"Write‑in", base:0.0017}] },
    "Washington":   { dem:"Maria Cantwell", rep:"Michael Baumgartner",  dem_off:+0.066, split_keep:0.65 },
    "West Virginia":{ dem:"Joe Manchin", rep:"John Raese",              dem_off:+0.504, split_keep:0.98, others:[{name:"Bob Henry Baber", party:"Mountain", base:0.030}] },
    "Wisconsin":    { dem:"Tammy Baldwin", rep:"Tommy Thompson",        dem_off:-0.014, split_keep:0.65 },
    "Wyoming":      { dem:"Tim Chesnut", rep:"John Barrasso",           dem_off:-0.050, split_keep:0.60 },
  };

  // logic
  function getPresMarginMap(demId, repId) {
    const map = new Map();
    if (!E.final_state_results) return map;
    
    for (const sr of E.final_state_results) {
        const d = sr.result.find(x => x.candidate === demId)?.percent ?? 0;
        const r = sr.result.find(x => x.candidate === repId)?.percent ?? 0;
        const denom = (d + r) || 1e-9;
        map.set(sr.state, d/denom - r/denom);
    }
    return map;
  }

  function computeResults() {
    if (E.__congress2012) return E.__congress2012;
    if (!E.final_state_results) return null;

    const { demId, repId } = getMajorIDs();
    if (!demId || !repId) return null;

    const { byName, byPk } = getStateMaps();
    const marginsMap = getPresMarginMap(demId, repId);

    // senate calc
    let D = 28, R = 37, I = 0; 
    const details = { byState: {}, order: [] };

    for (const [name, meta] of Object.entries(SENATE_2012)) {
      const st = byName.get(name);
      if (!st) continue;

      const pm2p = marginsMap.get(st.pk) || 0;
      
      const baseVotes = num(st.fields.popular_votes) || 1;
      const totalVotes = Math.max(1, Math.round(baseVotes * 0.95));
      
      const pol = 1 - clamp(Math.abs(pm2p) / 0.20, 0, 1);
      
      const others = (meta.others || []).map(o => ({
        name:o.name, party:o.party, base: num(o.base),
        pct: clamp(num(o.base) * (0.9 + 0.2*pol + rndN(0, 0.02)), 0, 0.25)
      }));
      let othersTotal = others.reduce((s,o)=>s+o.pct,0);

      let rows, winner;

      if (meta.sandersCaucus) {
        const sandersPct = clamp(0.71 + pm2p * 0.15 + rndN(0, 0.02), 0.60, 0.80);
        const repPct = clamp(1 - sandersPct - othersTotal, 0, 0.40);
        rows = [{ name: meta.dem, party: 'Independent', pct: sandersPct }, { name: meta.rep, party: 'Republican', pct: repPct }, ...others];
        winner = 'Independent'; I++;
      } 
      else if (meta.indWinner && meta.ind) {
        const indBase = clamp(num(meta.ind.base), 0.35, 0.80);
        const indPct = clamp(indBase + ((1 - clamp(Math.abs(pm2p)/0.2,0,1)) - 0.5)*0.03 + rndN(0, 0.01), indBase-0.03, indBase+0.03);
        const leftover = clamp(1 - indPct - othersTotal, 0, 0.70);
        const demPct = leftover * clamp(0.5 + pm2p/2, 0, 1);
        rows = [{ name: meta.ind.name, party: 'Independent', pct: indPct }, { name: meta.dem, party: 'Democrat', pct: demPct }, { name: meta.rep, party: 'Republican', pct: leftover - demPct }, ...others];
        winner = 'Independent'; I++;
      }
      else {
        let off = num(meta.dem_off ?? 0);
        const presCloseness = 1 - clamp(Math.abs(pm2p) / 0.30, 0, 1);
        if (meta.scandal) off *= (1 + 0.5 * presCloseness);
        if ((name === 'Indiana' || name === 'Missouri') && presCloseness < 0.2) off *= (0.8 + presCloseness * 0.2);

        if (name === 'Maryland') {
            const sobhani = others.find(o => o.name === 'Rob Sobhani');
            if (sobhani) {
                sobhani.pct = clamp(sobhani.base * (0.8 + 0.4 * clamp((1 - pm2p) / 2, 0.2, 0.8)), 0.10, 0.22);
                othersTotal = others.reduce((s,o)=>s+o.pct,0);
            }
        }

        const keep = clamp(num(meta.split_keep ?? 0.65), 0.40, 0.98);
        const sen2pMargin = clamp(pm2p + keep*off + rndN(0, 0.006), -0.90, 0.90);
        const twoPartyTotal = clamp(1 - othersTotal, 0.75, 1.0);
        const demPct = twoPartyTotal * clamp(0.5 + sen2pMargin/2, 0, 1);
        
        rows = [{ name: meta.dem, party: 'Democrat', pct: demPct }, { name: meta.rep, party: 'Republican', pct: twoPartyTotal - demPct }, ...others];
        if (demPct > (twoPartyTotal - demPct)) { winner = 'Democrat'; D++; } else { winner = 'Republican'; R++; }
      }
      
      rows.sort((a,b)=>b.pct-a.pct);
      const top2 = rows.slice(0, 2);
      const margin = Math.abs((top2[0]?.pct||0) - (top2[1]?.pct||0));

      details.byState[name] = { 
        winner, 
        margin, 
        results: rows.map(r => ({ ...r, votes: Math.round(r.pct * totalVotes) })) 
      };
      details.order.push(name);
    }
    
    const total = D + R + I;
    if (total !== 100) D += (100 - total);

    // house calculation
    const res = E.final_overall_results;
    const demPV = num(res.find(r => r.candidate === demId)?.popular_votes);
    const repPV = num(res.find(r => r.candidate === repId)?.popular_votes);
    const pres2p_total = demPV + repPV;
    
    let houseDem = HOUSE_BASELINE.dem;
    let houseRep = HOUSE_BASELINE.rep;

    if (pres2p_total > 0) {
        const presDem2Pct = (demPV / pres2p_total);
        const presMargin2p = presDem2Pct - (1 - presDem2Pct); // e.g., 0.039 for 2012
        
        // vote efficiency
        const wastedStates = ['California', 'New York', 'Illinois', 'Massachusetts'];
        const efficientStates = ['Ohio', 'Florida', 'Pennsylvania', 'Virginia', 'Wisconsin', 'Colorado'];
        
        let wastedMarginSum = 0;
        let efficientMarginSum = 0;
        
        wastedStates.forEach(s => {
            const stObj = byName.get(s);
            if(stObj) wastedMarginSum += (marginsMap.get(stObj.pk) || 0);
        });
        efficientStates.forEach(s => {
            const stObj = byName.get(s);
            if(stObj) efficientMarginSum += (marginsMap.get(stObj.pk) || 0);
        });

        const wastedAvg = wastedMarginSum / wastedStates.length;
        const efficientAvg = efficientMarginSum / efficientStates.length;
        
        const efficiencyGap = (wastedAvg - efficientAvg); 
        // we reduce the penalty severity slightly to prevent accidental losses in good years
        const efficiencyPenalty = clamp(efficiencyGap * 2.5, 0, 10); 
        
        // coattails logic
        let dynamicDrag = 0.014; 
        if (presDem2Pct > 0.54) dynamicDrag = 0.008; // wave coattails
        if (presDem2Pct > 0.56) dynamicDrag = 0.004; // massive wave
        
        const noise = rndN(0, 0.002); // small random fluctuation
        const houseDem2Pct = presDem2Pct - dynamicDrag + noise;
        
        const pct = houseDem2Pct * 100; // e.g. 50.6
        let baseSeats = 0;

        if (pct < 49.0) {
            baseSeats = 185 + (pct - 49.0) * 5; 
        } 
        else if (pct < 50.6) {
            baseSeats = 185 + (pct - 49.0) * 10;
        } 
        else if (pct < 53.0) {
            baseSeats = 201 + (pct - 50.6) * 5.8;
        } 
        else {
            baseSeats = 215 + (pct - 53.0) * 9; 
        }

        const closeStateBonus = (efficientAvg > 0.01) ? 2 : (efficientAvg > -0.02) ? 0 : -2;
        const randomVar = rndN(0, 2);

        houseDem = Math.round(baseSeats - efficiencyPenalty + closeStateBonus + randomVar);
        
        // limits
        houseDem = clamp(houseDem, 150, 265);
        houseRep = 435 - houseDem;
    }

    E.__congress2012 = {
        senate: { dem: D, rep: R, ind: I },
        senateG: { dem_caucus: (D + I) - SENATE_CAUCUS_BASELINE.dem, rep: R - SENATE_CAUCUS_BASELINE.rep },
        senateDetails: details,
        house: { dem: houseDem, rep: houseRep },
        houseG: { dem: houseDem - HOUSE_BASELINE.dem, rep: houseRep - HOUSE_BASELINE.rep }
    };
    return E.__congress2012;
  }
  
  E.calculateCongressResults = computeResults; 

  function fmtDelta(n) { return n > 0 ? `(+${n})` : n < 0 ? `(${n})` : `(±0)`; }

  function injectFinalTable() {
    const container = document.getElementById('overall_vote_statistics');
    if (!container || document.getElementById('congress_results_table')) return;

    const data = computeResults();
    if (!data) return;

    const dC = getCandidateColor('Democrat');
    const rC = getCandidateColor('Republican');
    const iC = getCandidateColor('Independent');
    
    container.insertAdjacentHTML('beforeend', `
      <br>
      <table id="congress_results_table" class="final_results_table" style="margin-top: 1em;">
        <tbody>
          <tr><th>Senate</th><th>Seats</th><th>Δ (Caucus)</th><th>House</th><th>Seats</th><th>Δ</th></tr>
          <tr>
            <td style="text-align:left;"><span style="background:${rC};color:${rC};">----</span> Republican</td><td>${data.senate.rep}</td><td>${fmtDelta(data.senateG.rep)}</td>
            <td style="text-align:left;"><span style="background:${dC};color:${dC};">----</span> Democrat</td><td>${data.house.dem}</td><td>${fmtDelta(data.houseG.dem)}</td>
          </tr>
          <tr>
            <td style="text-align:left;"><span style="background:${dC};color:${dC};">----</span> Democrat</td><td>${data.senate.dem}</td><td rowspan="2">${fmtDelta(data.senateG.dem_caucus)}</td>
            <td style="text-align:left;"><span style="background:${rC};color:${rC};">----</span> Republican</td><td>${data.house.rep}</td><td>${fmtDelta(data.houseG.rep)}</td>
          </tr>
          <tr>
            <td style="text-align:left;"><span style="background:${iC};color:${iC};">----</span> Independent</td><td>${data.senate.ind}</td>
            <td></td><td></td><td></td>
          </tr>
        </tbody>
      </table>`);
  }

  function setupSenateTab() {
    const stateTab = document.getElementById('state_tab');
    if (!stateTab || document.getElementById('result_layer')) return; 

    const data = computeResults();
    if (!data) return;

    const dropdownArea = document.getElementById('drop_down_area_state');
    const sortTab = document.getElementById('sort_tab');
    const summary = document.getElementById('state_result_data_summary');
    
    dropdownArea.insertAdjacentHTML('afterbegin', `<p>View: <select id="result_layer"><option value="pres">Presidential</option><option value="senate">Senate</option></select></p>`);
    
    const frag = document.createDocumentFragment();
    [
        ['senate_closest', 'Closest Senate Races'],
        ['senate_dem_hi', 'Highest Dem %'], ['senate_dem_lo', 'Lowest Dem %'],
        ['senate_rep_hi', 'Highest Rep %'], ['senate_rep_lo', 'Lowest Rep %'],
        ['senate_ind_hi', 'Highest Ind/Other %']
    ].forEach(([v, t]) => {
        const o = document.createElement('option'); o.value = v; o.textContent = t; frag.appendChild(o);
    });
    sortTab.appendChild(frag);

    const { byName, byPk } = getStateMaps();

    const senateHtmlCache = new Map();
    const getSenateHtml = (name) => {
        if (senateHtmlCache.has(name)) return senateHtmlCache.get(name);
        const d = data.senateDetails.byState[name];
        let h = `<p>No Senate race here this year.</p>`;
        if (d) {
             const rHtml = d.results.map(r => {
                const c = getCandidateColor(r.party);
                return `<tr><td style="text-align:left;"><span style="background-color:${c};color:${c};">----</span> ${r.name} (${r.party})</td><td>${(r.pct * 100).toFixed(2)}%</td><td>${r.votes.toLocaleString('en-US')}</td></tr>`;
             }).join('');
             h = `<h4>Senate Results - ${name}</h4><table class="final_results_table"><tr><th style="width:50%">Candidate</th><th>Vote %</th><th>Votes</th></tr>${rHtml}</table>`;
        }
        senateHtmlCache.set(name, h);
        return h;
    };

    // view logic
    const updateView = (isStateChange = false) => {
        const layer = document.getElementById('result_layer').value;
        const isSenate = (layer === 'senate');
        
        for (let opt of sortTab.options) {
            const isSenOpt = opt.value.startsWith('senate_');
            const shouldHide = isSenate ? (!isSenOpt && opt.value !== "1") : isSenOpt;
            if (opt.hidden !== shouldHide) { opt.hidden = shouldHide; opt.style.display = shouldHide ? 'none' : ''; }
        }

        if (isSenate) {
            const sMode = sortTab.value;
            let arr = Object.keys(data.senateDetails.byState).map(n => {
                const d = data.senateDetails.byState[n];
                return { 
                    n, pk: byName.get(n).pk, 
                    m: d.margin, 
                    d: d.results.find(r=>r.party.includes('Dem'))?.pct||0,
                    r: d.results.find(r=>r.party.includes('Rep'))?.pct||0 
                };
            });

            if (sMode === 'senate_closest') arr.sort((a,b)=>a.m - b.m);
            else if (sMode === 'senate_dem_hi') arr.sort((a,b)=>b.d - a.d);
            else if (sMode === 'senate_rep_hi') arr.sort((a,b)=>b.r - a.r);
            else arr.sort((a,b)=>a.n.localeCompare(b.n));

            if (!isStateChange) {
                const currentPk = stateTab.value;
                const newHtml = arr.map(x => `<option value="${x.pk}">${x.n}</option>`).join('');
                if (stateTab.innerHTML !== newHtml) stateTab.innerHTML = newHtml;
                
                if (!arr.some(x => x.pk == currentPk)) stateTab.value = arr[0]?.pk;
                else stateTab.value = currentPk;
            }

            const selName = byPk.get(Number(stateTab.value)).fields.name;
            summary.innerHTML = getSenateHtml(selName);
        } else {
            if (typeof window.T === 'function') summary.innerHTML = window.T(stateTab.value);
        }
    };

    document.getElementById('result_layer').addEventListener('change', () => updateView(false));
    sortTab.addEventListener('change', () => { 
        if(document.getElementById('result_layer').value === 'senate') updateView(false); 
    });
    stateTab.addEventListener('change', () => { 
        if(document.getElementById('result_layer').value === 'senate') updateView(true); 
    });
  }

  if (!is2012()) return;
  console.log("Initializing congress system...");

  const obs = new MutationObserver((mutations) => {
    let checkFinal = false;
    let checkState = false;

    for (const m of mutations) {
       if (m.type === 'childList' && m.addedNodes.length > 0) {
           for (const n of m.addedNodes) {
               if (n.nodeType !== 1) continue;
               if (n.id === 'overall_vote_statistics' || n.querySelector?.('#overall_vote_statistics')) checkFinal = true;
               if (n.id === 'drop_down_area_state' || n.querySelector?.('#drop_down_area_state')) checkState = true;
           }
       }
    }
    
    if (checkFinal) injectFinalTable();
    if (checkState) setupSenateTab();
  });

  const target = document.getElementById('game_window') || document.body;
  obs.observe(target, { childList: true, subtree: true });

})();

// This is for the recommended reading box. Specifically, it sets up
// the styling for the tab system we have here. Taken from 2016ALOT
(function() {
    'use strict';

    const CSS_STYLES = `
        #recommended_reading_box { border-style: double none; margin-inline: auto; width: 95%; background: linear-gradient(rgb(247, 247, 247), rgb(241, 241, 241)); height: 30em; color: #000; }
        #recommended_reading_box #tab-select { width:100%; height:32px; display:flex; justify-content:center; margin-bottom:1em; border-bottom:5px solid #1b146c; border-image:linear-gradient(#3c3ff6,#9f0c0c) 40; }
        #recommended_reading_box .ftab, #recommended_reading_box .ftab-active { font-family: Trebuchet MS, sans-serif; width: 98px; height: 32px; margin-top: 0px; padding-top: 7px; box-sizing: border-box; cursor: pointer; -webkit-user-select: none; user-select:none; background: linear-gradient(to bottom, #f7f7f7, #e0e0e0); border: 1px solid #ccc; border-radius: 10px 10px 0 0; }
        #recommended_reading_box .ftab:hover { background: linear-gradient(to bottom, #fff, #ddd); }
        #recommended_reading_box .ftab-active { background: #ffeded; border-color: #aa2525; cursor: default; }
        #recommended_reading_box #start.ftab, #recommended_reading_box #start.ftab-active { width: 100px; }
		
		/* Overview tab */
		.overview-content .overview-header {
            border-bottom: 2px solid #eee;
            margin-bottom: 20px;
            padding-bottom: 10px;
        }
        .overview-content h2 { 
            color: #1b146c; 
            margin: 0 0 5px 0; 
            font-family: 'Georgia', serif; 
        }
        .overview-content h3 { 
            color: #666; 
            margin: 0; 
            font-size: 1em; 
            font-weight: normal; 
            font-style: italic; 
        }
        .overview-content .overview-body {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            gap: 25px;
        }
        .overview-content .overview-text {
            flex: 2;
            text-align: justify;
            line-height: 1.5;
        }
        .overview-content .overview-note {
            background: #f9f9f9;
            border-left: 3px solid #1b146c;
            padding: 10px;
            font-size: 0.9em;
            color: #444;
            margin-top: 15px;
        }
        .overview-content .overview-media {
            flex: 1;
            display: flex;
            justify-content: center;
        }
        .overview-content .img-wrapper {
            background: white;
            padding: 8px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
            transform: rotate(-2deg);
            text-align: center;
            max-width: 220px;
        }
        .overview-content .img-wrapper img {
            width: 100%;
            height: auto;
            display: block;
            margin-bottom: 5px;
        }
        .overview-content .img-caption {
            font-family: monopace;
            font-size: 0.8em;
            color: #333;
        }
        
        /* Sources tab */
        .sources-content { line-height: 1.6; }
        .sources-content h4 { border-bottom: 2px solid #ddd; padding-bottom: 8px; margin-bottom: 1em; font-size: 1.2em; color: #1b146c; }
        .sources-content .reading-list { list-style-type: none; padding-left: 0; }
        .sources-content .reading-list > li { padding-bottom: 1.5em; margin-bottom: 1.5em; border-bottom: 1px solid #d9d9d9; }
        .sources-content .reading-list > li:last-child { border-bottom: none; margin-bottom: 0; }
        .sources-content .reading-title { font-weight: bold; font-size: 1.1em; }
        .sources-content .reading-description { margin: 0 0 1em 0 !important; }
        .sources-content .reading-quote { margin: 0 0 0 20px; padding-left: 20px; border-left: 4px solid #9f0c0c; border-radius: .2em 0 0 .2em; font-style: italic; color: #111; background-color: #fafafa; padding: .75em 1.25em; }
        .sources-content .issue-list dt { font-weight: bold; margin-top: 1em; }
        .sources-content .issue-list dd { margin-left: 0; padding-left: 1em; }
        .sources-content .issue-list dd ul { list-style-type: lower-alpha; margin: 0.5em 0; padding-left: 20px; }
        .sources-content a { color: #0056b3; text-decoration: none; }
        .sources-content a:hover { text-decoration: underline; }
    `;

    let stylesAdded = false;

    function addStyles() {
        if (stylesAdded || document.getElementById('recommended_reading_styles')) return;
        const styleElement = document.createElement('style');
        styleElement.id = 'recommended_reading_styles';
        styleElement.textContent = CSS_STYLES;
        document.head.appendChild(styleElement);
        stylesAdded = true;
    }

    function initializeTabs(box) {
        // if already initialized, skip
        if (box._tabsInitialized) return;

        const tabContainer = box.querySelector('#tab-select');
        if (!tabContainer) return;

        const contentContainer = tabContainer.nextElementSibling;
        if (!contentContainer) return;

        // cache tabs and panes
        const tabs = Array.from(tabContainer.children).filter(child => child.tagName === 'P');
        const contentPanes = tabs.map((_, index) => contentContainer.querySelector(`#rpage${index}`));

        // event handler
        function onTabClick(event) {
            const clickedTab = event.target.closest('p.ftab, p.ftab-active');
            if (!clickedTab || !tabContainer.contains(clickedTab)) return;

            const index = tabs.indexOf(clickedTab);
            if (index === -1) return;

            updateState(index);
        }

        // state updater
        function updateState(activeIndex) {
            tabs.forEach((tab, idx) => {
                const isActive = (idx === activeIndex);
                tab.className = isActive ? 'ftab-active' : 'ftab';
                if (tab.id === 'start') tab.id = 'start'; 
            });

            contentPanes.forEach((pane, idx) => {
                if (pane) pane.style.display = (idx === activeIndex) ? 'inline-block' : 'none';
            });
        }

        // cleanup old listeners if re-initializing on same node
        if (tabContainer._clickHandler) {
            tabContainer.removeEventListener('click', tabContainer._clickHandler);
        }
        tabContainer._clickHandler = onTabClick;
        tabContainer.addEventListener('click', onTabClick);

        // remove inline onclicks
        tabs.forEach(t => t.removeAttribute('onclick'));

        // initial State
        let initialIndex = tabs.findIndex(t => t.classList.contains('ftab-active'));
        if (initialIndex === -1 && tabs.length > 0) initialIndex = 0;
        updateState(initialIndex);

        box._tabsInitialized = true;
        console.log('Recommended reading tabs initialized.');
    }

    function setupObserver() {
        const targetNode = document.getElementById('game_window') || document.body;
        
        const observer = new MutationObserver((mutations) => {
            let shouldCheck = false;
            
            // only proceed if nodes were added
            for (const m of mutations) {
                if (m.addedNodes.length > 0) {
                    shouldCheck = true;
                    break;
                }
            }
            if (!shouldCheck) return;

            const box = document.getElementById('recommended_reading_box');
            if (box) {
                if (!stylesAdded) addStyles();
                if (!box._tabsInitialized) initializeTabs(box);
            }
        });

        observer.observe(targetNode, { childList: true, subtree: true });

        // immediate check in case script loads after content
        const existingBox = document.getElementById('recommended_reading_box');
        if (existingBox) {
            addStyles();
            initializeTabs(existingBox);
        }
    }

    if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', setupObserver);
    } else {
        setupObserver();
    }
})();

// For changing running mates at the ending screens.
// historical running mates
const vpTableHistorical = {
    "Barack Obama": "Joe Biden",
    "Mitt Romney": "Paul Ryan",
    "Gary Johnson": "Jim Gray",
    "Jill Stein": "Cheri Honkala"
};

// This function determines the opponent based on the final scores.
// The game will call this function automatically.
function getRepublicanOpponent(liberalismScore, confrontationScore) {
    if (liberalismScore >= 4 && confrontationScore >= 4) {
        return "Michele Bachmann";
    }
    if (confrontationScore >= 5) {
        return "Newt Gingrich";
    }
    if (liberalismScore >= 5) {
        return "Rick Santorum";
    }
    if (confrontationScore <= -3) {
        return "Jon Huntsman";
    }
    if (liberalismScore <= -4) {
        return "Ron Paul";
    }
    if (confrontationScore >= 3) {
        return "Rick Perry";
    }
    return "Mitt Romney";
}

function getRepublicanVP(nominee, liberalismScore, confrontationScore) {
    switch (nominee) {
        case "Mitt Romney":
            if (confrontationScore >= 2) return "Chris Christie";
            if (liberalismScore >= 3) return "Marco Rubio";
            if (confrontationScore <= -1) return "Rob Portman";
            if (liberalismScore <= -3) return "Bob McDonnell";
            return "Paul Ryan"; // HISTORICAL

        case "Rick Santorum":
            if (liberalismScore >= 6) return "Mike Huckabee";
            if (confrontationScore >= 2) return "Jim DeMint";
            if (liberalismScore >= 3) return "Bobby Jindal";
            if (liberalismScore <= 6) return "Bob McDonnell";
            return "Tim Pawlenty";

        case "Newt Gingrich":
            if (confrontationScore >= 5) return "Sarah Palin";
            if (liberalismScore <= 1) return "Herman Cain";
            if (liberalismScore >= 3 && confrontationScore >= 3) return "John Bolton";
            if (liberalismScore <= -2) return "Marco Rubio";
            return "Rick Perry";

        case "Jon Huntsman":
            if (liberalismScore <= -3) return "Rand Paul";
            if (liberalismScore >= 0) return "Condoleezza Rice";
            if (liberalismScore >= 3) return "Marco Rubio";
            return "Rob Portman";

        case "Ron Paul":
            if (confrontationScore >= 4) return "Andrew Napolitano";
            if (confrontationScore >= 1) return "Justin Amash";
            if (liberalismScore <= -5) return "Lew Rockwell";
            return "Rand Paul";

        case "Rick Perry":
            if (liberalismScore >= 3 && confrontationScore >= 4) return "Allen West";
            if (liberalismScore >= 2) return "Nikki Haley";
            if (confrontationScore >= 4) return "Chris Christie";
            return "Paul Ryan";

        case "Michele Bachmann":
            if (confrontationScore >= 5) return "Allen West";
            if (liberalismScore >= 5) return "Jim DeMint";
            if (liberalismScore >= 3 && confrontationScore >= 3) return "Herman Cain";
            return "Steve King";

        default:
            return "Paul Ryan";
    }
}

function getObamaVP() {
    const runningMateId = campaignTrail_temp.running_mate_id;
    
    switch (runningMateId) {
        case 34: return "Hillary Clinton";
		case 35: return "Christine Gregoire";
		case 36: return "Brian Schweitzer";
		case 37: return "Chris Dodd";
		case 38: return "Evan Bayh";
		case 39: return "Gray Davis";
		case 40: return "Kathleen Sebelius";
        case 30:
        default:
            return "Joe Biden";
    }
}

function getRightThirdPartyNominee(liberalismScore, confrontationScore) {
    if (liberalismScore >= 3 && confrontationScore >= 3) {
        return "Jesse Ventura";
    }

    if (confrontationScore >= 5) {
        return "Jon Voight";
    }

    if (liberalismScore <= -4) {
        return "Virgil Goode";
    }

    if (confrontationScore <= -3) {
        return "Clint Eastwood";
    }

    return "Gary Johnson";
}

function getRightThirdPartyVP(nominee, liberalismScore, confrontationScore) {
    switch (nominee) {
        case "Jon Voight":
            if (liberalismScore <= -2) return "Joe Arpaio";
            if (confrontationScore >= 5) return "Allen West";
            return "Stephen Baldwin";

        case "Jesse Ventura":
            if (liberalismScore >= 5) return "Howard Stern";
            if (confrontationScore >= 5) return "Alex Jones";
            return "Gary Johnson";

        case "Clint Eastwood":
            if (liberalismScore <= -2) return "Fred Thompson"; 
            if (liberalismScore >= 2) return "Kelsey Grammer";
            return "David Petraeus";

        case "Virgil Goode":
            if (confrontationScore >= 4) return "Roy Moore";
            return "Darrell Castle";

        case "Gary Johnson":
		default:
            if (liberalismScore >= 5) return "Penn Jillette";
            if (liberalismScore >= 3) return "Bill Weld";
            if (liberalismScore <= -2) return "Wayne Allyn Root";
            return "Jim Gray";
    }
}

function getLeftThirdPartyNominee(liberalismScore, confrontationScore) {
    if (confrontationScore >= 5) {
        return "Roseanne Barr";
    }

    if (liberalismScore <= -3) {
        return "Susan Sarandon";
    }

    if (liberalismScore >= 5) {
        return "Cynthia Nixon";
    }

    if (confrontationScore <= -3) {
        return "Soleil Moon Frye";
    }

    return "Jill Stein";
}

function getLeftThirdPartyVP(nominee, liberalismScore, confrontationScore) {
    switch (nominee) {
        case "Roseanne Barr":
            if (confrontationScore >= 5) return "Cindy Sheehan";
            if (liberalismScore >= 4) return "Cheri Honkala";
            return "Kinky Friedman";

        case "Susan Sarandon":
            if (liberalismScore <= -5) return "Ralph Nader";
            if (confrontationScore <= -2) return "Cornel West";
            return "Michael Moore";

        case "Cynthia Nixon":
            if (liberalismScore >= 6) return "Zephyr Teachout";
            if (confrontationScore >= 3) return "Richard Trumka";
            return "Bill de Blasio";

        case "Soleil Moon Frye":
            if (liberalismScore >= 3) return "Ben Cohen";
            if (confrontationScore <= -3) return "Harmony Korine";
            return "Marianne Williamson";

        case "Jill Stein":
        default:
			if (confrontationScore >= 4) return "Chris Hedges";
            if (confrontationScore >= 2) return "Rosa Clemente";
            if (liberalismScore >= 5) return "Tom Morello";
            return "Cheri Honkala";
    }
}

function addVPColumn(table, vpLookup) {
    if (!table || !table.rows) return;

    for (let i = 0; i < table.rows.length; i++) {
        const row = table.rows[i];
        if (i === 0) { // header row
            const headerCell = document.createElement('th');
            headerCell.innerText = "Running Mate";
            row.insertBefore(headerCell, row.cells[1]);
        } else { // data row
            const candidateNameCell = row.cells[0];
            if (!candidateNameCell) continue;

            // clean up the name to ensure a good match in our lookup table
            const name = candidateNameCell.innerText.replaceAll("-", "").trim();
            
            const dataCell = document.createElement('td');
            dataCell.innerText = vpLookup[name] || "Paul Ryan";
            row.insertBefore(dataCell, row.cells[1]);
        }
    }
}

// This adds the VPs to the final results table.
function onGameWindowChangeCandidates() {
    const detailsContainer = document.getElementById("overall_details_container");
    const statsContainer = document.getElementById("overall_vote_statistics");

    const processDetails = detailsContainer && !detailsContainer.classList.contains("done-vp");
    const processStats = statsContainer && !statsContainer.classList.contains("done-vp");
    if (!processDetails && !processStats) return;

 	// for third-parties
    const libScore = window.liberalismScore || 0;
    const confScore = window.confrontationScore || 0;

    const rightNominee = window.rightNomineeName || getRightThirdPartyNominee(libScore, confScore);
    const rightVP = window.rightVPName || getRightThirdPartyVP(rightNominee, libScore, confScore);

    const leftNominee = window.leftNomineeName || getLeftThirdPartyNominee(libScore, confScore);
    const leftVP = window.leftVPName || getLeftThirdPartyVP(leftNominee, libScore, confScore);

    const dynamicVPs = {
        "Barack Obama": getObamaVP(),
        [window.opName]: window.vpName,
        [rightNominee]: rightVP,
        [leftNominee]: leftVP
    };

    // details container
    if (processDetails) {
        const tables = detailsContainer.querySelectorAll('table');
        if (tables.length > 0) addVPColumn(tables[0], dynamicVPs);        // the main results table 
        if (tables.length > 1) addVPColumn(tables[1], vpTableHistorical); // the historical comparison table
        detailsContainer.classList.add("done-vp"); // mark as processed
    }

    // stats container (only the first table)
    if (processStats) {
        const firstTable = statsContainer.querySelector('table'); 
        if (firstTable) {
            addVPColumn(firstTable, dynamicVPs);
        }
        statsContainer.classList.add("done-vp");
    }
}

const gameWindowNode = document.getElementById("game_window");
if (gameWindowNode) {
    const candidateWatcherConfig = { childList: true, subtree: true };
    const candidateObserver = new MutationObserver(onGameWindowChangeCandidates);
    candidateObserver.observe(gameWindowNode, candidateWatcherConfig);
    onGameWindowChangeCandidates();
} else {
    console.error("Game window element not found for VP script.");
}

// Separate from the tooltips, this is just the hover tooltips when
// checking the map. Taken from TTNW, rewritten for OBN Deluxe, and used here.
class ChartEnhancer {
  constructor() {
    this.isProcessing = false;
    this.initializeStyles();
    this.initializeReplacements();
    this.init();
  }

  initializeStyles() {
    if (document.getElementById('ce-tooltip-styles')) return;
    
    const style = document.createElement('style');
    style.id = 'ce-tooltip-styles';
    
    style.textContent = `
      .ce-tooltip-container {
        position: relative;
        cursor: help;
        display: inline-block;
        opacity: 1;
        transition-delay: 0.5s;
        border-bottom: 1px dotted blue;
      }
	  
	  .ce-tooltip {
		visibility: hidden;
		opacity: 0;
		pointer-events: none;
		transition: opacity 0.3s ease, visibility 0s 0.3s;
		
		position: absolute;
		top: 50%;
		right: 100%;
		transform: translateY(-50%);
		margin-right: 10px;
		z-index: 1;

		background-color: #333;
		color: #fff;
		font-family: Arial, sans-serif !important;
		padding: 10px;
		line-height: 1.3;
		border-radius: 6px;
		box-sizing: border-box;

		width: 200px;
		text-align: center;
		
		display: flex;
		flex-direction: column;
		align-items: center;
		gap: 8px;
	}
      
      .ce-tooltip-container:hover .ce-tooltip {
        /* make visible on hover */
        visibility: visible;
        opacity: 1;

        /* hover-specific styles */
        pointer-events: auto;
        transition-delay: 0s;
        background: linear-gradient(#606c38, #283618);
		line-height: 1.3;
        font-family: Arial, sans-serif !important;
        font-style: normal !important;
        box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
      }
	  
	  .ce-tooltip img {
		display: block;
		max-width: 85%;
		height: auto;
		margin: 0;
	}
    	  
    `;
    document.head.appendChild(style);
  }

  createTooltip(text, { img, title, name, desc }) {
    const imgHtml = img ? `<img src="${img}" alt="${name || text}">` : '';
    const titleHtml = title ? `<b>${title}</b>` : '';
    const nameHtml = name ? `<i>${name}</i>` : '';
    const descHtml = desc ? `${desc}` : '';
    
    return `<span class="ce-tooltip-container">${text}<span class="ce-tooltip">` +
           `${imgHtml}` +
           `${titleHtml}${nameHtml}${descHtml}` +
           `</span></span>`;
  }

  initializeReplacements() {
    this.replacements = new Map([
      ["Obama", this.createTooltip("Obama", {
        img: "https://www.readingthepictures.org/files/2011/05/Obama-Consequentialist-%C2%A9Martin-Schoeller1.jpg",
        title: "Barack Obama",
        name: "President",
        desc: "Despite everything, it's still you."
      })],
      ["Huntsman", this.createTooltip("Huntsman", {
        img: "https://file.garden/aNtAfG887DiA_7lO/Obamanation/58V9All.jpeg",
        title: "Jon Huntsman",
        name: "Governor",
        desc: "You're not gonna lose to him, will you?"
      })],
	  ["Perry", this.createTooltip("Perry", {
        img: "https://m.wsj.net/video/20111110/111011hubamgopdebate/111011hubamgopdebate_640x360.jpg",
        title: "Rick Perry",
        name: "Governor",
        desc: "The, uhh... oops, um..."
      })],
      ["Romney", this.createTooltip("Romney", {
        img: "https://external-preview.redd.it/f_2HrcM9XDxNfHnCxK2HbMEmlHBGZFFHt8TsJ96s-60.jpg?auto=webp&s=e2fd2d990434b8aa726e045a0661cfea0ea3b3bb",
        title: "Mitt Romney",
        name: "Former Governor",
        desc: "Rmoney."
      })],
	  ["Santorum", this.createTooltip("Santorum", {
        img: "https://upload.wikimedia.org/wikipedia/commons/b/b5/Paper_bag_Rick_Santorum_caricature.jpg",
        title: "Rick Santorum",
        name: "Former Senator",
        desc: "Looking different, huh."
      })],
      ["Gingrich", this.createTooltip("Gingrich", {
        img: "https://media.vanityfair.com/photos/54ca9663a298661966ed5d52/master/w_1600%2Cc_limit/image.jpg",
        title: "Newt Gingrich",
        name: "Former Speaker",
        desc: "Beam me up, Newtie."
      })],
      ["Bachmann", this.createTooltip("Bachmann", {
        img: "https://i.guim.co.uk/img/static/sys-images/Guardian/About/General/2011/8/14/1313348375870/Michele-Bachmann-Tea-Part-007.jpg?width=465&dpr=1&s=none&crop=none",
        title: "Michele Bachmann",
        name: "Representative",
        desc: "<i>Deuteronomy 21:18-21</i>"
      })],
      ["Paul", this.createTooltip("Paul", {
        img: "https://static01.nyt.com/images/2012/01/07/us/SUB-CAMPAIGN/SUB-CAMPAIGN-articleLarge.jpg?quality=75&auto=webp&disable=upscale",
        title: "Ron Paul",
        name: "Representative",
        desc: "I don't even know anymore."
      })],
	  ["Johnson", this.createTooltip("Johnson", {
        img: "https://preview.redd.it/favorite-3rd-party-candidates-v0-jp3ga95ws6hc1.jpeg?width=640&crop=smart&auto=webp&s=788dd2dffc2b49c81f4e2b64608e9406bed4bedb",
        title: "Gary Johnson",
        name: "Former Governor",
        desc: "Used to call you on your shellphone."
      })],
	  ["Eastwood", this.createTooltip("Eastwood", {
        img: "https://s.wsj.net/public/resources/images/BN-MB166_mcgurn_M_20160111164344.jpg",
        title: "Clint Eastwood",
        name: "Actor",
        desc: "Touring with Flimsy Steve, so he couldn't make it."
      })],
	  ["Goode", this.createTooltip("Goode", {
        img: "https://www.washingtonpost.com/wp-apps/imrs.php?src=https://arc-anglerfish-washpost-prod-washpost.s3.amazonaws.com/public/JMVAANAADUI6FO7Q4M5U5YXQ5A&w=1800&h=1800",
        title: "Virgil Goode",
        name: "Former Representative",
        desc: "Aiming for a comeback he just won't get."
      })],
	  ["Voight", this.createTooltip("Voight", {
        img: "https://media.lasvegassun.com/media/img/photos/2009/06/14/CineVegas.Final.003_t1000.jpg?c76bf34eada957f64a0b14990027a576ff9bf379",
        title: "Jon Voight",
        name: "Actor",
        desc: "You're a better actor than him."
      })],
	  ["Ventura", this.createTooltip("Ventura", {
        img: "https://m.media-amazon.com/images/M/MV5BNzVlZjBmMGItYWFjZi00MDMxLTg3ZmEtN2M1MTc3Y2JhN2JiXkEyXkFqcGc@._V1_.jpg",
        title: "Jesse Ventura",
        name: "Actor",
        desc: "The former governor?"
      })],
	  ["Stein", this.createTooltip("Stein", {
        img: "https://external-preview.redd.it/I9NCG_OvRYbF4TtDSg2mbxGz8d3cd3EvKKAXnzHAQDw.png?width=320&crop=smart&auto=webp&s=dfb4479d5a840dc1ac376d02173fbec35d7a65d6",
        title: "Jill Stein",
        name: "Environmentalist",
        desc: "Will be back four years from now."
      })],
	  ["Frye", this.createTooltip("Frye", {
        img: "https://imgc.artprintimages.com/img/print/punky-brewster_u-l-prrdva0.jpg?artHeight=550&artPerspective=n&artWidth=550&background=fbfbfb",
        title: "Soleil Moon Frye",
        name: "Actress",
        desc: "Punky?"
      })],
	  ["Sarandon", this.createTooltip("Sarandon", {
        img: "https://i.guim.co.uk/img/media/7ec54861ca98ab5e86f309ef7c3dd288dd1e9dd3/65_0_7137_4281/master/7137.jpg?width=1200&height=1200&quality=85&auto=format&fit=crop&s=6b77f1727d425c659b929fdc0c970095",
        title: "Susan Sarandon",
        name: "Actress",
        desc: "You don't know what she's doing here."
      })],
	  ["Barr", this.createTooltip("Barr", {
        img: "https://ichef.bbci.co.uk/news/480/cpsprodpb/54CE/production/_101801712_gettyimages-149830489.jpg.webp",
        title: "Roseanne Barr",
        name: "Actress",
        desc: "Dreams not yet shattered."
      })],
	  
	  ["Nixon", this.createTooltip("Nixon", {
        img: "https://harpersbazaar.com.au/wp-content/uploads/2023/07/miranda-hobbes.jpg",
        title: "Cynthia Nixon",
        name: "Actress",
        desc: "It's okay, she's on Valium."
      })]
    ]);
  }

  processChart() {
    if (this.isProcessing) return;
    
    const element = document.getElementById("overall_result");
    if (!element) return;
    
    const content = element.innerHTML;
    
    if (content.includes('class="ce-tooltip"')) {
      return;
    }
    
    this.isProcessing = true;
    
    let newContent = content;
    let hasChanges = false;
    
    for (const [searchText, replacement] of this.replacements) {
      if (newContent.includes(searchText)) {
        newContent = newContent.replace(new RegExp(searchText, 'g'), replacement);
        hasChanges = true;
      }
    }
    
    if (hasChanges) {
      element.innerHTML = newContent;
    }
    
    setTimeout(() => {
      this.isProcessing = false;
    }, 100);
  }

  init() {
    const checkAndProcess = () => {
      this.processChart();
    };
    
    this.intervalId = setInterval(() => {
      requestAnimationFrame(checkAndProcess);
    }, 200);
  }

  destroy() {
    if (this.intervalId) {
      clearInterval(this.intervalId);
    }
  }
}

const chartEnhancer = new ChartEnhancer();

// slightly more optimized USmap
(function (e, t, n, r, i) {
  function s(e, t, n, r) {
    r = r instanceof Array ? r : [];
    var i = {};
    for (var s = 0; s < r.length; s++) {
      i[r[s]] = true;
    }
    var o = function (e) {
      this.element = e;
    };
    o.prototype = n;
    e.fn[t] = function () {
      var n = arguments;
      var r = this;
      this.each(function () {
        var s = e(this);
        var u = s.data("plugin-" + t);
        if (!u) {
          u = new o(s);
          s.data("plugin-" + t, u);
          if (u._init) {
            u._init.apply(u, n);
          }
        } else if (
          typeof n[0] == "string" &&
          n[0].charAt(0) != "_" &&
          typeof u[n[0]] == "function"
        ) {
          var a = Array.prototype.slice.call(n, 1);
          var f = u[n[0]].apply(u, a);
          if (n[0] in i) {
            r = f;
          }
        }
      });
      return r;
    };
  }
  var o = 900,
    u = 595,
    a = 50;
  var f = {
    stateStyles: {
      fill: "#333",
      stroke: "#666",
      "stroke-width": 1,
      "stroke-linejoin": "round",
      scale: [1, 1],
    },
    stateHoverStyles: {
      fill: "#33c",
      stroke: "#000",
      scale: [1.1, 1.1],
    },
    stateHoverAnimation: 500,
    stateSpecificStyles: {},
    stateSpecificHoverStyles: {},
    click: null,
    mouseover: null,
    mouseout: null,
    clickState: {},
    mouseoverState: {},
    mouseoutState: {},
    showLabels: true,
    labelWidth: 20,
    labelHeight: 15,
    labelGap: 6,
    labelRadius: 3,
    labelBackingStyles: {
      fill: "#333",
      stroke: "#666",
      "stroke-width": 1,
      "stroke-linejoin": "round",
      scale: [1, 1],
    },
    labelBackingHoverStyles: {
      fill: "#33c",
      stroke: "#000",
    },
    stateSpecificLabelBackingStyles: {},
    stateSpecificLabelBackingHoverStyles: {},
    labelTextStyles: {
      fill: "#fff",
      stroke: "none",
      "font-weight": 300,
      "stroke-width": 0,
      "font-size": "10px",
    },
    labelTextHoverStyles: {},
    stateSpecificLabelTextStyles: {},
    stateSpecificLabelTextHoverStyles: {},
  };
  var l = {
    _init: function (t) {
      this.options = {};
      e.extend(this.options, f, t);
      var n = this.element.width();
      var i = this.element.height();
      var s = this.element.width() / o;
      var l = this.element.height() / u;
      this.scale = Math.min(s, l);
      this.labelAreaWidth = Math.ceil(a / this.scale);
      var c = o + Math.max(0, this.labelAreaWidth - a);
      this.paper = r(this.element.get(0), c, u);
      this.paper.setSize(n, i);
      this.paper.setViewBox(0, 0, c, u, false);
      this.stateHitAreas = {};
      this.stateShapes = {};
      this.topShape = null;
      this._initCreateStates();
      this.labelShapes = {};
      this.labelTexts = {};
      this.labelHitAreas = {};
      if (this.options.showLabels) {
        this._initCreateLabels();
      }
	  var self = this;
      e(this.paper.canvas).on("click mouseover mouseout", function(evt) {
        var state = evt.target.dataState;
        
        if (state) {
            if (evt.type === "click") {
                self._onClick(evt);
            } else if (evt.type === "mouseover") {
                self._onMouseOver(evt);
            } else if (evt.type === "mouseout") {
                self._onMouseOut(evt);
            }
        }
      });
    },
    _initCreateStates: function () {
      var baseStyles = this.options.stateStyles;
      var paper = this.paper;
      var paths = {
        AL: "M631.30647,460.41572L629.81587,446.09422L627.06763,427.34158L627.22929,413.27709L628.03759,382.23824L627.87593,365.58718L628.04102,359.16812L672.5255,355.54867L672.3777,357.73109L672.53936,359.83269L673.18601,363.22756L676.58089,371.14893L679.00579,381.01024L680.46074,387.15335L682.07734,392.00317L683.5323,398.95458L685.63388,405.25934L688.22045,408.65423L688.70543,412.04909L690.64537,412.8574L690.80703,414.95899L689.02875,419.80881L688.54377,423.04203L688.38211,424.98195L689.99873,429.3468L690.32205,434.68159L689.51373,437.10651L690.16039,437.91481L691.61533,438.72311L691.94347,441.61193L686.34581,441.25838L679.55606,441.90503L654.01366,444.81491L643.6021,446.22168L643.38072,449.09908L645.15899,450.87735L647.74556,452.81727L648.32642,460.75271L642.78436,463.32561L640.03614,463.00229L642.78436,461.06236L642.78436,460.0924L639.71282,454.11096L637.44957,453.46432L635.99462,457.82915L634.70134,460.57738L634.0547,460.41572L631.30647,460.41572Z",
        AK: "M158.07671,453.67502L157.75339,539.03215L159.36999,540.00211L162.44156,540.16377L163.8965,539.03215L166.48308,539.03215L166.64475,541.94205L173.59618,548.73182L174.08117,551.3184L177.47605,549.37846L178.1227,549.2168L178.44602,546.14524L179.90096,544.52863L181.0326,544.36697L182.97253,542.91201L186.04409,545.01361L186.69074,547.92352L188.63067,549.05514L189.7623,551.48006L193.64218,553.25833L197.03706,559.2398L199.78529,563.11966L202.04855,565.86791L203.50351,569.58611L208.515,571.36439L213.68817,573.46598L214.65813,577.83084L215.14311,580.9024L214.17315,584.29729L212.39487,586.56054L210.77826,585.75224L209.32331,582.68067L206.57507,581.22573L204.7968,580.09409L203.98849,580.9024L205.44344,583.65065L205.6051,587.36885L204.47347,587.85383L202.53354,585.9139L200.43195,584.62061L200.91693,586.23722L202.21021,588.0155L201.40191,588.8238C201.40191,588.8238,200.59361,588.50048,200.10863,587.85383C199.62363,587.20719,198.00703,584.45895,198.00703,584.45895L197.03706,582.19569C197.03706,582.19569,196.71374,583.48898,196.06709,583.16565C195.42044,582.84233,194.7738,581.71071,194.7738,581.71071L196.55207,579.77077L195.09712,578.31582L195.09712,573.30432L194.28882,573.30432L193.48052,576.6992L192.34888,577.1842L191.37892,573.46598L190.73227,569.74777L189.92396,569.26279L190.24729,574.92094L190.24729,576.05256L188.79233,574.75928L185.23579,568.77781L183.13419,568.29283L182.48755,564.57462L180.87094,561.66472L179.25432,560.53308L179.25432,558.26983L181.35592,556.97654L180.87094,556.65322L178.28436,557.29986L174.88947,554.87495L172.30289,551.96504L167.45306,549.37846L163.41152,546.79188L164.70482,543.55866L164.70482,541.94205L162.92654,543.55866L160.01664,544.69029L156.29843,543.55866L150.64028,541.13375L145.14381,541.13375L144.49717,541.61873L138.03072,537.73885L135.92912,537.41553L133.18088,531.59573L129.62433,531.91905L126.06778,533.374L126.55277,537.90052L127.68439,534.99062L128.65437,535.31394L127.19941,539.67879L130.43263,536.93055L131.07928,538.54716L127.19941,542.91201L125.90612,542.58869L125.42114,540.64875L124.12785,539.84045L122.83456,540.97208L120.08632,539.19381L117.01475,541.29541L115.23649,543.397L111.8416,545.4986L107.15342,545.33693L106.66844,543.23534L110.38664,542.58869L110.38664,541.29541L108.12338,540.64875L109.09336,538.22384L111.35661,534.34397L111.35661,532.5657L111.51827,531.75739L115.88313,529.49413L116.85309,530.78742L119.60134,530.78742L118.30805,528.20085L114.58983,527.87752L109.57834,530.62576L107.15342,534.02064L105.37515,536.60723L104.24352,538.87049L100.04033,540.32543L96.96876,542.91201L96.645439,544.52863L98.908696,545.4986L99.717009,547.60018L96.96876,550.83341L90.502321,555.03661L82.742574,559.2398L80.640977,560.37142L75.306159,561.50306L69.971333,563.76631L71.749608,565.0596L70.294654,566.51455L69.809672,567.64618L67.061434,566.67621L63.828214,566.83787L63.019902,569.10113L62.049939,569.10113L62.37326,566.67621L58.816709,567.96951L55.90681,568.93947L52.511924,567.64618L49.602023,569.58611L46.368799,569.58611L44.267202,570.87941L42.65059,571.68771L40.548995,571.36439L37.962415,570.23276L35.699158,570.87941L34.729191,571.84937L33.112578,570.71775L33.112578,568.77781L36.184142,567.48452L42.488929,568.13117L46.853782,566.51455L48.955378,564.41296L51.86528,563.76631L53.643553,562.958L56.391794,563.11966L58.008406,564.41296L58.978369,564.08964L61.241626,561.3414L64.313196,560.37142L67.708076,559.72478L69.00137,559.40146L69.648012,559.88644L70.456324,559.88644L71.749608,556.16823L75.791141,554.71329L77.731077,550.99508L79.994336,546.46856L81.610951,545.01361L81.934272,542.42703L80.317657,543.72032L76.922764,544.36697L76.276122,541.94205L74.982838,541.61873L74.012865,542.58869L73.851205,545.4986L72.39625,545.33693L70.941306,539.51713L69.648012,540.81041L68.516388,540.32543L68.193068,538.3855L64.151535,538.54716L62.049939,539.67879L59.463361,539.35547L60.918305,537.90052L61.403286,535.31394L60.756645,533.374L62.211599,532.40404L63.504883,532.24238L62.858241,530.4641L62.858241,526.09925L61.888278,525.12928L61.079966,526.58423L54.936843,526.58423L53.481892,525.29094L52.835247,521.41108L50.733651,517.85452L50.733651,516.88456L52.835247,516.07625L52.996908,513.97465L54.128536,512.84303L53.320231,512.35805L52.026941,512.84303L50.895313,510.09479L51.86528,505.08328L56.391794,501.85007L58.978369,500.23345L60.918305,496.51525L63.666554,495.22195L66.253132,496.35359L66.576453,498.77851L69.00137,498.45517L72.23459,496.03026L73.851205,496.67691L74.821167,497.32355L76.437782,497.32355L78.701041,496.03026L79.509354,491.6654C79.509354,491.6654,79.832675,488.75551,80.479317,488.27052C81.125959,487.78554,81.44928,487.30056,81.44928,487.30056L80.317657,485.36062L77.731077,486.16893L74.497847,486.97723L72.557911,486.49225L69.00137,484.71397L63.989875,484.55231L60.433324,480.83411L60.918305,476.95424L61.564957,474.52932L59.463361,472.75105L57.523423,469.03283L58.008406,468.22453L64.798177,467.73955L66.899773,467.73955L67.869736,468.70951L68.516388,468.70951L68.354728,467.0929L72.23459,466.44626L74.821167,466.76958L76.276122,467.90121L74.821167,470.00281L74.336186,471.45775L77.084435,473.07437L82.095932,474.85264L83.874208,473.88268L81.610951,469.51783L80.640977,466.2846L81.610951,465.47629L78.21606,463.53636L77.731077,462.40472L78.21606,460.78812L77.407756,456.90825L74.497847,452.22007L72.072929,448.01688L74.982838,446.07694L78.21606,446.07694L79.994336,446.72359L84.197528,446.56193L87.915733,443.00539L89.047366,439.93382L92.765578,437.5089L94.382182,438.47887L97.130421,437.83222L100.84863,435.73062L101.98027,435.56896L102.95023,436.37728L107.47674,436.21561L110.22498,433.14405L111.35661,433.14405L114.91316,435.56896L116.85309,437.67056L116.36811,438.80219L117.01475,439.93382L118.63137,438.31721L122.51124,438.64053L122.83456,442.35873L124.7745,443.81369L131.88759,444.46033L138.19238,448.66352L139.64732,447.69356L144.82049,450.28014L146.92208,449.6335L148.86202,448.82518L153.71185,450.76512L158.07671,453.67502ZM42.973913,482.61238L45.075509,487.9472L44.913847,488.91717L42.003945,488.59384L40.225672,484.55231L38.447399,483.09737L36.02248,483.09737L35.86082,480.51078L37.639093,478.08586L38.770722,480.51078L40.225672,481.96573L42.973913,482.61238ZM40.387333,516.07625L44.105542,516.88456L47.823749,517.85452L48.632056,518.8245L47.015444,522.5427L43.94388,522.38104L40.548995,518.8245L40.387333,516.07625ZM19.694697,502.01173L20.826327,504.5983L21.957955,506.21492L20.826327,507.02322L18.72473,503.95166L18.72473,502.01173L19.694697,502.01173ZM5.9534943,575.0826L9.3483796,572.81934L12.743265,571.84937L15.329845,572.17269L15.814828,573.7893L17.754763,574.27429L19.694697,572.33436L19.371375,570.71775L22.119616,570.0711L25.029518,572.65768L23.897889,574.43595L19.533037,575.56758L16.784795,575.0826L13.066588,573.95097L8.7017347,575.40592L7.0851227,575.72924L5.9534943,575.0826ZM54.936843,570.55609L56.553455,572.49602L58.655048,570.87941L57.2001,569.58611L54.936843,570.55609ZM57.846745,573.62764L58.978369,571.36439L61.079966,571.68771L60.271663,573.62764L57.846745,573.62764ZM81.44928,571.68771L82.904234,573.46598L83.874208,572.33436L83.065895,570.39442L81.44928,571.68771ZM90.17899,559.2398L91.310623,565.0596L94.220522,565.86791L99.232017,562.958L103.59687,560.37142L101.98027,557.94651L102.46525,555.52159L100.36365,556.81488L97.453752,556.00657L99.070357,554.87495L101.01029,555.68325L104.89016,553.90497L105.37515,552.45003L102.95023,551.64172L103.75853,549.70178L101.01029,551.64172L96.322118,555.19827L91.472284,558.10817L90.17899,559.2398ZM132.53423,539.35547L134.95915,537.90052L133.98918,536.12224L132.21091,537.09221L132.53423,539.35547Z",
        AZ: "M144.9112,382.62909L142.28419,384.78742L141.96087,386.24237L142.44585,387.21233L161.36012,397.88192L173.48466,405.47996L188.19576,414.04797L205.00845,424.07092L217.29465,426.49583L242.24581,429.20074L259.50142,310.07367L175.76579,298.15642L172.6734,314.56888L171.06711,314.58419L169.35244,317.21335L166.83759,317.09903L165.58017,314.35556L162.8367,314.01263L161.9222,312.86952L161.00772,312.86952L160.09322,313.44108L158.14993,314.46988L158.03563,321.44286L157.80699,323.15753L157.23545,335.73177L155.7494,337.90368L155.17784,341.21871L157.92131,346.1341L159.17873,351.96398L159.97892,352.99278L161.00772,353.56434L160.8934,355.85056L159.29305,357.22229L155.86371,358.93696L153.92042,360.88026L152.43437,364.53821L151.86281,369.4536L149.00503,372.19707L146.94743,372.88294L147.08312,373.71282L146.62587,375.42749L147.08312,376.22767L150.74108,376.79921L150.16952,379.54269L148.68347,381.7146L144.9112,382.62909Z",
        AR: "M 593.825 343.053 L 589.845 343.77 L 584.733 343.136 L 585.153 341.534 L 588.133 338.967 L 589.077 335.311 L 587.248 332.339 L 508.83 334.853 L 510.43 341.712 L 510.43 349.942 L 511.802 360.916 L 512.031 398.753 L 514.317 400.697 L 517.289 399.325 L 520.033 400.468 L 520.713 407.041 L 576.334 405.901 L 577.48 403.81 L 577.193 400.261 L 575.368 397.289 L 576.966 395.804 L 575.368 393.292 L 576.052 390.782 L 577.42 385.177 L 579.938 383.114 L 579.252 380.83 L 582.91 375.458 L 585.654 374.089 L 585.54 372.596 L 585.195 370.77 L 588.052 365.172 L 590.455 363.915 L 590.898 360.516 L 589.913 358.294 L 587.336 355.515 L 588.275 354.795 L 590.929 352.374 L 591.479 350.355 L 592.759 346.308 L 593.825 343.053 Z",
        CA: "M144.69443,382.19813L148.63451,381.70951L150.12055,379.69807L150.66509,376.75698L147.11357,376.16686L146.5994,375.49864L147.0769,373.46633L146.91762,372.87666L148.84019,372.25707L151.88297,369.42439L152.46453,364.42929L153.84443,361.02718L155.78772,358.86092L159.30659,357.27125L160.96098,355.66642L161.02971,353.55758L160.03638,352.97757L159.01323,351.90484L157.85801,346.05639L155.17281,341.2263L155.73862,337.7213L153.31904,336.69199L84.257718,232.51359L103.15983,164.9121L36.079967,149.21414L34.573071,153.94738L34.41141,161.38376L29.238275,173.18497L26.166727,175.77154L25.843406,176.90316L24.06514,177.71147L22.610196,181.91464L21.801894,185.14785L24.550122,189.35102L26.166727,193.55419L27.29835,197.11072L26.975029,203.57714L25.196764,206.64869L24.550122,212.46847L23.580159,216.18666L25.358424,220.06651L28.106652,224.593L30.369899,229.44282L31.663182,233.48433L31.339862,236.71754L31.016541,237.20252L31.016541,239.3041L36.674657,245.60886L36.189676,248.03377L35.543034,250.29702L34.896392,252.23694L35.058052,260.48163L37.159638,264.19982L39.099564,266.78638L41.847792,267.27137L42.817755,270.01959L41.686132,273.57612L39.584545,275.19273L38.452922,275.19273L37.64462,279.07258L38.129601,281.98247L41.362811,286.3473L42.979415,291.6821L44.434359,296.37025L45.727643,299.4418L49.122513,305.26158L50.577457,307.84814L51.062439,310.75803L52.679043,311.72799L52.679043,314.1529L51.870741,316.09283L50.092476,323.20589L49.607494,325.14581L52.032402,327.89404L56.235574,328.37902L60.762067,330.15729L64.641918,332.25887L67.551807,332.25887L70.461695,335.33042L73.048262,340.18024L74.179886,342.44348L78.059737,344.54507L82.909551,345.35337L84.364495,347.45496L85.011137,350.68817L83.556193,351.33481L83.879514,352.30477L87.112725,353.11307L89.860953,353.27474L93.020842,351.58789L96.900696,355.79106L97.708998,358.05431L100.29557,362.25748L100.61889,365.49069L100.61889,374.867L101.10387,376.64526L111.12682,378.10021L130.84939,380.84843L144.69443,382.19813ZM56.559218,338.48145L57.852506,340.01723L57.690846,341.31052L54.457625,341.22969L53.891811,340.01723L53.245167,338.56228L56.559218,338.48145ZM58.49915,338.48145L59.711608,337.83481L63.268151,339.9364L66.339711,341.14885L65.450575,341.79551L60.924066,341.55301L59.307456,339.9364L58.49915,338.48145ZM79.191764,358.28493L80.970029,360.62901L81.778342,361.59898L83.314121,362.16479L83.879928,360.70984L82.909965,358.93157L80.242562,356.91081L79.191764,357.07247L79.191764,358.28493ZM77.736809,366.93379L79.515085,370.08618L80.727543,372.02612L79.272589,372.2686L77.979305,371.05615C77.979305,371.05615,77.251828,369.6012,77.251828,369.19704C77.251828,368.7929,77.251828,367.01462,77.251828,367.01462L77.736809,366.93379Z",
        CO: "M380.03242,320.96457L384.93566,234.63961L271.5471,221.99565L259.33328,309.93481L380.03242,320.96457Z",
        CT: "M 874.068 178.863 L 870.391 163.984 L 865.672 164.904 L 844.443 169.647 L 845.443 172.873 L 846.898 180.148 L 847.075 189.115 L 845.855 191.29 L 847.776 193.222 L 852.048 189.316 L 855.604 186.083 L 857.544 183.982 L 858.352 184.628 L 861.1 183.173 L 866.274 182.042 L 874.068 178.863 Z",
        DE: "M 825.626 228.279 L 825.994 226.132 L 826.369 224.441 L 824.746 224.839 L 823.131 225.306 L 820.925 227.071 L 822.645 232.114 L 824.908 237.772 L 827.01 247.471 L 828.626 253.776 L 833.638 253.615 L 839.78 252.434 L 837.516 245.048 L 836.546 245.533 L 832.989 243.108 L 831.211 238.42 L 829.271 234.863 L 826.124 231.993 L 825.26 229.895 L 825.626 228.279 Z",
        FL: "M759.8167,439.1428L762.08236,446.4614L765.81206,456.20366L771.14685,465.57996L774.86504,471.88472L779.71486,477.38118L783.75637,481.09937L785.37297,484.00926L784.24135,485.30254L783.43305,486.59582L786.34293,494.03221L789.25282,496.94209L791.83939,502.27689L795.39592,508.09667L799.92241,516.34135L801.2157,523.93939L801.70068,535.90227L802.34732,537.68053L802.024,541.0754L799.59909,542.36869L799.92241,544.30861L799.27577,546.24854L799.59909,548.67344L800.08407,550.61337L797.33585,553.84658L794.2643,555.30152L790.38445,555.46318L788.9295,557.07979L786.5046,558.04975L785.21131,557.56477L784.07969,556.59481L783.75637,553.68492L782.94806,550.29005L779.55319,545.11691L775.99666,542.85367L772.11681,542.53035L771.30851,543.82363L768.23696,539.4588L767.59032,535.90227L765.00375,531.86076L763.22549,530.72913L761.60888,532.83072L759.83062,532.5074L757.72903,527.49592L754.81914,523.61607L751.90925,518.28128L749.32269,515.20973L745.76616,511.49154L747.86774,509.06663L751.10095,503.57017L750.93929,501.95357L746.4128,500.98361L744.79619,501.63025L745.11952,502.27689L747.70608,503.24685L746.25114,507.77335L745.44284,508.25833L743.66457,504.21682L742.37129,499.367L742.04797,496.61877L743.50291,491.93062L743.50291,482.39265L740.43136,478.67446L739.13808,475.60291L733.96494,474.30963L732.02502,473.66299L730.40841,471.07642L727.01354,469.45981L725.88192,466.06494L723.13369,465.09498L720.70878,461.37679L716.50561,459.92185L713.59572,458.4669L711.00916,458.4669L706.96764,459.27521L706.80598,461.21513L707.61429,462.18509L707.1293,463.31672L704.05776,463.15506L700.33957,466.71159L696.78303,468.65151L692.90318,468.65151L689.66997,469.9448L689.34665,467.19657L687.73005,465.25664L684.82016,464.12502L683.20356,462.67007L675.12053,458.79022L667.52249,457.01196L663.15766,457.6586L657.17622,458.14358L651.19478,460.24517L647.71554,460.85813L647.47762,452.80838L644.89105,450.86846L643.11278,449.09019L643.4361,446.01863L653.62072,444.72535L679.16312,441.81546L685.95287,441.16882L691.38887,441.44909L693.97544,445.32895L695.43038,446.78389L703.52854,447.29911L714.34829,446.65247L735.86068,445.35918L741.3064,444.68481L746.41398,444.88932L746.84081,447.79921L749.07381,448.60751L749.30875,443.97751L747.78053,439.80456L749.08893,438.36473L754.64356,438.81948L759.8167,439.1428ZM772.36211,571.54788L774.78703,570.90124L776.08031,570.65875L777.53527,568.31466L779.87935,566.69805L781.17264,567.18304L782.87008,567.50636L783.27423,568.55715L779.79853,569.76961L775.59533,571.22456L773.25125,572.43702L772.36211,571.54788ZM785.86081,566.53639L787.07327,567.58719L789.82151,565.4856L795.15632,561.28241L798.87452,557.40254L801.38027,550.77444L802.35024,549.077L802.5119,545.68212L801.78442,546.1671L800.81446,548.99617L799.3595,553.6035L796.12628,558.8575L791.76144,563.06068L788.36656,565.00061L785.86081,566.53639Z",
        GA: "M672.29229,355.5518L672.29229,357.73422L672.45395,359.83582L673.10059,363.23069L676.49547,371.15206L678.92038,381.01337L680.37532,387.15648L681.99193,392.00629L683.44688,398.9577L685.54847,405.26247L688.13504,408.65735L688.62002,412.05222L690.55995,412.86052L690.72161,414.96212L688.94334,419.81193L688.45836,423.04515L688.2967,424.98508L689.91331,429.34992L690.23663,434.68472L689.42832,437.10963L690.07497,437.91794L691.52992,438.72624L691.73462,441.94433L693.96763,445.29386L696.21807,447.45591L704.13945,447.61757L714.9592,446.97093L736.47159,445.67765L741.91731,445.00328L746.49456,445.03101L746.65622,447.9409L749.24279,448.7492L749.56611,444.38436L747.9495,439.85786L749.08113,438.24126L754.90091,439.04956L759.87832,439.36734L759.1029,433.06855L761.36614,423.0456L762.82109,418.84242L762.3361,416.25586L765.67051,410.01156L765.16021,408.65988L763.2468,409.36446L760.66024,408.07116L760.01359,405.96957L758.72031,402.41304L756.45705,400.31145L753.87049,399.66481L752.25388,394.81499L749.32887,388.47999L745.1257,386.54006L743.0241,384.60013L741.73081,382.01356L739.62923,380.07363L737.36598,378.78034L735.10273,375.87045L732.03118,373.60721L727.50467,371.82893L727.01969,370.37399L724.59478,367.4641L724.1098,366.00915L720.71492,361.03867L717.19505,361.13784L713.44014,358.7817L712.02186,357.48842L711.69854,355.71015L712.56934,353.77023L714.79598,352.66009L714.16204,350.56287L672.29229,355.5518Z",
        HI: "M 233.088 519.309 L 235.027 515.753 L 237.291 515.43 L 237.614 516.238 L 235.512 519.309 L 233.088 519.309 Z M 243.272 515.591 L 249.415 518.178 L 251.517 517.855 L 253.134 513.975 L 252.487 510.58 L 248.284 510.095 L 244.242 511.873 L 243.272 515.591 Z M 273.988 525.614 L 277.706 531.111 L 280.131 530.787 L 281.263 530.302 L 282.718 531.596 L 286.436 531.434 L 287.406 529.979 L 284.496 528.201 L 282.556 524.483 L 280.454 520.926 L 274.634 523.836 L 273.988 525.614 Z M 294.195 534.506 L 295.489 532.566 L 300.177 533.536 L 300.824 533.051 L 306.967 533.697 L 306.643 534.991 L 304.057 536.446 L 299.692 536.122 L 294.195 534.506 Z M 299.53 539.679 L 301.47 543.559 L 304.542 542.427 L 304.865 540.81 L 303.248 538.709 L 299.53 538.386 L 299.53 539.679 Z M 306.482 538.547 L 308.745 535.637 L 313.433 538.062 L 317.798 539.194 L 322.163 541.942 L 322.163 543.882 L 318.606 545.66 L 313.756 546.63 L 311.332 545.175 L 306.482 538.547 Z M 323.133 554.067 L 324.749 552.773 L 328.144 554.39 L 335.742 557.947 L 339.137 560.048 L 340.754 562.473 L 342.694 566.838 L 346.735 569.424 L 346.412 570.718 L 342.532 573.951 L 338.329 575.406 L 336.874 574.759 L 333.802 576.538 L 331.378 579.771 L 329.114 582.681 L 327.336 582.519 L 323.779 579.932 L 323.456 575.406 L 324.103 572.981 L 322.486 567.323 L 320.385 565.545 L 320.223 562.958 L 322.486 561.988 L 324.588 558.916 L 325.073 557.947 L 323.456 556.168 L 323.133 554.067 Z",
        ID: "M 148.779 175.128 L 157.25 141.263 L 158.621 137.034 L 161.136 131.09 L 159.879 128.803 L 157.364 128.918 L 156.564 127.889 L 157.021 126.746 L 157.364 123.659 L 161.822 118.172 L 163.651 117.715 L 164.794 116.572 L 165.366 113.371 L 166.28 112.685 L 170.167 106.856 L 174.053 102.512 L 174.282 98.739 L 170.853 96.11 L 169.317 91.709 L 182.942 28.368 L 196.46 30.896 L 192.052 52.279 L 195.612 59.764 L 194.031 64.425 L 196.001 69.066 L 199.139 70.321 L 202.974 79.878 L 206.487 84.315 L 206.994 85.458 L 210.335 86.601 L 210.704 88.698 L 203.733 106.074 L 203.568 108.64 L 206.199 111.962 L 207.104 111.913 L 212.015 108.888 L 212.693 107.793 L 214.255 108.452 L 213.977 113.805 L 216.716 126.388 L 220.634 129.566 L 222.315 131.731 L 221.598 135.815 L 222.664 138.623 L 223.726 139.714 L 226.205 137.362 L 229.054 137.411 L 231.973 138.747 L 234.753 138.065 L 238.547 137.904 L 242.526 139.504 L 245.269 139.208 L 245.766 136.17 L 248.699 135.406 L 249.959 136.921 L 250.4 139.866 L 251.824 141.08 L 243.073 196.085 C 243.073 196.085 155.772 176.632 148.779 175.128 Z",
        IL: "M619.54145,300.34244L619.5727,297.11273L620.14009,292.46677L622.47262,289.55091L624.33927,285.47515L626.57229,281.47982L626.20079,276.22742L624.19558,272.68485L624.0992,269.33817L624.79403,264.06866L623.96862,256.89029L622.90228,241.11284L621.609,226.0955L620.68672,214.4563L620.41421,213.53491L619.60591,210.94834L618.31263,207.23015L616.69602,205.45188L615.24108,202.86532L615.00751,197.37636L569.21108,199.97461L569.4397,202.34656L571.72593,203.03243L572.64041,204.17554L573.09766,206.00452L576.98424,209.43386L577.67012,211.72009L576.98424,215.14943L575.15526,218.80739L574.4694,221.32223L572.18317,223.15122L570.35419,223.83709L565.09587,225.20882L564.41,227.0378L563.72413,229.09541L564.41,230.46715L566.23898,232.06751L566.01036,236.18271L564.18137,237.78307L563.49551,239.38343L563.49551,242.1269L561.66653,242.58414L560.06617,243.72726L559.83755,245.099L560.06617,247.1566L558.3515,248.47117L557.3227,251.27181L557.77994,254.92976L560.06617,262.24569L567.3821,269.79024L572.86903,273.4482L572.64041,277.79203L573.55491,279.16377L579.95634,279.62101L582.69981,280.99275L582.01395,284.65071L579.72772,290.5949L579.04185,293.79562L581.32807,297.6822L587.72951,302.94052L592.30197,303.62639L594.35956,308.65609L596.41717,311.8568L595.50268,314.82889L597.10304,318.9441L598.93202,321.00171L600.34605,320.12102L601.25371,318.04623L603.46679,316.29903L605.59826,315.68463L608.20079,316.86443L611.82778,318.24013L613.01673,317.9419L613.2166,315.68345L611.9293,313.27166L612.23352,310.89494L614.07192,309.54749L617.09446,308.7372L618.35536,308.27868L617.74275,306.8918L616.95138,304.53743L618.38398,303.55647L619.54145,300.34244Z",
        IN: "M619.56954,299.97132L619.63482,297.11274L620.11981,292.58623L622.38305,289.67635L624.16133,285.79648L626.74789,281.59331L626.26291,275.77352L624.48465,273.02529L624.16133,269.79208L624.96963,264.29561L624.48465,257.3442L623.19135,241.33979L621.89807,225.98203L620.9276,214.26201L623.99866,215.15152L625.45361,216.12148L626.58523,215.79816L628.68682,213.85824L631.51639,212.24125L636.60919,212.07921L658.59506,209.81595L664.17079,209.28279L665.67393,225.239L669.92528,262.08055L670.52374,267.85215L670.15224,270.1154L671.38022,271.91077L671.47661,273.28332L668.95532,274.88283L665.41589,276.43414L662.21376,276.98442L661.6153,281.85135L657.04061,285.16382L654.24419,289.17426L654.56751,291.55099L653.98617,293.08519L650.6597,293.08519L649.07417,291.46859L646.58086,292.73079L643.8979,294.23393L644.05957,297.28838L642.86578,297.54641L642.3979,296.52827L640.23102,295.02513L636.9807,296.36661L635.42939,299.37286L633.99155,298.56456L632.5366,296.96505L628.07226,297.45004L622.47943,298.42L619.56954,299.97132Z",
        IA: "M569.19154,199.5843L569.45592,202.3705L571.67964,202.94776L572.63358,204.17309L573.13359,206.02845L576.92643,209.3871L577.6123,211.7786L576.93796,215.20307L575.35565,218.43505L574.55631,221.17684L572.38356,222.77888L570.66805,223.35128L565.08903,225.21148L563.69757,229.06017L564.42621,230.43191L566.26672,232.1145L565.98379,236.15079L564.22064,237.68865L563.44923,239.33179L563.57645,242.10811L561.69014,242.56535L560.06469,243.67026L559.7859,245.02289L560.06469,247.13781L558.51367,248.25388L556.04314,245.1206L554.78057,242.67073L489.04475,245.18558L488.12672,245.35102L486.07432,240.83506L485.8457,234.20499L484.24534,230.08978L483.55948,224.83147L481.27325,221.1735L480.35877,216.37243L477.61529,208.82788L476.47218,203.45524L475.10044,201.28333L473.50008,198.53987L475.45406,193.69604L476.8258,187.98047L474.08233,185.92286L473.62508,183.17939L474.53958,180.66454L476.25425,180.66454L558.90825,179.39506L559.74251,183.57818L561.99469,185.13915L562.2514,186.56224L560.22186,189.95155L560.41227,193.15707L562.92713,196.95527L565.45392,198.24889L568.5332,198.75194L569.19154,199.5843Z",
        KS: "M507.88059,324.38028L495.26233,324.58471L449.17324,324.12748L404.61576,322.06985L379.98602,320.81244L383.87981,256.21747L405.96327,256.89264L446.2524,257.73404L490.55364,258.72162L495.64927,258.72162L497.83367,260.88402L499.85133,260.86264L501.49163,261.87511L501.42913,264.88434L499.60015,266.60971L499.2679,268.84188L501.11098,272.24421L504.06334,275.43927L506.39069,277.05373L507.69146,288.29455L507.88059,324.38028Z",
        KY: "M725.9944,295.2707L723.70108,297.67238L720.12289,301.66642L715.19834,307.13109L713.98257,308.84686L713.92007,310.94844L709.54021,313.11253L703.88209,316.50741L696.65022,318.30626L644.78233,323.20512L629.02277,324.98338L624.40157,325.49609L620.53322,325.46837L620.30627,329.68865L612.12686,329.83321L605.17545,330.47985L597.18797,330.41963L598.39575,329.09955L600.89529,327.5587L601.12392,324.35797L602.03841,322.52899L600.43159,319.99009L601.23342,318.08328L603.49668,316.30502L605.59826,315.65837L608.34649,316.95166L611.90303,318.24494L613.03466,317.92162L613.19632,315.65837L611.90303,313.23346L612.22635,310.97021L614.16628,309.51527L616.75286,308.86862L618.36946,308.22198L617.56116,306.44371L616.91452,304.50378L618.42114,303.50798C618.42442,303.47086,619.6751,299.98569,619.65943,299.85017L622.71265,298.37149L628.03244,297.40153L632.52648,296.91655L633.91892,298.54398L635.44719,299.41478L637.03796,296.30657L640.22504,295.02395L642.43013,296.50798L642.84069,297.50702L644.01421,297.24301L643.85254,294.29008L646.98341,292.54089L649.1315,291.46741L650.66086,293.12822L653.97901,293.08402L654.56634,291.51277L654.19883,289.24953L656.79936,285.25103L661.57591,281.81313L662.28186,276.97727L665.20688,276.52136L668.99834,274.87568L671.44166,273.16744L671.24333,271.60251L670.10088,270.14757L670.6667,267.15266L674.85155,267.03516L677.15146,266.28936L680.49885,267.71846L682.55296,272.0833L687.68525,272.09412L689.73626,274.30231L691.35171,274.15461L693.9534,272.87644L699.19046,273.44981L701.76538,273.66732L703.45296,271.61108L706.07091,270.1852L707.95269,269.4781L708.59933,272.31473L710.64276,273.37307L713.28552,275.45556L713.40299,281.1288L714.21129,282.70121L716.80101,284.25749L717.57265,286.552L721.73254,289.98894L723.53785,293.61218L725.9944,295.2707Z",
        LA: "M607.96706,459.16125L604.68245,455.99511L605.69236,450.49488L605.03101,449.6018L595.76934,450.60836L570.74102,451.06728L570.05683,448.6726L570.96964,440.2169L574.28552,434.27105L579.31688,425.58003L578.74281,423.18201L579.9994,422.50116L580.45833,420.54867L578.17209,418.49274L578.0603,416.55029L576.22964,412.20478L576.08259,405.86618L520.6088,406.79015L520.63737,416.36372L521.32324,425.73725L522.00911,429.62383L524.52396,433.73904L525.43845,438.76875L529.78228,444.25568L530.0109,447.4564L530.69677,448.14227L530.0109,456.60131L527.03881,461.631L528.63917,463.68861L527.95329,466.20345L527.26743,473.51938L525.89569,476.72009L526.01815,480.33654L530.70463,478.81639L542.81798,479.0234L553.16425,482.57993L559.63067,483.71156L563.34886,482.25661L566.58207,483.38824L569.81528,484.3582L570.62358,482.25661L567.39037,481.12499L564.8038,481.60997L562.05557,479.99337C562.05557,479.99337,562.21724,478.70008,562.86388,478.53842C563.51052,478.37676,565.93543,477.56846,565.93543,477.56846L567.71369,479.0234L569.49196,478.05344L572.72517,478.70008L574.18011,481.12499L574.50343,483.38824L579.02992,483.71156L580.80819,485.48982L579.99989,487.10643L578.7066,487.91473L580.32321,489.53133L588.72955,493.08786L592.28608,491.79458L593.25605,489.36967L595.84261,488.72303L597.62088,487.26809L598.91416,488.23805L599.72246,491.14794L597.45922,491.95624L598.10586,492.60288L601.50073,491.3096L603.76398,487.91473L604.57228,487.42975L602.47069,487.10643L603.27899,485.48982L603.11733,484.03488L605.21892,483.5499L606.35054,482.25661L606.99718,483.06491C606.99718,483.06491,606.83552,486.13646,607.64383,486.13646C608.45213,486.13646,611.847,486.78311,611.847,486.78311L615.88851,488.72303L616.85847,490.17798L619.76836,490.17798L620.89999,491.14794L623.16323,488.07639L623.16323,486.62144L621.86995,486.62144L618.47508,483.87322L612.6553,483.06491L609.42209,480.80167L610.55372,478.05344L612.81696,478.37676L612.97862,477.73012L611.20036,476.76016L611.20036,476.27517L614.43357,476.27517L616.21183,473.20363L614.91855,471.2637L614.59523,468.51547L613.14028,468.67713L611.20036,470.77872L610.55372,473.36529L607.48217,472.71864L606.5122,470.94038L608.29047,469.00045L610.1938,465.55485L609.1327,463.14258L607.96706,459.16125Z",
        ME: "M922.83976,78.830719L924.77969,80.932305L927.04294,84.650496L927.04294,86.590422L924.94135,91.278575L923.00142,91.925217L919.60655,94.996766L914.75674,100.49322C914.75674,100.49322,914.1101,100.49322,913.46346,100.49322C912.81682,100.49322,912.49349,98.391636,912.49349,98.391636L910.71523,98.553296L909.74527,100.00824L907.32036,101.46319L906.3504,102.91813L907.967,104.37307L907.48202,105.01972L906.99704,107.76794L905.05711,107.60628L905.05711,105.98968L904.73379,104.69639L903.27885,105.01972L901.50058,101.78651L899.399,103.07979L900.69228,104.53473L901.0156,105.66636L900.2073,106.95964L900.53062,110.03119L900.69228,111.64779L899.07568,114.23436L896.16579,114.71934L895.84247,117.62923L890.50767,120.70078L889.21439,121.18576L887.59778,119.73082L884.52623,123.28735L885.4962,126.52056L884.04125,127.81384L883.87959,132.17867L882.75631,138.43803L880.29406,137.28208L879.80907,134.21052L875.92922,133.07889L875.6059,130.33065L868.33115,106.88983L863.63257,92.250088L865.05311,92.131923L866.5669,92.541822L866.5669,89.955254L867.8752,85.458798L870.46177,80.770645L871.91672,76.729133L869.97679,74.304226L869.97679,68.322789L870.78509,67.352826L871.5934,64.604598L871.43174,63.149654L871.27007,58.29984L873.04834,53.450026L875.95823,44.5587L878.05981,40.355528L879.3531,40.355528L880.64638,40.517188L880.64638,41.648811L881.93967,43.912058L884.68789,44.5587L885.4962,43.750397L885.4962,42.780435L889.53771,39.870546L891.31597,38.092281L892.77092,38.253942L898.75235,40.678849L900.69228,41.648811L909.74527,71.555998L915.7267,71.555998L916.53501,73.495924L916.69667,78.345738L919.60655,80.608984L920.41486,80.608984L920.57652,80.124003L920.09154,78.99238L922.83976,78.830719ZM901.90801,108.97825L903.44379,107.44247L904.81791,108.49327L905.38372,110.91819L903.68628,111.80732L901.90801,108.97825ZM908.61694,103.07763L910.39521,104.93673C910.39521,104.93673,911.6885,105.01755,911.6885,104.69423C911.6885,104.37091,911.93099,102.67347,911.93099,102.67347L912.82013,101.86517L912.01182,100.08689L909.99106,100.81437L908.61694,103.07763Z",
        MD: "M 839.792 252.415 L 833.783 253.619 L 828.64 253.736 L 826.797 246.814 L 824.872 237.644 L 822.299 231.456 L 821.011 227.058 L 813.505 228.68 L 798.629 231.503 L 761.177 239.054 L 762.309 244.066 L 763.279 249.724 L 763.602 249.401 L 765.703 246.976 L 767.967 244.358 L 770.392 243.743 L 771.847 242.288 L 773.625 239.701 L 774.918 240.348 L 777.828 240.024 L 780.415 237.923 L 782.421 236.469 L 784.267 235.985 L 785.911 237.114 L 788.821 238.569 L 790.761 240.348 L 791.973 241.883 L 796.096 243.581 L 796.096 246.491 L 801.592 247.784 L 802.737 248.326 L 804.148 246.298 L 807.03 248.268 L 805.752 250.75 L 804.987 254.735 L 803.209 257.322 L 803.209 259.424 L 803.855 261.202 L 808.919 262.558 L 813.23 262.496 L 816.302 263.466 L 818.404 263.789 L 819.374 261.688 L 817.919 259.586 L 817.919 257.808 L 815.494 255.706 L 813.392 250.21 L 814.685 244.875 L 814.524 242.773 L 813.23 241.48 C 813.23 241.48 814.685 239.863 814.685 239.217 C 814.685 238.57 815.17 237.115 815.17 237.115 L 817.11 235.822 L 819.05 234.205 L 819.535 235.175 L 818.08 236.792 L 816.787 240.51 L 817.11 241.642 L 818.889 241.965 L 819.374 247.461 L 817.272 248.431 L 817.595 251.988 L 818.08 251.826 L 819.212 249.886 L 820.828 251.665 L 819.212 252.958 L 818.889 256.353 L 821.475 259.748 L 825.355 260.233 L 826.972 259.424 L 830.208 263.607 L 831.566 264.144 L 838.22 261.347 L 840.228 257.323 L 839.792 252.415 Z M 823.822 261.443 L 824.954 263.949 L 825.115 265.728 L 826.247 267.587 C 826.247 267.587 827.136 266.697 827.136 266.374 C 827.136 266.051 826.409 263.303 826.409 263.303 L 825.681 260.958 L 823.822 261.443 Z",
        MA: "M 899.623 173.254 L 901.795 172.568 L 902.253 170.853 L 903.281 170.968 L 904.31 173.254 L 903.053 173.711 L 899.166 173.826 L 899.623 173.254 Z M 890.25 174.054 L 892.536 171.425 L 894.137 171.425 L 895.966 172.911 L 893.565 173.94 L 891.393 174.969 L 890.25 174.054 Z M 855.451 152.066 L 873.098 147.425 L 875.361 146.779 L 877.275 143.983 L 881.012 142.32 L 883.901 146.732 L 881.476 151.906 L 881.153 153.361 L 883.093 155.947 L 884.224 155.139 L 886.003 155.139 L 888.266 157.725 L 892.146 163.707 L 895.702 164.192 L 897.966 163.222 L 899.744 161.444 L 898.935 158.695 L 896.834 157.079 L 895.379 157.887 L 894.409 156.594 L 894.894 156.109 L 896.996 155.947 L 898.774 156.755 L 900.714 159.18 L 901.684 162.09 L 902.007 164.515 L 897.804 165.97 L 893.924 167.91 L 890.044 172.436 L 888.104 173.891 L 888.104 172.921 L 890.529 171.466 L 891.014 169.688 L 890.206 166.617 L 887.296 168.072 L 886.488 169.527 L 886.973 171.79 L 884.906 172.79 L 882.159 168.263 L 878.764 163.898 L 876.694 162.086 L 870.16 163.962 L 865.068 165.013 L 844.393 169.605 L 843.725 164.837 L 844.372 154.248 L 848.661 153.359 L 855.451 152.066 Z",
        MI: "M 697.86 177.237 L 694.627 168.992 L 692.364 159.939 L 689.939 156.706 L 687.352 154.928 L 685.736 156.059 L 681.856 157.838 L 679.916 162.849 L 677.168 166.567 L 676.036 167.214 L 674.581 166.567 C 674.581 166.567 671.994 165.112 672.156 164.466 C 672.318 163.819 672.641 159.454 672.641 159.454 L 676.036 158.161 L 676.844 154.766 L 677.491 152.18 L 679.916 150.563 L 679.592 140.54 L 677.976 138.277 L 676.683 137.468 L 675.874 135.367 L 676.683 134.559 L 678.299 134.882 L 678.461 133.265 L 676.036 131.002 L 674.743 128.415 L 672.156 128.415 L 667.63 126.96 L 662.133 123.566 L 659.385 123.566 L 658.738 124.212 L 657.768 123.727 L 654.697 121.464 L 651.787 123.242 L 648.877 125.506 L 649.2 129.062 L 650.17 129.385 L 652.272 129.87 L 652.757 130.679 L 650.17 131.487 L 647.584 131.81 L 646.129 133.589 L 645.805 135.69 L 646.129 137.307 L 646.452 142.803 L 642.896 144.905 L 642.249 144.743 L 642.249 140.54 L 643.542 138.115 L 644.189 135.69 L 643.38 134.882 L 641.441 135.69 L 640.471 139.893 L 637.722 141.025 L 635.944 142.965 L 635.782 143.935 L 636.429 144.743 L 635.782 147.33 L 633.519 147.815 L 633.519 148.946 L 634.328 151.371 L 633.196 157.514 L 631.579 161.556 L 632.226 166.244 L 632.711 167.376 L 631.903 169.801 L 631.579 170.609 L 631.256 173.357 L 634.812 179.338 L 637.722 185.805 L 639.177 190.655 L 638.369 195.343 L 637.399 201.324 L 634.974 206.497 L 634.651 209.246 L 631.392 212.331 L 635.801 212.169 L 657.219 209.906 L 664.497 208.918 L 664.593 210.585 L 671.445 209.372 L 681.743 207.869 L 685.597 207.408 L 685.736 206.821 L 685.897 205.366 L 687.999 201.648 L 689.999 199.91 L 689.777 194.858 L 691.374 193.261 L 692.465 192.918 L 692.687 189.361 L 694.223 186.33 L 695.274 186.937 L 695.435 187.583 L 696.243 187.745 L 698.183 186.775 L 697.86 177.237 Z M 667.794 114.187 L 668.44 116.693 L 671.674 116.855 L 672.967 115.642 C 672.967 115.642 672.886 114.187 672.563 114.026 C 672.239 113.864 670.946 112.166 670.946 112.166 L 668.764 112.409 L 667.147 112.571 L 666.824 113.702 L 667.794 114.187 Z M 567.492 111.213 L 568.208 110.633 L 570.957 109.824 L 574.513 107.561 L 574.513 106.591 L 575.16 105.945 L 581.141 104.975 L 583.566 103.035 L 587.931 100.933 L 588.093 99.64 L 590.033 96.73 L 591.811 95.922 L 593.104 94.143 L 595.367 91.88 L 599.732 89.455 L 604.42 88.97 L 605.552 90.102 L 605.229 91.072 L 601.51 92.042 L 600.055 95.113 L 597.792 95.922 L 597.307 98.347 L 594.882 101.58 L 594.559 104.166 L 595.367 104.651 L 596.337 103.52 L 599.894 100.61 L 601.187 101.903 L 603.45 101.903 L 606.684 102.873 L 608.139 104.005 L 609.593 107.076 L 612.342 109.824 L 616.222 109.663 L 617.676 108.693 L 619.293 109.986 L 620.91 110.471 L 622.203 109.663 L 623.335 109.663 L 624.951 108.693 L 628.993 105.136 L 632.388 104.005 L 639.016 103.681 L 643.542 101.741 L 646.129 100.448 L 647.584 100.61 L 647.584 106.268 L 648.069 106.591 L 650.979 107.4 L 652.918 106.915 L 659.062 105.298 L 660.193 104.166 L 661.648 104.651 L 661.648 111.603 L 664.881 114.674 L 666.175 115.321 L 667.468 116.291 L 666.175 116.614 L 665.366 116.291 L 661.648 115.806 L 659.547 116.453 L 657.283 116.291 L 654.05 117.746 L 652.272 117.746 L 646.452 116.453 L 641.279 116.614 L 639.339 119.201 L 632.388 119.847 L 629.963 120.656 L 628.831 123.727 L 627.538 124.859 L 627.053 124.697 L 625.598 123.081 L 621.071 125.506 L 620.425 125.506 L 619.293 123.889 L 618.485 124.051 L 616.545 128.415 L 615.575 132.457 L 612.394 139.458 L 611.217 138.423 L 609.845 137.392 L 607.904 127.104 L 604.36 125.734 L 602.307 123.448 L 590.187 120.704 L 587.332 119.675 L 579.101 117.502 L 571.211 116.359 L 567.492 111.213 Z",
        MN: "M475.23781,128.82439L474.78056,120.36535L472.95158,113.04943L471.1226,99.560705L470.66535,89.729927L468.83637,86.300584L467.23601,81.270889L467.23601,70.982869L467.92187,67.096282L466.10094,61.644615L496.23336,61.679886L496.55668,53.435202L497.20332,53.273541L499.46657,53.758523L501.40649,54.566825L502.21479,60.063281L503.66974,66.206379L505.28634,67.822984L510.13616,67.822984L510.45948,69.277928L516.76424,69.601249L516.76424,71.702835L521.61405,71.702835L521.93737,70.409551L523.06899,69.277928L525.33224,68.631286L526.62552,69.601249L529.53541,69.601249L533.41526,72.187816L538.75006,74.612723L541.17497,75.097705L541.65995,74.127742L543.11489,73.64276L543.59987,76.552649L546.18644,77.845933L546.67142,77.360951L547.96471,77.522612L547.96471,79.624198L550.55127,80.594161L553.62282,80.594161L555.23943,79.785858L558.47264,76.552649L561.0592,76.067668L561.86751,77.845933L562.35249,79.139216L563.32245,79.139216L564.29241,78.330914L573.18374,78.007593L574.962,81.079142L575.60865,81.079142L576.32226,79.994863L580.76217,79.624198L580.15007,81.903657L576.21135,83.740782L566.96557,87.80191L562.19083,89.808807L559.11928,92.395375L556.69437,95.951905L554.43113,99.831756L552.65286,100.64006L548.12637,105.65153L546.83308,105.81319L542.5053,108.57031L540.04242,111.77542L539.8138,114.96681L539.90816,123.01016L538.53212,124.69891L533.45058,128.45888L531.2205,134.44129L534.09225,136.675L534.77214,139.90198L532.9169,143.14091L533.08769,146.88893L533.45655,153.61933L536.4848,156.62132L539.8138,156.62132L541.70491,159.75392L545.08408,160.25719L548.94324,165.92866L556.03053,170.04541L558.17368,172.92053L558.84483,179.36004L477.63333,180.50483L477.29541,144.82798L476.83817,141.85589L472.72296,138.42655L471.57984,136.59757L471.57984,134.9972L473.63744,133.39685L475.00918,132.02511L475.23781,128.82439Z",
        MS: "M631.55882,459.34458L631.30456,460.60073L626.13142,460.60073L624.67648,459.79243L622.57489,459.46911L615.78515,461.40903L614.00689,460.60073L611.42032,464.8039L610.31778,465.58192L609.19395,463.09394L608.05083,459.20735L604.6215,456.00664L605.7646,450.46209L605.07874,449.5476L603.24976,449.77622L595.33184,450.64959L570.78534,451.02296L570.0156,448.7976L570.88897,440.4208L574.00581,434.74799L579.23288,425.60309L578.78714,423.17049L580.024,422.51424L580.45987,420.59477L578.14239,418.51579L578.02727,416.37431L576.19155,412.25322L576.08255,406.29045L577.41008,403.80948L577.18678,400.39373L575.41729,397.31114L576.94371,395.82893L575.3731,393.32939L575.83035,391.67718L577.40775,385.15081L579.8937,383.11446L579.25203,380.74749L582.91,375.44496L585.74186,374.08854L585.52089,372.41338L585.23276,370.73228L588.10882,365.16461L590.45454,363.9331L590.60617,363.04009L627.94965,359.15892L628.13451,365.44225L628.29617,382.09331L627.48787,413.13216L627.32621,427.19665L630.07445,445.94929L631.55882,459.34458Z",
        MO: "M 558.44 248.113 L 555.92 245.026 L 554.777 242.74 L 490.42 245.14 L 488.134 245.255 L 489.391 247.769 L 489.163 250.056 L 491.677 253.942 L 494.764 258.057 L 497.85 260.801 L 500.011 261.029 L 501.508 261.944 L 501.508 264.916 L 499.679 266.516 L 499.222 268.803 L 501.28 272.232 L 503.794 275.204 L 506.309 277.033 L 507.681 288.693 L 507.995 324.765 L 508.224 329.452 L 508.681 334.835 L 531.114 333.968 L 554.32 333.283 L 575.125 332.482 L 586.779 332.251 L 588.949 335.677 L 588.265 338.985 L 585.177 341.388 L 584.605 343.225 L 589.983 343.682 L 593.878 342.997 L 595.596 337.503 L 597.135 330.447 L 598.357 329.02 L 600.941 327.604 L 600.993 324.554 L 602.009 322.617 L 600.314 320.074 L 598.983 321.058 L 596.991 318.831 L 595.706 314.072 L 596.507 311.553 L 594.563 308.126 L 592.732 303.55 L 587.933 302.751 L 580.964 297.152 L 579.245 293.038 L 580.044 289.838 L 582.104 283.78 L 582.562 280.916 L 580.613 279.885 L 573.758 279.087 L 572.73 277.375 L 572.618 273.145 L 567.131 269.714 L 560.156 261.942 L 557.87 254.626 L 557.639 250.401 L 558.44 248.113 Z",
        MT: "M369.20952,56.969133L338.5352,54.1613L309.27465,50.60477L280.01411,46.563258L247.68201,41.228463L229.25272,37.833593L196.52907,30.900857L192.05005,52.248389L195.47939,59.79293L194.10765,64.365382L195.93663,68.937833L199.13736,70.309572L203.75818,81.079025L206.45328,84.255548L206.91052,85.398666L210.33986,86.541784L210.79711,88.599377L203.70981,106.20333L203.70981,108.71818L206.22466,111.91889L207.13914,111.91889L211.94021,108.9468L212.62609,107.80368L214.22645,108.48955L213.99782,113.74787L216.7413,126.32212L219.71339,128.83696L220.62787,129.52283L222.45686,131.80905L221.99961,135.2384L222.68548,138.66773L223.8286,139.58223L226.11482,137.296L228.85829,137.296L232.05901,138.89636L234.57386,137.98187L238.68907,137.98187L242.34702,139.58223L245.0905,139.12498L245.54774,136.15288L248.51983,135.46702L249.89157,136.83876L250.34882,140.03947L251.77469,140.87411L253.66164,129.83937L360.40731,143.26829L369.20952,56.969133Z",
        NE: "M486.09787,240.70058L489.32848,247.72049L489.19985,250.02301L492.65907,255.51689L495.37836,258.66923L490.32888,258.66923L446.84632,257.73055L406.05946,256.84025L383.80724,256.05638L384.88001,234.72853L352.56177,231.80828L356.9056,187.79842L372.45193,188.82723L392.57072,189.97033L410.40329,191.11345L434.18005,192.25656L444.92531,191.79932L446.98291,194.08554L451.78399,197.05764L452.9271,197.97213L457.27093,196.60039L461.15752,196.14315L463.90099,195.91452L465.72997,197.28626L469.7874,198.88662L472.75949,200.48698L473.21674,202.08734L474.13123,204.14494L475.96021,204.14494L476.75819,204.19111L477.65242,208.87293L480.57268,217.34085L481.14521,221.09756L483.6687,224.87181L484.23829,229.98595L485.84553,234.22632L486.09787,240.70058Z",
        NV: "M196.39273,185.57552L172.75382,314.39827L170.92158,314.74742L169.34882,317.1536L166.97588,317.16429L165.50393,314.42082L162.88546,314.0424L162.11454,312.93477L161.07671,312.88073L158.29834,314.52502L157.98808,321.3105L157.62599,327.08767L157.27742,335.68048L155.83032,337.76964L153.3914,336.69561L84.311514,232.49442L103.30063,164.90951L196.39273,185.57552Z",
        NH: "M 880.799 142.425 L 881.668 141.348 L 882.758 138.057 L 880.215 137.144 L 879.73 134.072 L 875.85 132.941 L 875.527 130.192 L 868.252 106.752 L 863.651 92.209 L 862.754 92.203 L 862.107 93.82 L 861.46 93.335 L 860.491 92.365 L 859.036 94.305 L 858.987 99.337 L 859.299 105.004 L 861.239 107.753 L 861.239 111.794 L 857.52 116.857 L 854.934 117.989 L 854.934 119.12 L 856.066 120.898 L 856.066 129.466 L 855.257 138.681 L 855.096 143.531 L 856.066 144.824 L 855.904 149.351 L 855.419 151.129 L 856.388 151.838 L 873.175 147.414 L 875.35 146.811 L 877.194 144.038 L 880.799 142.425 Z",
        NJ: "M 829.679 188.46 L 827.357 191.194 L 827.357 194.266 L 825.417 197.338 L 825.255 198.954 L 826.549 200.247 L 826.387 202.672 L 824.124 203.804 L 824.932 206.552 L 825.094 207.684 L 827.842 208.007 L 828.812 210.594 L 832.368 213.019 L 834.793 214.635 L 834.793 215.444 L 831.81 218.14 L 830.193 220.403 L 828.738 223.152 L 826.475 224.445 L 826.013 226.047 L 825.77 227.26 L 825.161 229.867 L 826.253 232.111 L 829.487 235.021 L 834.336 237.284 L 838.378 237.931 L 838.54 239.385 L 837.731 240.355 L 838.055 243.104 L 838.863 243.104 L 840.964 240.679 L 841.773 235.829 L 844.521 231.787 L 847.593 225.321 L 848.724 219.825 L 848.077 218.693 L 847.916 209.317 L 846.299 205.922 L 845.168 206.73 L 842.419 207.053 L 841.934 206.568 L 843.066 205.598 L 845.168 203.659 L 845.231 202.565 L 844.846 199.131 L 845.42 196.383 L 845.302 194.414 L 842.495 192.663 L 837.402 191.487 L 833.265 190.106 L 829.679 188.46 Z",
        NM: "M288.15255,424.01315L287.37714,419.26505L296.02092,419.79045L326.19268,422.73635L353.46084,424.42624L355.67611,405.71877L359.53347,349.8428L361.27115,330.45357L362.84285,330.58213L363.66825,319.41874L259.6638,308.78279L242.16645,429.2176L257.62712,431.20675L258.9204,421.1838L288.15255,424.01315Z",
        NY: "M830.37944,188.7456L829.24781,187.77564L826.66123,187.61398L824.39799,185.67406L822.76738,179.54493L819.30892,179.63547L816.86521,176.92727L797.47989,181.30921L754.47811,190.0389L746.94846,191.26689L746.2103,184.79855L747.6384,183.67317L748.93168,182.54155L749.90165,180.92494L751.67991,179.79332L753.61984,178.01505L754.10482,176.39845L756.2064,173.65022L757.33803,172.68026L757.17637,171.71029L755.88308,168.63875L754.10482,168.47709L752.16489,162.33399L755.07478,160.55572L759.43961,159.10078L763.48113,157.80749L766.71434,157.32251L773.01909,157.16085L774.95902,158.45414L776.57562,158.6158L778.67721,157.32251L781.26378,156.19089L786.43691,155.70591L788.5385,153.92764L790.31676,150.69443L791.93337,148.75451L794.03495,148.75451L795.97488,147.62288L796.13654,145.35964L794.6816,143.25805L794.35828,141.80311L795.4899,139.70152L795.4899,138.24658L793.71163,138.24658L791.93337,137.43828L791.12507,136.30665L790.96341,133.72008L796.78318,128.22363L797.42982,127.41533L798.88477,124.50544L801.79466,119.97894L804.54289,116.26075L806.64447,113.83585L809.05957,112.01024L812.14093,110.7643L817.63738,109.47101L820.87059,109.63267L825.39709,108.17773L832.96228,106.10656L833.48207,111.08623L835.90699,117.55267L836.71529,122.72582L835.74533,126.60568L838.3319,131.13218L839.1402,133.23377L838.3319,136.14367L841.2418,137.43695L841.88844,137.76027L844.96,148.75321L844.42371,153.81288L843.93873,164.64415L844.74703,170.14062L845.55533,173.69716L847.01028,180.9719L847.01028,189.05494L845.87865,191.31819L847.71798,193.31098L848.51453,194.9894L846.57461,196.76767L846.89793,198.06095L848.19121,197.73763L849.64616,196.44435L851.9094,193.85778L853.04103,193.21114L854.65763,193.85778L856.92088,194.01944L864.84224,190.13959L867.75213,187.39136L869.04541,185.93642L873.24858,187.55302L869.85371,191.10955L865.97386,194.01944L858.8608,199.35423L856.27424,200.3242L850.45446,202.26412L846.41295,203.39575L845.23821,202.86282L844.99419,199.17429L845.47917,196.42605L845.31751,194.32447L842.504,192.62547L837.9775,191.6555L834.09764,190.52388L830.37944,188.7456Z",
        NC: "M834.98153,294.31554L837.06653,299.23289L840.62306,305.69931L843.04796,308.12422L843.6946,310.38747L841.2697,310.54913L842.078,311.19577L841.75468,315.39894L839.16811,316.69222L838.52147,318.79381L837.22819,321.7037L833.50999,323.3203L831.08509,322.99698L829.63014,322.83532L828.01354,321.54204L828.33686,322.83532L828.33686,323.80529L830.27679,323.80529L831.08509,325.09857L829.14516,331.40333L833.34833,331.40333L833.99498,333.01993L836.25822,330.75669L837.55151,330.2717L835.61158,333.82823L832.54003,338.67805L831.24675,338.67805L830.11512,338.19307L827.3669,338.83971L822.19376,341.26462L815.72734,346.59941L812.33247,351.28756L810.39255,357.75398L809.90757,360.17889L805.21941,360.66387L799.76628,362.00053L789.81987,353.798L777.21033,346.19995L774.30044,345.39164L761.69091,346.84659L757.41445,347.59674L755.79785,344.36352L752.82749,342.24682L736.3381,342.7318L729.06336,343.5401L720.01037,348.06661L713.86726,350.65317L692.68971,353.23975L693.1898,349.18542L694.96807,347.73048L697.71631,347.08383L698.36295,343.36563L702.56613,340.61741L706.44598,339.16245L710.64917,335.60592L715.014,333.50433L715.66064,330.43277L719.5405,326.55292L720.18714,326.39126C720.18714,326.39126,720.18714,327.52289,720.99545,327.52289C721.80375,327.52289,722.93538,327.84621,722.93538,327.84621L725.19863,324.28967L727.30022,323.64302L729.56346,323.96635L731.18008,320.40982L734.08997,317.82324L734.57495,315.72165L734.76245,312.07346L739.03895,312.05094L746.23754,311.19515L761.99477,308.94272L777.13081,306.85615L798.77129,302.1368L818.75461,297.87823L829.93155,295.47242L834.98153,294.31554ZM839.25199,327.52211L841.83857,325.01636L844.99095,322.42978L846.52673,321.78314L846.68839,319.76238L846.04175,313.61926L844.5868,311.27518L843.94015,309.41608L844.66763,309.17358L847.41587,314.67006L847.82002,319.11573L847.65836,322.51062L844.26348,324.04639L841.43441,326.47131L840.30279,327.68377L839.25199,327.52211Z",
        ND: "M475.30528,128.91846L474.69037,120.48479L473.01342,113.66887L471.12193,100.64465L470.66469,89.657624L468.92523,86.580482L467.16862,81.386086L467.19987,70.941816L467.82323,67.117729L465.98913,61.649968L437.34688,61.085941L418.75593,60.439299L392.24361,59.146015L369.29727,57.012146L362.30403,124.18898L417.23627,127.53263L475.30528,128.91846Z",
        OH: "M735.32497,193.32832L729.23143,197.38167L725.35158,199.64492L721.95671,203.36311L717.9152,207.24296L714.68199,208.05126L711.7721,208.53624L706.27564,211.12281L704.17406,211.28447L700.77919,208.21292L695.60605,208.85957L693.01949,207.40462L690.63842,206.05379L685.74585,206.7572L675.56123,208.37381L664.35436,210.55854L665.64765,225.18882L667.42592,238.92999L670.01248,262.37079L670.5783,267.20196L674.70065,267.07294L677.12556,266.26463L680.48936,267.76777L682.55985,272.1326L687.69879,272.1155L689.59053,274.2342L691.3517,274.1689L693.89009,272.82744L696.39426,273.19894L701.81554,273.68162L703.54251,271.54894L705.88816,270.25566L707.95865,269.57481L708.60529,272.32305L710.38357,273.29301L713.85926,275.63708L716.04168,275.55626L717.3748,275.06378L717.55951,272.30225L719.14487,270.84729L719.24403,266.05457C719.24403,266.05457,720.26799,261.94551,720.26799,261.94551L721.56726,261.34423L722.88861,262.49197L723.42676,264.18899L725.14589,263.15157L725.58487,261.69082L724.46818,259.78776L724.53447,257.47333L725.28347,256.40102L727.43623,253.09454L728.48645,251.5512L730.58804,252.03618L732.85129,250.41957L735.92284,247.0247L738.69433,242.94597L739.01466,237.89046L739.49964,232.87897L739.32286,227.57209L738.36802,224.67731L738.71926,223.48753L740.52365,221.73742L738.23486,212.69009L735.32497,193.32832Z",
        OK: "M380.34313,320.82146L363.65895,319.54815L362.77873,330.50058L383.24411,331.65746L415.29966,332.96106L412.96506,357.37971L412.50781,375.21228L412.73644,376.81264L417.08027,380.4706L419.13787,381.61371L419.82374,381.38509L420.50961,379.32748L421.88135,381.15647L423.93895,381.15647L423.93895,379.78473L426.68242,381.15647L426.22518,385.04305L430.34039,385.27167L432.85523,386.41479L436.97044,387.10066L439.48529,388.92964L441.77152,386.87204L445.20086,387.5579L447.71571,390.98724L448.63019,390.98724L448.63019,393.27347L450.91642,393.95933L453.20264,391.67311L455.03163,392.35897L457.54647,392.35897L458.46097,394.87383L464.76204,396.9528L466.13378,396.26694L467.96276,392.15173L469.10587,392.15173L470.24899,394.20933L474.3642,394.8952L478.02215,396.26694L480.99425,397.18143L482.82324,396.26694L483.5091,393.75209L487.85293,393.75209L489.91053,394.66658L492.654,392.60897L493.79712,392.60897L494.48299,394.20933L498.59819,394.20933L500.19855,392.15173L502.02754,392.60897L504.08514,395.12383L507.28585,396.9528L510.48658,397.8673L512.42766,398.98623L512.03856,361.76922L510.66681,350.79524L510.50635,341.9229L509.06646,335.38517L508.28826,328.20553L508.22012,324.38931L496.08328,324.70805L449.67324,324.25081L404.63433,322.19319L380.34313,320.82146Z",
        OR: "M148.72184,175.53153L157.57154,140.73002L158.62233,136.5005L160.9767,130.87727L160.36119,129.71439L157.84633,129.66821L156.56473,127.99751L157.02197,126.53344L157.52538,123.28656L161.98353,117.79961L163.81251,116.70046L164.95562,115.55735L166.44166,111.99172L170.48872,106.32232L174.05435,102.45992L174.28297,99.008606L171.01411,96.539924L169.2307,91.897299L156.56693,88.285329L141.47784,84.741679L126.04582,84.855985L125.58858,83.484256L120.10163,85.54186L115.64349,84.970301L113.24295,83.36994L111.98553,84.055815L107.29877,83.827183L105.5841,82.455454L100.32578,80.39785L99.525598,80.512166L95.181768,79.02611L93.238477,80.855093L87.065665,80.512166L81.121482,76.396957L81.807347,75.596777L82.035968,67.823604L79.749743,63.937027L75.634535,63.365468L74.94867,60.850621L72.594738,60.384056L66.796213,62.44284L64.532966,68.909258L61.299757,78.932207L58.066547,85.398626L53.055073,99.463087L46.588654,113.04256L38.505631,125.65208L36.565705,128.56197L35.757403,137.12997L36.143498,149.2102L148.72184,175.53153Z",
        PA: "M825.1237,224.69205L826.43212,224.42105L828.76165,223.1678L829.97353,220.68473L831.59014,218.42148L834.82335,215.34992L834.82335,214.54162L832.39844,212.92502L828.8419,210.5001L827.87194,207.91353L825.1237,207.59021L824.96204,206.45858L824.15374,203.71035L826.417,202.57873L826.57866,200.15381L825.28536,198.86052L825.44702,197.24391L827.38696,194.17236L827.38696,191.1008L830.08459,188.45492L829.16431,187.77994L826.64023,187.58703L824.34574,185.64711L822.79582,179.53105L819.29124,179.63157L816.83601,176.92824L798.74502,181.12601L755.74324,189.8557L746.85189,191.31064L746.23122,184.78925L740.86869,189.8569L739.5754,190.34188L735.37311,193.35077L738.28387,212.48822L740.76553,222.21758L744.33733,241.47907L747.60664,240.84139L759.55022,239.33892L797.47685,231.67372L812.35306,228.8504L820.65341,227.22804L820.92052,226.98951L823.02212,225.37289L825.1237,224.69205Z",
        RI: "M 874.07 178.895 L 870.374 163.939 L 876.644 162.094 L 878.835 164.021 L 882.141 168.342 L 884.829 172.744 L 881.83 174.369 L 880.536 174.207 L 879.405 175.985 L 876.98 177.925 L 874.07 178.895 Z",
        SC: "M764.94328,408.16488L763.16622,409.13438L760.57965,407.84109L759.93301,405.7395L758.63973,402.18297L756.37647,400.08137L753.7899,399.43473L752.1733,394.58492L749.42506,388.60347L745.22189,386.66353L743.12029,384.72361L741.82701,382.13704L739.72542,380.1971L737.46217,378.90382L735.19892,375.99393L732.12737,373.73069L727.60086,371.95241L727.11588,370.49747L724.69098,367.58758L724.20599,366.13262L720.81111,360.95949L717.41624,361.12115L713.37472,358.69623L712.08144,357.40295L711.75812,355.62468L712.56642,353.68476L714.82967,352.71478L714.31885,350.4257L720.08695,348.08913L729.20245,343.50013L736.97718,342.69182L753.09158,342.26934L755.72983,344.14677L757.40893,347.50499L761.71128,346.89501L774.32081,345.44005L777.2307,346.24836L789.84024,353.84642L799.94832,361.9681L794.52715,367.42644L791.94058,373.56954L791.4556,379.8743L789.839,380.6826L788.70737,383.43083L786.28247,384.07747L784.18088,387.634L781.43265,390.38223L779.16941,393.7771L777.5528,394.5854L773.99627,397.98027L771.08638,398.14193L772.05635,401.37514L767.04487,406.8716L764.94328,408.16488Z",
        SD: "M476.44687,204.02465L476.39942,203.44378L473.50371,198.59834L475.36394,193.88623L476.85667,187.99969L474.0748,185.91998L473.68964,183.17652L474.48204,180.62217L477.67055,180.63738L477.54747,175.63124L477.21417,145.45699L476.59644,141.68941L472.52412,138.35848L471.54149,136.68152L471.47899,135.0727L473.50111,133.5433L475.03333,131.87763L475.27829,129.22084L417.0212,127.62049L362.22199,124.1714L356.89672,187.86259L371.48699,188.76639L391.43684,189.972L409.17989,190.90059L432.95665,192.20417L444.93935,191.77953L446.90565,194.02471L452.10029,197.27806L452.86418,198.00081L457.40562,196.548L463.94616,195.93309L465.62146,197.26936L469.82597,198.86549L472.77103,200.50132L473.17001,201.98513L474.2095,204.22601L476.44687,204.02465Z",
        TN: "M 696.678 318.254 L 644.785 323.266 L 629.025 325.044 L 624.404 325.557 L 620.536 325.529 L 620.315 329.63 L 612.129 329.894 L 605.178 330.54 L 597.087 330.416 L 595.673 337.489 L 593.903 342.976 L 592.823 346.226 L 591.731 349.717 L 590.978 352.356 L 587.423 355.484 L 589.934 358.299 L 590.911 360.483 L 590.619 362.987 L 692.645 353.255 L 693.049 349.3 L 694.859 347.809 L 697.694 347.06 L 698.366 343.343 L 702.464 340.638 L 706.511 339.144 L 710.595 335.573 L 715.031 333.548 L 715.552 330.481 L 719.617 326.496 L 720.167 326.382 C 720.167 326.382 720.199 327.513 721.007 327.513 C 721.815 327.513 722.947 327.868 722.947 327.868 L 725.21 324.28 L 727.28 323.633 L 729.556 323.928 L 731.154 320.396 L 734.109 317.752 L 734.531 315.813 L 734.84 312.101 L 732.693 311.902 L 730.092 313.93 L 723.098 313.959 L 704.739 316.346 L 696.678 318.254 Z",
        TX: "M361.46423,330.57358L384.15502,331.65952L415.24771,332.80264L412.9131,356.25844L412.61634,374.41196L412.68448,376.49375L417.02831,380.31218L419.01496,381.75934L420.19917,381.19965L420.57254,379.38193L421.71286,381.18555L423.8245,381.22948L423.82183,379.78239L425.49177,380.74966L426.63047,381.15853L426.2712,385.12618L430.35939,385.21969L433.28471,386.41686L437.23945,386.94224L439.62083,389.02122L441.74493,386.94505L445.46987,387.55996L447.69078,390.7849L448.76574,391.10586L448.60527,393.07113L450.81888,393.86342L453.14903,391.80862L455.28205,392.42354L457.51143,392.45902L458.4445,394.89446L464.77259,397.00891L466.36564,396.24198L467.85511,392.06427L468.19583,392.06427L469.10232,392.14591L470.33137,394.21454L474.26125,394.87982L477.59825,396.0027L481.02388,397.19867L482.86446,396.22367L483.57822,393.70883L488.03144,393.75303L489.84018,394.68381L492.63943,392.5773L493.74307,392.6215L494.59411,394.22657L498.64883,394.22657L500.1677,392.19795L502.03507,392.60519L503.9811,395.00847L507.50167,397.05262L510.36043,397.86243L511.87405,398.66227L514.32075,400.65959L517.36379,399.3318L520.05488,400.47068L520.61869,406.57662L520.57893,416.27879L521.26479,425.8128L521.96697,429.41791L524.6423,433.83777L525.54048,438.7885L529.75643,444.32652L529.95245,447.47146L530.69882,448.2573L529.96875,456.63737L527.09665,461.64387L528.62962,463.79674L527.99954,466.13482L527.32997,473.53914L525.82565,476.87714L526.12053,480.37949L520.45565,481.96467L510.59436,486.49117L509.6244,488.43109L507.03783,490.37102L504.93625,491.82596L503.64296,492.63426L497.98485,497.96906L495.23662,500.07065L489.90182,503.30385L484.24371,505.72876L477.93895,509.12363L476.16069,510.57858L470.34091,514.13511L466.94604,514.78175L463.06619,520.2782L459.02468,520.60153L458.05471,522.54145L460.31796,524.48138L458.86301,529.97783L457.56973,534.50433L456.43811,538.38418L455.62981,542.91067L456.43811,545.33558L458.21637,552.28698L459.18634,558.43007L460.9646,561.1783L459.99464,562.63325L456.92309,564.57317L451.26497,560.69332L445.76852,559.5617L444.47523,560.04668L441.24202,559.40004L437.03885,556.32849L431.86572,555.19687L424.26767,551.802L422.16609,547.92214L420.8728,541.45573L417.6396,539.5158L416.99295,537.25255L417.6396,536.60591L417.96292,533.21104L416.66963,532.5644L416.02299,531.59444L417.31627,527.2296L415.69967,524.96636L412.46646,523.67307L409.07159,519.30824L405.51506,512.68016L401.31189,510.09359L401.47355,508.15367L396.13875,495.86747L395.33045,491.6643L393.55219,489.72438L393.39053,488.26943L387.40909,482.93464L384.82252,479.86309L384.82252,478.73146L382.23595,476.62988L375.44621,475.49825L368.00983,474.85161L364.93828,472.58837L360.41179,474.36663L356.85526,475.82158L354.59201,479.05478L353.62205,482.77298L349.25722,488.91607L346.83231,491.34098L344.24574,490.37102L342.46748,489.23939L340.52755,488.59275L336.6477,486.32951L336.6477,485.68286L334.86944,483.74294L329.6963,481.64135L322.25992,473.88165L319.99667,469.1935L319.99667,461.11047L316.76346,454.64405L316.27848,451.89583L314.66188,450.92586L313.53025,448.82428L308.51878,446.72269L307.2255,445.10609L300.11243,437.18472L298.81915,433.95151L294.13099,431.68826L292.67604,427.32339L290.08945,424.41352L288.14954,423.92856L287.50031,419.25092L295.50218,419.93681L324.53717,422.68026L353.57225,424.28062L355.80578,404.8188L359.69233,349.26378L361.29272,330.51646L362.66446,330.54504M461.69381,560.20778L461.128,553.0947L458.37976,545.90078L457.81394,538.86853L459.34972,530.62382L462.66378,523.75323L466.13948,518.33758L469.29188,514.78103L469.93852,515.02353L465.16952,521.65163L460.80468,528.19891L458.78391,534.827L458.46059,540.00016L459.34972,546.14328L461.9363,553.3372L462.42128,558.51034L462.58294,559.9653L461.69381,560.20778Z",
        UT: "M 259.498 310.105 L 175.749 298.233 L 196.337 185.641 L 243.071 196.11 L 241.632 205.067 L 239.584 218.202 L 247.129 219.168 L 263.535 220.973 L 271.746 221.829 L 259.498 310.105 Z",
        VT: "M 844.484 154.058 L 844.801 148.712 L 841.91 137.928 L 841.264 137.605 L 838.354 136.312 L 839.162 133.402 L 838.354 131.3 L 835.654 126.66 L 836.624 122.78 L 835.815 117.607 L 833.39 111.141 L 832.585 106.218 L 859.004 99.486 L 859.313 105.008 L 861.229 107.751 L 861.229 111.792 L 857.522 116.85 L 854.935 117.993 L 854.924 119.113 L 856.234 120.633 L 855.923 128.731 L 855.314 137.989 L 855.086 143.546 L 856.056 144.84 L 855.894 149.41 L 855.409 151.1 L 856.423 151.827 L 848.986 153.334 L 844.484 154.058 Z",
        VA: "M831.63885,266.06892L831.49494,264.12189L837.94837,261.57201L837.17796,264.78985L834.25801,268.56896L833.83992,273.15478L834.30167,276.54522L832.4737,281.52338L830.30943,283.43952L828.83909,278.79871L829.28498,273.3496L830.87198,269.16653L831.63885,266.06892ZM834.97904,294.37028L776.80486,306.94571L739.37789,312.22478L732.69956,311.8496L730.11431,313.77598L722.77518,313.99667L714.39307,314.97434L703.47811,316.58896L713.94754,310.97776L713.93442,308.90283L715.45447,306.7567L726.00825,295.25527L729.95497,299.73273L733.73798,300.69671L736.28144,299.55639L738.51866,298.24523L741.05527,299.58875L744.96944,298.16099L746.84617,293.60465L749.44709,294.14467L752.30233,292.01342L754.1016,292.50702L756.92881,288.83045L757.27706,286.74734L756.3134,285.47177L757.31617,283.60514L762.59044,271.32799L763.20721,265.59291L764.4361,265.06937L766.61463,267.51224L770.55049,267.21107L772.4797,259.63744L775.27369,259.07658L776.32344,256.33551L778.90326,253.98863L781.67509,248.29344L781.76002,243.22589L791.58153,247.04871C792.26238,247.38913,792.41441,241.99956,792.41441,241.99956L796.06697,243.59789L796.1353,246.53605L801.91955,247.83554L804.0525,249.01174L805.71242,251.06743L805.05787,254.7161L803.11043,257.30708L803.22028,259.36615L803.80924,261.21906L808.78799,262.48749L813.23926,262.52737L816.30809,263.48601L818.2516,263.79531L818.96641,266.88377L822.15685,267.2863L823.02492,268.48632L822.58543,273.1764L823.96016,274.27895L823.48121,276.20934L824.71062,276.99911L824.48882,278.38371L821.79483,278.28877L821.88379,279.90429L824.16478,281.44716L824.28632,282.85906L826.05943,284.64444L826.55122,287.16857L823.99818,288.54988L825.5704,290.04418L831.37142,288.35835L834.97904,294.37028Z",
        WA: "M102.07324,7.6117734L106.43807,9.0667177L116.1377,11.814946L124.7057,13.754871L144.7516,19.412988L167.70739,25.071104L182.93051,28.278277L169.29815,91.864088L156.85315,88.33877L141.34514,84.768091L126.11585,84.801329L125.66028,83.45663L120.06106,85.635923L115.46563,84.899179L113.31866,83.315125L112.00545,83.973101L107.26979,83.832858L105.57143,82.483225L100.30839,80.370922L99.573419,80.51784L95.184297,78.993392L93.290999,80.810771L87.025093,80.512038L81.099395,76.386336L81.878352,75.453573L81.999575,67.776121L79.717576,63.93642L75.602368,63.32938L74.924958,60.818764L72.649446,60.361832L69.094498,61.592408L66.831251,58.373161L67.154572,55.463272L69.9028,55.139951L71.519405,51.09844L68.932837,49.966816L69.094498,46.248625L73.459331,45.601984L70.711103,42.853756L69.256158,35.740695L69.9028,32.830807L69.9028,24.909444L68.124535,21.676234L70.387782,12.299927L72.489368,12.784908L74.914275,15.694797L77.662503,18.281364L80.895712,20.22129L85.422205,22.322876L88.493756,22.969518L91.403645,24.424462L94.798518,25.394425L97.061764,25.232765L97.061764,22.807857L98.355048,21.676234L100.45663,20.38295L100.77996,21.514574L101.10328,23.292839L98.840029,23.77782L98.516708,25.879406L100.29497,27.334351L101.4266,29.759258L102.07324,31.699183L103.52818,31.537523L103.68984,30.244239L102.71988,28.950955L102.2349,25.717746L103.0432,23.939481L102.39656,22.484537L102.39656,20.22129L104.17483,16.66476L103.0432,14.078192L100.61829,9.2283781L100.94162,8.4200758L102.07324,7.6117734ZM92.616548,13.590738L94.637312,13.429078L95.122294,14.803197L96.658073,13.186582L99.002155,13.186582L99.810458,14.722361L98.274678,16.419801L98.92133,17.228114L98.193853,19.248875L96.819734,19.653021C96.819734,19.653021,95.930596,19.733857,95.930596,19.410536C95.930596,19.087215,97.385551,16.823958,97.385551,16.823958L95.688111,16.258141L95.36479,17.713095L94.637312,18.359737L93.10153,16.09648L92.616548,13.590738Z",
        DC: "M 805.819 250.844 L 803.961 249.02 L 802.729 248.333 L 804.172 246.311 L 807.061 248.259 L 805.819 250.844 Z",
        WV: "M761.18551,238.96731L762.29752,243.91184L763.38096,249.94317L765.51125,247.36283L767.77449,244.29127L770.31287,243.67572L771.76782,242.22078L773.54609,239.63421L774.99107,240.28085L777.90096,239.95753L780.48754,237.85594L782.49443,236.40268L784.33966,235.91769L785.64358,236.93416L789.28683,238.75579L791.22676,240.53406L792.60088,241.82734L791.83916,247.38228L786.00425,244.84106L781.759,243.21904L781.65786,248.39747L778.91022,253.9342L776.38019,256.36086L775.1881,259.11025L772.54452,259.61035L771.64668,263.21223L770.60345,267.1619L766.63521,267.50264L764.31148,265.06376L763.24033,265.62317L762.60765,271.09287L761.25736,274.62737L756.29896,285.58234L757.19565,286.74304L756.98979,288.65158L754.1811,292.53605L752.3726,291.99176L749.40455,294.1515L746.86217,293.57929L744.86294,298.13486C744.86294,298.13486,741.60363,299.56508,740.94003,299.50258C740.77952,299.48746,738.47093,298.25348,738.47093,298.25348L736.13441,299.63285L733.72461,300.67725L729.97992,299.78813L728.85852,298.61985L726.6663,295.59649L723.52371,293.60837L721.81214,289.98513L717.52726,286.51694L716.88061,284.25369L714.29404,282.79874L713.48573,281.18214L713.24324,275.92816L715.42566,275.84733L717.3656,275.03903L717.52726,272.2908L719.14386,270.83585L719.30552,265.82437L720.27548,261.94451L721.56877,261.29787L722.86205,262.42949L723.34704,264.20776L725.12531,263.23779L725.61029,261.62119L724.47867,259.84292L724.47867,257.41801L725.44863,256.12472L727.71188,252.72985L729.00516,251.27491L731.10676,251.75989L733.37,250.14327L736.44155,246.7484L738.70481,242.86854L739.02813,237.21043L739.51311,232.19894L739.51311,227.51078L738.38149,224.43923L739.35145,222.98427L740.63493,221.69099L744.12618,241.51811L748.75719,240.76696L761.18551,238.96731Z",
        WI: "M615.06589,197.36866L614.99915,194.21124L613.82004,189.68474L613.1734,183.54165L612.04178,181.11674L613.01174,178.04519L613.82004,175.1353L615.27499,172.54874L614.62834,169.15387L613.9817,165.59734L614.46668,163.81907L616.40661,161.39416L616.56827,158.64593L615.75997,157.35265L616.40661,154.76608L615.95409,150.59537L618.70232,144.93726L621.61221,138.14752L621.77387,135.88427L621.45055,134.91431L620.64224,135.39929L616.43907,141.70405L613.69084,145.74556L611.75092,147.52383L610.94262,149.78707L608.98767,150.59537L607.85605,152.5353L606.4011,152.21198L606.23944,150.43371L607.53273,148.00881L609.63431,143.32065L611.41258,141.70405L612.40341,139.3462L609.84296,137.44486L607.86814,127.07787L604.32067,125.73589L602.37441,123.42756L590.2447,120.70592L587.36881,119.69387L579.15569,117.52658L571.23777,116.36783L567.47261,111.23716L566.72221,111.79117L565.5243,111.62951L564.87765,110.49789L563.54364,110.79444L562.41201,110.9561L560.63375,111.92606L559.66378,111.27942L560.31043,109.33949L562.25035,106.26794L563.38197,105.13632L561.44205,103.68138L559.34046,104.48968L556.43057,106.4296L548.99419,109.66281L546.0843,110.30945L543.17442,109.82447L542.19269,108.94622L540.07599,111.7814L539.84737,114.52487L539.84737,122.9839L538.70425,124.58427L533.44593,128.47084L531.15971,134.41503L531.61695,134.64365L534.1318,136.70126L534.81766,139.90198L532.98868,143.10269L532.98868,146.98928L533.44593,153.61933L536.41802,156.59143L539.84737,156.59143L541.67635,159.79215L545.10568,160.24939L548.99227,165.96496L556.07957,170.08017L558.13717,172.82364L559.05167,180.25388L559.73753,183.5689L562.02376,185.16926L562.25238,186.541L560.19478,189.97033L560.4234,193.17106L562.93825,197.05764L565.4531,198.20075L568.42519,198.65799L569.76753,200.03811L615.06589,197.36866Z",
        WY: "M360.37668,143.27587L253.63408,129.81881L239.5506,218.27684L352.81521,231.86233L360.37668,143.27587Z",
      };
      var attrs = {};
      var hitAreaAttrs = {
        fill: "#000",
        "stroke-width": 0,
        opacity: 0,
        cursor: "pointer",
      };

      var stateShapes = {};
      var stateHitAreas = {};
	  
	  for (var s in paths) {
        if (!paths.hasOwnProperty(s)) continue;
        var pathData = paths[s];

        var specificStyles = this.options.stateSpecificStyles[s];
        var attrs = specificStyles ? e.extend({}, baseStyles, specificStyles) : baseStyles;

        stateShapes[s] = paper.path(pathData).attr(attrs);
      }

      var hitAreaAttrs = {
        fill: "#000",
        "stroke-width": 0,
        opacity: 0,
        cursor: "pointer",
      };

      for (var s in paths) {
        if (!paths.hasOwnProperty(s)) continue;
        var pathData = paths[s];
        
        stateHitAreas[s] = paper.path(pathData).attr(hitAreaAttrs);
        stateHitAreas[s].node.dataState = s;
      }

      this.stateShapes = stateShapes;
      this.stateHitAreas = stateHitAreas;
      this.topShape = null;
    },
    _initCreateLabels: function () {
      var paper = this.paper;
      var labelStates = ["VT", "NH", "MA", "RI", "CT", "NJ", "DE", "MD", "DC"];
      var baseX = 1000;
      var baseY = 230;
      var labelWidth = this.options.labelWidth;
      var labelHeight = this.options.labelHeight;
      var labelGap = this.options.labelGap;
      var labelRadius = this.options.labelRadius;
      var scaledWidth = labelWidth / this.scale;
      var scaledHeight = labelHeight / this.scale;
      var columnOffset = (labelWidth + labelGap) / this.scale;
      var rowOffset = ((labelHeight + labelGap) / this.scale) * 0.5;
      var scaledRadius = labelRadius / this.scale;
      var backingStyles = this.options.labelBackingStyles;
      var textStyles = this.options.labelTextStyles;
      var hitAreaAttrs = {
        fill: "#000",
        "stroke-width": 0,
        opacity: 0,
        cursor: "pointer",
      };
      
      for (var i = 0, w, x, y, attrs; i < labelStates.length; ++i) {
        w = labelStates[i];
        x = ((i + 1) % 2) * columnOffset + baseX;
        y = i * rowOffset + baseY;
        
        attrs = {};
        if (this.options.stateSpecificLabelBackingStyles[w]) {
          e.extend(attrs, backingStyles, this.options.stateSpecificLabelBackingStyles[w]);
        } else {
          attrs = backingStyles;
        }
        this.labelShapes[w] = paper.rect(x, y, scaledWidth, scaledHeight, scaledRadius).attr(attrs);
        
        attrs = {};
        if (this.options.stateSpecificLabelTextStyles[w]) {
          e.extend(attrs, textStyles, this.options.stateSpecificLabelTextStyles[w]);
        } else {
          e.extend(attrs, textStyles);
        }
        if (attrs["font-size"]) {
          attrs["font-size"] = parseInt(attrs["font-size"]) / this.scale + "px";
        }
        this.labelTexts[w] = paper.text(x + scaledWidth / 2, y + scaledHeight / 2, w).attr(attrs);
        
		this.labelHitAreas[w] = paper.rect(x, y, scaledWidth, scaledHeight, scaledRadius).attr(hitAreaAttrs).toFront();
        this.labelHitAreas[w].node.dataState = w;
      }
    },
    _getStateFromEvent: function (e) {
      var t = (e.target && e.target.dataState) || e.dataState;
      return this._getState(t);
    },
    _getState: function (e) {
      if (!this._stateDataCache) {
        this._stateDataCache = {};
      }

      if (this._stateDataCache[e]) {
        return this._stateDataCache[e];
      }

      var t = this.stateShapes[e];
      var n = this.stateHitAreas[e];
      var r = this.labelShapes[e];
      var i = this.labelTexts[e];
      var s = this.labelHitAreas[e];
      
      var stateData = {
        shape: t,
        hitArea: n,
        name: e,
        labelBacking: r,
        labelText: i,
        labelHitArea: s,
      };

      this._stateDataCache[e] = stateData;

      return stateData;
    },
    _onMouseOut: function (e) {
      var t = this._getStateFromEvent(e);
      if (!t.hitArea) {
        return;
      }
      return !this._triggerEvent("mouseout", e, t);
    },
    _defaultMouseOutAction: function (t) {
      var n = {};
      if (this.options.stateSpecificStyles[t.name]) {
        e.extend(
          n,
          this.options.stateStyles,
          this.options.stateSpecificStyles[t.name]
        );
      } else {
        n = this.options.stateStyles;
      }
      t.shape.animate(n, this.options.stateHoverAnimation);
      if (t.labelBacking) {
        n = {};
        if (this.options.stateSpecificLabelBackingStyles[t.name]) {
          e.extend(
            n,
            this.options.labelBackingStyles,
            this.options.stateSpecificLabelBackingStyles[t.name]
          );
        } else {
          n = this.options.labelBackingStyles;
        }
        t.labelBacking.animate(n, this.options.stateHoverAnimation);
      }
    },
    _onClick: function (e) {
      var t = this._getStateFromEvent(e);
      if (!t.hitArea) {
        return;
      }
      return !this._triggerEvent("click", e, t);
    },
    _onMouseOver: function (e) {
      var t = this._getStateFromEvent(e);
      if (!t.hitArea) {
        return;
      }
      return !this._triggerEvent("mouseover", e, t);
    },
    _defaultMouseOverAction: function (t) {
      this.bringShapeToFront(t.shape);
      var n = {};
      if (this.options.stateSpecificHoverStyles[t.name]) {
        e.extend(
          n,
          this.options.stateHoverStyles,
          this.options.stateSpecificHoverStyles[t.name]
        );
      } else {
        n = this.options.stateHoverStyles;
      }
      t.shape.animate(n, this.options.stateHoverAnimation);
      if (t.labelBacking) {
        n = {};
        if (this.options.stateSpecificLabelBackingHoverStyles[t.name]) {
          e.extend(
            n,
            this.options.labelBackingHoverStyles,
            this.options.stateSpecificLabelBackingHoverStyles[t.name]
          );
        } else {
          n = this.options.labelBackingHoverStyles;
        }
        t.labelBacking.animate(n, this.options.stateHoverAnimation);
      }
    },
    _triggerEvent: function (t, n, r) {
      var i = r.name;
      var s = false;
      var o = e.Event("usmap" + t + i);
      o.originalEvent = n;
      if (this.options[t + "State"][i]) {
        s = this.options[t + "State"][i](o, r) === false;
      }
      if (o.isPropagationStopped()) {
        this.element.trigger(o, [r]);
        s = s || o.isDefaultPrevented();
      }
      if (!o.isPropagationStopped()) {
        var u = e.Event("usmap" + t);
        u.originalEvent = n;
        if (this.options[t]) {
          s = this.options[t](u, r) === false || s;
        }
        if (!u.isPropagationStopped()) {
          this.element.trigger(u, [r]);
          s = s || u.isDefaultPrevented();
        }
      }
      if (!s) {
        switch (t) {
          case "mouseover":
            this._defaultMouseOverAction(r);
            break;
          case "mouseout":
            this._defaultMouseOutAction(r);
            break;
        }
      }
      return !s;
    },
    trigger: function (e, t, n) {
      t = t.replace("usmap", "");
      e = e.toUpperCase();
      var r = this._getState(e);
      this._triggerEvent(t, n, r);
    },
    bringShapeToFront: function (e) {
	  if (this.topShape === e) return;
      
      if (this.topShape) {
        e.insertAfter(this.topShape);
      }
      this.topShape = e;
    },
  };
  var c = [];
  s(e, "usmap", l, c);
})(jQuery, document, window, Raphael);