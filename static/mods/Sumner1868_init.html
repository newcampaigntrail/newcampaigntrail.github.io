    e=campaignTrail_temp

    if (!e.runIntro) {
    e.runIntro = true;

    RecReading=true
    campaignTrail_temp.election_json = [{
        "model": "campaign_trail.election",
        "pk": 4,
        "fields": {
            "year": 1968,
            "summary": "<p>Charles Sumner runs as the Republican incumbent against his rival Andrew Johnson. Reconstruction is the dominant issue and has caused two Factions to form in the south for the first time since the Election of 1860 has a election been so explosive.</p><ul><li>Sumner begins with a slight lead, and must hold his people's coalition of poor whites and former slaves together to take the victory.</li><li>while Johnson must rally with both Copperheads and Conservative southerners to find some way to prevent a Sumner victory. For his dream , of a white man‚Äôs nation and an anti-sumner world .</li>",
            "image_url": "https://i.imgur.com/pPrKFq0.png",
            "winning_electoral_vote_number": 270,
            "advisor_url": "https://media.discordapp.net/attachments/197866582280503296/1136485562522546206/image.png?width=887&height=554",
            "recommended_reading": "<h3>On 1868 Sumner</h3><p>I'm sure a few may play this mod and think 'well, this mod was made to mock 1868 Sumner!'  This could not be further from the truth.  I love 1868 Sumner.  It has many mistakes grammatically and otherwise, but you can tell that the creator made it with the best of intentions, and its quirks only make it more loveable and unique in a way that could only be with a mod like 1868 Sumner.  This mod was made with the full permission of the original creator, No-Damage, and I wouldn't have had it any other way.  This is a love letter to this obscure item of our community, and nothing more.</p><h3>On 1968 Sumner</h3>Well, that was that... my veru own artsy, meta, experimental thing.  I know plenty of folks won't like it, but that's OK.  I'll do the Sumner Slam on the lot of you if I have to.</p><p>In all seriousness, thank you so much for playing this mod.  God bless you, and remember that you are loved.</p></div>",
            "has_visits": 1,
            "no_electoral_majority_image": "/static/images/2012-no-majority.jpg"
        }
      }, ]
      campaignTrail_temp.candidate_json = [{
        "model": "campaign_trail.candidate",
        "pk": 23,
        "fields": {
            "first_name": "Charles",
            "last_name": "Sumner",
            "election": 4,
            "party": "Republican",
            "state": "Massachusetts",
            "priority": 1,
            "description": "<p>Charles Sumner‚Äôs mind swirls like a whirlwind as he collects himself.  Creatures shift around him without care, a few commenting on his strange attire.  His breathing shaky, he looks up to see great obelisks of steel reaching up to the heavens.  Objects with a great wingspan soar high above, and the wide street around him echoes with the screeching noise of inhuman bustle.</p><p>One of the horseless buggies speeds past him, the human being sat inside profaning as it did.  A voice calls out behind Charles, a man of dark skin wearing a suit as white as bed sheets.  He introduces himself as Dr. Mallett, and gently guides Charles toward the daunting entranceway of one of the nearby obelisks.</p>",
            "color_hex": "#AE0303",
            "secondary_color_hex": "#66201C",
            "is_active": 1,
            "image_url": "https://media.discordapp.net/attachments/197866582280503296/1133634219957030952/MOSHED-2023-7-26-1-36-23.gif",
            "electoral_victory_message": "<h3>Congratulations! You have won the 1972 Presidential Election.</h3><p>Wow! This is the biggest political upset since Truman beat Dewey. It looked like your campaign was a hopeless joke, but what a comeback! You'll face stiff opposition to your policies from both parties, but clearly the country was at your side. Your victory speech was in front of an ecstatic crowd in South Dakota, and everyone could see the tears in your eyes. This is an astounding victory that political analysts will be studying for decades to come, and the climax of a chaotic past few years. This has completely shaken up the way the Democratic Party operates, and the next four years will be incredibly interesting to watch. Good luck with Vietnam, and here's to you. America came home.</p>",
            "electoral_loss_message": "<h3>Sorry, you have lost the 1972 Presidential Election.</h3><p>It's hard to say this was unexpected, as you were always going to have a hard time beating President Nixon after the economic recovery over the past year.<p><p>Additionally, nobody knows where this leaves the Democratic Party after such a divisive primary and a huge lack of support from major Democrats in the general election. The party stands at a crossroads. The Republicans were able to not only turn around their devastating loss in 1964, but in fact fully embraced Goldwater's brand of conservatism to reap two major wins in a row. The Democrats may be able to do the same in 1976 and even 1980, if you put in a good fight with this election. Or, they could nominate a more right-leaning centrist candidate, in hopes of placating moderates. In any event, you can always go back to the senate. Hopefully Nixon stays true to his promise of bringing peace with honor, and can leave the White House with dignity in four years.</p>",
            "no_electoral_majority_message": "<h3>Wow! You have won in a squeaker.</h3><p>While the Electoral College ended in a tie, the Democrats have a large advantage in the House of Representatives and will likely elect you in that manner. However you may have to make some concessions if the vote ends up being close.</p>",
            "description_as_running_mate": "''",
            "candidate_score": 1
        }
      }, {
        "model": "campaign_trail.candidate",
        "pk": 24,
        "fields": {
            "first_name": "George",
            "last_name": "Wallace",
            "election": 4,
            "party": "Democratic",
            "state": "Alabama",
            "priority": 3,
            "description": "''",
            "color_hex": "#0755DA",
            "secondary_color_hex": " #F48882",
            "is_active": 0,
            "image_url": "''",
            "electoral_victory_message": "''",
            "electoral_loss_message": "''",
            "no_electoral_majority_message": "''",
            "description_as_running_mate": "''",
            "candidate_score": 1
        }
      }, {
        "model": "campaign_trail.candidate",
        "pk": 25,
        "fields": {
            "first_name": "George",
            "last_name": "Romney",
            "election": 4,
            "party": "Independent Republican",
            "state": "Michigan",
            "priority": 3,
            "description": "''",
            "color_hex": "#DDA83A",
            "secondary_color_hex": " #626BAF",
            "is_active": 0,
            "image_url": "''",
            "electoral_victory_message": "''",
            "electoral_loss_message": "''",
            "no_electoral_majority_message": "''",
            "description_as_running_mate": "''",
            "candidate_score": 1
        }
      }, {
        "model": "campaign_trail.candidate",
        "pk": 94,
        "fields": {
            "first_name": "Lyndon",
            "last_name": "LaRouche",
            "election": 4,
            "party": "Independent",
            "state": "California",
            "priority": 4,
            "description": "''",
            "color_hex": "#543B51",
            "secondary_color_hex": "#6B4E54",
            "is_active": 0,
            "image_url": "''",
            "electoral_victory_message": "''",
            "electoral_loss_message": "''",
            "no_electoral_majority_message": "''",
            "description_as_running_mate": "''",
            "candidate_score": 1
        }
      }, {
        "model": "campaign_trail.candidate",
        "pk": 95,
        "fields": {
            "first_name": "Spiro",
            "last_name": "Agnew",
            "election": 4,
            "party": "Republican",
            "state": "Maryland",
            "priority": 5,
            "description": "''",
            "color_hex": "#0000FF",
            "secondary_color_hex": "#90C0FF",
            "is_active": 0,
            "image_url": "https://media.discordapp.net/attachments/197866582280503296/1136486333293019258/image.png",
            "electoral_victory_message": "''",
            "electoral_loss_message": "''",
            "no_electoral_majority_message": "''",
            "description_as_running_mate": "<p>No, there can't be anyone in the United States deranged enough to accept being the running mate of you, Charles Sumner.  Maybe you could pry a bum off the streets outside, but no upstanding man in their right mind would‚ÄîOh, well sure, there's him.</p><p>Spiro Agnew is the incumbent governor of Maryland, and surprising as it may be, a member of your party.  He's something of a unionist, and has a strong record curbing criminal disorder.  However, there have been whispers of corruption in his administration, and thus could prove a difficult pill for the American people to swallow.  Well... actually, considering your presence on the presence, he might be the more tolerable option, all things considered.",
            "candidate_score": 0
        }
      }, {
        "model": "campaign_trail.candidate",
        "pk": 96,
        "fields": {
            "first_name": "George",
            "last_name": "Bush",
            "election": 4,
            "party": "Republican",
            "state": "Texas",
            "priority": 6,
            "description": "''",
            "color_hex": "#0000FF",
            "secondary_color_hex": "#90C0FF",
            "is_active": 0,
            "image_url": "https://media.discordapp.net/attachments/197866582280503296/1136510468182257725/image.png",
            "electoral_victory_message": "''",
            "electoral_loss_message": "''",
            "no_electoral_majority_message": "''",
            "description_as_running_mate": "<p>Charles, this guy was born to old, New England money.  Probably slept in a big crib of greenbacks as a tyke.  But looks can be deceiving in this time, Charles.  Since his childhood, Bush has become a veritable war hero, flying our war machines in the Pacific before coming back home and entering the civil service.</p><p>Bush is a freshman in the US House, but eager to prove himself, which is why he's ready to accept this rather difficult proposal in the first place.  You have to admire his gumption, I suppose.</p><p>While functionally a moderate on most issues, Bush is also a southerner.  Yeah, Charles, a southerner.  I'm not sure America's ready for such a strange ticket, but Hell, America's probably not ready for you either, but here we are.</p>",
            "candidate_score": 0
        }
      }, {
        "model": "campaign_trail.candidate",
        "pk": 103,
        "fields": {
            "first_name": "...",
            "last_name": "Other",
            "election": 4,
            "party": "Independent",
            "state": "Alaska",
            "priority": 13,
            "description": "''",
            "color_hex": "#00C100",
            "secondary_color_hex": "#A1FFA1",
            "is_active": 0,
            "image_url": "''",
            "electoral_victory_message": "''",
            "electoral_loss_message": "''",
            "no_electoral_majority_message": "''",
            "description_as_running_mate": "''",
            "candidate_score": 0
        }
      }, {
        "model": "campaign_trail.candidate",
        "pk": 104,
        "fields": {
            "first_name": "...",
            "last_name": "Other",
            "election": 4,
            "party": "Independent",
            "state": "Alaska",
            "priority": 14,
            "description": "''",
            "color_hex": "#FFFF00",
            "secondary_color_hex": "#FFFFC0",
            "is_active": 0,
            "image_url": "''",
            "electoral_victory_message": "''",
            "electoral_loss_message": "''",
            "no_electoral_majority_message": "''",
            "description_as_running_mate": "''",
            "candidate_score": 0
        }
      }, {
        "model": "campaign_trail.candidate",
        "pk": 115,
        "fields": {
            "first_name": "Walter",
            "last_name": "Mondale",
            "election": 4,
            "party": "Democratic",
            "state": "Arizona",
            "priority": 11,
            "description": "'",
            "color_hex": "#FF0000",
            "secondary_color_hex": "#FFA0A0",
            "is_active": 0,
            "image_url": "/static/images/barry-goldwater-1960.jpg",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "<p>Barry Goldwater is a Senator from Arizona and the uncontested standard-bearer of conservative Republicans. Goldwater is to the right of the party on taxes, spending, and civil rights. Nelson Rockefeller has threatened to walk out of the convention if Goldwater is selected, which would certainly end any chance of winning New York or the Northeast. However, a Nixon-Goldwater ticket might sweep the South, and his advocates say Goldwater will drive conservative turnout nationwide.</p>",
            "candidate_score": 0
        }
      }, {
        "model": "campaign_trail.candidate",
        "pk": 999,
        "fields": {
            "first_name": "Barry",
            "last_name": "Goldwater",
            "election": 4,
            "party": "Republican",
            "state": "Arizona (ùí©ùëú ùìÅùëúùìÉùëîùëíùìá ùí∂ ùìâùëíùìáùìáùíæùìâùëúùìáùìé!)",
            "priority": 5,
            "description": "'",
            "color_hex": "#0000FF",
            "secondary_color_hex": "#90C0FF",
            "is_active": 0,
            "image_url": "https://media.discordapp.net/attachments/197866582280503296/1136512729662898339/image.png",
            "electoral_victory_message": "'",
            "electoral_loss_message": "'",
            "no_electoral_majority_message": "'",
            "description_as_running_mate": "<p>I've done it, Charles!  I've found someone about as old-fashioned as you!</p><p>Barry Goldwater was the Republican nominee in 1964, and regretfully lost that election to the bellicose Texan Lyndon Johnson in an electoral thrashing.  Barry Goldwater is an arch-conservative‚Äîremember Francis Blair?  He's kind of like him.  Yeah, I know...</p><p>Listen, Goldwater isn't a perfect choice, but he would help expand to your favorability in the South, at least.  Nonetheless, if you select him you will have to worry yourself about his comments on the Trail, which have often-times been either contradictory, controversial or both.</p>",
            "candidate_score": 0
        }
      }]
      campaignTrail_temp.running_mate_json = [{
        "model": "campaign_trail.running_mate",
        "pk": 58,
        "fields": {
            "candidate": 23,
            "running_mate": 95
        }
      }, {
        "model": "campaign_trail.running_mate",
        "pk": 59,
        "fields": {
            "candidate": 23,
            "running_mate": 96
        }
      }, {
        "model": "campaign_trail.running_mate",
        "pk": 59,
        "fields": {
            "candidate": 23,
            "running_mate": 999
        }
      }]
      
      campaignTrail_temp.opponents_default_json = JSON.parse("[{\"election\": 20, \"candidates\": [201, 202, 203, 200]},{\"election\": 16, \"candidates\": [167, 168, 166, 165]},{\"election\": 3, \"candidates\": [19, 18, 17, 16]},{\"election\": 9, \"candidates\": [77, 78, 79, 80]},{\"election\": 15, \"candidates\": [154, 155, 152, 153]},{\"election\": 10, \"candidates\": [93, 94, 91, 92]},{\"election\": 4, \"candidates\": [25, 24, 23]},{\"election\": 11, \"candidates\": [107, 105, 106]},{\"election\": 12, \"candidates\": [116, 118, 119, 117]},{\"election\": 14, \"candidates\": [143, 145, 144, 142]},{\"election\": 5, \"candidates\": [22, 20, 21]},{\"election\": 8, \"candidates\": [69, 70, 67, 68]},{\"election\": 13, \"candidates\": [133, 134, 132, 131]}]");
      campaignTrail_temp.opponents_weighted_json = JSON.parse("[{\"election\": 20, \"candidates\": [201, 200, 202, 203]},{\"election\": 16, \"candidates\": [165, 166, 167, 168]},{\"election\": 3, \"candidates\": [16, 17, 18, 19]},{\"election\": 9, \"candidates\": [78, 77, 79, 80]},{\"election\": 15, \"candidates\": [153, 152, 154, 155]},{\"election\": 10, \"candidates\": [91, 92, 93, 94]},{\"election\": 4, \"candidates\": [23, 25]},{\"election\": 11, \"candidates\": [105, 106, 107]},{\"election\": 12, \"candidates\": [116, 117, 118, 119]},{\"election\": 14, \"candidates\": [142, 143, 144, 145]},{\"election\": 5, \"candidates\": [21, 20, 22]},{\"election\": 8, \"candidates\": [68, 67, 69, 70]},{\"election\": 13, \"candidates\": [131, 134, 132, 133]}]");
      campaignTrail_temp.difficulty_level_json = JSON.parse("[{\"model\": \"campaign_trail.difficulty_level\", \"pk\": 1, \"fields\": {\"name\": \"Easy\", \"multiplier\": 1.1}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 3, \"fields\": {\"name\": \"Normal\", \"multiplier\": 0.97}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 4, \"fields\": {\"name\": \"Hard\", \"multiplier\": 0.95}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 5, \"fields\": {\"name\": \"Impossible\", \"multiplier\": 0.9}}]");
      campaignTrail_temp.global_parameter_json = JSON.parse("[{\"model\": \"campaign_trail.global_parameter\", \"pk\": 1, \"fields\": {\"vote_variable\": 1.125, \"max_swing\": 0.12, \"start_point\": 0.94, \"candidate_issue_weight\": 10.0, \"running_mate_issue_weight\": 3.0, \"issue_stance_1_max\": -0.71, \"issue_stance_2_max\": -0.3, \"issue_stance_3_max\": -0.125, \"issue_stance_4_max\": 0.125, \"issue_stance_5_max\": 0.3, \"issue_stance_6_max\": 0.71, \"global_variance\": 0.01, \"state_variance\": 0.005, \"question_count\": 25, \"default_map_color_hex\": \"#C9C9C9\", \"no_state_map_color_hex\": \"#999999\"}}]");
      campaignTrail_temp.candidate_dropout_json = JSON.parse("[{\"model\": \"campaign_trail.candidate_dropout\", \"pk\": 1, \"fields\": {\"candidate\": 36, \"affected_candidate\": 18, \"probability\": 1.0}}]");
      campaignTrail_temp.temp_election_list = [{
        "id": 4,
        "year": 1968,
        "is_premium": 0,
        "display_year": "Sumner1868"
      }];
      
      campaignTrail_temp.difficulty_level_json = JSON.parse("[{\"model\": \"campaign_trail.difficulty_level\", \"pk\": 1, \"fields\": {\"name\": \"Cakewalk\", \"multiplier\": 1.3}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 2, \"fields\": {\"name\": \"Very Easy\", \"multiplier\": 1.2}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 3, \"fields\": {\"name\": \"Easy\", \"multiplier\": 1.1}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 4, \"fields\": {\"name\": \"Normal\", \"multiplier\": 0.97}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 5, \"fields\": {\"name\": \"Hard\", \"multiplier\": 0.95}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 6, \"fields\": {\"name\": \"Impossible\", \"multiplier\": 0.9}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 7, \"fields\": {\"name\": \"Unthinkable\", \"multiplier\": 0.83}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 8, \"fields\": {\"name\": \"Blowout\", \"multiplier\": 0.75}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 9, \"fields\": {\"name\": \"Disaster\", \"multiplier\": 0.68}}]");
      
      quotes = ["Do not let the demogaues who tore our beautfuial union apart back into power Defend your fellow man"]
      customquote = quotes[Math.floor((Math.random() * quotes.length))]
      
      corrr = `\n<h2>NEW CAMPAIGN TRAIL</h2><font id='wittyquote' size='4' color='B5AFB0'><em>` + customquote + `</em></font>`
      
      nct_stuff.themes[nct_stuff.selectedTheme].coloring_window = "#86B6F2"
      nct_stuff.themes[nct_stuff.selectedTheme].coloring_title = "#77211C"
      $(".container")[0].style.backgroundColor = "#337BC6"
      $("#game_window")[0].style.backgroundImage = "url()"
      $("#game_window")[0].style.borderColor = "#803720"
      $("#game_window")[0].style.coloring_window = "#803720"
      document.body.background = "https://i.imgur.com/AJgSo2D.png"
      document.getElementById("header").src = "https://i.imgur.com/vxvNARi.png"
      document.getElementById("wittyquote").color = "white"
      nct_stuff.themes[nct_stuff.selectedTheme].text_col = "white"
      
      function changeFontColour() {
        if (document.getElementById('final_results_description') != null) {
            document.getElementById('final_results_description').style.color = "white"
        }
      }
      
      
      $("#game_start").click((event) => {
        event.preventDefault();
        $("#election_id_button").click((event) => {
            event.preventDefault();
            nct_stuff.themes[nct_stuff.selectedTheme].coloring_window = "#6D4A4E"
            nct_stuff.themes[nct_stuff.selectedTheme].coloring_title = "#550015"
            $(".container")[0].style.backgroundColor = "#000201"
            $("#game_window")[0].style.borderColor = "#3E4A4E"
            $("#game_window")[0].style.backgroundImage = "url(https://media.discordapp.net/attachments/197866582280503296/1138397034429288518/image.png?width=911&height=468)"
            $("#game_window")[0].style.coloring_window = "#3D3D4C"
            document.body.background = "https://cdn.discordapp.com/attachments/197866582280503296/1135676268516491474/MOSHED-2023-7-31-16-48-30.gif"
            document.getElementById("header").src = "https://cdn.discordapp.com/attachments/1115166547946774589/1135675132111761459/Sumner1.jpg"
            nct_stuff.themes[nct_stuff.selectedTheme].text_col = "white"
            musicMode()
            e.election_json[0].fields.summary = "<p>'I've been stuck here for five damn years,' the scientist mutters as he makes his finishing touches on the machine that will change history itself.  'I've warned them, I've tried everything... but no one listened.  This is it, the last hurrah.  Come on old girl, I know you've got some juice left in you.'</p><p>Standing up, he takes a deep breath, flips the switch, and mankind takes its second step into a strange world.</p>"
            e.election_json[0].fields.image_url = "https://media.discordapp.net/attachments/197866582280503296/1138222076487020645/image.png?width=801&height=554"
            setInterval(changeFontColour, 200)
            $("#candidate_id_button").click((event) => {
            document.getElementById("header").src = "https://imgur.com/ZwGSpgP.gif"
            })
      
        })
      })
      

      
      next3 = function() {
        text = "The CPUSA fancies itself as the vanguard of the working class. They steadfastly believe that their primary task is to build a mass workers movement that will eventually overthrow capitalism. The New Left disagrees with this assessment. Rejecting the CPUSA's hierarchical structure and centralistic adherence to the party line, the New Left broadly favors a decentralized approach emphasizing direct action and social disruption. Viewing traditional left-wing organizations and organized labor with disdain and sometimes hostility, the mistrust is more than mutual.<br><br>In 1972 the New Left finds itself as the face of the American left. If Hall wants to somehow put together a successful coalition, he'll need to gain the support of student activists, anti-war protesters, Black Panthers, and other radicals.<br><br><br><button onclick='back3()'>Back</button>"
        document.getElementById("candidate_summary").children[1].innerHTML = text
      }
      back3 = function() {
        text = "<p>Anyone paying attention sees this election for what it is: a disgraceful sham. America's nearing its final conclusion as an imperialist power - a veiled dictatorship with no real opposition, just the eternal controlled opposition of the party duopoly. Gus Hall, longtime leader of the Communist Party USA has had enough.<br><br>Hall used to be a staunch reformist, to the point that his party endorsed Johnson in 1964 to prevent Goldwater‚Äôs ascendancy. However, the coronation of John Connally at the Democratic National Convention has convinced Hall that an alliance with American liberals is impossible. At this point, the party's strategy has shifted to that of an open Presidential run once again - the way it was back before the depression. Hall will need to contend with both the chicanery the American state can throw at him as well as his own (numerous) character flaws if he wants a chance in hell of sparking the class consciousness he's dedicated his life to spreading.<br><button onclick='next3()'>INFO: Old-New Left Divide</button></p>"
        document.getElementById("candidate_summary").children[1].innerHTML = text
      }
      RecReading = true
      
      campaignTrail_temp.credits = "<button onclick='credits()'>u/Tom1923</button>";
      
      credits = function() {
        credits = ["This mod was made by u/Tom1923.  Original Sumner 68 was by u/no-damage2000.  Thank you to u/TedThing for the banner work, bro.  The endings, music and the hot, all new midgame VP switcher are the works of the magnanimous Decstar.  Thanks, Dec!  Thank you to Nina for its implementation, she's a real lifesaver."]
        text = "CREDITS:\n\n"
        for (i in credits) {
            text += credits[i] + "\n"
        }
        alert(text)
      }
        HistHexcolour=["#000C9B","#550015","#C92649","#3F2649"];
        HistName=["u/No-Damage2000","u/Tom1923","Diamondy", "DecstarG"];
        HistEV=[455,129,121,5];
        HistPV=["139,936,375	","103,817,273","55,522,665","222,906,305"];
        HistPVP=["51.9%","43.9%","3.8%","100.1%"];
        
      // MUSIC MODE
      
      musicMode = () => {
        // Initialise custom music
      
        $("#music_player")[0].children[0].style.display = "none"
        $("#music_player")[0].children[1].style.display = "none"
      
        document.getElementById("modLoadReveal").style.display = "none"
        document.getElementById("modloaddiv").style.display = "none"
      
        musicBox = document.getElementById("music_player")
        musicBox.style.display = ""
      
        var trackSel;
        e = campaignTrail_temp
        e.selectedSoundtrack = 0
      
        toTime = (seconds) => {
            var date = new Date(null);
            date.setSeconds(seconds);
            return date.toISOString().substr(11, 8);
        }
      
        generateTime = () => {
            // Get the audio element
            var audio = document.getElementById("campaigntrailmusic");
      
            timeTracker = document.createElement("div");
            timeTracker.style = `
      text-align:left;
      border-style:solid;
      border-width:3px;
      height:150px;
      width:200px;
      background-color:#999999;
      float:right;
      padding: 10px;
      `
            $("#trackSelParent")[0].prepend(timeTracker);
            $("#trackSelParent")[0].prepend(document.createElement("br"));
      
            // Create a new element to display the current position of the audio
            var positionDisplay = document.createElement("gg");
            positionDisplay.id = "position-display";
      
            // Create a new slider element to change the time
            var timeSlider = document.createElement("input");
            timeSlider.type = "range";
            timeSlider.min = 0;
            timeSlider.max = 1;
            timeSlider.step = 0.001;
            timeSlider.value = 0;
            timeSlider.style.width = "200px";
            timeSlider.id = "time-slider";
      
            var pausePlay = document.createElement("button");
            pausePlay.id = "position-display";
            pausePlay.innerHTML = "<b>Pause</b>"
            pausePlay.style.width = "100%";
      
      
            pausePlay.addEventListener("click", event => {
                event.preventDefault();
                updatePositionDisplay();
                let audio = document.getElementById("campaigntrailmusic");
                if (audio.paused) {
                    audio.play();
                    event.target.innerHTML = "<b>Pause</b>";
                    return;
                }
                audio.pause();
                event.target.innerHTML = "<b>Play</b>";
                return;
            })
      
            var volumeLabel = document.createElement("gg");
            volumeLabel.id = "volume-label";
            volumeLabel.innerHTML = "<br><b>Volume: </b>"
      
            var volumeSlider = document.createElement("input");
            volumeSlider.type = "range";
            volumeSlider.min = 0;
            volumeSlider.max = 1;
            volumeSlider.step = 0.001;
            volumeSlider.value = 0;
            volumeSlider.style.width = "200px";
            volumeSlider.id = "volume-slider";
      
            volumeSlider.value = audio.volume;
      
            timeTracker.appendChild(pausePlay);
            timeTracker.appendChild(document.createElement("br"));
            timeTracker.appendChild(document.createElement("br"));
            timeTracker.appendChild(positionDisplay);
            timeTracker.appendChild(timeSlider);
            timeTracker.appendChild(volumeLabel);
            timeTracker.appendChild(volumeSlider);
      
            updatePositionDisplay();
      
            //for (let i = 0; i < 10; i++)
            //timeTracker.append(document.createElement("br"));
      
      
            // Function to update the position display
            function updatePositionDisplay() {
                positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";
                timeSlider.value = audio.duration ? audio.currentTime / audio.duration : 0;
            }
      
            // Function to change the time of the audio
            function changeTime() {
                positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";
                audio.currentTime = timeSlider.value * audio.duration;
            }
      
            updateVolume = event => {
                audio.volume = event.target.value;
            }
      
            // Update the position display and slider every second
            setInterval(updatePositionDisplay, 1000);
      
            // Listen for changes to the time slider and change the time of the audio
            timeSlider.addEventListener("input", changeTime);
            volumeSlider.addEventListener("input", updateVolume)
        }
      
        function newMusicPlayer() {
            trackSel = document.createElement("div");
            trackSel.id = "trackSelParent"
            let z = `<br><br><br><br><br><br><br><br><br><br><div id='trackSel' style="text-align:left;border-style:solid;border-width:3px;overflow-y: scroll;overflow-x: hidden;height:200px; width:400px;background-color:#999999;float:right;">`
            z += `<b><select id='selectSoundtrack'><option value='` + soundtracks[e.selectedSoundtrack].name + `'>` + soundtracks[e.selectedSoundtrack].name + "</option>"
            for (i in soundtracks) {
                if (soundtracks[e.selectedSoundtrack] != soundtracks[i]) {
                    z += `<option value='` + soundtracks[i].name + `'>` + soundtracks[i].name + `</option>`
                }
            }
            z += `</select></b><br><br>`
                // <label><input type="radio" name="option" value="option1">Option 1</label><br>
            for (i in soundtracks[e.selectedSoundtrack].tracklist) {
                let a = soundtracks[e.selectedSoundtrack].tracklist[i]
                let b = `<label><input class="trackSelector" type="radio" name="trackSelector" value="` + i + `">` + a.name + `</label><br>`
                z += b
            }
            z += "</div><br><br>"
            trackSel.innerHTML = z
      
            // select correct song
      
            musicBox.appendChild(trackSel);
            Array.from(document.getElementById("trackSel").children).filter(f => {
                return f.tagName == "LABEL"
            }).map(f => f.children[0])[0].checked = true
      
            // set soundtrack changer
      
            soundtrackSelector = document.getElementById("selectSoundtrack")
            soundtrackSelector.onchange = function() {
                for (i in soundtracks) {
                    if (soundtracks[i].name == soundtrackSelector.value) {
                        e.selectedSoundtrack = i
                        break
                    }
                }
                document.getElementById("trackSelParent").remove()
                newMusicPlayer()
            }
      
            var matches = document.querySelectorAll('.trackSelector');
      
            for (match in matches) {
                matches[match].onchange = function() {
                    audio = $("#campaigntrailmusic")[0];
                    audio.src = soundtracks[e.selectedSoundtrack].tracklist[this.value].url
                    audio.currentTime = 0
                }
            }
      
            musicBox.children[2].loop = false
            musicBox.children[2].src = soundtracks[e.selectedSoundtrack].tracklist[0].url
      
            musicBox.children[2].onended = function() {
                console.log("next track")
                let selected = Number(document.querySelector('input[name="trackSelector"]:checked').value);
                let newSel = clamp(selected + 1, soundtracks[e.selectedSoundtrack].tracklist.length - 1, 0)
                let buttons = Array.from(document.getElementById("trackSel").children).filter(f => {
                        return f.tagName == "LABEL"
                    }).map(f => f.children[0])
                    //let selectedIndex = buttons.map(f=>f.children[0]).map(f=>f.checked)
                buttons[newSel].click()
            }
      
            for (w = 0; w < 7; w++) {
                document.getElementById("trackSelParent").appendChild(document.createElement("br"))
            }
      
            generateTime();
        }
      
        clamp = function(a, max, min, overflow = true) {
            if (overflow) {
                return a > max ? min : a < min ? max : a;
            }
            return a > max ? max : a < min ? min : a;
        }
      
      
        // Track list
      
        var soundtracks = {
            0: {
                name: "A Strange World",
                tracklist: [
                  {
                    "name": "Lucifer Sam - Pink Floyd",
                    "url": "https://cdn.discordapp.com/attachments/197866582280503296/1135033398168146010/YT2mp3.info_-_Pink_Floyd_-_Lucifer_Sam_Official_Audio_128kbps.mp3"
                  },
                  {
                    "name": "People Are Strange - The Doors",
                    "url": "https://cdn.discordapp.com/attachments/197866582280503296/1136517721572524093/YT2mp3.info_-_The_Doors_-_People_Are_Strange_128kbps.mp3"
                  },
                  {
                    "name": "All Along The Watchtower - The Jimi Hendrix Experience",
                    "url": "https://cdn.discordapp.com/attachments/197866582280503296/1136517720934994001/YT2mp3.info_-_The_Jimi_Hendrix_Experience_-_All_Along_The_Watchtower_Official_Audio_128kbps.mp3"
                  },
                  {
                    "name": "Fire - The Crazy World of Arthur Brown",
                    "url": "https://cdn.discordapp.com/attachments/197866582280503296/1136517721266327633/YT2mp3.info_-_Crazy_World_of_Arthur_Brown_-_Fire_128kbps.mp3"
                  },
                  {
                    "name": "Wayfaring Stranger - H. P. Lovecraft",
                    "url": "https://cdn.discordapp.com/attachments/197866582280503296/1136517720570085426/YT2mp3.info_-_H.P._Lovecraft_-_01_-_Wayfaring_Stranger_by_EarpJohn_128kbps.mp3"
                  },
                  {
                    "name": "See Emily Play - Pink Floyd",
                    "url": "https://cdn.discordapp.com/attachments/197866582280503296/1136517721933238292/YT2mp3.info_-_Pink_Floyd_-_See_Emily_Play_128kbps.mp3"
                  },
                  {
                    "name": "Flaming - Pink Floyd",
                    "url": "https://cdn.discordapp.com/attachments/197866582280503296/1136519529812459550/YT2mp3.info_-_Pink_Floyd_-_Flaming_Official_Audio_128kbps.mp3"
                  }
              ]
          }
        }
      
        // Set up new music player
      
        newMusicPlayer()
      }

    }

    styling = document.createElement("style");
  document.head.appendChild(styling);

  styling.innerHTML = `
  #opponent_selection_id_back {
      display: none;
  }
  `

  let z = new MutationObserver((mutationsList, observer) => {
      let runningMateSummary = document.querySelector("#running_mate_summary");
      if (runningMateSummary) {
          $("#running_mate_id_button").click();
          observer.disconnect()
      }
  });


  z.observe(document, { subtree: true, childList: true });
