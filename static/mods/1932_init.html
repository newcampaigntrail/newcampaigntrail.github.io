e=campaignTrail_temp
if (!e.done) {
e.done = true;

RecReading=true
campaignTrail_temp.candidate_json = JSON.parse("[{\"model\": \"campaign_trail.candidate\", \"pk\": 201, \"fields\": {\"first_name\": \"Franklin\", \"last_name\": \"Roosevelt\", \"election\": 20, \"party\": \"Democrat\", \"state\": \"New York\", \"priority\": 1, \"description\": \"<p>Franklin D. Roosevelt is the incumbent Governor of New York. A former ally and protégé of Al Smith, he instead seeks the nomination for himself this year. Whereas many in the Democratic Party seek to be cautious and conservative, Roosevelt instead believes his strong, progressive reforms in New York are in tune with the mood of the American people.</p><p>Governor Roosevelt believes that he can easily win both the nomination and the general election, hopefully ending over a decade of both Republican domination and fiscal conservatism. To do both, however, he will need to wage an aggressive campaign, keeping himself in touch with the public.</p>\", \"color_hex\": \"#4D4C99\", \"secondary_color_hex\": \"#5050BA\", \"is_active\": 1, \"image_url\": \"https://itsastronomical.com/assets/1932/fdr.png\", \"electoral_victory_message\": \"<h3>Congratulations, Mr President! You have won the 1932 election.</h3><p>This isn’t too big of a shock, but it was always very possible for things to go wrong along the way. Landon has called to concede, and it seems Democrats will retain the large majorities they enjoy in Congress. You will now continue to pass New Deal legislation.</p><p>Hopefully, the economy can fully recover during your second term. If you can recover the economy, you can set the Democratic Party up for success for many years to come. Or perhaps, do something really crazy and unprecedented, like run for a third term. Only time will tell…….</p>\", \"electoral_loss_message\": \"<h3>Sorry! You have lost the 1932 election.</h3><p>It’s a major shock to your supporters and the nation, but it seems Landon has pulled off quite the incredible upset. The Democratic Party is absolutely furious that you lost to the likes of Alf Landon, especially as a very popular President. Many in the party worry that another economic crisis will occur due to the new Republican President-elect. Rumor is that your running mate, John Garner, is looking to run in 1940, and it will be easier for him to make his case for the nomination, given your loss. In some good news, it appears Democrats will keep control of Congress. Perhaps you may try to run for Senate, although it’s more than likely you shall retire back to New York.</p>\", \"no_electoral_majority_message\": \"<h3>Wow! No candidate holds a majority of electoral votes!</h3><p>This is quite interesting. It seems no candidate has achieved a majority in the Electoral College. This was quite unlikely, but you’re still in shock by the whole situation. This either happened because of southern states bolting towards segregationist candidates, or because of William Lemke winning the Dakotas. With some negotiation, you’ll be able to secure a second term, with some conditions from southern delegates. As the southern delegates are more conservative, your Presidency may take a bit of a turn to the right. However, you’re still immensely popular, and who knows? Maybe you can run in 1940, and perhaps win without the South?</p>\", \"description_as_running_mate\": \"'\", \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 200, \"fields\": {\"first_name\": \"Herbert\", \"last_name\": \"Hoover\", \"election\": 20, \"party\": \"Republican\", \"state\": \"California\", \"priority\": 2, \"description\": \"<p>When Mr. Hoover ran for and won the Presidency in 1928, he did so expecting four to eight years of smooth sailing. What he got, however, was anything but that. Instead of the first pitches, cross-country touring, and cheers that his predecessors were both given, Mr. Hoover has been the blame for a series of spiraling economic crises that began early in his term.</p><p>With this in mind, the President faces an uphill battle in 1932. Many have written off his chances of victory as early as 1930. His fate seems so bad, in fact, that it appears he will run largely unopposed for the Republican nomination - perhaps giving him full control of the GOP. Hoover must find some way - any way to convince the American people that he deserves another four years in office.</p>\", \"color_hex\": \"#C9566A\", \"secondary_color_hex\": \"#FF9C9C\", \"is_active\": 1, \"image_url\": \"https://itsastronomical.com/assets/1932/hoover.png\", \"electoral_victory_message\": \"<h3>Wow! You have won the 1932 election in an incredible upset!</h3><p>All the way back in June, when you were given the nomination, victory seemed all but impossible. Pollsters had you winning only a couple of northeastern states. Whatever the hell you did to close the gap, it has clearly worked, and you’ve left a nation speechless. Your supporters are ecstatic, and have taken to the streets to celebrate. Roosevelt calls to concede, and the Democratic Party is baffled that they somehow lost the White House to you.</p><p>On the governing front, it seems that Democrats still have heavy control of both chambers, so you’ll be working with a divided government for at least the next two years, and likely more to come. Regardless, sit back and relax, knowing that you’ve pulled off the greatest upset in American History! Congratulations, Mr. President, and best of luck, because you’re gonna sure as hell need it!</p>\", \"electoral_loss_message\": \"<h3>Sorry! You have lost the 1932 election.</h3><p>Considering how unpopular the Republican Party is nationwide, this isn’t a huge surprise. Still, some Republicans felt that you could’ve closed the gap, but it appears you were no match for Roosevelt.</p><p>Roosevelt will begin to pass the New Deal programs, with national support. This is probably the end of your political career, depending on how big the margin between you and Roosevelt was. If the race was close, perhaps you could still influence the Republican Party.</p>\", \"no_electoral_majority_message\": \"<h3>Wow! No candidate holds a majority of electoral votes!</h3><p>I assume you messed around with the code since there's an odd number of electors and you can’t split the Southern Electors in a Hoover playthrough.</p><p>Anyway, this is quite interesting. It seems no candidate has achieved a majority in the Electoral College. This was rather unlikely, but it’s still disappointing. Unfortunately, it seems Congress will instead choose to give Roosevelt a second term. This is disappointing, but it seems you may have a shot at winning in 1940 if you can keep your influence in the Party Machinery.</p>\", \"description_as_running_mate\": \"'\", \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 202, \"fields\": {\"first_name\": \"Norman\", \"last_name\": \"Thomas\", \"election\": 20, \"party\": \"Union\", \"state\": \"North Dakota\", \"priority\": 3, \"description\": \"<p>William Lemke is a House Rep from North Dakota. A hefty amount of space barring is his only chance at the presidency.</p>\", \"color_hex\": \"#CC7A98\", \"secondary_color_hex\": \"#A1FFA1\", \"is_active\": 0, \"image_url\": \"https://itsastronomical.com/assets/1932/lemke.jpg\", \"electoral_loss_message\": \"'\", \"no_electoral_majority_message\": \"'\", \"description_as_running_mate\": \"'\", \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 203, \"fields\": {\"first_name\": \"Other\", \"last_name\": \"Candidates\", \"election\": 20, \"party\": \"Independent\", \"state\": \"Hell\", \"priority\": 4, \"description\": \"<p>Fortnite</p>\", \"color_hex\": \"#F2C679\", \"secondary_color_hex\": \"#FFFFC0\", \"is_active\": 0, \"image_url\": \"https://itsastronomical.com/assets/1932/byrd.jpeg\", \"electoral_victory_message\": \"'\", \"electoral_loss_message\": \"'\", \"no_electoral_majority_message\": \"'\", \"description_as_running_mate\": \"'\", \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 6, \"fields\": {\"first_name\": \"Charles\", \"last_name\": \"Curtis\", \"election\": 20, \"party\": \"Republican\", \"state\": \"Kansas\", \"priority\": 5, \"description\": \"'\", \"color_hex\": \"#FF0000\", \"secondary_color_hex\": \"#FFA0A0\", \"is_active\": 0, \"image_url\": \"https://itsastronomical.com/assets/1932/curtis.png\", \"electoral_victory_message\": \"'\", \"electoral_loss_message\": \"'\", \"no_electoral_majority_message\": \"'\", \"description_as_running_mate\": \"<p>The Vice President, Charles Curtis, is a son of Kansas and the very soil of America. Born of humble stock and carrying the proud blood of the Kaw Nation, he has risen to the highest echelons of power through grit, determination, and an abiding faith in the possibilities of this great land. A master of Senate chambers and the architect of legislative compromise, he is, for the establishment, the epitome of steadfast experience and continuity.</p><p>But alas, time spares no man. Curtis’s health falters, weakened by cardiovascular troubles. Furthermore, his time as Vice President has been criticized as lacking in vigor, with detractors claiming he has not made a decisive mark on the administration.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 7, \"fields\": {\"first_name\": \"James\", \"last_name\": \"Harbord\", \"election\": 20, \"party\": \"Republican\", \"state\": \"New York\", \"priority\": 5, \"description\": \"'\", \"color_hex\": \"#FF0000\", \"secondary_color_hex\": \"#FFA0A0\", \"is_active\": 0, \"image_url\": \"https://itsastronomical.com/assets/1932/harbord.png\", \"electoral_victory_message\": \"'\", \"electoral_loss_message\": \"'\", \"no_electoral_majority_message\": \"'\", \"description_as_running_mate\": \"<p>Lieutenant General James Harbord is both a soldier of steel and a man of the modern age. As Chief of Staff to General Pershing during the Great War, he managed the machinery of logistics and command, ensuring the success of American forces on European soil. Following his military service, Harbord turned his gaze to the burgeoning world of business, where his tenure at the Radio Corporation of America has positioned him as a pioneer in modern communications.</p><p>But for all his valor and acumen, Harbord has never braved politics. His name, though liked in certain circles, might fail to ignite the hearts of the common man. Can a man of the barracks reach the weary hearts of a nation in need? </p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 8, \"fields\": {\"first_name\": \"Hiram\", \"last_name\": \"Bingham\", \"election\": 20, \"party\": \"Republican\", \"state\": \"Connecticut\", \"priority\": 5, \"description\": \"'\", \"color_hex\": \"#FF0000\", \"secondary_color_hex\": \"#FFA0A0\", \"is_active\": 0, \"image_url\": \"https://itsastronomical.com/assets/1932/bingham.png\", \"electoral_victory_message\": \"'\", \"electoral_loss_message\": \"'\", \"no_electoral_majority_message\": \"'\", \"description_as_running_mate\": \"<p>Hiram Bingham III is a man of many talents, celebrated as both an explorer and a public servant. His rediscovery of Machu Picchu cemented his place in history, while his tenure as U.S. Senator from Connecticut demonstrated his ability to transition from the world of adventure to that of governance. A man of letters, a man of exploration, and, for one day, a man of executive authority as Governor of Connecticut, while also simultaneously serving as Senator.</p><p>But for all his brilliance, some may see in him a dreamer rather than a doer. And in 1929, he was censured by the Senate for hiring a lobbyist as a paid aide, a misstep that has lingered as a blemish on his otherwise impressive record.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 9, \"fields\": {\"first_name\": \"Hanford\", \"last_name\": \"MacNider\", \"election\": 20, \"party\": \"Republican\", \"state\": \"Kansas\", \"priority\": 5, \"description\": \"'\", \"color_hex\": \"#FF0000\", \"secondary_color_hex\": \"#FFA0A0\", \"is_active\": 0, \"image_url\": \"https://itsastronomical.com/assets/1932/macnider.png\", \"electoral_victory_message\": \"'\", \"electoral_loss_message\": \"'\", \"no_electoral_majority_message\": \"'\", \"description_as_running_mate\": \"<p>Hanford MacNider has devoted himself entirely to the cause of his fellow veterans. Decorated for bravery in the Great War, he has since become a prominent figure in the American Legion, championing the rights and welfare of those who served. As Assistant Secretary of War, MacNider displayed competence and loyalty, and his Iowa roots make him a natural representative of the farmers.</p><p>However, MacNider has shed all other roles in eager pursuit of the vice presidency, a display of ambition that some might find unbecoming. While his youthful energy and earnestness are admirable, there is a question of whether his single-minded focus aligns with the broader needs of the nation.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 205, \"fields\": {\"first_name\": \"William\", \"last_name\": \"Borah\", \"election\": 20, \"party\": \"Republican\", \"state\": \"Idaho\", \"priority\": 6, \"description\": \"'\", \"color_hex\": \"#FF0000\", \"secondary_color_hex\": \"#FFA0A0\", \"is_active\": 0, \"image_url\": \"https://itsastronomical.com/assets/1932/Borah.png\", \"electoral_victory_message\": \"'\", \"electoral_loss_message\": \"'\", \"no_electoral_majority_message\": \"'\", \"description_as_running_mate\": \"<p>William Borah is a popular, insurgent Senator from the state of Idaho, and your primary rival in the quest for the Republican Nomination. He’s widely known as a Progressive, and a maverick within the party. Before the Republicans lost control of the Senate in 1933, he was chairman of the Senate Foreign Relations Committee, giving him heavy influence in foreign affairs - which he used to chart the nation in an isolationist path.</p><p>Borah is from Idaho, which is not a large electoral prize. His isolationist views may also help you in some places, but hurt you in others. His candidacy is a part of an attempt to realign the Republican Party to a progressive organization, which will help you in some areas but hurt you in others.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 208, \"fields\": {\"first_name\": \"Jeb\", \"last_name\": \"Bush\", \"election\": 20, \"party\": \"Republican\", \"state\": \"Florida\", \"priority\": 7, \"description\": \"'\", \"color_hex\": \"#FF0000\", \"secondary_color_hex\": \"#FFA0A0\", \"is_active\": 0, \"image_url\": \"/static/images/sarah-palin-2016.jpg\", \"electoral_victory_message\": \"'\", \"electoral_loss_message\": \"'\", \"no_electoral_majority_message\": \"'\", \"description_as_running_mate\": \"<p>Sarah Palin is the former Governor of Alaska and ill-fated running mate on John McCain's 2008 ticket. Many people believe that she alienated some moderate support and may have cost McCain the election. On the other hand, she endorsed your candidacy relatively early and is still something of a folk hero on the right. In any case, she would certainly help you grab an even greater share of the headlines this fall.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 206, \"fields\": {\"first_name\": \"Ben\", \"last_name\": \"Carson\", \"election\": 20, \"party\": \"Republican\", \"state\": \"Ohio\", \"priority\": 7, \"description\": \"'\", \"color_hex\": \"#FF0000\", \"secondary_color_hex\": \"#FFA0A0\", \"is_active\": 0, \"image_url\": \"/static/images/ben-carson-2016.jpg\", \"electoral_victory_message\": \"'\", \"electoral_loss_message\": \"'\", \"no_electoral_majority_message\": \"'\", \"description_as_running_mate\": \"<p>Ben Carson was a candidate for President in 2016, with a long history within the evangelical community. He has never served in political office, a fact which may be an asset in this election. Carson was one of the Trump's first opponents to publicly endorse him, and he consistently polled relatively high in the black community during the primary season. However, he has also made a number of bizarre statements and may be vulnerable to a sustained attack campaign.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 207, \"fields\": {\"first_name\": \"Arthur\", \"last_name\": \"Vandenberg\", \"election\": 20, \"party\": \"Republican\", \"state\": \"Michigan\", \"priority\": 8, \"description\": \"'\", \"color_hex\": \"#FF0000\", \"secondary_color_hex\": \"#FFA0A0\", \"is_active\": 0, \"image_url\": \"https://itsastronomical.com/assets/1932/Vandenberg.png\", \"electoral_victory_message\": \"'\", \"electoral_loss_message\": \"'\", \"no_electoral_majority_message\": \"'\", \"description_as_running_mate\": \"<p>Arthur Vandenberg is a Senator from Michigan, and has made a name for himself as one of the few remaining Senate leaders. Vandenberg is a staunch conservative, and will help energize that wing of the party. He is exactly who you want as your running mate - yet he refuses and refuses. It will take many concessions to get him onboard on the ticket, especially considering he opposed your nomination.</p><p>Vandenberg has been a staunch critic of the New Deal, which can help you in some areas but hurt you in others. Make sure you do enough to get him on board on the ticket.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 1, \"fields\": {\"first_name\": \"John\", \"last_name\": \"Garner\", \"election\": 20, \"party\": \"Democrat\", \"state\": \"Texas\", \"priority\": 9, \"description\": \"'\", \"color_hex\": \"#0000FF\", \"secondary_color_hex\": \"#90C0FF\", \"is_active\": 0, \"image_url\": \"https://itsastronomical.com/assets/1932/garner.png\", \"electoral_victory_message\": \"'\", \"electoral_loss_message\": \"'\", \"no_electoral_majority_message\": \"'\", \"description_as_running_mate\": \"<p>There is a steadiness, a surety, a plain-spoken quality to John Nance Garner that calls to mind the enduring spirit of the American frontier. ‘Cactus Jack,’ as he’s known, embodies the grit and gristle of his beloved Texas, and it is no exaggeration to say that his years as Speaker of the House have been a bulwark. He knows how to wrangle a vote, how to bridge a divide, and how to move the machinery of Congress forward, often against the stiffest resistance.</p><p>But his ideological frustrations tend toward a conservatism that may not align with the bold experimentation that these times demand. Where we see the necessity of broad, federal action, Garner may hesitate.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 2, \"fields\": {\"first_name\": \"William Gibbs\", \"last_name\": \"McAdoo\", \"election\": 20, \"party\": \"Democrat\", \"state\": \"California\", \"priority\": 9, \"description\": \"'\", \"color_hex\": \"#0000FF\", \"secondary_color_hex\": \"#90C0FF\", \"is_active\": 0, \"image_url\": \"https://itsastronomical.com/assets/1932/mcadoo.png\", \"electoral_victory_message\": \"'\", \"electoral_loss_message\": \"'\", \"no_electoral_majority_message\": \"'\", \"description_as_running_mate\": \"<p>William Gibbs McAdoo is a man out of time. The last believer in Wilsonian Idealism, he has been a tireless champion of the progressive cause, and his devotion to the ideals of good governance and economic fairness has earned him a place among the great reformers of our party. He speaks to the farmer, the laborer, and the struggling small business owner with the conviction of a man who knows their plight and believes in their cause.</p><p>But ambition can cut both ways. McAdoo has sought the highest office before, and his willingness to bend to political expediency, his entanglements with Tammany Hall, for instance, raise questions about his commitment to the greater good.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 3, \"fields\": {\"first_name\": \"Carter\", \"last_name\": \"Glass\", \"election\": 20, \"party\": \"Democrat\", \"state\": \"Virginia\", \"priority\": 9, \"description\": \"'\", \"color_hex\": \"#0000FF\", \"secondary_color_hex\": \"#90C0FF\", \"is_active\": 0, \"image_url\": \"https://itsastronomical.com/assets/1932/glass.png\", \"electoral_victory_message\": \"'\", \"electoral_loss_message\": \"'\", \"no_electoral_majority_message\": \"'\", \"description_as_running_mate\": \"<p>Carter Glass is no ordinary name in Democratic circles. To many, he is the man who brought structure to the chaos of our financial system, the architect of the Federal Reserve, and a statesman whose wisdom has been a steady ship in stormy economic seas. He understands money in a way that few do, a very rare gift in a time when economic expertise is not a luxury but a necessity.</p><p>But Glass is a man of strong opinions and a fiery temper, a combination that has made him both admired and, at times, feared. He is no stranger to stubbornness, and there are moments when his views may clash with the broader vision of this administration.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 4, \"fields\": {\"first_name\": \"Cordell\", \"last_name\": \"Hull\", \"election\": 20, \"party\": \"Democrat\", \"state\": \"Tennessee\", \"priority\": 9, \"description\": \"'\", \"color_hex\": \"#0000FF\", \"secondary_color_hex\": \"#90C0FF\", \"is_active\": 0, \"image_url\": \"https://itsastronomical.com/assets/1932/hull.png\", \"electoral_victory_message\": \"'\", \"electoral_loss_message\": \"'\", \"no_electoral_majority_message\": \"'\", \"description_as_running_mate\": \"<p>In an age of uncertainty, there is something profoundly reassuring about a man like Cordell Hull. The good Senator from Tennessee is a firm believer that that government can, and must, be a force for good. The father of the modern income tax, he reshaped our nation’s financial landscape. To place Cordell Hull on this ticket would send a message to the American people, and indeed to the world, that this administration values stability, intellect, and a steady hand at the helm.</p><p>But in a moment that demands boldness, will a quiet, grey pencil-pusher be good enough for a nation desperate for dramatic change?</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 5, \"fields\": {\"first_name\": \"Albert\", \"last_name\": \"Ritchie\", \"election\": 20, \"party\": \"Democrat\", \"state\": \"Maryland\", \"priority\": 9, \"description\": \"'\", \"color_hex\": \"#0000FF\", \"secondary_color_hex\": \"#90C0FF\", \"is_active\": 0, \"image_url\": \"https://itsastronomical.com/assets/1932/Garner.png\", \"electoral_victory_message\": \"'\", \"electoral_loss_message\": \"'\", \"no_electoral_majority_message\": \"'\", \"description_as_running_mate\": \"<p>As Governor of Maryland, Albert Cabell Ritchie has wielded the reins of executive power with supreme authority, proving himself a champion of efficiency and a foe of waste. He has balanced budgets, reduced debt, and governed with his state toward fiscal responsibility without neglecting the needs of the common man. His broad appeal in the South and among conservative Democrats would shore up a coalition that, at times, feels stretched to the breaking point.</p><p>But Ritchie is no mere technocrat. His ties to the Democratic machine in Maryland run deep, and his methods carry the unmistakability of a man who is not afraid to wield power to achieve his ends. This may raise concerns among progressives who seek a government untainted by backroom deals and smoky rooms.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 210, \"fields\": {\"first_name\": \"Henry\", \"last_name\": \"Wallace\", \"election\": 20, \"party\": \"Democrat\", \"state\": \"Iowa\", \"priority\": 10, \"description\": \"'\", \"color_hex\": \"#0000FF\", \"secondary_color_hex\": \"#90C0FF\", \"is_active\": 0, \"image_url\": \"https://itsastronomical.com/assets/1932/Wallace.png\", \"electoral_victory_message\": \"'\", \"electoral_loss_message\": \"'\", \"no_electoral_majority_message\": \"'\", \"description_as_running_mate\": \"<p>If you're looking for a different running mate, there's always another option.</p><p>Henry Wallace is the current Secretary of Agriculture, and a personal friend and close ally of you. He also hails from a political family, with his father having served in the Coolidge Administration. His nomination is favored by yourself, and by liberals more broadly. He will also help within his home state of Iowa, which voted Democratic four years ago, only the third time this has happened.</p><p>Wallace is a good pick for exciting the liberal base, but you must be careful when deciding on how to handle the south given the removal of Cactus Jack from the ticket.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 214, \"fields\": {\"first_name\": \"James\", \"last_name\": \"Maurer\", \"election\": 20, \"party\": \"Socialist\", \"state\": \"Pennsylvania\", \"priority\": 14, \"description\": \"'\", \"color_hex\": \"#00C100\", \"secondary_color_hex\": \"#A1FFA1\", \"is_active\": 0, \"image_url\": \"'\", \"electoral_victory_message\": \"'\", \"electoral_loss_message\": \"'\", \"no_electoral_majority_message\": \"'\", \"description_as_running_mate\": \"'\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 215, \"fields\": {\"first_name\": \"Other\", \"last_name\": \"Running Mates\", \"election\": 20, \"party\": \"Independent\", \"state\": \"Illinois\", \"priority\": 15, \"description\": \"'\", \"color_hex\": \"#FFFF00\", \"secondary_color_hex\": \"#FFFFC0\", \"is_active\": 0, \"image_url\": \"'\", \"electoral_victory_message\": \"'\", \"electoral_loss_message\": \"'\", \"no_electoral_majority_message\": \"'\", \"description_as_running_mate\": \"'\", \"candidate_score\": 0.0}}]");
campaignTrail_temp.election_json = JSON.parse("[{\"model\": \"campaign_trail.election\", \"pk\": 20, \"fields\": {\"year\": 1932, \"summary\": \"<p>Herbert Hoover was swept into office in 1928, pledging to continue the prosperity of the 1920s. Unfortunately for him, however, his time in office has not been an easy one - with financial troubles spreading globally and an unprecedented economic crash hitting every country. Meanwhile, Roosevelt of New York seeks to use the economy to his advantage and has promised a ''New Deal.''</p><ul><li>Roosevelt has handled reform in New York rather well, but must convince a national stage that his policies are the solutions.</li><li>Hoover must attempt to mount some form of comeback against Roosevelt or face a wipeout.</li></ul>\", \"image_url\": \"https://itsastronomical.com/assets/1932/1932.png\", \"winning_electoral_vote_number\": 266, \"advisor_url\": \"https://i.imgur.com/yJQLWFR.png\", \"recommended_reading\": \"<div style='overflow-y:scroll;height:370px;'><h2 style='margin-top: 0.5em;'>1932: Happy Days Are Here Again!</h2><h4>Sources</h4><p>Anonymous - <a href='https://archive.org/details/mirrorsof1932017710mbp/page/n5/mode/2up' target=\\\"_blank\\\">The Mirrors of 1932</a></p><p>Donald A. Ritchie - <a href='https://www.amazon.com/Electing-FDR-Campaign-Presidential-Elections/dp/070061687X' target=\\\"_blank\\\"> Electing FDR: The New Deal Campaign of 1932</a></p><p>The American Presidency Project - <a href='https://www.presidency.ucsb.edu/statistics/elections/1932' target=\\\"_blank\\\"> 1932 United States presidential election</a></p><h4>Credits</h4><p>All coding done by ItsAstronomical.</p><p>Writing done by ItsAstronomical, with help from Bonbiskha and MassachusettsForStockdale<p><img src='https://itsastronomical.com/assets/astroicon_transparent.png' width='80px'></img><br><p>Merry Christmas!</p></p><h4>Special Thanks</h4><p>Stuff such as the VP Switcher belongs to Decstar, <a href='https://hunchonautilus.github.io/nct-mod-code-retrieval/bunnyhop/index.html'>and the random question system is thanks to AstroHuncho/Liquid Astro's 'Bunnyhop' tool</a>, and of course...</p><p>...thank you for playing!</p><p>- Astronomical</p><img src='https://itsastronomical.com/assets/astro_in_space_woooo.png' width='800px'></img><br><br><p>What are you doing here?! Go play the mod again!</p></div>\", \"has_visits\": 0, \"no_electoral_majority_image\": \"https://i.imgur.com/BboBj0T.png\"}}]");
campaignTrail_temp.global_parameter_json = JSON.parse("[{\"model\": \"campaign_trail.global_parameter\", \"pk\": 1, \"fields\": {\"vote_variable\": 105.125, \"max_swing\": 120.12, \"start_point\": 0.94, \"candidate_issue_weight\": 10.0, \"running_mate_issue_weight\": 3.0, \"issue_stance_1_max\": -0.71, \"issue_stance_2_max\": -0.3, \"issue_stance_3_max\": -0.125, \"issue_stance_4_max\": 0.125, \"issue_stance_5_max\": 0.3, \"issue_stance_6_max\": 0.71, \"global_variance\": 0.01, \"state_variance\": 0.005, \"question_count\": 25, \"default_map_color_hex\": \"#C9C9C9\", \"no_state_map_color_hex\": \"#999999\"}}]");

campaignTrail_temp.opponents_default_json = JSON.parse("[{\"election\": 20, \"candidates\": [201, 202, 203, 200]}]");
campaignTrail_temp.temp_election_list = [{"id": 20, "year": 1932, "is_premium": 0, "display_year": "1932"}];
campaignTrail_temp.running_mate_json = JSON.parse("[{\"model\": \"campaign_trail.running_mate\", \"pk\": 155, \"fields\": {\"candidate\": 201, \"running_mate\": 1}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 150, \"fields\": {\"candidate\": 200, \"running_mate\": 5}}]");
campaignTrail_temp.credits = 'ItsAstronomical, with writing help from Bonbishka and MassachusettsForStockdale and custom radio by Thatchmaster';

HistHexcolour=["#4D4C99","#C9566A","#CC7A98","#F2C679"];
        HistName=["Franklin Roosevelt","Herbert Hoover","Norman Thomas","Other Candidates"];
        HistEV=[472,59,0,0];
        HistPV=["22,821,277","15,761,254","884,885","320,811"];
        HistPVP=["57.4%","39.6%","2.2%","0.8%"];

campaignTrail_temp.modBoxTheme = {
     "header_color": "#f4df59",
     "header_text_color": "#000000",
     "description_text_color": "#000000",
     "description_background_color": "#b4bec1",
     "main_color": "#b4bec1",
     "secondary_color": "#334365",
     "ui_text_color": "#FFFFFF"
}

const gameThemes = {
    "The Great Depression" : function() {
        document.getElementById("header").src = "https://itsastronomical.com/assets/1932/1932comic.png"
        nct_stuff.themes[nct_stuff.selectedTheme].coloring_title = "#f4df59"
        nct_stuff.themes[nct_stuff.selectedTheme].coloring_window = "#b4bec1"
        document.getElementsByClassName("game_header")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_title
        $(".container")[0].style.backgroundColor = "#334365"
        $("#game_window")[0].style.backgroundColor = "#b4bec1";
        document.body.background = "https://itsastronomical.com/assets/1932/bg.png"
    },
    "Classic" : function() { 
        document.getElementById("header").src = "https://www.newcampaigntrail.com/static/images/banner_classic.png";
        document.body.style.backgroundColor = "#bfe6ff";
        document.body.background = "";
        $(".container")[0].style.backgroundColor = "#fff";
        nct_stuff.themes[nct_stuff.selectedTheme].coloring_title = "#700016";
        document.getElementsByClassName("game_header")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_title;
        nct_stuff.themes[nct_stuff.selectedTheme].coloring_window = "#e8fbff";
        $("#game_window")[0].style.backgroundColor = "#bfe6ff";
        $(".footer")[0].style.color = "#000";
    }
}

campaignTrail_temp.achievements = {
    "A New Deal" : {
        "image" : "https://itsastronomical.com/assets/1932/ach/fdrsmoke.png",
        "description" : "As Roosevelt, win every state.",
        "cannotBeCheated" : true
    },
    "Finishing Strong" : {
        "image" : "https://itsastronomical.com/assets/1932/ach/fdraction.png",
        "description" : "As Roosevelt, win over 472 Electoral votes despite a bumpy start.",
        "cannotBeCheated" : true
    },
    "Red Roosevelt" : {
        "image" : "https://itsastronomical.com/assets/1932/ach/fdrwork.png",
        "description" : "As Roosevelt, win over 472 Electoral votes without appealing to conservatives.",
        "cannotBeCheated" : true
    },
    "Old Deal" : {
        "image" : "https://itsastronomical.com/assets/1932/ach/fdrlose.png",
        "description" : "As Roosevelt, lose.",
        "cannotBeCheated" : true
    },
    "The Start That Counts" : {
        "image" : "https://itsastronomical.com/assets/1932/ach/deck.png",
        "description" : "As Roosevelt, have a strong start to your campaign.",
        "cannotBeCheated" : true
    },
    "The Happy Warrior" : {
        "image" : "https://itsastronomical.com/assets/1932/ach/yields.png",
        "description" : "As Roosevelt, fumble to your old foe.",
        "cannotBeCheated" : true
    },
    "Turning The Tides" : {
        "image" : "https://itsastronomical.com/assets/1932/ach/hawktuah.png",
        "description" : "As Hoover, win over 150 EVs against Roosevelt.",
        "cannotBeCheated" : true
    },
    "America... First?" : {
        "image" : "https://itsastronomical.com/assets/1932/ach/newt.png",
        "description" : "As Hoover, beat an internationalist.",
        "cannotBeCheated" : true
    },
    "American Enterprise" : {
        "image" : "https://itsastronomical.com/assets/1932/ach/young.png",
        "description" : "As Hoover, beat an engineer.",
        "cannotBeCheated" : true
    },
    "Go For Gold" : {
        "image" : "https://itsastronomical.com/assets/1932/ach/gold.png",
        "description" : "As Hoover, keep the US on the Gold Standard and win over 170 Electoral Votes.",
        "cannotBeCheated" : true
    },
    "Civil War" : {
        "image" : "https://itsastronomical.com/assets/1932/ach/bonus.png",
        "description" : "As Hoover, attack the Bonus Army and still pull off a win.",
        "cannotBeCheated" : true
    },
    "Fifth Party System" : {
        "image" : "https://itsastronomical.com/assets/1932/ach/party.png",
        "description" : "As Hoover, lose every state.",
        "cannotBeCheated" : true
    },
  }

// Replace old theme picker
const themePicker = document.getElementById("themePicker");
const newThemePicker = document.createElement("select");
newThemePicker.id = "themePicker";
newThemePicker.addEventListener("change", gameThemePicked);
let newInnerHTML = "";
for(theme in gameThemes) {
    newInnerHTML += `<option value="${theme}">${theme}</option>`;
}
newThemePicker.innerHTML = newInnerHTML;
themePicker.replaceWith(newThemePicker);

function gameThemePicked() {
    gameThemes[newThemePicker.value]();
}

gameThemePicked();

//30's Player

// Initialise custom music

RecReading = true;

// Select the node that will be observed for mutations
const windowsAdvisorTargetNode = document.getElementById("game_window");

// Options for the observer (which mutations to observe)
const windowsAdvisorConfig = { attributes: true, childList: true, subtree: true };

// Callback function to execute when mutations are observed
const callback = (mutationList, observer) => {
    visitWindow = document.getElementsByClassName("overlay_window")[0];

    if (visitWindow == null || visitWindow.classList.contains("done")) {
        return;
    }
    visitWindow.classList.add("done");
    visitWindow.classList.add("window");
    let titleBar = visitWindow.querySelector("h3");
    titleBar.classList.add("title-bar");
    titleBar.classList.add("title-bar-text");
    titleBar.style.paddingLeft = "3px";
};

class Song {
    constructor(title, artist, coverLink, audioLink) {
        this.title = title;
        this.artist = artist;
        this.coverLink = coverLink;
        this.audioLink = audioLink;
    }
    getTitle() {
        return this.title;
    }

    getArtist() {
        return this.artist;
    }

    getCoverLink() {
        return this.coverLink;
    }

    getAudioLink() {
        return this.audioLink;
    }
}

class Playlist {
    constructor() {
        this.songs = [];
        this.currentSongIndex = 0;
    }

    addSong(song) {
        this.songs.push(song);
    }

    getCurrentSong() {
        return this.songs[this.currentSongIndex];
    }

    playNext() {
        this.currentSongIndex = (this.currentSongIndex + 1) % this.songs.length;
    }

    playPrevious() {
        this.currentSongIndex = (this.currentSongIndex - 1 + this.songs.length) % this.songs.length;
    }
}
window.Playlist = Playlist;
window.Song = Song;

function changePlaylist(newPlaylist) {
    playlist = newPlaylist;
    playlist.currentSongIndex = 0;
    updateUI(playlist);
    const audio = document.getElementById("audio");
    audio.src = playlist.getCurrentSong().audioLink;
    audio.play();
}
window.changePlaylist = changePlaylist;

function updateUI(playlist) {
    const currentSong = playlist.getCurrentSong();
    var player = document.getElementById("player");
    player.querySelector("#cover").src = currentSong.getCoverLink();
    player.querySelector("#title").textContent = currentSong.getTitle();
    player.querySelector("#artist").textContent = currentSong.getArtist();
}

window.updateUI = updateUI;

function setupMusicPlayer() {
    playlist = new Playlist();

    const song1 = new Song(
        "Brother Can You Spare A Dime",
        "Bing Crosby",
        "https://i.imgur.com/EUcbUas.png",
        "https://audio.jukehost.co.uk/jRXseBAMcWRFKHt1tJ51tqbyJ3sqhKts"
    );
    const song2 = new Song(
        "The Clouds Will Soon Roll By",
        "Ambrose & His Orchestra",
        "https://i.ytimg.com/vi/KgqZJKGHhhQ/sddefault.jpg",
        "https://audio.jukehost.co.uk/Hf6VPaMzNzxlALHDBcuuc5uEtkLNOMDw"
    );
    const song3 = new Song(
        "Remember My Forgotten Man",
        "George Hall",
        "https://i.ytimg.com/vi/bCmHXAz5PFA/sddefault.jpg",
        "https://audio.jukehost.co.uk/MypY1myDgc0mOe9q3V3uQMPbXtyklfuw"
    );
    const song4 = new Song(
        "It Don't Mean A Thing",
        "Ivie Anderson",
        "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSTqHE-NltdCBjN3dZG2LwmY2NPvZ6cOHgxEg&s",
        "https://audio.jukehost.co.uk/k2tL8nq9UfcAraBVSJ48LjxMotEIXHiO"
    );
    const song5 = new Song(
        "A Lovely Way To Spend An Evening",
        "The Ink Spots",
        "https://cdn-images.dzcdn.net/images/cover/9628c446092888da5119d4c5fa00af6f/0x1900-000000-80-0-0.jpg",
        "https://audio.jukehost.co.uk/k2tL8nq9UfcAraBVSJ48LjxMotEIXHiO"
    );

    playlist.addSong(song1);
    playlist.addSong(song2);
    playlist.addSong(song3);
    playlist.addSong(song4);
    playlist.addSong(song5);



    const playerContainer = document.createElement("div");
    playerContainer.id = "player";

    const displayBox = document.createElement("div");
    displayBox.id = "display-box";

    const coverElement = document.createElement("img");
    coverElement.id = "cover";
    displayBox.appendChild(coverElement);

    const infoContainer = document.createElement("div");
    infoContainer.id = "info-container";
    infoContainer.style.backgroundImage = "url('https://i.imgur.com/HTUJApX.png')";
    infoContainer.style.backgroundSize = "cover";
    infoContainer.style.color = "#6e441b";

    const songInfo = document.createElement("div");
    songInfo.id = "song-info";

    const titleElement = document.createElement("h3");
    titleElement.id = "title";
    titleElement.style.fontWeight = 'normal';
    songInfo.appendChild(titleElement);

    const artistElement = document.createElement("p");
    artistElement.id = "artist";
    songInfo.appendChild(artistElement);

    infoContainer.appendChild(songInfo);
    displayBox.appendChild(infoContainer);

    playerContainer.appendChild(displayBox);

    const controlsContainer = document.createElement("div");
    controlsContainer.id = "controls-container";

    const controls = document.createElement("div");
    controls.id = "controls";

    const volumeDownButton = document.createElement("img");
    volumeDownButton.id = "volumeDownButton";
    volumeDownButton.src = "https://i.imgur.com/VQfvYev.png";
    volumeDownButton.alt = "Volume Down";
    controls.appendChild(volumeDownButton);

    const prevButton = document.createElement("img");
    prevButton.id = "prevButton";
    prevButton.src = "https://i.imgur.com/LAojana.png";
    prevButton.alt = "Previous";
    controls.appendChild(prevButton);

    const playPauseButton = document.createElement("img");
    playPauseButton.id = "playPauseButton";
    playPauseButton.src = "https://i.imgur.com/JdndnqR.png";
    playPauseButton.alt = "Play/Pause";
    controls.appendChild(playPauseButton);

    const nextButton = document.createElement("img");
    nextButton.id = "nextButton";
    nextButton.src = "https://i.imgur.com/VpjQN97.png";
    nextButton.alt = "Next";
    controls.appendChild(nextButton);

    const volumeUpButton = document.createElement("img");
    volumeUpButton.id = "volumeUpButton";
    volumeUpButton.src = "https://i.imgur.com/AWjSTLv.png";
    volumeUpButton.alt = "Volume Up";
    controls.appendChild(volumeUpButton);

    controlsContainer.appendChild(controls);

    playPauseButton.addEventListener("click", function () {
        const audio = document.getElementById("audio");
        if (audio.paused) {
            audio.play();
            playPauseButton.src = "https://i.imgur.com/JdndnqR.png";
        } else {
            audio.pause();
            playPauseButton.src = "https://i.imgur.com/nzG7asd.png";
        }
    });

    nextButton.addEventListener("click", function () {
        playlist.playNext();
        updateUI(playlist);
        const audio = document.getElementById("audio");
        audio.src = playlist.getCurrentSong().audioLink;
        audio.play();
        rotateButton(nextButton, "right");
    });

    prevButton.addEventListener("click", function () {
        playlist.playPrevious();
        updateUI(playlist);
        const audio = document.getElementById("audio");
        audio.src = playlist.getCurrentSong().audioLink;
        audio.play();
        rotateButton(prevButton, "left");
    });

    let currentVolume = 6; // Medium initial volume 

    volumeUpButton.addEventListener("click", function () {
        const audio = document.getElementById("audio");
        if (currentVolume < 20) { // Increased max volume range
            currentVolume++;
            audio.volume = currentVolume / 20; // Adjusted for new range
            rotateButton(volumeUpButton, "left");
        }
    });
    
    volumeDownButton.addEventListener("click", function () {
        const audio = document.getElementById("audio");
        if (currentVolume > 0) {
            currentVolume--;
            audio.volume = currentVolume / 20; // Adjusted for new range
            rotateButton(volumeDownButton, "right");
        }
    });

    function rotateButton(button, direction) {
        const rotationAngle = direction === "left" ? "rotate(-15deg)" : "rotate(15deg)";
        button.style.transform = rotationAngle;
        setTimeout(() => {
            button.style.transform = "rotate(0deg)";
        }, 200);
    }

    const progressBarContainer = document.createElement("div");
    progressBarContainer.id = "progress-bar-container";

    const progressBar = document.createElement("progress");
    progressBar.type = "range";
    progressBar.id = "progress-bar";
    progressBar.value = "0";
    progressBar.max = "100";

    progressBarContainer.appendChild(progressBar);
    controlsContainer.appendChild(progressBarContainer);
    playerContainer.appendChild(controlsContainer);

    const lipImage = document.createElement("div");
    lipImage.id = "lip-overlay";
    playerContainer.appendChild(lipImage); // Add the overlay as a child of #player
    
    

    gameWindow_player.insertAdjacentElement("afterend", playerContainer);

    function updateProgressBar() {
        const audio = document.getElementById("audio");
        const progress = (audio.currentTime / audio.duration) * 100;
        try {
            progressBar.value = progress;
        } catch {}
    }

    progressBar.addEventListener("input", function () {
        const audio = document.getElementById("audio");
        const seekTime = (progressBar.value / 100) * audio.duration;
        audio.currentTime = seekTime;
    });

    const audio = document.createElement("audio");
    audio.id = "audio";
    audio.src = playlist.getCurrentSong().audioLink;

    audio.addEventListener("timeupdate", updateProgressBar);
    audio.addEventListener("ended", function () {
        playlist.playNext();
        updateUI(playlist);
        audio.src = playlist.getCurrentSong().audioLink;
        audio.play();
    });

    document.body.appendChild(audio);
    audio.play();

    updateUI(playlist);
}

const style = document.createElement("style");
style.textContent = `
#player {
    position: relative; /* Ensures child absolute elements are positioned relative to this */
    border: 3px solid #5e2f0d;
    display: flex;
    flex-direction: row;
    height: 191px;
    background-image: url("https://i.imgur.com/XvHX0fc.png");
    transition: transform 0.2s ease;
}

#lip-overlay {
    position: absolute;
    top: 0; /* Align at the top of the player */
    left: 0;
    width: 100%;
    height: 100%; /* Same height as the #player */
    z-index: 2; /* Brings it to the foreground */
    pointer-events: none; /* Prevent interference with user interactions */
    background-image: url('https://i.imgur.com/4vt4JNH.png');
    background-size: cover; /* Ensures the image fills the container */
}


#display-box {
    display: flex;
    align-items: center;
    width: 50%;
}

#cover {
    width: 176px;
    height: 176px;
}

#info-container {
    display: flex;
    flex-direction: row;
    height: 178px;
    width: 127px;
    margin-top: 3px;
    margin-left: 5px;
}

#song-info {
    width: 100%;
    padding: 5px;
}

#controls-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin: 10px;
    width: 100%;
    padding-top: 15px;
}

#controls {
    display: flex;
    flex-direction: row;
    justify-content: center;
    width: 80%;
}

#progress-bar-container {
    width: 100%;
}

#progress-bar {
    width: 80%;
    margin: auto;
    display: flex;
    margin-top: 20px;
    height: 8px;
    background-color: rgba(0, 0, 0, 0.5);
    border-radius: 5px;
    overflow: hidden;
}

#progress-bar::-webkit-progress-bar {
    background-color: rgba(0, 0, 0, 0.5);
}

#progress-bar::-webkit-progress-value {
    background-color: rgba(255, 255, 255, 0.5);
}

#progress-bar::-moz-progress-bar {
    background-color: rgba(255, 255, 255, 0.5);
}



`;

document.head.appendChild(style);

const gameWindow_player = document.getElementById("game_window");
setupMusicPlayer();

styling = document.createElement("style");
document.head.appendChild(styling);

styling.innerHTML = `
#opponent_selection_id_back {
    display: none;
}
`

let z = new MutationObserver((mutationsList, observer) => {
    let runningMateSummary = document.querySelector("#running_mate_summary");
    if (runningMateSummary) {
        $("#running_mate_id_button").click();
        observer.disconnect()
    }
});


  z.observe(document, { subtree: true, childList: true });
} 