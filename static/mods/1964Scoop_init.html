if (!e.temp) {
  e.temp = "[undertale reference here]";
campaignTrail_temp.election_json = JSON.parse("[{\"model\": \"campaign_trail.election\", \"pk\": 10, \"fields\": {\"year\": 1964, \"summary\": \"<p><i>“Not worth a bucket of warm piss.”</i></p><p>Neither Senator Lyndon Johnson nor United Automobile Workers President Walter Reuther were willing to give up their power for the mostly ceremonial role of Vice-President, leading John Kennedy to select his ally Henry “Scoop” Jackson to double down on the support of Union workers and foreign policy minded voters. Scoop Jackson wasn't expected to do much as Vice-President, but when tragedy struck, Scoop stepped up to serve his nation and his party.</p>\", \"image_url\": \"https://i.imgur.com/JluCzFU.png\", \"winning_electoral_vote_number\": 270, \"advisor_url\": \"https://i.imgur.com/rZGu4cf.png\", \"recommended_reading\": \"<h4 style=\\\"margin-top: 0.5em;\\\">1976 Election Books and Biographies</h4><a href=\\\"http://www.amazon.com/exec/obidos/ASIN/0670454613/amhius20-20\\\" target=\\\"_blank\\\">Jules Witcover - Marathon: The Pursuit of the Presidency, 1972-1976</a></br><a href=\\\"http://www.amazon.com/exec/obidos/ASIN/1590843630/amhius20-20\\\" target=\\\"_blank\\\">The Election of 1976 and the Administration of Jimmy Carter</a></br><a href=\\\"http://www.amazon.com/exec/obidos/ASIN/B007V955ZS/amhius20-20\\\" target=\\\"_blank\\\">Craig Shirley - Reagan's Revolution: The Untold Story of the Campaign That Started It All</a></br><a href=\\\"http://www.amazon.com/exec/obidos/ASIN/B001KBY7YI/amhius20-20\\\" target=\\\"_blank\\\">Douglas Brinkley - Gerald R. Ford</a></br><a href=\\\"http://www.amazon.com/exec/obidos/ASIN/0805089578/amhius20-20\\\" target=\\\"_blank\\\">Julian E. Zelizer - Jimmy Carter</a>\", \"has_visits\": 1, \"no_electoral_majority_image\": \"/static/images/2012-no-majority.jpg\"}}]");
campaignTrail_temp.candidate_json = JSON.parse("[{\"model\": \"campaign_trail.candidate\", \"pk\": 91, \"fields\": {\"first_name\": \"Henry “Scoop”\", \"last_name\": \"Jackson\", \"election\": 10, \"party\": \"Democrats\", \"state\": \"Washington\", \"priority\": 1, \"description\": \"<p>For the ambitious son of immigrants, the Monkey's Paw has curled it's fingers and granted his greatest wish in the worst possible way.</p><p>Henry “Scoop” Jackson was the only candidate Kennedy wanted that was willing to take up the job, and his working class background, support for organised labor and vocal disagreements with the foreign policy of Eisenhower allowed Kennedy secure the win even after the South rejected him.</p><p>But his strengths as a running mate don't change the fact he's weak head of the ticket. Scoop is uncharismatic, has conservative sympathies and tuts as his coalition allies protest for their rights. If Jackson is going to protect Camelot from Goldwater, he'll need to keep this now tenuous coalition content with his rule...</p>\", \"color_hex\": \"#0043b0\", \"secondary_color_hex\": \"#85b3ff\", \"is_active\": 1, \"image_url\": \"https://i.imgur.com/V4ue4xG.png\", \"electoral_victory_message\": \"<h3>Congratulations! You have won the 1976 Presidential Election.</h3><p>Hopefully you can make good on your promises to clean up Washington and change the political and moral culture of the country. If you are successful, there is no reason you cannot run for reelection in 1980. Just be wary of any economic problems, or of some foreign policy crisis that could dent your popularity.</p>\", \"electoral_loss_message\": \"<h3>Sorry, you have lost the 1976 Presidential Election.</h3><p>As an outsider candidate, this was really your moment to make an impact on American politics and to win a national election. The beltway gossip already has it that Ted Kennedy is the frontrunner for the 1980 nomination. Perhaps you can run again for Governor of Georgia, or make an impact in some other way.</p>\", \"no_electoral_majority_message\": \"<h3>Wow! You have won in a squeaker.</h3><p>While the Electoral College ended in a tie, the Democrats have a huge advantage in the House of Representatives and are sure to elect you in that manner. Hopefully the closeness of this election doesn't undermine your promises to clean up Washington and unite the people of this country.</p>\", \"description_as_running_mate\": \"''\", \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 92, \"fields\": {\"first_name\": \"Barry\", \"last_name\": \"Goldwater\", \"election\": 10, \"party\": \"Republicans\", \"state\": \"Arizona\", \"priority\": 2, \"description\": \"<p><b>Non-playable, context only</b></p><p>Barry Goldwater, once derided as a radical with no hope of national success, stands at a real chance of winning the presidency. After a brutal primary race, which Goldwater mostly kept his head above, the party has mostly if reluctantly gotten behind Goldwater to rout the mediocre incumbent.</p><p>A charismatic firebrand, he strives to make the reckless Democratic programs responsible and protect the fundamental rights of business and states.</p>\", \"color_hex\": \"#960000\", \"secondary_color_hex\": \"#ff9191\", \"is_active\": 1, \"image_url\": \"https://i.imgur.com/QIaBvDS.png\", \"electoral_victory_message\": \"<h3>Congratulations! You have won the 1976 Presidential Election.</h3><p>Hopefully you can continue to help the United States recover from the Watergate Scandal, the recent recession, and the debacle of Vietnam. In either case, this will be your final term as President. Speculation is sure to be intense on who will replace you. Will it be Ronald Reagan? Ted Kennedy? Or someone else entirely?</p>\", \"electoral_loss_message\": \"<h3>Sorry, you have lost the 1976 Presidential Election.</h3><p>Hopefully your opponent can make good on his promises to clean up Washington and change the political and moral culture of the country. Perhaps you can still play a role in 1980, or seek your old Congressional leadership positions. In any case, you can still take solace in the fact that you did the right thing by pardoning Nixon and moving the country beyond the Watergate episode.</p>\", \"no_electoral_majority_message\": \"<h3>Sorry, you have lost the 1976 Presidential Election.</h3><p>While the Electoral College ended in a tie, the Democrats have a huge advantage in the House of Representatives and are sure to elect your opponent in that manner. Perhaps you can still play a role in 1980, or seek your old Congressional leadership positions. In any case, you can still take solace in the fact that you did the right thing by pardoning Nixon and moving the country beyond the Watergate episode.</p>\", \"description_as_running_mate\": \"''\", \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 93, \"fields\": {\"first_name\": \"Eric\", \"last_name\": \"Hass/Others\", \"election\": 10, \"party\": \"Socialist Labor\", \"state\": \"New York\", \"priority\": 3, \"description\": \"''\", \"color_hex\": \"#4a0000\", \"secondary_color_hex\": \"#994e4e\", \"is_active\": 0, \"image_url\": \"https://i.imgur.com/fRBY9uu.jpg\", \"electoral_victory_message\": \"''\", \"electoral_loss_message\": \"''\", \"no_electoral_majority_message\": \"''\", \"description_as_running_mate\": \"''\", \"candidate_score\": 1.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 95, \"fields\": {\"first_name\": \"John\", \"last_name\": \"Connally\", \"election\": 10, \"party\": \"Democrats\", \"state\": \"Texas\", \"priority\": 5, \"description\": \"''\", \"color_hex\": \"#0000FF\", \"secondary_color_hex\": \"#90C0FF\", \"is_active\": 0, \"image_url\": \"https://i.imgur.com/82Sehdi.png\", \"electoral_victory_message\": \"''\", \"electoral_loss_message\": \"''\", \"no_electoral_majority_message\": \"''\", \"description_as_running_mate\": \"<p>The governor of Texas, John Connally earned national name recognition when he and his wife narrowly survived the Kennedy assassination.</p><p>While in theory this could help keep the Democratic ticket connected closely to Kennedy, Connally is known for being an arch-Conservative, even by Southern Standards. He would represent a significant shift rightwards - which could take votes from Goldwater, whilst depressing the liberal turnout.</p><p>He's a loyal party man, or at least loyal to the promotion, who won't riot if you support Civil Rights - which is all you can ask for, really.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 96, \"fields\": {\"first_name\": \"Ralph\", \"last_name\": \"Yarborough\", \"election\": 10, \"party\": \"Democrats\", \"state\": \"Texas\", \"priority\": 6, \"description\": \"''\", \"color_hex\": \"#0000FF\", \"secondary_color_hex\": \"#90C0FF\", \"is_active\": 0, \"image_url\": \"https://i.imgur.com/4B1Vl0j.png\", \"electoral_victory_message\": \"''\", \"electoral_loss_message\": \"''\", \"no_electoral_majority_message\": \"''\", \"description_as_running_mate\": \"<p>A Texas Senator, perhaps the only liberal Texan, best known for his work expanding access to education to Veterans and securing federal funding for universities.</p><p>Despite his Southern roots, he refused to sign the Southern Manifesto after Brown vs Board and prior to arriving to the Senate he would lose several primaries for the Governor's seat due to his support for Civil Rights.</p><p>While a Northerner/Southerner ticket might be the only thing that claws back the South, his support for civil rights is likely to make that goal unattainable. However, if you're doubling down on your liberalism, he and Bobby are the only men the DNC will accept.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 97, \"fields\": {\"first_name\": \"Arleigh\", \"last_name\": \"Burke\", \"election\": 10, \"party\": \"N/A\", \"state\": \"Colorado\", \"priority\": 7, \"description\": \"''\", \"color_hex\": \"#0000FF\", \"secondary_color_hex\": \"#90C0FF\", \"is_active\": 0, \"image_url\": \"https://i.imgur.com/Y6wQhBM.png\", \"electoral_victory_message\": \"''\", \"electoral_loss_message\": \"''\", \"no_electoral_majority_message\": \"''\", \"description_as_running_mate\": \"<p>Burke is a veteran of the Second World War, Korean War as well as former Chief of Naval Operations. He would be an unusual choice for several reasons - his career reached it's apex under President Eisenhower, and he's neither a Kennedy nor from Dixie. His selection would instead be a commitment to an apolitical campaign focused on Foreign Policy.</p><p>With how controversial the issues of the election are, doubling down on your popular foreign policy and dodging the social issues may be the best bet.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 98, \"fields\": {\"first_name\": \"Robert F.\", \"last_name\": \"Kennedy\", \"election\": 10, \"party\": \"Democrats\", \"state\": \"Massachusetts\", \"priority\": 8, \"description\": \"''\", \"color_hex\": \"#0000FF\", \"secondary_color_hex\": \"#90C0FF\", \"is_active\": 0, \"image_url\": \"https://i.imgur.com/zgz9yee.png\", \"electoral_victory_message\": \"''\", \"electoral_loss_message\": \"''\", \"no_electoral_majority_message\": \"''\", \"description_as_running_mate\": \"<p>Robert F. Kennedy is the departed John Kennedy's brother and closest ally, as well the preferred running mate for the DNC. To be frank, he would be the preferred candidate, but they're concerned about the stigma of removing an incumbent.</p><p>Handsome, charismatic and ambitious, he would guarantee the South flees to Goldwater. Which, in the worst case scenario the party stat men are predicting, would get you a landslide of 365 to 121 EVs.</p><p>He would demand some concessions to join the ticket. He expects to be very involved with both the administration and campaign from the earliest possible opportunity - but as a brilliant campaigner and excellent stateman, this is less of a concession and more yet another gift Kennedy brings with him.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 99, \"fields\": {\"first_name\": \"William\", \"last_name\": \"Miller\", \"election\": 10, \"party\": \"Republicans\", \"state\": \"New York\", \"priority\": 9, \"description\": \"''\", \"color_hex\": \"#FF0000\", \"secondary_color_hex\": \"#FFA0A0\", \"is_active\": 0, \"image_url\": \"https://i.imgur.com/H3ozp8Q.png\", \"electoral_victory_message\": \"''\", \"electoral_loss_message\": \"''\", \"no_electoral_majority_message\": \"''\", \"description_as_running_mate\": \"<p>A Catholic New Yorker, those unfamiliar with William Miller's political stances could view him as an attempt to profit from President Kennedy's tragic death.</p><p>To those that know, Miller's selection has been shocking. Miller is an arch-conservative on par only with Barry Goldwater - an insult to the Rockefeller Republicans, and to President Jackson. Such a doubling down of his beliefs spits in the face of conventional ticket wisdom.</p><p>If President Jackson were not Goldwater's opponent, it is unlikely that Goldwater would operate such a one sided ticket.</p>\", \"candidate_score\": 0.0}}, {\"model\": \"campaign_trail.candidate\", \"pk\": 103, \"fields\": {\"first_name\": \"Henning A.\", \"last_name\": \"Blomen\", \"election\": 10, \"party\": \"Socialist Labor\", \"state\": \"Massachusetts\", \"priority\": 13, \"description\": \"''\", \"color_hex\": \"#00C100\", \"secondary_color_hex\": \"#A1FFA1\", \"is_active\": 0, \"image_url\": \"''\", \"electoral_victory_message\": \"''\", \"electoral_loss_message\": \"''\", \"no_electoral_majority_message\": \"''\", \"description_as_running_mate\": \"''\", \"candidate_score\": 0.0}}]");
campaignTrail_temp.running_mate_json = JSON.parse("[{\"model\": \"campaign_trail.running_mate\", \"pk\": 47, \"fields\": {\"candidate\": 70, \"running_mate\": 76}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 56, \"fields\": {\"candidate\": 79, \"running_mate\": 89}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 76, \"fields\": {\"candidate\": 116, \"running_mate\": 120}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 106, \"fields\": {\"candidate\": 155, \"running_mate\": 164}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 105, \"fields\": {\"candidate\": 154, \"running_mate\": 163}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 81, \"fields\": {\"candidate\": 118, \"running_mate\": 125}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 82, \"fields\": {\"candidate\": 119, \"running_mate\": 126}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 97, \"fields\": {\"candidate\": 145, \"running_mate\": 151}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 96, \"fields\": {\"candidate\": 144, \"running_mate\": 150}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 46, \"fields\": {\"candidate\": 69, \"running_mate\": 73}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 207, \"fields\": {\"candidate\": 302, \"running_mate\": 311}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 205, \"fields\": {\"candidate\": 301, \"running_mate\": 309}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 200, \"fields\": {\"candidate\": 300, \"running_mate\": 304}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 7, \"fields\": {\"candidate\": 18, \"running_mate\": 38}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 8, \"fields\": {\"candidate\": 19, \"running_mate\": 39}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 74, \"fields\": {\"candidate\": 107, \"running_mate\": 114}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 161, \"fields\": {\"candidate\": 203, \"running_mate\": 215}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 160, \"fields\": {\"candidate\": 202, \"running_mate\": 214}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 208, \"fields\": {\"candidate\": 303, \"running_mate\": 312}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 116, \"fields\": {\"candidate\": 168, \"running_mate\": 178}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 57, \"fields\": {\"candidate\": 80, \"running_mate\": 90}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 66, \"fields\": {\"candidate\": 93, \"running_mate\": 103}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 115, \"fields\": {\"candidate\": 167, \"running_mate\": 177}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 1, \"fields\": {\"candidate\": 16, \"running_mate\": 30}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 87, \"fields\": {\"candidate\": 131, \"running_mate\": 135}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 94, \"fields\": {\"candidate\": 143, \"running_mate\": 148}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 89, \"fields\": {\"candidate\": 132, \"running_mate\": 137}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 155, \"fields\": {\"candidate\": 201, \"running_mate\": 209}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 3, \"fields\": {\"candidate\": 17, \"running_mate\": 31}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 92, \"fields\": {\"candidate\": 142, \"running_mate\": 146}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 48, \"fields\": {\"candidate\": 77, \"running_mate\": 81}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 22, \"fields\": {\"candidate\": 20, \"running_mate\": 45}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 41, \"fields\": {\"candidate\": 25, \"running_mate\": 62}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 68, \"fields\": {\"candidate\": 105, \"running_mate\": 108}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 26, \"fields\": {\"candidate\": 21, \"running_mate\": 49}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 77, \"fields\": {\"candidate\": 117, \"running_mate\": 121}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 33, \"fields\": {\"candidate\": 23, \"running_mate\": 55}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 150, \"fields\": {\"candidate\": 200, \"running_mate\": 204}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 37, \"fields\": {\"candidate\": 24, \"running_mate\": 58}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 52, \"fields\": {\"candidate\": 78, \"running_mate\": 85}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 45, \"fields\": {\"candidate\": 68, \"running_mate\": 72}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 44, \"fields\": {\"candidate\": 67, \"running_mate\": 71}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 18, \"fields\": {\"candidate\": 36, \"running_mate\": 18}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 101, \"fields\": {\"candidate\": 153, \"running_mate\": 159}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 62, \"fields\": {\"candidate\": 92, \"running_mate\": 99}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 71, \"fields\": {\"candidate\": 106, \"running_mate\": 111}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 98, \"fields\": {\"candidate\": 152, \"running_mate\": 156}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 13, \"fields\": {\"candidate\": 29, \"running_mate\": 27}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 12, \"fields\": {\"candidate\": 27, \"running_mate\": 29}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 58, \"fields\": {\"candidate\": 91, \"running_mate\": 95}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 99, \"fields\": {\"candidate\": 152, \"running_mate\": 157}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 83, \"fields\": {\"candidate\": 67, \"running_mate\": 127}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 107, \"fields\": {\"candidate\": 165, \"running_mate\": 169}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 111, \"fields\": {\"candidate\": 166, \"running_mate\": 173}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 85, \"fields\": {\"candidate\": 68, \"running_mate\": 129}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 59, \"fields\": {\"candidate\": 91, \"running_mate\": 96}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 15, \"fields\": {\"candidate\": 29, \"running_mate\": 40}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 60, \"fields\": {\"candidate\": 91, \"running_mate\": 97}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 108, \"fields\": {\"candidate\": 165, \"running_mate\": 170}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 109, \"fields\": {\"candidate\": 165, \"running_mate\": 171}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 112, \"fields\": {\"candidate\": 166, \"running_mate\": 174}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 113, \"fields\": {\"candidate\": 166, \"running_mate\": 175}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 73, \"fields\": {\"candidate\": 106, \"running_mate\": 113}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 10, \"fields\": {\"candidate\": 27, \"running_mate\": 40}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 53, \"fields\": {\"candidate\": 78, \"running_mate\": 86}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 110, \"fields\": {\"candidate\": 165, \"running_mate\": 172}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 102, \"fields\": {\"candidate\": 153, \"running_mate\": 160}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 34, \"fields\": {\"candidate\": 23, \"running_mate\": 44}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 9, \"fields\": {\"candidate\": 27, \"running_mate\": 33}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 69, \"fields\": {\"candidate\": 105, \"running_mate\": 109}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 19, \"fields\": {\"candidate\": 36, \"running_mate\": 41}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 20, \"fields\": {\"candidate\": 36, \"running_mate\": 42}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 151, \"fields\": {\"candidate\": 200, \"running_mate\": 205}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 16, \"fields\": {\"candidate\": 29, \"running_mate\": 33}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 49, \"fields\": {\"candidate\": 77, \"running_mate\": 82}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 103, \"fields\": {\"candidate\": 153, \"running_mate\": 161}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 93, \"fields\": {\"candidate\": 142, \"running_mate\": 147}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 72, \"fields\": {\"candidate\": 106, \"running_mate\": 112}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 55, \"fields\": {\"candidate\": 78, \"running_mate\": 88}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 54, \"fields\": {\"candidate\": 78, \"running_mate\": 87}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 84, \"fields\": {\"candidate\": 67, \"running_mate\": 128}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 61, \"fields\": {\"candidate\": 91, \"running_mate\": 98}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 78, \"fields\": {\"candidate\": 117, \"running_mate\": 122}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 43, \"fields\": {\"candidate\": 25, \"running_mate\": 64}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 42, \"fields\": {\"candidate\": 25, \"running_mate\": 63}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 40, \"fields\": {\"candidate\": 24, \"running_mate\": 61}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 39, \"fields\": {\"candidate\": 24, \"running_mate\": 60}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 86, \"fields\": {\"candidate\": 68, \"running_mate\": 130}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 38, \"fields\": {\"candidate\": 24, \"running_mate\": 59}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 95, \"fields\": {\"candidate\": 143, \"running_mate\": 149}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 30, \"fields\": {\"candidate\": 21, \"running_mate\": 51}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 28, \"fields\": {\"candidate\": 21, \"running_mate\": 50}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 100, \"fields\": {\"candidate\": 152, \"running_mate\": 158}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 24, \"fields\": {\"candidate\": 20, \"running_mate\": 47}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 17, \"fields\": {\"candidate\": 29, \"running_mate\": 31}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 11, \"fields\": {\"candidate\": 27, \"running_mate\": 31}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 79, \"fields\": {\"candidate\": 117, \"running_mate\": 123}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 80, \"fields\": {\"candidate\": 117, \"running_mate\": 124}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 90, \"fields\": {\"candidate\": 132, \"running_mate\": 138}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 4, \"fields\": {\"candidate\": 17, \"running_mate\": 32}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 2, \"fields\": {\"candidate\": 16, \"running_mate\": 34}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 25, \"fields\": {\"candidate\": 20, \"running_mate\": 48}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 104, \"fields\": {\"candidate\": 153, \"running_mate\": 162}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 23, \"fields\": {\"candidate\": 20, \"running_mate\": 46}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 36, \"fields\": {\"candidate\": 23, \"running_mate\": 57}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 88, \"fields\": {\"candidate\": 131, \"running_mate\": 136}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 70, \"fields\": {\"candidate\": 105, \"running_mate\": 110}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 152, \"fields\": {\"candidate\": 200, \"running_mate\": 206}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 153, \"fields\": {\"candidate\": 200, \"running_mate\": 207}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 154, \"fields\": {\"candidate\": 200, \"running_mate\": 208}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 157, \"fields\": {\"candidate\": 201, \"running_mate\": 211}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 159, \"fields\": {\"candidate\": 201, \"running_mate\": 213}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 6, \"fields\": {\"candidate\": 17, \"running_mate\": 37}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 5, \"fields\": {\"candidate\": 17, \"running_mate\": 33}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 35, \"fields\": {\"candidate\": 23, \"running_mate\": 56}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 91, \"fields\": {\"candidate\": 132, \"running_mate\": 139}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 21, \"fields\": {\"candidate\": 36, \"running_mate\": 43}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 50, \"fields\": {\"candidate\": 77, \"running_mate\": 83}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 32, \"fields\": {\"candidate\": 21, \"running_mate\": 53}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 31, \"fields\": {\"candidate\": 21, \"running_mate\": 52}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 158, \"fields\": {\"candidate\": 201, \"running_mate\": 212}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 156, \"fields\": {\"candidate\": 201, \"running_mate\": 210}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 75, \"fields\": {\"candidate\": 106, \"running_mate\": 115}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 51, \"fields\": {\"candidate\": 77, \"running_mate\": 84}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 201, \"fields\": {\"candidate\": 300, \"running_mate\": 305}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 210, \"fields\": {\"candidate\": 300, \"running_mate\": 314}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 209, \"fields\": {\"candidate\": 300, \"running_mate\": 313}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 202, \"fields\": {\"candidate\": 300, \"running_mate\": 306}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 203, \"fields\": {\"candidate\": 300, \"running_mate\": 307}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 204, \"fields\": {\"candidate\": 300, \"running_mate\": 308}}, {\"model\": \"campaign_trail.running_mate\", \"pk\": 206, \"fields\": {\"candidate\": 301, \"running_mate\": 310}}]");
campaignTrail_temp.opponents_default_json = JSON.parse("[{\"election\": 10, \"candidates\": [93, 91, 92]}]");
campaignTrail_temp.opponents_weighted_json = JSON.parse("[{\"election\": 10, \"candidates\": [91, 92, 93]}]");        
campaignTrail_temp.difficulty_level_json = JSON.parse("[{\"model\": \"campaign_trail.difficulty_level\", \"pk\": 1, \"fields\": {\"name\": \"Easy\", \"multiplier\": 1.1}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 3, \"fields\": {\"name\": \"Normal\", \"multiplier\": 0.97}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 4, \"fields\": {\"name\": \"Hard\", \"multiplier\": 0.95}}, {\"model\": \"campaign_trail.difficulty_level\", \"pk\": 5, \"fields\": {\"name\": \"Impossible\", \"multiplier\": 0.9}}]");
campaignTrail_temp.global_parameter_json = JSON.parse("[{\"model\": \"campaign_trail.global_parameter\", \"pk\": 1, \"fields\": {\"vote_variable\": 1.125, \"max_swing\": 0.12, \"start_point\": 0.94, \"candidate_issue_weight\": 10.0, \"running_mate_issue_weight\": 3.0, \"issue_stance_1_max\": -0.71, \"issue_stance_2_max\": -0.3, \"issue_stance_3_max\": -0.125, \"issue_stance_4_max\": 0.125, \"issue_stance_5_max\": 0.3, \"issue_stance_6_max\": 0.71, \"global_variance\": 0.01, \"state_variance\": 0.005, \"question_count\": 25, \"default_map_color_hex\": \"#C9C9C9\", \"no_state_map_color_hex\": \"#999999\"}}]");
campaignTrail_temp.candidate_dropout_json = JSON.parse("[{\"model\": \"campaign_trail.candidate_dropout\", \"pk\": 1, \"fields\": {\"candidate\": 36, \"affected_candidate\": 18, \"probability\": 1.0}}]");
campaignTrail_temp.temp_election_list = [{"id": 10, "year": 1964, "is_premium": 0, "display_year": "1964Scoop"}];
campaignTrail_temp.show_premium = true;
campaignTrail_temp.premier_ab_test_version = -1;
campaignTrail_temp.credits = "Halligan Elysium#2036 (Writing) & catboxxd (Coding)";

nct_stuff.themes[nct_stuff.selectedTheme].coloring_title = "#121212";
nct_stuff.themes[nct_stuff.selectedTheme].coloring_window = "#3f2d62";

document.getElementsByClassName("game_header")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_title;
$("#game_window")[0].style.backgroundColor = nct_stuff.themes[nct_stuff.selectedTheme].coloring_window;
$(".container")[0].style.backgroundColor = "#808080";

document.getElementById("header").src = "https://i.imgur.com/EZx7Mhn.png";
document.body.background = "https://i.imgur.com/pwSIaO5.png";
document.body.style.backgroundSize="cover"

$("#music_player")[0].children[0].style.display="none"
$("#music_player")[0].children[1].style.display="none"

document.getElementById("modLoadReveal").style.display="none"
document.getElementById("modloaddiv").style.display="none"
musicBox = document.getElementById("music_player")
musicBox.style.display=""

var trackSel;
e = campaignTrail_temp
e.selectedSoundtrack = 0

toTime = (seconds) => {
var date = new Date(null);
date.setSeconds(seconds);
return date.toISOString().substr(11, 8);
}

generateTime = () => {
  // Get the audio element
  var audio = document.getElementById("campaigntrailmusic");

  timeTracker = document.createElement("div");
  timeTracker.style = `
    text-align:left;
    border-style:solid;
    border-width:3px;
    height:150px;
    width:200px;
    background-color:#999999;
    float:right;
    padding: 10px;
  `
  $("#trackSelParent")[0].prepend(timeTracker);
  $("#trackSelParent")[0].prepend(document.createElement("br"));

  // Create a new element to display the current position of the audio
  var positionDisplay = document.createElement("gg");
  positionDisplay.id = "position-display";

  // Create a new slider element to change the time
  var timeSlider = document.createElement("input");
  timeSlider.type = "range";
  timeSlider.min = 0;
  timeSlider.max = 1;
  timeSlider.step = 0.001;
  timeSlider.value = 0;
  timeSlider.style.width = "200px";
  timeSlider.id = "time-slider";

  var pausePlay = document.createElement("button");
  pausePlay.id = "position-display";
  pausePlay.innerHTML = "<b>Pause</b>"
  pausePlay.style.width = "100%";


  pausePlay.addEventListener("click", event => {
    event.preventDefault();
    updatePositionDisplay();
    let audio = document.getElementById("campaigntrailmusic");
    if (audio.paused) {
      audio.play();
      event.target.innerHTML = "<b>Pause</b>";
      return;
    }
    audio.pause();
    event.target.innerHTML = "<b>Play</b>";
    return;
  })

  var volumeLabel = document.createElement("gg");
  volumeLabel.id = "volume-label";
  volumeLabel.innerHTML = "<br><b>Volume: </b>"

  var volumeSlider = document.createElement("input");
  volumeSlider.type = "range";
  volumeSlider.min = 0;
  volumeSlider.max = 1;
  volumeSlider.step = 0.001;
  volumeSlider.value = 0;
  volumeSlider.style.width = "200px";
  volumeSlider.id = "volume-slider";

  volumeSlider.value = audio.volume;

  timeTracker.appendChild(pausePlay);
  timeTracker.appendChild(document.createElement("br"));
  timeTracker.appendChild(document.createElement("br"));
  timeTracker.appendChild(positionDisplay);
  timeTracker.appendChild(timeSlider);
  timeTracker.appendChild(volumeLabel);
  timeTracker.appendChild(volumeSlider);

  updatePositionDisplay();

  //for (let i = 0; i < 10; i++)
  //timeTracker.append(document.createElement("br"));


  // Function to update the position display
  function updatePositionDisplay() {
    positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";
    timeSlider.value = audio.duration ? audio.currentTime / audio.duration : 0;
  }

  // Function to change the time of the audio
  function changeTime() {
    positionDisplay.innerHTML = "<b>Time:</b> " + toTime(audio.currentTime) + "<br>";
    audio.currentTime = timeSlider.value * audio.duration;
  }

  updateVolume = event => {
    audio.volume = event.target.value;
  }
  
  // Update the position display and slider every second
  setInterval(updatePositionDisplay, 1000);

  // Listen for changes to the time slider and change the time of the audio
  timeSlider.addEventListener("input", changeTime);
  volumeSlider.addEventListener("input", updateVolume)
}

function newMusicPlayer() {
trackSel = document.createElement("div");
trackSel.id = "trackSelParent"
let z = `<br><br><br><br><br><br><br><br><br><br><div id='trackSel' style="text-align:left;border-style:solid;border-width:3px;overflow-y: scroll;overflow-x: hidden;height:200px; width:400px;background-color:#999999;float:right;">`
z += `<b><select id='selectSoundtrack'><option value='`+soundtracks[e.selectedSoundtrack].name+`'>`+soundtracks[e.selectedSoundtrack].name+"</option>"
for (i in soundtracks) {
  if (soundtracks[e.selectedSoundtrack] != soundtracks[i]) {
    z += `<option value='`+soundtracks[i].name+`'>`+soundtracks[i].name+`</option>`
  }
}
z += `</select></b><br><br>`
// <label><input type="radio" name="option" value="option1">Option 1</label><br>
for (i in soundtracks[e.selectedSoundtrack].tracklist) {
  let a = soundtracks[e.selectedSoundtrack].tracklist[i]
  let b = `<label><input class="trackSelector" type="radio" name="trackSelector" value="`+i+`">`+a.name+`</label><br>`
  z += b
}
z += "</div><br><br>"
trackSel.innerHTML = z

// select correct song

musicBox.appendChild(trackSel);
Array.from(document.getElementById("trackSel").children).filter(f=>{
  return f.tagName == "LABEL"
}).map(f=>f.children[0])[0].checked = true

// set soundtrack changer

soundtrackSelector = document.getElementById("selectSoundtrack")
soundtrackSelector.onchange = function() {
  for (i in soundtracks) {
    if (soundtracks[i].name == soundtrackSelector.value) {
      e.selectedSoundtrack = i
      break
    }
  }
  document.getElementById("trackSelParent").remove()
  newMusicPlayer()
}

var matches = document.querySelectorAll('.trackSelector');

for (match in matches) {
  matches[match].onchange = function() {
    musicBox.children[2].src = soundtracks[e.selectedSoundtrack].tracklist[this.value].url
    musicBox.children[2].currentTime = 0
  }
}

musicBox.children[2].loop = false
musicBox.children[2].src = soundtracks[e.selectedSoundtrack].tracklist[0].url

musicBox.children[2].onended = function() {
  console.log("next track")
  let selected = Number(document.querySelector('input[name="trackSelector"]:checked').value);
  let newSel = clamp(selected+1, soundtracks[e.selectedSoundtrack].tracklist.length-1, 0)
  let buttons = Array.from(document.getElementById("trackSel").children).filter(f=>{
    return f.tagName == "LABEL"
  }).map(f=>f.children[0])
  //let selectedIndex = buttons.map(f=>f.children[0]).map(f=>f.checked)
  buttons[newSel].click()
}

for (w = 0; w < 7; w++) {
  document.getElementById("trackSelParent").appendChild(document.createElement("br"))
}

generateTime();
}

clamp = function(a, max, min, overflow=true) {
if (overflow) {
  return a > max ? min : a < min ? max : a;
}
return a > max ? max : a < min ? min : a;
}

// Track list

var soundtracks = {
  0: {
      name: "Scoop! Soundtrack [Side A]",
      tracklist: [
        {
          name: "Music For Night People - The Larry Page Orchestra",
          url: "https://audio.jukehost.co.uk/CZGLN0owECLaH2RrCLkilZjMTG70sh80",
        },
        {
          name: "Abraham, Martin & John - Marvin Gaye",
          url: "https://audio.jukehost.co.uk/Mztey0lInnTecjOildeNBVjc4VKlxYkP",
        },
        {
          name: "In The Summer Of His Years - Connie Francis",
          url: "https://audio.jukehost.co.uk/TxpMOkHP25QHdfPMbu5XQ2QgL5Wh9ZV3",
        },
        {
          name: "Green Beret - Tommy Scott's Pipes & Banjo Band",
          url: "https://audio.jukehost.co.uk/85s68GIOegXpY4JmNAeNHKQ5sBova9dr",
        },
      ],
    },
  1: {
      name: "Scoop! Soundtrack [Side B]",
      tracklist: [
        {
          name: "Paint it, Black - The Rolling Stones",
          url: "https://audio.jukehost.co.uk/X3XVjTL1e5o3Kn0MXHfBggliygjHmpAK",
        },
        {
          name: "The Wanderer - Dion",
          url: "https://audio.jukehost.co.uk/EDRgryIgbx3vZQg9t2Fc1ZJ7EffI6Oj8",
        },
        {
          name: "Runaway - Del Shannon",
          url: "https://audio.jukehost.co.uk/dC2TcEkNDO8prcdxSot00lG2FXEpaLgw",
        },
        {
          name: "Sugar Sugar - The Archies",
          url: "https://audio.jukehost.co.uk/rhv9at6IS1oNzl3AFqXEMmcha7pX9XXu",
        },
      ],
    },
  }
newMusicPlayer()
}
